"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6173],{6173:(L,u,a)=>{a.r(u),a.d(u,{HistoryPageModule:()=>I});var l=a(177),m=a(9417),s=a(7125),f=a(6822),c=a(467),v=a(2233),t=a(4438),y=a(3651),x=a(2872),C=a(7703),h=a(8018),T=a(5940);const P=(i,d,e)=>({petrol:i,cng:d,diesel:e});function M(i,d){if(1&i){const e=t.RV6();t.j41(0,"ion-item-sliding")(1,"ion-card")(2,"ion-card-content")(3,"div",4)(4,"div",5),t.nrm(5,"img",6),t.EFF(6,"\xa0 "),t.j41(7,"ion-label")(8,"span",7),t.EFF(9),t.k0s(),t.EFF(10," \u26fd"),t.k0s()(),t.j41(11,"ion-label")(12,"h2"),t.EFF(13),t.nI1(14,"translate"),t.nI1(15,"number"),t.k0s(),t.j41(16,"p"),t.EFF(17),t.nI1(18,"translate"),t.nI1(19,"translate"),t.k0s(),t.j41(20,"p"),t.EFF(21),t.nI1(22,"translate"),t.nI1(23,"translate"),t.k0s(),t.j41(24,"p"),t.EFF(25),t.nI1(26,"translate"),t.nI1(27,"number"),t.nI1(28,"translate"),t.k0s(),t.j41(29,"p"),t.EFF(30),t.nI1(31,"translate"),t.nI1(32,"date"),t.k0s()()(),t.j41(33,"div",8)(34,"ion-button",9),t.bIt("click",function(o){const r=t.eBV(e).$implicit;return t.XpG(2).deleteRecord(r),t.Njj(o.stopPropagation())}),t.nrm(35,"img",10),t.EFF(36," Delete "),t.k0s(),t.j41(37,"ion-button",9),t.bIt("click",function(o){const r=t.eBV(e).$implicit;return t.XpG(2).shareRecord(r),t.Njj(o.stopPropagation())}),t.nrm(38,"img",11),t.EFF(39," Share "),t.k0s()()()()()}if(2&i){const e=d.$implicit;t.R7$(4),t.Y8G("ngClass",t.sMw(40,P,"PETROL"===e.fuelType,"CNG"===e.fuelType,"DIESEL"===e.fuelType)),t.R7$(5),t.JRh(e.fuelType),t.R7$(4),t.Lme("",t.bMT(14,15,"FUEL_COST"),": ",t.i5U(15,17,e.totalCost,"1.2-2"),""),t.R7$(4),t.E5c("",t.bMT(18,20,"DISTANCE"),": ",e.distance," ",t.bMT(19,22,"KM"),""),t.R7$(4),t.E5c("",t.bMT(22,24,"AVERAGE"),": ",e.average," ",t.bMT(23,26,"KM_PER_LITER"),""),t.R7$(4),t.E5c("",t.bMT(26,28,"FUEL_PRICE"),": ",t.i5U(27,30,e.fuelPrice,"1.2-2")," ",t.bMT(28,33,"PER_LITER"),""),t.R7$(5),t.Lme("",t.bMT(31,35,"DATE"),": ",t.i5U(32,37,e.date,"short"),"")}}function b(i,d){if(1&i&&(t.j41(0,"ion-list"),t.DNE(1,M,40,44,"ion-item-sliding",3),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.records)}}function R(i,d){1&i&&(t.j41(0,"ion-card")(1,"ion-card-content"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"NO_RECORDS")," "))}function F(i,d){1&i&&(t.j41(0,"div",12)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&i&&(t.R7$(2),t.JRh(t.bMT(3,1,"NO_RECORDS")))}const S=[{path:"",component:(()=>{class i{constructor(e,n,o,r,g,p){this.fuelCostStorage=e,this.toastController=n,this.utilService=o,this.navCtrl=r,this.translateService=g,this.adsService=p,this.appUrl="",this.records=[]}ngOnInit(){this.utilService.showLoading(),setTimeout(()=>{this.loadRecords()},500)}goBack(){this.navCtrl.navigateForward("/tabs/home")}loadRecords(){var e=this;return(0,c.A)(function*(){try{e.records=yield e.fuelCostStorage.getAllRecords(),e.records&&0!==e.records.length?e.records.sort((n,o)=>new Date(o.date).getTime()-new Date(n.date).getTime()):e.presentToast("No records found.")}catch(n){e.utilService.dismissLoading(),e.presentToast("Database not initialized"===n?"Database is not ready. Please try again later.":"Failed to load records. Please check your storage.")}finally{e.utilService.dismissLoading()}})()}deleteRecord(e){var n=this;return(0,c.A)(function*(){e.id?n.utilService.showConfirmationAlert("Are you sure want to delete?",(0,c.A)(function*(){try{yield n.fuelCostStorage.deleteRecord(e.id),yield n.loadRecords(),n.utilService.showToast("Data deleted successfully!",2e3,"warning"),n.utilService.dismissLoading(),n.adsService.showAdMobInterstitialAd()}catch{n.utilService.dismissLoading(),n.utilService.showToast("Failed to delete item. Please try again.",1e3,"danger")}})):n.presentToast("Record ID is missing.")})()}shareRecord(e){var n=this;return(0,c.A)(function*(){const o="https://play.google.com/store/apps/details?id=com.example.fuelapp";n.utilService.showLoading("Sharing...");const r=e.fuelType,g=n.translateService.currentLang||"en",p={en:`\u26fd Fuel Calculation Made Easy! \u{1f697}\u{1f4a8}\n    Check out my fuel expense details:\n    \n    Fuel Type: ${r}\n\n    \u{1f6e3}\ufe0f Distance: ${e.distance} KM\n    \u26fd Average: ${e.average} KM/L\n    \u{1f4b0} Fuel Price: ${e.fuelPrice} per/liter\n    --------------------------------------------\n    \u{1f697} Total Fuel Cost: ${e.totalCost}\n\n    \u{1f4c5} Date: ${new Date(e.date).toLocaleDateString()}\n    \n    Easily calculate your fuel expenses with our app!\n    \u{1f4f2} Download now: ${o}`,hi:`\u26fd \u0908\u0902\u0927\u0928 \u0917\u0923\u0928\u093e \u0906\u0938\u093e\u0928! \u{1f697}\u{1f4a8}\n    \u092e\u0947\u0930\u0947 \u0908\u0902\u0927\u0928 \u0916\u0930\u094d\u091a \u0915\u093e \u0935\u093f\u0935\u0930\u0923 \u0926\u0947\u0916\u0947\u0902:\n    \n    \u0908\u0902\u0927\u0928 \u092a\u094d\u0930\u0915\u093e\u0930: ${r} \n    \n    \u{1f6e3}\ufe0f \u0926\u0942\u0930\u0940: ${e.distance} KM\n    \u26fd \u0914\u0938\u0924: ${e.average} KM/L\n    \u{1f4b0} \u0908\u0902\u0927\u0928 \u092e\u0942\u0932\u094d\u092f: ${e.fuelPrice} \u092a\u094d\u0930\u0924\u093f/\u0932\u0940\u091f\u0930\n    ----------------------------------------\n    \u{1f697} \u0915\u0941\u0932 \u0908\u0902\u0927\u0928 \u0932\u093e\u0917\u0924: ${e.totalCost}\n\n    \u{1f4c5} \u0926\u093f\u0928\u093e\u0902\u0915: ${new Date(e.date).toLocaleDateString()}\n    \n    \u0939\u092e\u093e\u0930\u0947 \u0910\u092a \u0938\u0947 \u0905\u092a\u0928\u0947 \u0908\u0902\u0927\u0928 \u0916\u0930\u094d\u091a \u0915\u0940 \u0917\u0923\u0928\u093e \u0915\u0930\u0947\u0902!\n    \u{1f4f2} \u0905\u092d\u0940 \u0921\u093e\u0909\u0928\u0932\u094b\u0921 \u0915\u0930\u0947\u0902: ${o}`,gu:`\u26fd \u0ab8\u0ab0\u0ab3 \u0a87\u0a82\u0aa7\u0aa3 \u0a97\u0aa3\u0aa4\u0ab0\u0ac0! \u{1f697}\u{1f4a8}\n    \u0aae\u0abe\u0ab0\u0abe \u0a87\u0a82\u0aa7\u0aa3 \u0a96\u0ab0\u0acd\u0a9a\u0aa8\u0acb \u0ab5\u0abf\u0a97\u0aa4\u0ab5\u0abe\u0ab0 \u0a9c\u0ac1\u0a93:\n    \n    \u0a87\u0a82\u0aa7\u0aa3 \u0aaa\u0acd\u0ab0\u0a95\u0abe\u0ab0: ${r}\n\n    \u{1f6e3}\ufe0f \u0a85\u0a82\u0aa4\u0ab0: ${e.distance} KM\n    \u26fd \u0a8f\u0ab5\u0ab0\u0ac7\u0a9c: ${e.average} KM/L\n    \u{1f4b0} \u0a87\u0a82\u0aa7\u0aa3 \u0a95\u0abf\u0a82\u0aae\u0aa4: ${e.fuelPrice} \u0aaa\u0acd\u0ab0\u0aa4\u0abf/\u0ab2\u0ac0\u0a9f\u0ab0\n    ------------------------------------------\n    \u{1f697} \u0a95\u0ac1\u0ab2 \u0a87\u0a82\u0aa7\u0aa3 \u0a96\u0ab0\u0acd\u0a9a: ${e.totalCost}\n\n    \u{1f4c5} \u0aa4\u0abe\u0ab0\u0ac0\u0a96: ${new Date(e.date).toLocaleDateString()}\n    \n    \u0a85\u0aae\u0abe\u0ab0\u0abe \u0a8f\u0aaa\u0aa5\u0ac0 \u0aa4\u0aae\u0abe\u0ab0\u0abe \u0a87\u0a82\u0aa7\u0aa3 \u0a96\u0ab0\u0acd\u0a9a\u0aa8\u0ac0 \u0a97\u0aa3\u0aa4\u0ab0\u0ac0 \u0a95\u0ab0\u0acb!\n    \u{1f4f2} \u0ab9\u0aae\u0aa3\u0abe\u0a82 \u0aa1\u0abe\u0a89\u0aa8\u0ab2\u0acb\u0aa1 \u0a95\u0ab0\u0acb: ${o}`},_=p[g]||p.en;try{yield v.S.share({title:n.translateService.instant("SHARE_TITLE"),text:_,dialogTitle:n.translateService.instant("SHARE_DIALOG_TITLE")}),n.utilService.dismissLoading()}catch(O){console.error("Sharing failed:",O),n.utilService.dismissLoading()}})()}clearAllRecords(){var e=this;return(0,c.A)(function*(){try{yield e.fuelCostStorage.clearAllRecords(),e.presentToast("All records cleared successfully."),e.loadRecords()}catch(n){console.error("Error clearing records:",n),e.presentToast("Failed to clear records.")}})()}presentToast(e){var n=this;return(0,c.A)(function*(){(yield n.toastController.create({message:e,duration:2e3,position:"bottom"})).present()})()}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(y.Y),t.rXU(s.K_),t.rXU(C.a),t.rXU(x.q9),t.rXU(h.c$),t.rXU(T.g))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-history"]],decls:5,vars:3,consts:[[1,"container4"],[4,"ngIf"],["class","no-data-message",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"list-container"],[1,"fuel-type-header",3,"ngClass"],["height","18px","src","../../../assets/icon/fuel icon/fuel.png","alt",""],[1,"fuel-type"],[1,"button-container"],["fill","clear",1,"action-button","custome-button",3,"click"],["src","../../../assets/icon/delete_4.png","alt","","height","20px"],["src","../../../assets/icon/share1.png","alt","","height","20px"],[1,"no-data-message"]],template:function(n,o){1&n&&(t.j41(0,"ion-content")(1,"div",0),t.DNE(2,b,2,1,"ion-list",1)(3,R,4,3,"ion-card",1)(4,F,4,3,"div",2),t.k0s()()),2&n&&(t.R7$(2),t.Y8G("ngIf",!o.utilService.isLoading),t.R7$(),t.Y8G("ngIf",!o.utilService.isOnline&&0===o.records.length),t.R7$(),t.Y8G("ngIf",!o.utilService.isLoading&&0===o.records.length))},dependencies:[l.YU,l.Sq,l.bT,s.Jm,s.b_,s.I9,s.W9,s.A7,s.he,s.nf,l.QX,l.vh,h.D9],styles:[".scrollable-list[_ngcontent-%COMP%]{background:transparent}.back[_ngcontent-%COMP%]{position:fixed;top:40px;left:20px;z-index:1000}ion-list[_ngcontent-%COMP%]{background:transparent}ion-card[_ngcontent-%COMP%]{margin:6px 16px;border-radius:12px;box-shadow:0 4px 10px #0000001a}ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;line-height:35px;border-radius:20px;margin-bottom:8px;background:#ffc409;text-align:center;color:#000}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--ion-text-color);margin:4px 0}ion-item-divider[_ngcontent-%COMP%]{height:4px;background-color:var(--ion-color-primary);border-radius:2px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px 0 0;border-top:2px solid rgba(255,255,255,.41);position:relative}.action-button[_ngcontent-%COMP%]{font-size:.875rem;display:flex;align-items:center;justify-content:center;padding:0 7px;gap:4;text-transform:capitalize;width:42%}.action-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{text-align:center;position:relative;right:7px;bottom:1px}ion-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%;position:relative;padding-bottom:15px}.centered-loader[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;color:#fff;text-align:center}.white-spinner[_ngcontent-%COMP%]{color:#fff!important}.no-data-message[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;text-align:center;font-size:1.2rem;font-weight:700;color:gray}.fuel-type-header[_ngcontent-%COMP%]{padding:5px;text-align:center;font-weight:700;border-top-left-radius:8px;border-top-right-radius:8px}.petrol[_ngcontent-%COMP%]{color:#ac0000;text-transform:uppercase}.diesel[_ngcontent-%COMP%]{color:#8a2be2}.cng[_ngcontent-%COMP%]{color:orange}.red[_ngcontent-%COMP%]{color:#ffa809}.card-content-md[_ngcontent-%COMP%]{padding-top:0}"]})}}return i})()}];let E=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[f.iI.forChild(S),f.iI]})}}return i})();var $=a(8454);let I=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[l.MD,m.YN,s.bv,$.G,E]})}}return i})()}}]);