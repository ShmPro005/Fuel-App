(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1401:(En,ht,N)=>{"use strict";N.d(ht,{$L:()=>Nt,$g:()=>Ie,A4:()=>ue,Am:()=>er,As:()=>xt,Bd:()=>He,Cv:()=>kn,FA:()=>Tt,Fy:()=>qe,HN:()=>Rr,Hk:()=>J,I9:()=>tr,Im:()=>ft,K3:()=>we,KA:()=>be,Ku:()=>Bn,Ll:()=>H,OE:()=>dr,T9:()=>ze,Uj:()=>ve,XA:()=>Fe,ZQ:()=>nt,bD:()=>jt,c1:()=>Ke,cY:()=>ot,dI:()=>vr,eX:()=>Pe,g:()=>Se,gR:()=>zn,gz:()=>Dr,hp:()=>Xn,jZ:()=>bt,kH:()=>Xt,kj:()=>ui,lT:()=>tt,lV:()=>kt,mS:()=>fe,nr:()=>Me,oD:()=>ci,od:()=>Ir,p7:()=>wt,qc:()=>Nn,sr:()=>Mt,tD:()=>Mr,u:()=>Te,vA:()=>U,yw:()=>Yn,zW:()=>ce,zw:()=>ke});const l={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},U=function(Ge,$e){if(!Ge)throw J($e)},J=function(Ge){return new Error("Firebase Database ("+l.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Ge)},G=function(Ge){const $e=[];let vt=0;for(let en=0;en<Ge.length;en++){let Ot=Ge.charCodeAt(en);Ot<128?$e[vt++]=Ot:Ot<2048?($e[vt++]=Ot>>6|192,$e[vt++]=63&Ot|128):55296==(64512&Ot)&&en+1<Ge.length&&56320==(64512&Ge.charCodeAt(en+1))?(Ot=65536+((1023&Ot)<<10)+(1023&Ge.charCodeAt(++en)),$e[vt++]=Ot>>18|240,$e[vt++]=Ot>>12&63|128,$e[vt++]=Ot>>6&63|128,$e[vt++]=63&Ot|128):($e[vt++]=Ot>>12|224,$e[vt++]=Ot>>6&63|128,$e[vt++]=63&Ot|128)}return $e},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ge,$e){if(!Array.isArray(Ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const vt=$e?this.byteToCharMapWebSafe_:this.byteToCharMap_,en=[];for(let Ot=0;Ot<Ge.length;Ot+=3){const Pn=Ge[Ot],Qn=Ot+1<Ge.length,Gr=Qn?Ge[Ot+1]:0,ai=Ot+2<Ge.length,kr=ai?Ge[Ot+2]:0;let ri=(15&Gr)<<2|kr>>6,Pi=63&kr;ai||(Pi=64,Qn||(ri=64)),en.push(vt[Pn>>2],vt[(3&Pn)<<4|Gr>>4],vt[ri],vt[Pi])}return en.join("")},encodeString(Ge,$e){return this.HAS_NATIVE_SUPPORT&&!$e?btoa(Ge):this.encodeByteArray(G(Ge),$e)},decodeString(Ge,$e){return this.HAS_NATIVE_SUPPORT&&!$e?atob(Ge):function(Ge){const $e=[];let vt=0,en=0;for(;vt<Ge.length;){const Ot=Ge[vt++];if(Ot<128)$e[en++]=String.fromCharCode(Ot);else if(Ot>191&&Ot<224){const Pn=Ge[vt++];$e[en++]=String.fromCharCode((31&Ot)<<6|63&Pn)}else if(Ot>239&&Ot<365){const ai=((7&Ot)<<18|(63&Ge[vt++])<<12|(63&Ge[vt++])<<6|63&Ge[vt++])-65536;$e[en++]=String.fromCharCode(55296+(ai>>10)),$e[en++]=String.fromCharCode(56320+(1023&ai))}else{const Pn=Ge[vt++],Qn=Ge[vt++];$e[en++]=String.fromCharCode((15&Ot)<<12|(63&Pn)<<6|63&Qn)}}return $e.join("")}(this.decodeStringToByteArray(Ge,$e))},decodeStringToByteArray(Ge,$e){this.init_();const vt=$e?this.charToByteMapWebSafe_:this.charToByteMap_,en=[];for(let Ot=0;Ot<Ge.length;){const Pn=vt[Ge.charAt(Ot++)],Gr=Ot<Ge.length?vt[Ge.charAt(Ot)]:0;++Ot;const kr=Ot<Ge.length?vt[Ge.charAt(Ot)]:64;++Ot;const Dn=Ot<Ge.length?vt[Ge.charAt(Ot)]:64;if(++Ot,null==Pn||null==Gr||null==kr||null==Dn)throw new Z;en.push(Pn<<2|Gr>>4),64!==kr&&(en.push(Gr<<4&240|kr>>2),64!==Dn&&en.push(kr<<6&192|Dn))}return en},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ge=0;Ge<this.ENCODED_VALS.length;Ge++)this.byteToCharMap_[Ge]=this.ENCODED_VALS.charAt(Ge),this.charToByteMap_[this.byteToCharMap_[Ge]]=Ge,this.byteToCharMapWebSafe_[Ge]=this.ENCODED_VALS_WEBSAFE.charAt(Ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ge]]=Ge,Ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ge)]=Ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ge)]=Ge)}}};class Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const be=function(Ge){const $e=G(Ge);return we.encodeByteArray($e,!0)},ve=function(Ge){return be(Ge).replace(/\./g,"")},Te=function(Ge){try{return we.decodeString(Ge,!0)}catch($e){console.error("base64Decode failed: ",$e)}return null};function ue(Ge){return ke(void 0,Ge)}function ke(Ge,$e){if(!($e instanceof Object))return $e;switch($e.constructor){case Date:return new Date($e.getTime());case Object:void 0===Ge&&(Ge={});break;case Array:Ge=[];break;default:return $e}for(const vt in $e)!$e.hasOwnProperty(vt)||!xe(vt)||(Ge[vt]=ke(Ge[vt],$e[vt]));return Ge}function xe(Ge){return"__proto__"!==Ge}function fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const We=()=>{try{return fe().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ge=process.env.__FIREBASE_DEFAULTS__;return Ge?JSON.parse(Ge):void 0})()||(()=>{if(typeof document>"u")return;let Ge;try{Ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $e=Ge&&Te(Ge[1]);return $e&&JSON.parse($e)})()}catch(Ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ge}`)}},ze=()=>{var Ge;return null===(Ge=We())||void 0===Ge?void 0:Ge.config},Fe=Ge=>{var $e;return null===($e=We())||void 0===$e?void 0:$e[`_${Ge}`]};class ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($e,vt)=>{this.resolve=$e,this.reject=vt})}wrapCallback($e){return(vt,en)=>{vt?this.reject(vt):this.resolve(en),"function"==typeof $e&&(this.promise.catch(()=>{}),1===$e.length?$e(vt):$e(vt,en))}}}function qe(Ge,$e){if(Ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const en=$e||"demo-project",Ot=Ge.iat||0,Pn=Ge.sub||Ge.user_id;if(!Pn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qn=Object.assign({iss:`https://securetoken.google.com/${en}`,aud:en,iat:Ot,exp:Ot+3600,auth_time:Ot,sub:Pn,user_id:Pn,firebase:{sign_in_provider:"custom",identities:{}}},Ge);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(Qn)),""].join(".")}function nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function H(){var Ge;const $e=null===(Ge=We())||void 0===Ge?void 0:Ge.forceEnvironment;if("node"===$e)return!0;if("browser"===$e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return typeof window<"u"||wt()}function wt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Ke(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Mt(){const Ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ge&&void 0!==Ge.id}function kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function tt(){const Ge=nt();return Ge.indexOf("MSIE ")>=0||Ge.indexOf("Trident/")>=0}function Ie(){return!0===l.NODE_CLIENT||!0===l.NODE_ADMIN}function Me(){return!H()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ce(){try{return"object"==typeof indexedDB}catch{return!1}}function Pe(){return new Promise((Ge,$e)=>{try{let vt=!0;const en="validate-browser-context-for-indexeddb-analytics-module",Ot=self.indexedDB.open(en);Ot.onsuccess=()=>{Ot.result.close(),vt||self.indexedDB.deleteDatabase(en),Ge(!0)},Ot.onupgradeneeded=()=>{vt=!1},Ot.onerror=()=>{var Pn;$e((null===(Pn=Ot.error)||void 0===Pn?void 0:Pn.message)||"")}}catch(vt){$e(vt)}})}class Se extends Error{constructor($e,vt,en){super(vt),this.code=$e,this.customData=en,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tt.prototype.create)}}class Tt{constructor($e,vt,en){this.service=$e,this.serviceName=vt,this.errors=en}create($e,...vt){const en=vt[0]||{},Ot=`${this.service}/${$e}`,Pn=this.errors[$e],Qn=Pn?function he(Ge,$e){return Ge.replace(st,(vt,en)=>{const Ot=$e[en];return null!=Ot?String(Ot):`<${en}?>`})}(Pn,en):"Error";return new Se(Ot,`${this.serviceName}: ${Qn} (${Ot}).`,en)}}const st=/\{\$([^}]+)}/g;function Nt(Ge){return JSON.parse(Ge)}function xt(Ge){return JSON.stringify(Ge)}const hn=function(Ge){let $e={},vt={},en={},Ot="";try{const Pn=Ge.split(".");$e=Nt(Te(Pn[0])||""),vt=Nt(Te(Pn[1])||""),Ot=Pn[2],en=vt.d||{},delete vt.d}catch{}return{header:$e,claims:vt,data:en,signature:Ot}},kn=function(Ge){const vt=hn(Ge).claims;return!!vt&&"object"==typeof vt&&vt.hasOwnProperty("iat")},Nn=function(Ge){const $e=hn(Ge).claims;return"object"==typeof $e&&!0===$e.admin};function zn(Ge,$e){return Object.prototype.hasOwnProperty.call(Ge,$e)}function Yn(Ge,$e){if(Object.prototype.hasOwnProperty.call(Ge,$e))return Ge[$e]}function ft(Ge){for(const $e in Ge)if(Object.prototype.hasOwnProperty.call(Ge,$e))return!1;return!0}function Xt(Ge,$e,vt){const en={};for(const Ot in Ge)Object.prototype.hasOwnProperty.call(Ge,Ot)&&(en[Ot]=$e.call(vt,Ge[Ot],Ot,Ge));return en}function jt(Ge,$e){if(Ge===$e)return!0;const vt=Object.keys(Ge),en=Object.keys($e);for(const Ot of vt){if(!en.includes(Ot))return!1;const Pn=Ge[Ot],Qn=$e[Ot];if(On(Pn)&&On(Qn)){if(!jt(Pn,Qn))return!1}else if(Pn!==Qn)return!1}for(const Ot of en)if(!vt.includes(Ot))return!1;return!0}function On(Ge){return null!==Ge&&"object"==typeof Ge}function er(Ge){const $e=[];for(const[vt,en]of Object.entries(Ge))Array.isArray(en)?en.forEach(Ot=>{$e.push(encodeURIComponent(vt)+"="+encodeURIComponent(Ot))}):$e.push(encodeURIComponent(vt)+"="+encodeURIComponent(en));return $e.length?"&"+$e.join("&"):""}function tr(Ge){const $e={};return Ge.replace(/^\?/,"").split("&").forEach(en=>{if(en){const[Ot,Pn]=en.split("=");$e[decodeURIComponent(Ot)]=decodeURIComponent(Pn)}}),$e}function Xn(Ge){const $e=Ge.indexOf("?");if(!$e)return"";const vt=Ge.indexOf("#",$e);return Ge.substring($e,vt>0?vt:void 0)}class Dr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $e=1;$e<this.blockSize;++$e)this.pad_[$e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($e,vt){vt||(vt=0);const en=this.W_;if("string"==typeof $e)for(let Dn=0;Dn<16;Dn++)en[Dn]=$e.charCodeAt(vt)<<24|$e.charCodeAt(vt+1)<<16|$e.charCodeAt(vt+2)<<8|$e.charCodeAt(vt+3),vt+=4;else for(let Dn=0;Dn<16;Dn++)en[Dn]=$e[vt]<<24|$e[vt+1]<<16|$e[vt+2]<<8|$e[vt+3],vt+=4;for(let Dn=16;Dn<80;Dn++){const ri=en[Dn-3]^en[Dn-8]^en[Dn-14]^en[Dn-16];en[Dn]=4294967295&(ri<<1|ri>>>31)}let kr,$r,Ot=this.chain_[0],Pn=this.chain_[1],Qn=this.chain_[2],Gr=this.chain_[3],ai=this.chain_[4];for(let Dn=0;Dn<80;Dn++){Dn<40?Dn<20?(kr=Gr^Pn&(Qn^Gr),$r=1518500249):(kr=Pn^Qn^Gr,$r=1859775393):Dn<60?(kr=Pn&Qn|Gr&(Pn|Qn),$r=2400959708):(kr=Pn^Qn^Gr,$r=3395469782);const ri=(Ot<<5|Ot>>>27)+kr+ai+$r+en[Dn]&4294967295;ai=Gr,Gr=Qn,Qn=4294967295&(Pn<<30|Pn>>>2),Pn=Ot,Ot=ri}this.chain_[0]=this.chain_[0]+Ot&4294967295,this.chain_[1]=this.chain_[1]+Pn&4294967295,this.chain_[2]=this.chain_[2]+Qn&4294967295,this.chain_[3]=this.chain_[3]+Gr&4294967295,this.chain_[4]=this.chain_[4]+ai&4294967295}update($e,vt){if(null==$e)return;void 0===vt&&(vt=$e.length);const en=vt-this.blockSize;let Ot=0;const Pn=this.buf_;let Qn=this.inbuf_;for(;Ot<vt;){if(0===Qn)for(;Ot<=en;)this.compress_($e,Ot),Ot+=this.blockSize;if("string"==typeof $e){for(;Ot<vt;)if(Pn[Qn]=$e.charCodeAt(Ot),++Qn,++Ot,Qn===this.blockSize){this.compress_(Pn),Qn=0;break}}else for(;Ot<vt;)if(Pn[Qn]=$e[Ot],++Qn,++Ot,Qn===this.blockSize){this.compress_(Pn),Qn=0;break}}this.inbuf_=Qn,this.total_+=vt}digest(){const $e=[];let vt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ot=this.blockSize-1;Ot>=56;Ot--)this.buf_[Ot]=255&vt,vt/=256;this.compress_(this.buf_);let en=0;for(let Ot=0;Ot<5;Ot++)for(let Pn=24;Pn>=0;Pn-=8)$e[en]=this.chain_[Ot]>>Pn&255,++en;return $e}}function Mr(Ge,$e){const vt=new sr(Ge,$e);return vt.subscribe.bind(vt)}class sr{constructor($e,vt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=vt,this.task.then(()=>{$e(this)}).catch(en=>{this.error(en)})}next($e){this.forEachObserver(vt=>{vt.next($e)})}error($e){this.forEachObserver(vt=>{vt.error($e)}),this.close($e)}complete(){this.forEachObserver($e=>{$e.complete()}),this.close()}subscribe($e,vt,en){let Ot;if(void 0===$e&&void 0===vt&&void 0===en)throw new Error("Missing Observer.");Ot=function Or(Ge,$e){if("object"!=typeof Ge||null===Ge)return!1;for(const vt of $e)if(vt in Ge&&"function"==typeof Ge[vt])return!0;return!1}($e,["next","error","complete"])?$e:{next:$e,error:vt,complete:en},void 0===Ot.next&&(Ot.next=Hr),void 0===Ot.error&&(Ot.error=Hr),void 0===Ot.complete&&(Ot.complete=Hr);const Pn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ot.error(this.finalError):Ot.complete()}catch{}}),this.observers.push(Ot),Pn}unsubscribeOne($e){void 0===this.observers||void 0===this.observers[$e]||(delete this.observers[$e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($e){if(!this.finalized)for(let vt=0;vt<this.observers.length;vt++)this.sendOne(vt,$e)}sendOne($e,vt){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$e])try{vt(this.observers[$e])}catch(en){typeof console<"u"&&console.error&&console.error(en)}})}close($e){this.finalized||(this.finalized=!0,void 0!==$e&&(this.finalError=$e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hr(){}const Ir=function(Ge,$e,vt,en){let Ot;if(en<$e?Ot="at least "+$e:en>vt&&(Ot=0===vt?"none":"no more than "+vt),Ot)throw new Error(Ge+" failed: Was called with "+en+(1===en?" argument.":" arguments.")+" Expects "+Ot+".")};function vr(Ge,$e){return`${Ge} failed: ${$e} argument `}function ci(Ge,$e,vt,en){if((!en||vt)&&"function"!=typeof vt)throw new Error(vr(Ge,$e)+"must be a valid function.")}function Rr(Ge,$e,vt,en){if((!en||vt)&&("object"!=typeof vt||null===vt))throw new Error(vr(Ge,$e)+"must be a valid context object.")}const ui=function(Ge){const $e=[];let vt=0;for(let en=0;en<Ge.length;en++){let Ot=Ge.charCodeAt(en);if(Ot>=55296&&Ot<=56319){const Pn=Ot-55296;en++,U(en<Ge.length,"Surrogate pair missing trail surrogate."),Ot=65536+(Pn<<10)+(Ge.charCodeAt(en)-56320)}Ot<128?$e[vt++]=Ot:Ot<2048?($e[vt++]=Ot>>6|192,$e[vt++]=63&Ot|128):Ot<65536?($e[vt++]=Ot>>12|224,$e[vt++]=Ot>>6&63|128,$e[vt++]=63&Ot|128):($e[vt++]=Ot>>18|240,$e[vt++]=Ot>>12&63|128,$e[vt++]=Ot>>6&63|128,$e[vt++]=63&Ot|128)}return $e},dr=function(Ge){let $e=0;for(let vt=0;vt<Ge.length;vt++){const en=Ge.charCodeAt(vt);en<128?$e++:en<2048?$e+=2:en>=55296&&en<=56319?($e+=4,vt++):$e+=3}return $e};function Bn(Ge){return Ge&&Ge._delegate?Ge._delegate:Ge}},2844:(En,ht,N)=>{"use strict";N.d(ht,{O:()=>l});var l=function(U){return U.NOT_REQUIRED="NOT_REQUIRED",U.OBTAINED="OBTAINED",U.REQUIRED="REQUIRED",U.UNKNOWN="UNKNOWN",U}(l||{})},5083:(En,ht,N)=>{"use strict";N.d(ht,{E_:()=>it,F3:()=>fe,I9:()=>ve,Ii:()=>xe});var l=N(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var be=function(wt){return wt.Unimplemented="UNIMPLEMENTED",wt.Unavailable="UNAVAILABLE",wt}(be||{});class ve extends Error{constructor(Ke,Mt,kt){super(Ke),this.message=Ke,this.code=Mt,this.data=kt}}const ue=wt=>{var Ke,Mt,kt,un,tt;const De=wt.CapacitorCustomPlatform||null,Ie=wt.Capacitor||{},Me=Ie.Plugins=Ie.Plugins||{},ce=wt.CapacitorPlatforms,at=(null===(Ke=ce?.currentPlatform)||void 0===Ke?void 0:Ke.getPlatform)||(()=>null!==De?De.name:(wt=>{var Ke,Mt;return wt?.androidBridge?"android":null!==(Mt=null===(Ke=wt?.webkit)||void 0===Ke?void 0:Ke.messageHandlers)&&void 0!==Mt&&Mt.bridge?"ios":"web"})(wt)),Se=(null===(Mt=ce?.currentPlatform)||void 0===Mt?void 0:Mt.isNativePlatform)||(()=>"web"!==at()),he=(null===(kt=ce?.currentPlatform)||void 0===kt?void 0:kt.isPluginAvailable)||(Nn=>{const zn=Ln.get(Nn);return!(!zn?.platforms.has(at())&&!Nt(Nn))}),Nt=(null===(un=ce?.currentPlatform)||void 0===un?void 0:un.getPluginHeader)||(Nn=>{var zn;return null===(zn=Ie.PluginHeaders)||void 0===zn?void 0:zn.find(Yn=>Yn.name===Nn)}),Ln=new Map,kn=(null===(tt=ce?.currentPlatform)||void 0===tt?void 0:tt.registerPlugin)||((Nn,zn={})=>{const Yn=Ln.get(Nn);if(Yn)return console.warn(`Capacitor plugin "${Nn}" already registered. Cannot register plugins twice.`),Yn.proxy;const ft=at(),Xt=Nt(Nn);let jt;const On=function(){var sr=(0,l.A)(function*(){return!jt&&ft in zn?jt=jt="function"==typeof zn[ft]?yield zn[ft]():zn[ft]:null!==De&&!jt&&"web"in zn&&(jt=jt="function"==typeof zn.web?yield zn.web():zn.web),jt});return function(){return sr.apply(this,arguments)}}(),er=sr=>{let cr;const Or=(...Hr)=>{const Ir=On().then(vr=>{const ur=((sr,cr)=>{var Or,Hr;if(!Xt){if(sr)return null===(Hr=sr[cr])||void 0===Hr?void 0:Hr.bind(sr);throw new ve(`"${Nn}" plugin is not implemented on ${ft}`,be.Unimplemented)}{const Ir=Xt?.methods.find(vr=>cr===vr.name);if(Ir)return"promise"===Ir.rtype?vr=>Ie.nativePromise(Nn,cr.toString(),vr):(vr,ur)=>Ie.nativeCallback(Nn,cr.toString(),vr,ur);if(sr)return null===(Or=sr[cr])||void 0===Or?void 0:Or.bind(sr)}})(vr,sr);if(ur){const ci=ur(...Hr);return cr=ci?.remove,ci}throw new ve(`"${Nn}.${sr}()" is not implemented on ${ft}`,be.Unimplemented)});return"addListener"===sr&&(Ir.remove=(0,l.A)(function*(){return cr()})),Ir};return Or.toString=()=>`${sr.toString()}() { [capacitor code] }`,Object.defineProperty(Or,"name",{value:sr,writable:!1,configurable:!1}),Or},tr=er("addListener"),Xn=er("removeListener"),Dr=(sr,cr)=>{const Or=tr({eventName:sr},cr),Hr=function(){var vr=(0,l.A)(function*(){const ur=yield Or;Xn({eventName:sr,callbackId:ur},cr)});return function(){return vr.apply(this,arguments)}}(),Ir=new Promise(vr=>Or.then(()=>vr({remove:Hr})));return Ir.remove=(0,l.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Hr()}),Ir},Mr=new Proxy({},{get(sr,cr){switch(cr){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Xt?Dr:tr;case"removeListener":return Xn;default:return er(cr)}}});return Me[Nn]=Mr,Ln.set(Nn,{name:Nn,proxy:Mr,platforms:new Set([...Object.keys(zn),...Xt?[ft]:[]])}),Mr});return Ie.convertFileSrc||(Ie.convertFileSrc=Nn=>Nn),Ie.getPlatform=at,Ie.handleError=Nn=>wt.console.error(Nn),Ie.isNativePlatform=Se,Ie.isPluginAvailable=he,Ie.pluginMethodNoop=(Nn,zn,Yn)=>Promise.reject(`${Yn} does not have an implementation of "${zn}".`),Ie.registerPlugin=kn,Ie.Exception=ve,Ie.DEBUG=!!Ie.DEBUG,Ie.isLoggingEnabled=!!Ie.isLoggingEnabled,Ie.platform=Ie.getPlatform(),Ie.isNative=Ie.isNativePlatform(),Ie},xe=(wt=>wt.Capacitor=ue(wt))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),fe=xe.registerPlugin;class it{constructor(Ke){this.listeners={},this.retainedEventArguments={},this.windowListeners={},Ke&&(console.warn(`Capacitor WebPlugin "${Ke.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Ke)}addListener(Ke,Mt){var kt=this;let un=!1;this.listeners[Ke]||(this.listeners[Ke]=[],un=!0),this.listeners[Ke].push(Mt);const De=this.windowListeners[Ke];De&&!De.registered&&this.addWindowListener(De),un&&this.sendRetainedArgumentsForEvent(Ke);const Ie=function(){var ce=(0,l.A)(function*(){return kt.removeListener(Ke,Mt)});return function(){return ce.apply(this,arguments)}}();return Promise.resolve({remove:Ie})}removeAllListeners(){var Ke=this;return(0,l.A)(function*(){Ke.listeners={};for(const Mt in Ke.windowListeners)Ke.removeWindowListener(Ke.windowListeners[Mt]);Ke.windowListeners={}})()}notifyListeners(Ke,Mt,kt){const un=this.listeners[Ke];if(un)un.forEach(tt=>tt(Mt));else if(kt){let tt=this.retainedEventArguments[Ke];tt||(tt=[]),tt.push(Mt),this.retainedEventArguments[Ke]=tt}}hasListeners(Ke){return!!this.listeners[Ke].length}registerWindowListener(Ke,Mt){this.windowListeners[Mt]={registered:!1,windowEventName:Ke,pluginEventName:Mt,handler:kt=>{this.notifyListeners(Mt,kt)}}}unimplemented(Ke="not implemented"){return new xe.Exception(Ke,be.Unimplemented)}unavailable(Ke="not available"){return new xe.Exception(Ke,be.Unavailable)}removeListener(Ke,Mt){var kt=this;return(0,l.A)(function*(){const un=kt.listeners[Ke];if(!un)return;const tt=un.indexOf(Mt);kt.listeners[Ke].splice(tt,1),kt.listeners[Ke].length||kt.removeWindowListener(kt.windowListeners[Ke])})()}addWindowListener(Ke){window.addEventListener(Ke.windowEventName,Ke.handler),Ke.registered=!0}removeWindowListener(Ke){Ke&&(window.removeEventListener(Ke.windowEventName,Ke.handler),Ke.registered=!1)}sendRetainedArgumentsForEvent(Ke){const Mt=this.retainedEventArguments[Ke];Mt&&(delete this.retainedEventArguments[Ke],Mt.forEach(kt=>{this.notifyListeners(Ke,kt)}))}}const At=wt=>encodeURIComponent(wt).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Pt=wt=>wt.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ze extends it{getCookies(){return(0,l.A)(function*(){const Ke=document.cookie,Mt={};return Ke.split(";").forEach(kt=>{if(kt.length<=0)return;let[un,tt]=kt.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");un=Pt(un).trim(),tt=Pt(tt).trim(),Mt[un]=tt}),Mt})()}setCookie(Ke){return(0,l.A)(function*(){try{const Mt=At(Ke.key),kt=At(Ke.value),un=`; expires=${(Ke.expires||"").replace("expires=","")}`,tt=(Ke.path||"/").replace("path=",""),De=null!=Ke.url&&Ke.url.length>0?`domain=${Ke.url}`:"";document.cookie=`${Mt}=${kt||""}${un}; path=${tt}; ${De};`}catch(Mt){return Promise.reject(Mt)}})()}deleteCookie(Ke){return(0,l.A)(function*(){try{document.cookie=`${Ke.key}=; Max-Age=0`}catch(Mt){return Promise.reject(Mt)}})()}clearCookies(){return(0,l.A)(function*(){try{const Ke=document.cookie.split(";")||[];for(const Mt of Ke)document.cookie=Mt.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(Ke){return Promise.reject(Ke)}})()}clearAllCookies(){var Ke=this;return(0,l.A)(function*(){try{yield Ke.clearCookies()}catch(Mt){return Promise.reject(Mt)}})()}}fe("CapacitorCookies",{web:()=>new ze});const ot=function(){var wt=(0,l.A)(function*(Ke){return new Promise((Mt,kt)=>{const un=new FileReader;un.onload=()=>{const tt=un.result;Mt(tt.indexOf(",")>=0?tt.split(",")[1]:tt)},un.onerror=tt=>kt(tt),un.readAsDataURL(Ke)})});return function(Mt){return wt.apply(this,arguments)}}();class H extends it{request(Ke){return(0,l.A)(function*(){const Mt=((wt,Ke={})=>{const Mt=Object.assign({method:wt.method||"GET",headers:wt.headers},Ke),un=((wt={})=>{const Ke=Object.keys(wt);return Object.keys(wt).map(un=>un.toLocaleLowerCase()).reduce((un,tt,De)=>(un[tt]=wt[Ke[De]],un),{})})(wt.headers)["content-type"]||"";if("string"==typeof wt.data)Mt.body=wt.data;else if(un.includes("application/x-www-form-urlencoded")){const tt=new URLSearchParams;for(const[De,Ie]of Object.entries(wt.data||{}))tt.set(De,Ie);Mt.body=tt.toString()}else if(un.includes("multipart/form-data")||wt.data instanceof FormData){const tt=new FormData;if(wt.data instanceof FormData)wt.data.forEach((Ie,Me)=>{tt.append(Me,Ie)});else for(const Ie of Object.keys(wt.data))tt.append(Ie,wt.data[Ie]);Mt.body=tt;const De=new Headers(Mt.headers);De.delete("content-type"),Mt.headers=De}else(un.includes("application/json")||"object"==typeof wt.data)&&(Mt.body=JSON.stringify(wt.data));return Mt})(Ke,Ke.webFetchExtra),kt=((wt,Ke=!0)=>wt?Object.entries(wt).reduce((kt,un)=>{const[tt,De]=un;let Ie,Me;return Array.isArray(De)?(Me="",De.forEach(ce=>{Ie=Ke?encodeURIComponent(ce):ce,Me+=`${tt}=${Ie}&`}),Me.slice(0,-1)):(Ie=Ke?encodeURIComponent(De):De,Me=`${tt}=${Ie}`),`${kt}&${Me}`},"").substr(1):null)(Ke.params,Ke.shouldEncodeUrlParams),un=kt?`${Ke.url}?${kt}`:Ke.url,tt=yield fetch(un,Mt),De=tt.headers.get("content-type")||"";let Me,ce,{responseType:Ie="text"}=tt.ok?Ke:{};switch(De.includes("application/json")&&(Ie="json"),Ie){case"arraybuffer":case"blob":ce=yield tt.blob(),Me=yield ot(ce);break;case"json":Me=yield tt.json();break;default:Me=yield tt.text()}const Pe={};return tt.headers.forEach((at,Xe)=>{Pe[Xe]=at}),{data:Me,headers:Pe,status:tt.status,url:tt.url}})()}get(Ke){var Mt=this;return(0,l.A)(function*(){return Mt.request(Object.assign(Object.assign({},Ke),{method:"GET"}))})()}post(Ke){var Mt=this;return(0,l.A)(function*(){return Mt.request(Object.assign(Object.assign({},Ke),{method:"POST"}))})()}put(Ke){var Mt=this;return(0,l.A)(function*(){return Mt.request(Object.assign(Object.assign({},Ke),{method:"PUT"}))})()}patch(Ke){var Mt=this;return(0,l.A)(function*(){return Mt.request(Object.assign(Object.assign({},Ke),{method:"PATCH"}))})()}delete(Ke){var Mt=this;return(0,l.A)(function*(){return Mt.request(Object.assign(Object.assign({},Ke),{method:"DELETE"}))})()}}fe("CapacitorHttp",{web:()=>new H})},2233:(En,ht,N)=>{"use strict";N.d(ht,{S:()=>U});const U=(0,N(5083).F3)("Share",{web:()=>N.e(1227).then(N.bind(N,1227)).then(J=>new J.ShareWeb)})},4442:(En,ht,N)=>{"use strict";N.d(ht,{L:()=>Re,a:()=>we,b:()=>Z,c:()=>be,d:()=>ve,g:()=>tt}),N(5531);const Re="ionViewWillEnter",we="ionViewDidEnter",Z="ionViewWillLeave",be="ionViewDidLeave",ve="ionViewWillUnload",tt=De=>De.classList.contains("ion-page")?De:De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||De},5531:(En,ht,N)=>{"use strict";N.d(ht,{a:()=>Te,c:()=>U,g:()=>ve});class l{constructor(){this.m=new Map}reset(De){this.m=new Map(Object.entries(De))}get(De,Ie){const Me=this.m.get(De);return void 0!==Me?Me:Ie}getBoolean(De,Ie=!1){const Me=this.m.get(De);return void 0===Me?Ie:"string"==typeof Me?"true"===Me:!!Me}getNumber(De,Ie){const Me=parseFloat(this.m.get(De));return isNaN(Me)?void 0!==Ie?Ie:NaN:Me}set(De,Ie){this.m.set(De,Ie)}}const U=new l,ve=tt=>ue(tt),Te=(tt,De)=>("string"==typeof tt&&(De=tt,tt=void 0),ve(tt).includes(De)),ue=(tt=window)=>{if(typeof tt>"u")return[];tt.Ionic=tt.Ionic||{};let De=tt.Ionic.platforms;return null==De&&(De=tt.Ionic.platforms=ke(tt),De.forEach(Ie=>tt.document.documentElement.classList.add(`plt-${Ie}`))),De},ke=tt=>{const De=U.get("platform");return Object.keys(Ke).filter(Ie=>{const Me=De?.[Ie];return"function"==typeof Me?Me(tt):Ke[Ie](tt)})},fe=tt=>!!(He(tt,/iPad/i)||He(tt,/Macintosh/i)&&ze(tt)),it=tt=>He(tt,/android|sink/i),ze=tt=>wt(tt,"(any-pointer:coarse)"),ot=tt=>qe(tt)||nt(tt),qe=tt=>!!(tt.cordova||tt.phonegap||tt.PhoneGap),nt=tt=>{const De=tt.Capacitor;return!!(De?.isNative||De?.isNativePlatform&&De.isNativePlatform())},He=(tt,De)=>De.test(tt.navigator.userAgent),wt=(tt,De)=>{var Ie;return null===(Ie=tt.matchMedia)||void 0===Ie?void 0:Ie.call(tt,De).matches},Ke={ipad:fe,iphone:tt=>He(tt,/iPhone/i),ios:tt=>He(tt,/iPhone|iPod/i)||fe(tt),android:it,phablet:tt=>{const De=tt.innerWidth,Ie=tt.innerHeight,Me=Math.min(De,Ie),ce=Math.max(De,Ie);return Me>390&&Me<520&&ce>620&&ce<800},tablet:tt=>{const De=tt.innerWidth,Ie=tt.innerHeight,Me=Math.min(De,Ie),ce=Math.max(De,Ie);return fe(tt)||(tt=>it(tt)&&!He(tt,/mobile/i))(tt)||Me>460&&Me<820&&ce>780&&ce<1400},cordova:qe,capacitor:nt,electron:tt=>He(tt,/electron/i),pwa:tt=>{var De;return!!(null!==(De=tt.matchMedia)&&void 0!==De&&De.call(tt,"(display-mode: standalone)").matches||tt.navigator.standalone)},mobile:ze,mobileweb:tt=>ze(tt)&&!ot(tt),desktop:tt=>!ze(tt),hybrid:ot}},9986:(En,ht,N)=>{"use strict";N.d(ht,{c:()=>we});var l=N(8476);let U;const G=(Z,be,ve)=>{const Te=be.startsWith("animation")?(Z=>(void 0===U&&(U=void 0===Z.style.animationName&&void 0!==Z.style.webkitAnimationName?"-webkit-":""),U))(Z):"";Z.style.setProperty(Te+be,ve)},Re=(Z=[],be)=>{if(void 0!==be){const ve=Array.isArray(be)?be:[be];return[...Z,...ve]}return Z},we=Z=>{let be,ve,Te,ue,ke,xe,We,bt,H,He,kt,fe=[],rt=[],yt=[],it=!1,At={},Pt=[],ze=[],Fe={},ot=0,qe=!1,nt=!1,wt=!0,Ke=!1,Mt=!0,un=!1;const tt=Z,De=[],Ie=[],Me=[],ce=[],Pe=[],at=[],Xe=[],Se=[],Tt=[],he=[],st=[],Nt="function"==typeof AnimationEffect||void 0!==l.w&&"function"==typeof l.w.AnimationEffect,xt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Nt,hn=()=>st,zn=(Y,Ve)=>{const gt=Ve.findIndex(ln=>ln.c===Y);gt>-1&&Ve.splice(gt,1)},ft=(Y,Ve)=>((Ve?.oneTimeCallback?Ie:De).push({c:Y,o:Ve}),kt),jt=()=>{xt&&(st.forEach(Y=>{Y.cancel()}),st.length=0)},On=()=>{at.forEach(Y=>{Y?.parentNode&&Y.parentNode.removeChild(Y)}),at.length=0},ur=()=>void 0!==ke?ke:We?We.getFill():"both",ci=()=>void 0!==bt?bt:void 0!==xe?xe:We?We.getDirection():"normal",Rr=()=>qe?"linear":void 0!==Te?Te:We?We.getEasing():"linear",ui=()=>nt?0:void 0!==H?H:void 0!==ve?ve:We?We.getDuration():0,dr=()=>void 0!==ue?ue:We?We.getIterations():1,bi=()=>void 0!==He?He:void 0!==be?be:We?We.getDelay():0,Qn=()=>{0!==ot&&(ot--,0===ot&&((()=>{Tt.forEach(Yt=>Yt()),he.forEach(Yt=>Yt());const Y=wt?1:0,Ve=Pt,gt=ze,ln=Fe;ce.forEach(Yt=>{const pe=Yt.classList;Ve.forEach(Oe=>pe.add(Oe)),gt.forEach(Oe=>pe.remove(Oe));for(const Oe in ln)ln.hasOwnProperty(Oe)&&G(Yt,Oe,ln[Oe])}),H=void 0,bt=void 0,He=void 0,De.forEach(Yt=>Yt.c(Y,kt)),Ie.forEach(Yt=>Yt.c(Y,kt)),Ie.length=0,Mt=!0,wt&&(Ke=!0),wt=!0})(),We&&We.animationFinish()))},ai=()=>{(()=>{Xe.forEach(ln=>ln()),Se.forEach(ln=>ln());const Y=rt,Ve=yt,gt=At;ce.forEach(ln=>{const Yt=ln.classList;Y.forEach(pe=>Yt.add(pe)),Ve.forEach(pe=>Yt.remove(pe));for(const pe in gt)gt.hasOwnProperty(pe)&&G(ln,pe,gt[pe])})})(),fe.length>0&&xt&&(ce.forEach(Y=>{const Ve=Y.animate(fe,{id:tt,delay:bi(),duration:ui(),easing:Rr(),iterations:dr(),fill:ur(),direction:ci()});Ve.pause(),st.push(Ve)}),st.length>0&&(st[0].onfinish=()=>{Qn()})),it=!0},kr=Y=>{Y=Math.min(Math.max(Y,0),.9999),xt&&st.forEach(Ve=>{Ve.currentTime=Ve.effect.getComputedTiming().delay+ui()*Y,Ve.pause()})},$r=Y=>{st.forEach(Ve=>{Ve.effect.updateTiming({delay:bi(),duration:ui(),easing:Rr(),iterations:dr(),fill:ur(),direction:ci()})}),void 0!==Y&&kr(Y)},Dn=(Y=!1,Ve=!0,gt)=>(Y&&Pe.forEach(ln=>{ln.update(Y,Ve,gt)}),xt&&$r(gt),kt),Gi=()=>{it&&(xt?st.forEach(Y=>{Y.pause()}):ce.forEach(Y=>{G(Y,"animation-play-state","paused")}),un=!0)},mi=Y=>new Promise(Ve=>{Y?.sync&&(nt=!0,ft(()=>nt=!1,{oneTimeCallback:!0})),it||ai(),Ke&&(xt&&(kr(0),$r()),Ke=!1),Mt&&(ot=Pe.length+1,Mt=!1);const gt=()=>{zn(ln,Ie),Ve()},ln=()=>{zn(gt,Me),Ve()};ft(ln,{oneTimeCallback:!0}),(Y=>{Me.push({c:Y,o:{oneTimeCallback:!0}})})(gt),Pe.forEach(Yt=>{Yt.play()}),xt?(st.forEach(Y=>{Y.play()}),(0===fe.length||0===ce.length)&&Qn()):Qn(),un=!1}),ae=(Y,Ve)=>{const gt=fe[0];return void 0===gt||void 0!==gt.offset&&0!==gt.offset?fe=[{offset:0,[Y]:Ve},...fe]:gt[Y]=Ve,kt};return kt={parentAnimation:We,elements:ce,childAnimations:Pe,id:tt,animationFinish:Qn,from:ae,to:(Y,Ve)=>{const gt=fe[fe.length-1];return void 0===gt||void 0!==gt.offset&&1!==gt.offset?fe=[...fe,{offset:1,[Y]:Ve}]:gt[Y]=Ve,kt},fromTo:(Y,Ve,gt)=>ae(Y,Ve).to(Y,gt),parent:Y=>(We=Y,kt),play:mi,pause:()=>(Pe.forEach(Y=>{Y.pause()}),Gi(),kt),stop:()=>{Pe.forEach(Y=>{Y.stop()}),it&&(jt(),it=!1),qe=!1,nt=!1,Mt=!0,bt=void 0,H=void 0,He=void 0,ot=0,Ke=!1,wt=!0,un=!1,Me.forEach(Y=>Y.c(0,kt)),Me.length=0},destroy:Y=>(Pe.forEach(Ve=>{Ve.destroy(Y)}),(Y=>{jt(),Y&&On()})(Y),ce.length=0,Pe.length=0,fe.length=0,De.length=0,Ie.length=0,it=!1,Mt=!0,kt),keyframes:Y=>{const Ve=fe!==Y;return fe=Y,Ve&&(Y=>{xt&&hn().forEach(Ve=>{const gt=Ve.effect;if(gt.setKeyframes)gt.setKeyframes(Y);else{const ln=new KeyframeEffect(gt.target,Y,gt.getTiming());Ve.effect=ln}})})(fe),kt},addAnimation:Y=>{if(null!=Y)if(Array.isArray(Y))for(const Ve of Y)Ve.parent(kt),Pe.push(Ve);else Y.parent(kt),Pe.push(Y);return kt},addElement:Y=>{if(null!=Y)if(1===Y.nodeType)ce.push(Y);else if(Y.length>=0)for(let Ve=0;Ve<Y.length;Ve++)ce.push(Y[Ve]);else console.error("Invalid addElement value");return kt},update:Dn,fill:Y=>(ke=Y,Dn(!0),kt),direction:Y=>(xe=Y,Dn(!0),kt),iterations:Y=>(ue=Y,Dn(!0),kt),duration:Y=>(!xt&&0===Y&&(Y=1),ve=Y,Dn(!0),kt),easing:Y=>(Te=Y,Dn(!0),kt),delay:Y=>(be=Y,Dn(!0),kt),getWebAnimations:hn,getKeyframes:()=>fe,getFill:ur,getDirection:ci,getDelay:bi,getIterations:dr,getEasing:Rr,getDuration:ui,afterAddRead:Y=>(Tt.push(Y),kt),afterAddWrite:Y=>(he.push(Y),kt),afterClearStyles:(Y=[])=>{for(const Ve of Y)Fe[Ve]="";return kt},afterStyles:(Y={})=>(Fe=Y,kt),afterRemoveClass:Y=>(ze=Re(ze,Y),kt),afterAddClass:Y=>(Pt=Re(Pt,Y),kt),beforeAddRead:Y=>(Xe.push(Y),kt),beforeAddWrite:Y=>(Se.push(Y),kt),beforeClearStyles:(Y=[])=>{for(const Ve of Y)At[Ve]="";return kt},beforeStyles:(Y={})=>(At=Y,kt),beforeRemoveClass:Y=>(yt=Re(yt,Y),kt),beforeAddClass:Y=>(rt=Re(rt,Y),kt),onFinish:ft,isRunning:()=>0!==ot&&!un,progressStart:(Y=!1,Ve)=>(Pe.forEach(gt=>{gt.progressStart(Y,Ve)}),Gi(),qe=Y,it||ai(),Dn(!1,!0,Ve),kt),progressStep:Y=>(Pe.forEach(Ve=>{Ve.progressStep(Y)}),kr(Y),kt),progressEnd:(Y,Ve,gt)=>(qe=!1,Pe.forEach(ln=>{ln.progressEnd(Y,Ve,gt)}),void 0!==gt&&(H=gt),Ke=!1,wt=!0,0===Y?(bt="reverse"===ci()?"normal":"reverse","reverse"===bt&&(wt=!1),xt?(Dn(),kr(1-Ve)):(He=(1-Ve)*ui()*-1,Dn(!1,!1))):1===Y&&(xt?(Dn(),kr(Ve)):(He=Ve*ui()*-1,Dn(!1,!1))),void 0!==Y&&!We&&mi(),kt)}}},464:(En,ht,N)=>{"use strict";N.d(ht,{E:()=>Te,a:()=>l,s:()=>be});const l=ue=>{try{if(ue instanceof Z)return ue.value;if(!G()||"string"!=typeof ue||""===ue)return ue;if(ue.includes("onload="))return"";const ke=document.createDocumentFragment(),xe=document.createElement("div");ke.appendChild(xe),xe.innerHTML=ue,we.forEach(it=>{const We=ke.querySelectorAll(it);for(let At=We.length-1;At>=0;At--){const Pt=We[At];Pt.parentNode?Pt.parentNode.removeChild(Pt):ke.removeChild(Pt);const ze=J(Pt);for(let Fe=0;Fe<ze.length;Fe++)U(ze[Fe])}});const fe=J(ke);for(let it=0;it<fe.length;it++)U(fe[it]);const rt=document.createElement("div");rt.appendChild(ke);const yt=rt.querySelector("div");return null!==yt?yt.innerHTML:rt.innerHTML}catch(ke){return console.error(ke),""}},U=ue=>{if(ue.nodeType&&1!==ue.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ue.attributes instanceof NamedNodeMap))return void ue.remove();for(let xe=ue.attributes.length-1;xe>=0;xe--){const fe=ue.attributes.item(xe),rt=fe.name;if(!Re.includes(rt.toLowerCase())){ue.removeAttribute(rt);continue}const yt=fe.value,it=ue[rt];(null!=yt&&yt.toLowerCase().includes("javascript:")||null!=it&&it.toLowerCase().includes("javascript:"))&&ue.removeAttribute(rt)}const ke=J(ue);for(let xe=0;xe<ke.length;xe++)U(ke[xe])},J=ue=>null!=ue.children?ue.children:ue.childNodes,G=()=>{var ue;const ke=window,xe=null===(ue=ke?.Ionic)||void 0===ue?void 0:ue.config;return!xe||(xe.get?xe.get("sanitizerEnabled",!0):!0===xe.sanitizerEnabled||void 0===xe.sanitizerEnabled)},Re=["class","id","href","src","name","slot"],we=["script","style","iframe","meta","link","object","embed"];class Z{constructor(ke){this.value=ke}}const be=ue=>{const ke=window,xe=ke.Ionic;if(!xe||!xe.config||"Object"===xe.config.constructor.name)return ke.Ionic=ke.Ionic||{},ke.Ionic.config=Object.assign(Object.assign({},ke.Ionic.config),ue),ke.Ionic.config},Te=!1},3345:(En,ht,N)=>{"use strict";N.d(ht,{C:()=>Re,a:()=>J,d:()=>G});var l=N(467),U=N(1559);const J=function(){var we=(0,l.A)(function*(Z,be,ve,Te,ue,ke){var xe;if(Z)return Z.attachViewToDom(be,ve,ue,Te);if(!(ke||"string"==typeof ve||ve instanceof HTMLElement))throw new Error("framework delegate is missing");const fe="string"==typeof ve?null===(xe=be.ownerDocument)||void 0===xe?void 0:xe.createElement(ve):ve;return Te&&Te.forEach(rt=>fe.classList.add(rt)),ue&&Object.assign(fe,ue),be.appendChild(fe),yield new Promise(rt=>(0,U.c)(fe,rt)),fe});return function(be,ve,Te,ue,ke,xe){return we.apply(this,arguments)}}(),G=(we,Z)=>{if(Z){if(we)return we.removeViewFromDom(Z.parentElement,Z);Z.remove()}return Promise.resolve()},Re=()=>{let we,Z;return{attachViewToDom:function(){var Te=(0,l.A)(function*(ue,ke,xe={},fe=[]){var rt,yt;let it;if(we=ue,ke){const At="string"==typeof ke?null===(rt=we.ownerDocument)||void 0===rt?void 0:rt.createElement(ke):ke;fe.forEach(Pt=>At.classList.add(Pt)),Object.assign(At,xe),we.appendChild(At),it=At,yield new Promise(Pt=>(0,U.c)(At,Pt))}else if(we.children.length>0&&("ION-MODAL"===we.tagName||"ION-POPOVER"===we.tagName)&&!(it=we.children[0]).classList.contains("ion-delegate-host")){const Pt=null===(yt=we.ownerDocument)||void 0===yt?void 0:yt.createElement("div");Pt.classList.add("ion-delegate-host"),fe.forEach(ze=>Pt.classList.add(ze)),Pt.append(...we.children),we.appendChild(Pt),it=Pt}const We=document.querySelector("ion-app")||document.body;return Z=document.createComment("ionic teleport"),we.parentNode.insertBefore(Z,we),We.appendChild(we),it??we});return function(ke,xe){return Te.apply(this,arguments)}}(),removeViewFromDom:()=>(we&&Z&&(Z.parentNode.insertBefore(we,Z),Z.remove()),Promise.resolve())}}},1970:(En,ht,N)=>{"use strict";N.d(ht,{B:()=>G,G:()=>Re});class U{constructor(Z,be,ve,Te,ue){this.id=be,this.name=ve,this.disableScroll=ue,this.priority=1e6*Te+be,this.ctrl=Z}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Z=this.ctrl.capture(this.name,this.id,this.priority);return Z&&this.disableScroll&&this.ctrl.disableScroll(this.id),Z}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class J{constructor(Z,be,ve,Te){this.id=be,this.disable=ve,this.disableScroll=Te,this.ctrl=Z}block(){if(this.ctrl){if(this.disable)for(const Z of this.disable)this.ctrl.disableGesture(Z,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Z of this.disable)this.ctrl.enableGesture(Z,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const G="backdrop-no-scroll",Re=new class l{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Z){var be;return new U(this,this.newID(),Z.name,null!==(be=Z.priority)&&void 0!==be?be:0,!!Z.disableScroll)}createBlocker(Z={}){return new J(this,this.newID(),Z.disable,!!Z.disableScroll)}start(Z,be,ve){return this.canStart(Z)?(this.requestedStart.set(be,ve),!0):(this.requestedStart.delete(be),!1)}capture(Z,be,ve){if(!this.start(Z,be,ve))return!1;const Te=this.requestedStart;let ue=-1e4;if(Te.forEach(ke=>{ue=Math.max(ue,ke)}),ue===ve){this.capturedId=be,Te.clear();const ke=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Z}});return document.dispatchEvent(ke),!0}return Te.delete(be),!1}release(Z){this.requestedStart.delete(Z),this.capturedId===Z&&(this.capturedId=void 0)}disableGesture(Z,be){let ve=this.disabledGestures.get(Z);void 0===ve&&(ve=new Set,this.disabledGestures.set(Z,ve)),ve.add(be)}enableGesture(Z,be){const ve=this.disabledGestures.get(Z);void 0!==ve&&ve.delete(be)}disableScroll(Z){this.disabledScroll.add(Z),1===this.disabledScroll.size&&document.body.classList.add(G)}enableScroll(Z){this.disabledScroll.delete(Z),0===this.disabledScroll.size&&document.body.classList.remove(G)}canStart(Z){return!(void 0!==this.capturedId||this.isDisabled(Z))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Z){const be=this.disabledGestures.get(Z);return!!(be&&be.size>0)}newID(){return this.gestureId++,this.gestureId}}},6221:(En,ht,N)=>{"use strict";N.r(ht),N.d(ht,{MENU_BACK_BUTTON_PRIORITY:()=>ve,OVERLAY_BACK_BUTTON_PRIORITY:()=>be,blockHardwareBackButton:()=>we,shouldUseCloseWatcher:()=>Re,startHardwareBackButton:()=>Z});var l=N(467),U=N(8476),J=N(4346);N(6317);const Re=()=>J.c.get("experimentalCloseWatcher",!1)&&void 0!==U.w&&"CloseWatcher"in U.w,we=()=>{document.addEventListener("backbutton",()=>{})},Z=()=>{const Te=document;let ue=!1;const ke=()=>{if(ue)return;let xe=0,fe=[];const rt=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(We,At){fe.push({priority:We,handler:At,id:xe++})}}});Te.dispatchEvent(rt);const yt=function(){var We=(0,l.A)(function*(At){try{if(At?.handler){const Pt=At.handler(it);null!=Pt&&(yield Pt)}}catch(Pt){console.error(Pt)}});return function(Pt){return We.apply(this,arguments)}}(),it=()=>{if(fe.length>0){let We={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};fe.forEach(At=>{At.priority>=We.priority&&(We=At)}),ue=!0,fe=fe.filter(At=>At.id!==We.id),yt(We).then(()=>ue=!1)}};it()};if(Re()){let xe;const fe=()=>{xe?.destroy(),xe=new U.w.CloseWatcher,xe.onclose=()=>{ke(),fe()}};fe()}else Te.addEventListener("backbutton",ke)},be=100,ve=99},1559:(En,ht,N)=>{"use strict";N.d(ht,{a:()=>be,b:()=>ve,c:()=>J,d:()=>fe,e:()=>At,f:()=>xe,g:()=>Te,h:()=>Re,i:()=>Z,j:()=>rt,k:()=>G,l:()=>ot,m:()=>ke,n:()=>yt,o:()=>Fe,p:()=>We,q:()=>Pt,r:()=>ue,s:()=>ze,t:()=>l,u:()=>it});const l=(qe,nt=0)=>new Promise(bt=>{U(qe,nt,bt)}),U=(qe,nt=0,bt)=>{let H,He;const wt={passive:!0},Mt=()=>{H&&H()},kt=un=>{(void 0===un||qe===un.target)&&(Mt(),bt(un))};return qe&&(qe.addEventListener("webkitTransitionEnd",kt,wt),qe.addEventListener("transitionend",kt,wt),He=setTimeout(kt,nt+500),H=()=>{void 0!==He&&(clearTimeout(He),He=void 0),qe.removeEventListener("webkitTransitionEnd",kt,wt),qe.removeEventListener("transitionend",kt,wt)}),Mt},J=(qe,nt)=>{qe.componentOnReady?qe.componentOnReady().then(bt=>nt(bt)):ue(()=>nt(qe))},G=qe=>void 0!==qe.componentOnReady,Re=(qe,nt=[])=>{const bt={};return nt.forEach(H=>{qe.hasAttribute(H)&&(null!==qe.getAttribute(H)&&(bt[H]=qe.getAttribute(H)),qe.removeAttribute(H))}),bt},we=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Z=(qe,nt)=>{let bt=we;return nt&&nt.length>0&&(bt=bt.filter(H=>!nt.includes(H))),Re(qe,bt)},be=(qe,nt,bt,H)=>qe.addEventListener(nt,bt,H),ve=(qe,nt,bt,H)=>qe.removeEventListener(nt,bt,H),Te=(qe,nt=qe)=>qe.shadowRoot||nt,ue=qe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(qe):"function"==typeof requestAnimationFrame?requestAnimationFrame(qe):setTimeout(qe),ke=qe=>!!qe.shadowRoot&&!!qe.attachShadow,xe=qe=>{if(qe.focus(),qe.classList.contains("ion-focusable")){const nt=qe.closest("ion-app");nt&&nt.setFocus([qe])}},fe=(qe,nt,bt,H,He)=>{if(qe||ke(nt)){let wt=nt.querySelector("input.aux-input");wt||(wt=nt.ownerDocument.createElement("input"),wt.type="hidden",wt.classList.add("aux-input"),nt.appendChild(wt)),wt.disabled=He,wt.name=bt,wt.value=H||""}},rt=(qe,nt,bt)=>Math.max(qe,Math.min(nt,bt)),yt=(qe,nt)=>{if(!qe){const bt="ASSERT: "+nt;throw console.error(bt),new Error(bt)}},it=qe=>{if(qe){const nt=qe.changedTouches;if(nt&&nt.length>0){const bt=nt[0];return{x:bt.clientX,y:bt.clientY}}if(void 0!==qe.pageX)return{x:qe.pageX,y:qe.pageY}}return{x:0,y:0}},We=qe=>{const nt="rtl"===document.dir;switch(qe){case"start":return nt;case"end":return!nt;default:throw new Error(`"${qe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},At=(qe,nt)=>{const bt=qe._original||qe;return{_original:qe,emit:Pt(bt.emit.bind(bt),nt)}},Pt=(qe,nt=0)=>{let bt;return(...H)=>{clearTimeout(bt),bt=setTimeout(qe,nt,...H)}},ze=(qe,nt)=>{if(qe??(qe={}),nt??(nt={}),qe===nt)return!0;const bt=Object.keys(qe);if(bt.length!==Object.keys(nt).length)return!1;for(const H of bt)if(!(H in nt)||qe[H]!==nt[H])return!1;return!0},Fe=qe=>{let nt=qe.nextSibling;for(;nt;){if(nt.nodeType===Node.ELEMENT_NODE&&null!==nt)return nt;nt=nt.nextSibling}return null},ot=qe=>"number"==typeof qe&&!isNaN(qe)&&isFinite(qe)},8607:(En,ht,N)=>{"use strict";N.r(ht),N.d(ht,{GESTURE_CONTROLLER:()=>l.G,createGesture:()=>ve});var l=N(1970);const U=(xe,fe,rt,yt)=>{const it=J(xe)?{capture:!!yt.capture,passive:!!yt.passive}:!!yt.capture;let We,At;return xe.__zone_symbol__addEventListener?(We="__zone_symbol__addEventListener",At="__zone_symbol__removeEventListener"):(We="addEventListener",At="removeEventListener"),xe[We](fe,rt,it),()=>{xe[At](fe,rt,it)}},J=xe=>{if(void 0===G)try{const fe=Object.defineProperty({},"passive",{get:()=>{G=!0}});xe.addEventListener("optsTest",()=>{},fe)}catch{G=!1}return!!G};let G;const Z=xe=>xe instanceof Document?xe:xe.ownerDocument,ve=xe=>{let fe=!1,rt=!1,yt=!0,it=!1;const We=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},xe),At=We.canStart,Pt=We.onWillStart,ze=We.onStart,Fe=We.onEnd,ot=We.notCaptured,qe=We.onMove,nt=We.threshold,bt=We.passive,H=We.blurOnStart,He={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},wt=((xe,fe,rt)=>{const yt=rt*(Math.PI/180),it="x"===xe,We=Math.cos(yt),At=fe*fe;let Pt=0,ze=0,Fe=!1,ot=0;return{start(qe,nt){Pt=qe,ze=nt,ot=0,Fe=!0},detect(qe,nt){if(!Fe)return!1;const bt=qe-Pt,H=nt-ze,He=bt*bt+H*H;if(He<At)return!1;const wt=Math.sqrt(He),Ke=(it?bt:H)/wt;return ot=Ke>We?1:Ke<-We?-1:0,Fe=!1,!0},isGesture:()=>0!==ot,getDirection:()=>ot}})(We.direction,We.threshold,We.maxAngle),Ke=l.G.createGesture({name:xe.gestureName,priority:xe.gesturePriority,disableScroll:xe.disableScroll}),un=()=>{fe&&(it=!1,qe&&qe(He))},tt=()=>!!Ke.capture()&&(fe=!0,yt=!1,He.startX=He.currentX,He.startY=He.currentY,He.startTime=He.currentTime,Pt?Pt(He).then(Ie):Ie(),!0),Ie=()=>{H&&(()=>{if(typeof document<"u"){const Xe=document.activeElement;Xe?.blur&&Xe.blur()}})(),ze&&ze(He),yt=!0},Me=()=>{fe=!1,rt=!1,it=!1,yt=!0,Ke.release()},ce=Xe=>{const Se=fe,Tt=yt;if(Me(),Tt){if(Te(He,Xe),Se)return void(Fe&&Fe(He));ot&&ot(He)}},Pe=((xe,fe,rt,yt,it)=>{let We,At,Pt,ze,Fe,ot,qe,nt=0;const bt=De=>{nt=Date.now()+2e3,fe(De)&&(!At&&rt&&(At=U(xe,"touchmove",rt,it)),Pt||(Pt=U(De.target,"touchend",He,it)),ze||(ze=U(De.target,"touchcancel",He,it)))},H=De=>{nt>Date.now()||fe(De)&&(!ot&&rt&&(ot=U(Z(xe),"mousemove",rt,it)),qe||(qe=U(Z(xe),"mouseup",wt,it)))},He=De=>{Ke(),yt&&yt(De)},wt=De=>{Mt(),yt&&yt(De)},Ke=()=>{At&&At(),Pt&&Pt(),ze&&ze(),At=Pt=ze=void 0},Mt=()=>{ot&&ot(),qe&&qe(),ot=qe=void 0},kt=()=>{Ke(),Mt()},un=(De=!0)=>{De?(We||(We=U(xe,"touchstart",bt,it)),Fe||(Fe=U(xe,"mousedown",H,it))):(We&&We(),Fe&&Fe(),We=Fe=void 0,kt())};return{enable:un,stop:kt,destroy:()=>{un(!1),yt=rt=fe=void 0}}})(We.el,Xe=>{const Se=ke(Xe);return!(rt||!yt||(ue(Xe,He),He.startX=He.currentX,He.startY=He.currentY,He.startTime=He.currentTime=Se,He.velocityX=He.velocityY=He.deltaX=He.deltaY=0,He.event=Xe,At&&!1===At(He))||(Ke.release(),!Ke.start()))&&(rt=!0,0===nt?tt():(wt.start(He.startX,He.startY),!0))},Xe=>{fe?!it&&yt&&(it=!0,Te(He,Xe),requestAnimationFrame(un)):(Te(He,Xe),wt.detect(He.currentX,He.currentY)&&(!wt.isGesture()||!tt())&&at())},ce,{capture:!1,passive:bt}),at=()=>{Me(),Pe.stop(),ot&&ot(He)};return{enable(Xe=!0){Xe||(fe&&ce(void 0),Me()),Pe.enable(Xe)},destroy(){Ke.destroy(),Pe.destroy()}}},Te=(xe,fe)=>{if(!fe)return;const rt=xe.currentX,yt=xe.currentY,it=xe.currentTime;ue(fe,xe);const We=xe.currentX,At=xe.currentY,ze=(xe.currentTime=ke(fe))-it;if(ze>0&&ze<100){const ot=(At-yt)/ze;xe.velocityX=(We-rt)/ze*.7+.3*xe.velocityX,xe.velocityY=.7*ot+.3*xe.velocityY}xe.deltaX=We-xe.startX,xe.deltaY=At-xe.startY,xe.event=fe},ue=(xe,fe)=>{let rt=0,yt=0;if(xe){const it=xe.changedTouches;if(it&&it.length>0){const We=it[0];rt=We.clientX,yt=We.clientY}else void 0!==xe.pageX&&(rt=xe.pageX,yt=xe.pageY)}fe.currentX=rt,fe.currentY=yt},ke=xe=>xe.timeStamp||Date.now()},6317:(En,ht,N)=>{"use strict";N.d(ht,{B:()=>we,a:()=>vr,b:()=>ns,c:()=>ui,d:()=>Se,e:()=>tr,f:()=>Rr,g:()=>ur,h:()=>br,i:()=>Gn,j:()=>he,r:()=>ve,w:()=>Tt});var l=N(467);var G=Object.defineProperty,we={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Z=new WeakMap,be=C=>Z.get(C),ve=(C,le)=>Z.set(le.$lazyInstance$=C,le),ue=(C,le)=>le in C,ke=(C,le)=>(0,console.error)(C,le),xe=new Map,rt=new Map,yt=[],ze="s-id",nt="slot-fb{display:contents}slot-fb[hidden]{display:none}",bt="http://www.w3.org/1999/xlink",H=typeof window<"u"?window:{},He=H.document||{head:{}},Ke={$flags$:0,$resourcesUrl$:"",jmp:C=>C(),raf:C=>requestAnimationFrame(C),ael:(C,le,O,A)=>C.addEventListener(le,O,A),rel:(C,le,O,A)=>C.removeEventListener(le,O,A),ce:(C,le)=>new CustomEvent(C,le)},kt=(()=>{let C=!1;try{He.addEventListener("e",null,Object.defineProperty({},"passive",{get(){C=!0}}))}catch{}return C})(),tt=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),De=!1,Ie=[],Me=[],ce=(C,le)=>O=>{C.push(O),De||(De=!0,le&&4&Ke.$flags$?Xe(at):Ke.raf(at))},Pe=C=>{for(let le=0;le<C.length;le++)try{C[le](performance.now())}catch(O){ke(O)}C.length=0},at=()=>{Pe(Ie),Pe(Me),(De=Ie.length>0)&&Ke.raf(at)},Xe=C=>Promise.resolve(void 0).then(C),Se=ce(Ie,!1),Tt=ce(Me,!0),he=C=>{const le=new URL(C,Ke.$resourcesUrl$);return le.origin!==H.location.origin?le.href:le.pathname},st={},Ln=C=>"object"==(C=typeof C)||"function"===C;function qn(C){var le,O,A;return null!=(A=null==(O=null==(le=C.head)?void 0:le.querySelector('meta[name="csp-nonce"]'))?void 0:O.getAttribute("content"))?A:void 0}((C,le)=>{for(var O in le)G(C,O,{get:le[O],enumerable:!0})})({},{err:()=>zn,map:()=>Yn,ok:()=>Nn,unwrap:()=>ft,unwrapErr:()=>Xt});var Nn=C=>({isOk:!0,isErr:!1,value:C}),zn=C=>({isOk:!1,isErr:!0,value:C});function Yn(C,le){if(C.isOk){const O=le(C.value);return O instanceof Promise?O.then(A=>Nn(A)):Nn(O)}if(C.isErr)return zn(C.value);throw"should never get here"}var ft=C=>{if(C.isOk)return C.value;throw C.value},Xt=C=>{if(C.isErr)return C.value;throw C.value},br=(C,le,...O)=>{let A=null,K=null,Ue=null,zt=!1,dn=!1;const pn=[],mn=Un=>{for(let Qe=0;Qe<Un.length;Qe++)A=Un[Qe],Array.isArray(A)?mn(A):null!=A&&"boolean"!=typeof A&&((zt="function"!=typeof C&&!Ln(A))&&(A=String(A)),zt&&dn?pn[pn.length-1].$text$+=A:pn.push(zt?er(null,A):A),dn=zt)};if(mn(O),le){le.key&&(K=le.key),le.name&&(Ue=le.name);{const Un=le.className||le.class;Un&&(le.class="object"!=typeof Un?Un:Object.keys(Un).filter(Qe=>Un[Qe]).join(" "))}}if("function"==typeof C)return C(null===le?{}:le,pn,Dr);const $n=er(C,null);return $n.$attrs$=le,pn.length>0&&($n.$children$=pn),$n.$key$=K,$n.$name$=Ue,$n},er=(C,le)=>({$flags$:0,$tag$:C,$text$:le,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),tr={},Dr={forEach:(C,le)=>C.map(Mr).forEach(le),map:(C,le)=>C.map(Mr).map(le).map(sr)},Mr=C=>({vattrs:C.$attrs$,vchildren:C.$children$,vkey:C.$key$,vname:C.$name$,vtag:C.$tag$,vtext:C.$text$}),sr=C=>{if("function"==typeof C.vtag){const O={...C.vattrs};return C.vkey&&(O.key=C.vkey),C.vname&&(O.name=C.vname),br(C.vtag,O,...C.vchildren||[])}const le=er(C.vtag,C.vtext);return le.$attrs$=C.vattrs,le.$children$=C.vchildren,le.$key$=C.vkey,le.$name$=C.vname,le},Or=(C,le,O,A,K,Ue,zt)=>{let dn,pn,mn,$n;if(1===Ue.nodeType){if(dn=Ue.getAttribute("c-id"),dn&&(pn=dn.split("."),(pn[0]===zt||"0"===pn[0])&&(mn={$flags$:0,$hostId$:pn[0],$nodeId$:pn[1],$depth$:pn[2],$index$:pn[3],$tag$:Ue.tagName.toLowerCase(),$elm$:Ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},le.push(mn),Ue.removeAttribute("c-id"),C.$children$||(C.$children$=[]),C.$children$[mn.$index$]=mn,C=mn,A&&"0"===mn.$depth$&&(A[mn.$index$]=mn.$elm$))),Ue.shadowRoot)for($n=Ue.shadowRoot.childNodes.length-1;$n>=0;$n--)Or(C,le,O,A,K,Ue.shadowRoot.childNodes[$n],zt);for($n=Ue.childNodes.length-1;$n>=0;$n--)Or(C,le,O,A,K,Ue.childNodes[$n],zt)}else if(8===Ue.nodeType)pn=Ue.nodeValue.split("."),(pn[1]===zt||"0"===pn[1])&&(dn=pn[0],mn={$flags$:0,$hostId$:pn[1],$nodeId$:pn[2],$depth$:pn[3],$index$:pn[4],$elm$:Ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===dn?(mn.$elm$=Ue.nextSibling,mn.$elm$&&3===mn.$elm$.nodeType&&(mn.$text$=mn.$elm$.textContent,le.push(mn),Ue.remove(),C.$children$||(C.$children$=[]),C.$children$[mn.$index$]=mn,A&&"0"===mn.$depth$&&(A[mn.$index$]=mn.$elm$))):mn.$hostId$===zt&&("s"===dn?(mn.$tag$="slot",Ue["s-sn"]=pn[5]?mn.$name$=pn[5]:"",Ue["s-sr"]=!0,A&&(mn.$elm$=He.createElement(mn.$tag$),mn.$name$&&mn.$elm$.setAttribute("name",mn.$name$),Ue.parentNode.insertBefore(mn.$elm$,Ue),Ue.remove(),"0"===mn.$depth$&&(A[mn.$index$]=mn.$elm$)),O.push(mn),C.$children$||(C.$children$=[]),C.$children$[mn.$index$]=mn):"r"===dn&&(A?Ue.remove():(K["s-cr"]=Ue,Ue["s-cn"]=!0))));else if(C&&"style"===C.$tag$){const Un=er(null,Ue.textContent);Un.$elm$=Ue,Un.$index$="0",C.$children$=[Un]}},Hr=(C,le)=>{if(1===C.nodeType){let O=0;if(C.shadowRoot)for(;O<C.shadowRoot.childNodes.length;O++)Hr(C.shadowRoot.childNodes[O],le);for(O=0;O<C.childNodes.length;O++)Hr(C.childNodes[O],le)}else if(8===C.nodeType){const O=C.nodeValue.split(".");"o"===O[0]&&(le.set(O[1]+"."+O[2],C),C.nodeValue="",C["s-en"]=O[3])}},vr=C=>yt.push(C),ur=C=>be(C).$modeName$,Rr=C=>be(C).$hostElement$,ui=(C,le,O)=>{const A=Rr(C);return{emit:K=>dr(A,le,{bubbles:!!(4&O),composed:!!(2&O),cancelable:!!(1&O),detail:K})}},dr=(C,le,O)=>{const A=Ke.ce(le,O);return C.dispatchEvent(A),A},bi=new WeakMap,di=(C,le,O)=>{var A;const K=ct(le,O),Ue=rt.get(K);if(C=11===C.nodeType?C:He,Ue)if("string"==typeof Ue){let dn,zt=bi.get(C=C.head||C);if(zt||bi.set(C,zt=new Set),!zt.has(K)){if(C.host&&(dn=C.querySelector(`[sty-id="${K}"]`)))dn.innerHTML=Ue;else{dn=He.createElement("style"),dn.innerHTML=Ue;const pn=null!=(A=Ke.$nonce$)?A:qn(He);null!=pn&&dn.setAttribute("nonce",pn),(!(1&le.$flags$)||1&le.$flags$&&"HEAD"!==C.nodeName)&&C.insertBefore(dn,C.querySelector("link"))}4&le.$flags$&&(dn.innerHTML+=nt),zt&&zt.add(K)}}else C.adoptedStyleSheets.includes(Ue)||(C.adoptedStyleSheets=[...C.adoptedStyleSheets,Ue]);return K},ct=(C,le)=>"sc-"+(le&&32&C.$flags$?C.$tagName$+"-"+le:C.$tagName$),Ze=(C,le,O,A,K,Ue)=>{if(O!==A){let zt=ue(C,le),dn=le.toLowerCase();if("class"===le){const pn=C.classList,mn=fn(O),$n=fn(A);pn.remove(...mn.filter(Un=>Un&&!$n.includes(Un))),pn.add(...$n.filter(Un=>Un&&!mn.includes(Un)))}else if("style"===le){for(const pn in O)(!A||null==A[pn])&&(pn.includes("-")?C.style.removeProperty(pn):C.style[pn]="");for(const pn in A)(!O||A[pn]!==O[pn])&&(pn.includes("-")?C.style.setProperty(pn,A[pn]):C.style[pn]=A[pn])}else if("key"!==le)if("ref"===le)A&&A(C);else if(zt||"o"!==le[0]||"n"!==le[1]){const pn=Ln(A);if((zt||pn&&null!==A)&&!K)try{if(C.tagName.includes("-"))C[le]=A;else{const $n=A??"";"list"===le?zt=!1:(null==O||C[le]!=$n)&&(C[le]=$n)}}catch{}let mn=!1;dn!==(dn=dn.replace(/^xlink\:?/,""))&&(le=dn,mn=!0),null==A||!1===A?(!1!==A||""===C.getAttribute(le))&&(mn?C.removeAttributeNS(bt,le):C.removeAttribute(le)):(!zt||4&Ue||K)&&!pn&&(A=!0===A?"":A,mn?C.setAttributeNS(bt,le,A):C.setAttribute(le,A))}else if(le="-"===le[2]?le.slice(3):ue(H,dn)?dn.slice(2):dn[2]+le.slice(3),O||A){const pn=le.endsWith(Bn);le=le.replace(Ge,""),O&&Ke.rel(C,le,O,pn),A&&Ke.ael(C,le,A,pn)}}},It=/\s/,fn=C=>C?C.split(It):[],Bn="Capture",Ge=new RegExp(Bn+"$"),$e=(C,le,O)=>{const A=11===le.$elm$.nodeType&&le.$elm$.host?le.$elm$.host:le.$elm$,K=C&&C.$attrs$||st,Ue=le.$attrs$||st;for(const zt of vt(Object.keys(K)))zt in Ue||Ze(A,zt,K[zt],void 0,O,le.$flags$);for(const zt of vt(Object.keys(Ue)))Ze(A,zt,K[zt],Ue[zt],O,le.$flags$)};function vt(C){return C.includes("ref")?[...C.filter(le=>"ref"!==le),"ref"]:C}var en,Ot,Pn,Qn=!1,Gr=!1,ai=!1,kr=!1,$r=(C,le,O,A)=>{var K;const Ue=le.$children$[O];let dn,pn,mn,zt=0;if(Qn||(ai=!0,"slot"===Ue.$tag$&&(en&&A.classList.add(en+"-s"),Ue.$flags$|=Ue.$children$?2:1)),null!==Ue.$text$)dn=Ue.$elm$=He.createTextNode(Ue.$text$);else if(1&Ue.$flags$)dn=Ue.$elm$=He.createTextNode("");else{if(kr||(kr="svg"===Ue.$tag$),dn=Ue.$elm$=He.createElementNS(kr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Qn&&2&Ue.$flags$?"slot-fb":Ue.$tag$),kr&&"foreignObject"===Ue.$tag$&&(kr=!1),$e(null,Ue,kr),!!dn.getRootNode().querySelector("body")&&(C=>null!=C)(en)&&dn["s-si"]!==en&&dn.classList.add(dn["s-si"]=en),gt(dn,A),Ue.$children$)for(zt=0;zt<Ue.$children$.length;++zt)pn=$r(C,Ue,zt,dn),pn&&dn.appendChild(pn);"svg"===Ue.$tag$?kr=!1:"foreignObject"===dn.tagName&&(kr=!0)}return dn["s-hn"]=Pn,3&Ue.$flags$&&(dn["s-sr"]=!0,dn["s-cr"]=Ot,dn["s-sn"]=Ue.$name$||"",dn["s-rf"]=null==(K=Ue.$attrs$)?void 0:K.ref,mn=C&&C.$children$&&C.$children$[O],mn&&mn.$tag$===Ue.$tag$&&C.$elm$&&Dn(C.$elm$)),dn},Dn=C=>{Ke.$flags$|=1;const le=C.closest(Pn.toLowerCase());if(null!=le){const O=Array.from(le.childNodes).find(K=>K["s-cr"]),A=Array.from(C.childNodes);for(const K of O?A.reverse():A)null!=K["s-sh"]&&(Y(le,K,O??null),K["s-sh"]=void 0,ai=!0)}Ke.$flags$&=-2},ri=(C,le)=>{Ke.$flags$|=1;const O=Array.from(C.childNodes);if(C["s-sr"]){let A=C;for(;A=A.nextSibling;)A&&A["s-sn"]===C["s-sn"]&&A["s-sh"]===Pn&&O.push(A)}for(let A=O.length-1;A>=0;A--){const K=O[A];K["s-hn"]!==Pn&&K["s-ol"]&&(Y(Mi(K),K,yr(K)),K["s-ol"].remove(),K["s-ol"]=void 0,K["s-sh"]=void 0,ai=!0),le&&ri(K,le)}Ke.$flags$&=-2},Pi=(C,le,O,A,K,Ue)=>{let dn,zt=C["s-cr"]&&C["s-cr"].parentNode||C;for(zt.shadowRoot&&zt.tagName===Pn&&(zt=zt.shadowRoot);K<=Ue;++K)A[K]&&(dn=$r(null,O,K,C),dn&&(A[K].$elm$=dn,Y(zt,dn,yr(le))))},wr=(C,le,O)=>{for(let A=le;A<=O;++A){const K=C[A];if(K){const Ue=K.$elm$;ie(K),Ue&&(Gr=!0,Ue["s-ol"]?Ue["s-ol"].remove():ri(Ue,!0),Ue.remove())}}},Kr=(C,le,O=!1)=>!(C.$tag$!==le.$tag$||("slot"===C.$tag$?"$nodeId$"in C&&O&&8!==C.$elm$.nodeType||C.$name$!==le.$name$:!O&&C.$key$!==le.$key$)),yr=C=>C&&C["s-ol"]||C,Mi=C=>(C["s-ol"]?C["s-ol"]:C).parentNode,li=(C,le,O=!1)=>{const A=le.$elm$=C.$elm$,K=C.$children$,Ue=le.$children$,zt=le.$tag$,dn=le.$text$;let pn;null===dn?(kr="svg"===zt||"foreignObject"!==zt&&kr,"slot"!==zt||Qn?$e(C,le,kr):C.$name$!==le.$name$&&(le.$elm$["s-sn"]=le.$name$||"",Dn(le.$elm$.parentElement)),null!==K&&null!==Ue?((C,le,O,A,K=!1)=>{let xi,Di,Ue=0,zt=0,dn=0,pn=0,mn=le.length-1,$n=le[0],Un=le[mn],Qe=A.length-1,pr=A[0],Pr=A[Qe];for(;Ue<=mn&&zt<=Qe;)if(null==$n)$n=le[++Ue];else if(null==Un)Un=le[--mn];else if(null==pr)pr=A[++zt];else if(null==Pr)Pr=A[--Qe];else if(Kr($n,pr,K))li($n,pr,K),$n=le[++Ue],pr=A[++zt];else if(Kr(Un,Pr,K))li(Un,Pr,K),Un=le[--mn],Pr=A[--Qe];else if(Kr($n,Pr,K))("slot"===$n.$tag$||"slot"===Pr.$tag$)&&ri($n.$elm$.parentNode,!1),li($n,Pr,K),Y(C,$n.$elm$,Un.$elm$.nextSibling),$n=le[++Ue],Pr=A[--Qe];else if(Kr(Un,pr,K))("slot"===$n.$tag$||"slot"===Pr.$tag$)&&ri(Un.$elm$.parentNode,!1),li(Un,pr,K),Y(C,Un.$elm$,$n.$elm$),Un=le[--mn],pr=A[++zt];else{for(dn=-1,pn=Ue;pn<=mn;++pn)if(le[pn]&&null!==le[pn].$key$&&le[pn].$key$===pr.$key$){dn=pn;break}dn>=0?(Di=le[dn],Di.$tag$!==pr.$tag$?xi=$r(le&&le[zt],O,dn,C):(li(Di,pr,K),le[dn]=void 0,xi=Di.$elm$),pr=A[++zt]):(xi=$r(le&&le[zt],O,zt,C),pr=A[++zt]),xi&&Y(Mi($n.$elm$),xi,yr($n.$elm$))}Ue>mn?Pi(C,null==A[Qe+1]?null:A[Qe+1].$elm$,O,A,zt,Qe):zt>Qe&&wr(le,Ue,mn)})(A,K,le,Ue,O):null!==Ue?(null!==C.$text$&&(A.textContent=""),Pi(A,null,le,Ue,0,Ue.length-1)):!O&&null!==K&&wr(K,0,K.length-1),kr&&"svg"===zt&&(kr=!1)):(pn=A["s-cr"])?pn.parentNode.textContent=dn:C.$text$!==dn&&(A.data=dn)},mi=C=>{const le=C.childNodes;for(const O of le)if(1===O.nodeType){if(O["s-sr"]){const A=O["s-sn"];O.hidden=!1;for(const K of le)if(K!==O)if(K["s-hn"]!==O["s-hn"]||""!==A){if(1===K.nodeType&&(A===K.getAttribute("slot")||A===K["s-sn"])||3===K.nodeType&&A===K["s-sn"]){O.hidden=!0;break}}else if(1===K.nodeType||3===K.nodeType&&""!==K.textContent.trim()){O.hidden=!0;break}}mi(O)}},Wt=[],ae=C=>{let le,O,A;for(const K of C.childNodes){if(K["s-sr"]&&(le=K["s-cr"])&&le.parentNode){O=le.parentNode.childNodes;const Ue=K["s-sn"];for(A=O.length-1;A>=0;A--)if(le=O[A],!(le["s-cn"]||le["s-nr"]||le["s-hn"]===K["s-hn"]||le["s-sh"]&&le["s-sh"]===K["s-hn"]))if(_e(le,Ue)){let zt=Wt.find(dn=>dn.$nodeToRelocate$===le);Gr=!0,le["s-sn"]=le["s-sn"]||Ue,zt?(zt.$nodeToRelocate$["s-sh"]=K["s-hn"],zt.$slotRefNode$=K):(le["s-sh"]=K["s-hn"],Wt.push({$slotRefNode$:K,$nodeToRelocate$:le})),le["s-sr"]&&Wt.map(dn=>{_e(dn.$nodeToRelocate$,le["s-sn"])&&(zt=Wt.find(pn=>pn.$nodeToRelocate$===le),zt&&!dn.$slotRefNode$&&(dn.$slotRefNode$=zt.$slotRefNode$))})}else Wt.some(zt=>zt.$nodeToRelocate$===le)||Wt.push({$nodeToRelocate$:le})}1===K.nodeType&&ae(K)}},_e=(C,le)=>1===C.nodeType?null===C.getAttribute("slot")&&""===le||C.getAttribute("slot")===le:C["s-sn"]===le||""===le,ie=C=>{C.$attrs$&&C.$attrs$.ref&&C.$attrs$.ref(null),C.$children$&&C.$children$.map(ie)},Y=(C,le,O)=>{const A=C?.insertBefore(le,O);return gt(le,C),A},Ve=C=>{const le=[];return C&&le.push(...C["s-scs"]||[],C["s-si"],C["s-sc"],...Ve(C.parentElement)),le},gt=(C,le,O=!1)=>{var A;if(C&&le&&1===C.nodeType){const K=new Set(Ve(le).filter(Boolean));if(K.size&&(null==(A=C.classList)||A.add(...C["s-scs"]=[...K]),C["s-ol"]||O))for(const Ue of Array.from(C.childNodes))gt(Ue,C,!0)}},Yt=(C,le)=>{le&&!C.$onRenderResolve$&&le["s-p"]&&le["s-p"].push(new Promise(O=>C.$onRenderResolve$=O))},pe=(C,le)=>{if(C.$flags$|=16,!(4&C.$flags$))return Yt(C,C.$ancestorComponent$),Tt(()=>Oe(C,le));C.$flags$|=512},Oe=(C,le)=>{const K=C.$lazyInstance$;if(!K)throw new Error(`Can't render component <${C.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let Ue;return le&&(C.$flags$|=256,C.$queuedListeners$&&(C.$queuedListeners$.map(([zt,dn])=>Lr(K,zt,dn)),C.$queuedListeners$=void 0),Ue=Lr(K,"componentWillLoad")),Ue=Je(Ue,()=>Lr(K,"componentWillRender")),Je(Ue,()=>Gt(C,K,le))},Je=(C,le)=>Ht(C)?C.then(le).catch(O=>{console.error(O),le()}):le(),Ht=C=>C instanceof Promise||C&&C.then&&"function"==typeof C.then,Gt=function(){var C=(0,l.A)(function*(le,O,A){var K;const Ue=le.$hostElement$,dn=Ue["s-rc"];A&&(C=>{const le=C.$cmpMeta$,O=C.$hostElement$,A=le.$flags$,Ue=di(O.shadowRoot?O.shadowRoot:O.getRootNode(),le,C.$modeName$);10&A&&2&A&&(O["s-sc"]=Ue,O.classList.add(Ue+"-h"),2&A&&O.classList.add(Ue+"-s"))})(le);_n(le,O,Ue,A),dn&&(dn.map(mn=>mn()),Ue["s-rc"]=void 0);{const mn=null!=(K=Ue["s-p"])?K:[],$n=()=>St(le);0===mn.length?$n():(Promise.all(mn).then($n),le.$flags$|=4,mn.length=0)}});return function(O,A,K){return C.apply(this,arguments)}}(),_n=(C,le,O,A)=>{try{le=le.render&&le.render(),C.$flags$&=-17,C.$flags$|=2,((C,le,O=!1)=>{var A,K,Ue,zt,dn;const pn=C.$hostElement$,mn=C.$cmpMeta$,$n=C.$vnode$||er(null,null),Un=(C=>C&&C.$tag$===tr)(le)?le:br(null,null,le);if(Pn=pn.tagName,mn.$attrsToReflect$&&(Un.$attrs$=Un.$attrs$||{},mn.$attrsToReflect$.map(([Qe,pr])=>Un.$attrs$[pr]=pn[Qe])),O&&Un.$attrs$)for(const Qe of Object.keys(Un.$attrs$))pn.hasAttribute(Qe)&&!["key","ref","style","class"].includes(Qe)&&(Un.$attrs$[Qe]=pn[Qe]);if(Un.$tag$=null,Un.$flags$|=4,C.$vnode$=Un,Un.$elm$=$n.$elm$=pn.shadowRoot||pn,en=pn["s-sc"],Qn=!!(1&mn.$flags$),Ot=pn["s-cr"],Gr=!1,li($n,Un,O),Ke.$flags$|=1,ai){ae(Un.$elm$);for(const Qe of Wt){const pr=Qe.$nodeToRelocate$;if(!pr["s-ol"]){const Pr=He.createTextNode("");Pr["s-nr"]=pr,Y(pr.parentNode,pr["s-ol"]=Pr,pr)}}for(const Qe of Wt){const pr=Qe.$nodeToRelocate$,Pr=Qe.$slotRefNode$;if(Pr){const xi=Pr.parentNode;let Di=Pr.nextSibling;if(Di&&1===Di.nodeType){let Xr=null==(A=pr["s-ol"])?void 0:A.previousSibling;for(;Xr;){let ni=null!=(K=Xr["s-nr"])?K:null;if(ni&&ni["s-sn"]===pr["s-sn"]&&xi===ni.parentNode){for(ni=ni.nextSibling;ni===pr||ni?.["s-sr"];)ni=ni?.nextSibling;if(!ni||!ni["s-nr"]){Di=ni;break}}Xr=Xr.previousSibling}}(!Di&&xi!==pr.parentNode||pr.nextSibling!==Di)&&pr!==Di&&(Y(xi,pr,Di),1===pr.nodeType&&(pr.hidden=null!=(Ue=pr["s-ih"])&&Ue)),pr&&"function"==typeof Pr["s-rf"]&&Pr["s-rf"](pr)}else 1===pr.nodeType&&(O&&(pr["s-ih"]=null!=(zt=pr.hidden)&&zt),pr.hidden=!0)}}if(Gr&&mi(Un.$elm$),Ke.$flags$&=-2,Wt.length=0,2&mn.$flags$)for(const Qe of Un.$elm$.childNodes)Qe["s-hn"]!==Pn&&!Qe["s-sh"]&&(O&&null==Qe["s-ih"]&&(Qe["s-ih"]=null!=(dn=Qe.hidden)&&dn),Qe.hidden=!0);Ot=void 0})(C,le,A)}catch(K){ke(K,C.$hostElement$)}return null},St=C=>{const O=C.$hostElement$,K=C.$lazyInstance$,Ue=C.$ancestorComponent$;Lr(K,"componentDidRender"),64&C.$flags$?Lr(K,"componentDidUpdate"):(C.$flags$|=64,Mn(O),Lr(K,"componentDidLoad"),C.$onReadyResolve$(O),Ue||Hn()),C.$onInstanceResolve$(O),C.$onRenderResolve$&&(C.$onRenderResolve$(),C.$onRenderResolve$=void 0),512&C.$flags$&&Xe(()=>pe(C,!1)),C.$flags$&=-517},Gn=C=>{{const le=be(C),O=le.$hostElement$.isConnected;return O&&2==(18&le.$flags$)&&pe(le,!1),O}},Hn=C=>{Mn(He.documentElement),Xe(()=>dr(H,"appload",{detail:{namespace:"ionic"}}))},Lr=(C,le,O)=>{if(C&&C[le])try{return C[le](O)}catch(A){ke(A)}},Mn=C=>C.classList.add("hydrated"),Tn=(C,le,O)=>{var A,K;const Ue=C.prototype;if(le.$members$||le.$watchers$||C.watchers){C.watchers&&!le.$watchers$&&(le.$watchers$=C.watchers);const zt=Object.entries(null!=(A=le.$members$)?A:{});if(zt.map(([dn,[pn]])=>{31&pn||2&O&&32&pn?Object.defineProperty(Ue,dn,{get(){return((C,le)=>be(this).$instanceValues$.get(le))(0,dn)},set(mn){((C,le,O,A)=>{const K=be(C);if(!K)throw new Error(`Couldn't find host element for "${A.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const Ue=K.$hostElement$,zt=K.$instanceValues$.get(le),dn=K.$flags$,pn=K.$lazyInstance$;O=((C,le)=>null==C||Ln(C)?C:4&le?"false"!==C&&(""===C||!!C):2&le?parseFloat(C):1&le?String(C):C)(O,A.$members$[le][0]);const mn=Number.isNaN(zt)&&Number.isNaN(O);if((!(8&dn)||void 0===zt)&&O!==zt&&!mn&&(K.$instanceValues$.set(le,O),pn)){if(A.$watchers$&&128&dn){const Un=A.$watchers$[le];Un&&Un.map(Qe=>{try{pn[Qe](O,zt,le)}catch(pr){ke(pr,Ue)}})}2==(18&dn)&&pe(K,!1)}})(this,dn,mn,le)},configurable:!0,enumerable:!0}):1&O&&64&pn&&Object.defineProperty(Ue,dn,{value(...mn){var $n;const Un=be(this);return null==($n=Un?.$onInstancePromise$)?void 0:$n.then(()=>{var Qe;return null==(Qe=Un.$lazyInstance$)?void 0:Qe[dn](...mn)})}})}),1&O){const dn=new Map;Ue.attributeChangedCallback=function(pn,mn,$n){Ke.jmp(()=>{var Un;const Qe=dn.get(pn);if(this.hasOwnProperty(Qe))$n=this[Qe],delete this[Qe];else{if(Ue.hasOwnProperty(Qe)&&"number"==typeof this[Qe]&&this[Qe]==$n)return;if(null==Qe){const pr=be(this),Pr=pr?.$flags$;if(Pr&&!(8&Pr)&&128&Pr&&$n!==mn){const xi=pr.$lazyInstance$,Di=null==(Un=le.$watchers$)?void 0:Un[pn];Di?.forEach(Xr=>{null!=xi[Xr]&&xi[Xr].call(xi,$n,mn,pn)})}return}}this[Qe]=(null!==$n||"boolean"!=typeof this[Qe])&&$n})},C.observedAttributes=Array.from(new Set([...Object.keys(null!=(K=le.$watchers$)?K:{}),...zt.filter(([pn,mn])=>15&mn[0]).map(([pn,mn])=>{var $n;const Un=mn[1]||pn;return dn.set(Un,pn),512&mn[0]&&(null==($n=le.$attrsToReflect$)||$n.push([pn,Un])),Un})]))}}return C},Vt=function(){var C=(0,l.A)(function*(le,O,A,K){let Ue;if(!(32&O.$flags$)){if(O.$flags$|=32,A.$lazyBundleId$){const mn=(C=>{const A=C.$tagName$.replace(/-/g,"_"),K=C.$lazyBundleId$;if(!K)return;const Ue=xe.get(K);return Ue?Ue[A]:N(8996)(`./${K}.entry.js`).then(zt=>(xe.set(K,zt),zt[A]),ke)})(A);if(mn&&"then"in mn){const Un=()=>{};Ue=yield mn,Un()}else Ue=mn;if(!Ue)throw new Error(`Constructor for "${A.$tagName$}#${O.$modeName$}" was not found`);Ue.isProxied||(A.$watchers$=Ue.watchers,Tn(Ue,A,2),Ue.isProxied=!0);const $n=()=>{};O.$flags$|=8;try{new Ue(O)}catch(Un){ke(Un)}O.$flags$&=-9,O.$flags$|=128,$n(),Kt(O.$lazyInstance$)}else Ue=le.constructor,customElements.whenDefined(le.localName).then(()=>O.$flags$|=128);if(Ue&&Ue.style){let mn;"string"==typeof Ue.style?mn=Ue.style:"string"!=typeof Ue.style&&(O.$modeName$=(C=>yt.map(le=>le(C)).find(le=>!!le))(le),O.$modeName$&&(mn=Ue.style[O.$modeName$]));const $n=ct(A,O.$modeName$);if(!rt.has($n)){const Un=()=>{};((C,le,O)=>{let A=rt.get(C);tt&&O?(A=A||new CSSStyleSheet,"string"==typeof A?A=le:A.replaceSync(le)):A=le,rt.set(C,A)})($n,mn,!!(1&A.$flags$)),Un()}}}const zt=O.$ancestorComponent$,dn=()=>pe(O,!0);zt&&zt["s-rc"]?zt["s-rc"].push(dn):dn()});return function(O,A,K,Ue){return C.apply(this,arguments)}}(),Kt=C=>{Lr(C,"connectedCallback")},Qi=C=>{const le=C["s-cr"]=He.createComment("");le["s-cn"]=!0,Y(C,le,C.firstChild)},de=C=>{Lr(C,"disconnectedCallback")},ye=function(){var C=(0,l.A)(function*(le){if(!(1&Ke.$flags$)){const O=be(le);O.$rmListeners$&&(O.$rmListeners$.map(A=>A()),O.$rmListeners$=void 0),O?.$lazyInstance$?de(O.$lazyInstance$):O?.$onReadyPromise$&&O.$onReadyPromise$.then(()=>de(O.$lazyInstance$))}});return function(O){return C.apply(this,arguments)}}(),Qt=C=>{const le=C.cloneNode;C.cloneNode=function(O){const A=this,K=A.shadowRoot&&true,Ue=le.call(A,!!K&&O);if(!K&&O){let dn,pn,zt=0;const mn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;zt<A.childNodes.length;zt++)dn=A.childNodes[zt]["s-nr"],pn=mn.every($n=>!A.childNodes[zt][$n]),dn&&(Ue.__appendChild?Ue.__appendChild(dn.cloneNode(!0)):Ue.appendChild(dn.cloneNode(!0))),pn&&Ue.appendChild(A.childNodes[zt].cloneNode(!0))}return Ue}},bn=C=>{C.__appendChild=C.appendChild,C.appendChild=function(le){const O=le["s-sn"]=_r(le),A=ii(this.childNodes,O,this.tagName);if(A){const K=Jn(A,O),Ue=K[K.length-1],zt=Y(Ue.parentNode,le,Ue.nextSibling);return mi(this),zt}return this.__appendChild(le)}},nr=C=>{C.__removeChild=C.removeChild,C.removeChild=function(le){if(le&&typeof le["s-sn"]<"u"){const O=ii(this.childNodes,le["s-sn"],this.tagName);if(O){const K=Jn(O,le["s-sn"]).find(Ue=>Ue===le);if(K)return K.remove(),void mi(this)}}return this.__removeChild(le)}},rr=C=>{const le=C.prepend;C.prepend=function(...O){O.forEach(A=>{"string"==typeof A&&(A=this.ownerDocument.createTextNode(A));const K=A["s-sn"]=_r(A),Ue=ii(this.childNodes,K,this.tagName);if(Ue){const zt=document.createTextNode("");zt["s-nr"]=A,Ue["s-cr"].parentNode.__appendChild(zt),A["s-ol"]=zt;const pn=Jn(Ue,K)[0];return Y(pn.parentNode,A,pn.nextSibling)}return 1===A.nodeType&&A.getAttribute("slot")&&(A.hidden=!0),le.call(this,A)})}},Ar=C=>{C.append=function(...le){le.forEach(O=>{"string"==typeof O&&(O=this.ownerDocument.createTextNode(O)),this.appendChild(O)})}},xn=C=>{const le=C.insertAdjacentHTML;C.insertAdjacentHTML=function(O,A){if("afterbegin"!==O&&"beforeend"!==O)return le.call(this,O,A);const K=this.ownerDocument.createElement("_");let Ue;if(K.innerHTML=A,"afterbegin"===O)for(;Ue=K.firstChild;)this.prepend(Ue);else if("beforeend"===O)for(;Ue=K.firstChild;)this.append(Ue)}},Ei=C=>{C.insertAdjacentText=function(le,O){this.insertAdjacentHTML(le,O)}},Wn=C=>{const le=C.insertAdjacentElement;C.insertAdjacentElement=function(O,A){return"afterbegin"!==O&&"beforeend"!==O?le.call(this,O,A):"afterbegin"===O?(this.prepend(A),A):("beforeend"===O&&this.append(A),A)}},ts=C=>{const le=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(C,"__textContent",le),Object.defineProperty(C,"textContent",{get(){return" "+Ai(this.childNodes).map(K=>{var Ue,zt;const dn=[];let pn=K.nextSibling;for(;pn&&pn["s-sn"]===K["s-sn"];)(3===pn.nodeType||1===pn.nodeType)&&dn.push(null!=(zt=null==(Ue=pn.textContent)?void 0:Ue.trim())?zt:""),pn=pn.nextSibling;return dn.filter(mn=>""!==mn).join(" ")}).filter(K=>""!==K).join(" ")+" "},set(O){Ai(this.childNodes).forEach(K=>{let Ue=K.nextSibling;for(;Ue&&Ue["s-sn"]===K["s-sn"];){const zt=Ue;Ue=Ue.nextSibling,zt.remove()}if(""===K["s-sn"]){const zt=this.ownerDocument.createTextNode(O);zt["s-sn"]="",Y(K.parentElement,zt,K.nextSibling)}else K.remove()})}})},Lo=(C,le)=>{class O extends Array{item(K){return this[K]}}if(8&le.$flags$){const A=C.__lookupGetter__("childNodes");Object.defineProperty(C,"children",{get(){return this.childNodes.map(K=>1===K.nodeType)}}),Object.defineProperty(C,"childElementCount",{get:()=>C.children.length}),Object.defineProperty(C,"childNodes",{get(){const K=A.call(this);if(!(1&Ke.$flags$)&&2&be(this).$flags$){const Ue=new O;for(let zt=0;zt<K.length;zt++){const dn=K[zt]["s-nr"];dn&&Ue.push(dn)}return Ue}return O.from(K)}})}},Ai=C=>{const le=[];for(const O of Array.from(C))O["s-sr"]&&le.push(O),le.push(...Ai(O.childNodes));return le},_r=C=>C["s-sn"]||1===C.nodeType&&C.getAttribute("slot")||"",ii=(C,le,O)=>{let K,A=0;for(;A<C.length;A++)if(K=C[A],K["s-sr"]&&K["s-sn"]===le&&K["s-hn"]===O||(K=ii(K.childNodes,le,O),K))return K;return null},Jn=(C,le)=>{const O=[C];for(;(C=C.nextSibling)&&C["s-sn"]===le;)O.push(C);return O},ns=(C,le={})=>{var O;const K=[],Ue=le.exclude||[],zt=H.customElements,dn=He.head,pn=dn.querySelector("meta[charset]"),mn=He.createElement("style"),$n=[];let Un,Qe=!0;Object.assign(Ke,le),Ke.$resourcesUrl$=new URL(le.resourcesUrl||"./",He.baseURI).href,Ke.$flags$|=2;let pr=!1;if(C.map(Pr=>{Pr[1].map(xi=>{var Di;const Xr={$flags$:xi[0],$tagName$:xi[1],$members$:xi[2],$listeners$:xi[3]};4&Xr.$flags$&&(pr=!0),Xr.$members$=xi[2],Xr.$listeners$=xi[3],Xr.$attrsToReflect$=[],Xr.$watchers$=null!=(Di=xi[4])?Di:{};const ni=Xr.$tagName$,rs=class extends HTMLElement{constructor(si){if(super(si),this.hasRegisteredEventListeners=!1,((C,le)=>{const O={$flags$:0,$hostElement$:C,$cmpMeta$:le,$instanceValues$:new Map};O.$onInstancePromise$=new Promise(A=>O.$onInstanceResolve$=A),O.$onReadyPromise$=new Promise(A=>O.$onReadyResolve$=A),C["s-p"]=[],C["s-rc"]=[],Z.set(C,O)})(si=this,Xr),1&Xr.$flags$)if(si.shadowRoot){if("open"!==si.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Xr.$tagName$}! Mode is set to ${si.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else si.attachShadow({mode:"open",delegatesFocus:!!(16&Xr.$flags$)})}connectedCallback(){const si=be(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Ii(this,si,Xr.$listeners$)),Un&&(clearTimeout(Un),Un=null),Qe?$n.push(this):Ke.jmp(()=>(C=>{if(!(1&Ke.$flags$)){const le=be(C),O=le.$cmpMeta$,A=()=>{};if(1&le.$flags$)Ii(C,le,O.$listeners$),le?.$lazyInstance$?Kt(le.$lazyInstance$):le?.$onReadyPromise$&&le.$onReadyPromise$.then(()=>Kt(le.$lazyInstance$));else{let K;if(le.$flags$|=1,K=C.getAttribute(ze),K){if(1&O.$flags$){const Ue=di(C.shadowRoot,O,C.getAttribute("s-mode"));C.classList.remove(Ue+"-h",Ue+"-s")}((C,le,O,A)=>{const Ue=C.shadowRoot,zt=[],pn=Ue?[]:null,mn=A.$vnode$=er(le,null);Ke.$orgLocNodes$||Hr(He.body,Ke.$orgLocNodes$=new Map),C[ze]=O,C.removeAttribute(ze),Or(mn,zt,[],pn,C,C,O),zt.map($n=>{const Un=$n.$hostId$+"."+$n.$nodeId$,Qe=Ke.$orgLocNodes$.get(Un),pr=$n.$elm$;Qe&&""===Qe["s-en"]&&Qe.parentNode.insertBefore(pr,Qe.nextSibling),Ue||(pr["s-hn"]=le,Qe&&(pr["s-ol"]=Qe,pr["s-ol"]["s-nr"]=pr)),Ke.$orgLocNodes$.delete(Un)}),Ue&&pn.map($n=>{$n&&Ue.appendChild($n)})})(C,O.$tagName$,K,le)}K||12&O.$flags$&&Qi(C);{let Ue=C;for(;Ue=Ue.parentNode||Ue.host;)if(1===Ue.nodeType&&Ue.hasAttribute("s-id")&&Ue["s-p"]||Ue["s-p"]){Yt(le,le.$ancestorComponent$=Ue);break}}O.$members$&&Object.entries(O.$members$).map(([Ue,[zt]])=>{if(31&zt&&C.hasOwnProperty(Ue)){const dn=C[Ue];delete C[Ue],C[Ue]=dn}}),Vt(C,le,O)}A()}})(this))}disconnectedCallback(){Ke.jmp(()=>ye(this))}componentOnReady(){return be(this).$onReadyPromise$}};2&Xr.$flags$&&((C,le)=>{Qt(C),bn(C),Ar(C),rr(C),Wn(C),xn(C),Ei(C),ts(C),Lo(C,le),nr(C)})(rs.prototype,Xr),Xr.$lazyBundleId$=Pr[0],!Ue.includes(ni)&&!zt.get(ni)&&(K.push(ni),zt.define(ni,Tn(rs,Xr,1)))})}),K.length>0&&(pr&&(mn.textContent+=nt),mn.textContent+=K.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",mn.innerHTML.length)){mn.setAttribute("data-styles","");const Pr=null!=(O=Ke.$nonce$)?O:qn(He);null!=Pr&&mn.setAttribute("nonce",Pr),dn.insertBefore(mn,pn?pn.nextSibling:dn.firstChild)}Qe=!1,$n.length?$n.map(Pr=>Pr.connectedCallback()):Ke.jmp(()=>Un=setTimeout(Hn,30))},Ii=(C,le,O,A)=>{O&&O.map(([K,Ue,zt])=>{const dn=as(C,K),pn=Fn(le,zt),mn=Js(K);Ke.ael(dn,Ue,pn,mn),(le.$rmListeners$=le.$rmListeners$||[]).push(()=>Ke.rel(dn,Ue,pn,mn))})},Fn=(C,le)=>O=>{var A;try{256&C.$flags$?null==(A=C.$lazyInstance$)||A[le](O):(C.$queuedListeners$=C.$queuedListeners$||[]).push([le,O])}catch(K){ke(K)}},as=(C,le)=>4&le?He:8&le?H:16&le?He.body:C,Js=C=>kt?{passive:!!(1&C),capture:!!(2&C)}:!!(2&C)},9144:(En,ht,N)=>{"use strict";N.d(ht,{a:()=>J,b:()=>G,p:()=>U});var l=N(4346);const U=(Re,...we)=>{const Z=l.c.get("logLevel","WARN");if(["WARN"].includes(Z))return console.warn(`[Ionic Warning]: ${Re}`,...we)},J=(Re,...we)=>{const Z=l.c.get("logLevel","ERROR");if(["ERROR","WARN"].includes(Z))return console.error(`[Ionic Error]: ${Re}`,...we)},G=(Re,...we)=>console.error(`<${Re.tagName.toLowerCase()}> must be used inside ${we.join(" or ")}.`)},5248:(En,ht,N)=>{"use strict";N.d(ht,{b:()=>be,c:()=>ve,d:()=>Te,e:()=>kt,g:()=>De,l:()=>Ke,s:()=>un,t:()=>We,w:()=>Mt});var l=N(467),U=N(4346),J=N(6317),G=N(9144),Re=N(1559);const be="ionViewWillLeave",ve="ionViewDidLeave",Te="ionViewWillUnload",ue=Ie=>{Ie.tabIndex=-1,Ie.focus()},ke=Ie=>null!==Ie.offsetParent,fe="ion-last-focus",it_saveViewFocus=ce=>{if(U.c.get("focusManagerPriority",!1)){const at=document.activeElement;null!==at&&ce?.contains(at)&&at.setAttribute(fe,"true")}},it_setViewFocus=ce=>{const Pe=U.c.get("focusManagerPriority",!1);if(Array.isArray(Pe)&&!ce.contains(document.activeElement)){const at=ce.querySelector(`[${fe}]`);if(at&&ke(at))return void ue(at);for(const Xe of Pe)switch(Xe){case"content":const Se=ce.querySelector('main, [role="main"]');if(Se&&ke(Se))return void ue(Se);break;case"heading":const Tt=ce.querySelector('h1, [role="heading"][aria-level="1"]');if(Tt&&ke(Tt))return void ue(Tt);break;case"banner":const he=ce.querySelector('header, [role="banner"]');if(he&&ke(he))return void ue(he);break;default:(0,G.p)(`Unrecognized focus manager priority value ${Xe}`)}ue(ce)}},We=Ie=>new Promise((Me,ce)=>{(0,J.w)(()=>{At(Ie),Pt(Ie).then(Pe=>{Pe.animation&&Pe.animation.destroy(),ze(Ie),Me(Pe)},Pe=>{ze(Ie),ce(Pe)})})}),At=Ie=>{const Me=Ie.enteringEl,ce=Ie.leavingEl;it_saveViewFocus(ce),tt(Me,ce,Ie.direction),Ie.showGoBack?Me.classList.add("can-go-back"):Me.classList.remove("can-go-back"),un(Me,!1),Me.style.setProperty("pointer-events","none"),ce&&(un(ce,!1),ce.style.setProperty("pointer-events","none"))},Pt=function(){var Ie=(0,l.A)(function*(Me){const ce=yield Fe(Me);return ce&&J.B.isBrowser?ot(ce,Me):qe(Me)});return function(ce){return Ie.apply(this,arguments)}}(),ze=Ie=>{const Me=Ie.enteringEl,ce=Ie.leavingEl;Me.classList.remove("ion-page-invisible"),Me.style.removeProperty("pointer-events"),void 0!==ce&&(ce.classList.remove("ion-page-invisible"),ce.style.removeProperty("pointer-events")),it_setViewFocus(Me)},Fe=function(){var Ie=(0,l.A)(function*(Me){return Me.leavingEl&&Me.animated&&0!==Me.duration?Me.animationBuilder?Me.animationBuilder:"ios"===Me.mode?(yield Promise.resolve().then(N.bind(N,1935))).iosTransitionAnimation:(yield Promise.resolve().then(N.bind(N,5062))).mdTransitionAnimation:void 0});return function(ce){return Ie.apply(this,arguments)}}(),ot=function(){var Ie=(0,l.A)(function*(Me,ce){yield nt(ce,!0);const Pe=Me(ce.baseEl,ce);He(ce.enteringEl,ce.leavingEl);const at=yield H(Pe,ce);return ce.progressCallback&&ce.progressCallback(void 0),at&&wt(ce.enteringEl,ce.leavingEl),{hasCompleted:at,animation:Pe}});return function(ce,Pe){return Ie.apply(this,arguments)}}(),qe=function(){var Ie=(0,l.A)(function*(Me){const ce=Me.enteringEl,Pe=Me.leavingEl,at=U.c.get("focusManagerPriority",!1);return yield nt(Me,at),He(ce,Pe),wt(ce,Pe),{hasCompleted:!0}});return function(ce){return Ie.apply(this,arguments)}}(),nt=function(){var Ie=(0,l.A)(function*(Me,ce){(void 0!==Me.deepWait?Me.deepWait:ce)&&(yield Promise.all([kt(Me.enteringEl),kt(Me.leavingEl)])),yield bt(Me.viewIsReady,Me.enteringEl)});return function(ce,Pe){return Ie.apply(this,arguments)}}(),bt=function(){var Ie=(0,l.A)(function*(Me,ce){Me&&(yield Me(ce))});return function(ce,Pe){return Ie.apply(this,arguments)}}(),H=(Ie,Me)=>{const ce=Me.progressCallback,Pe=new Promise(at=>{Ie.onFinish(Xe=>at(1===Xe))});return ce?(Ie.progressStart(!0),ce(Ie)):Ie.play(),Pe},He=(Ie,Me)=>{Ke(Me,be),Ke(Ie,"ionViewWillEnter")},wt=(Ie,Me)=>{Ke(Ie,"ionViewDidEnter"),Ke(Me,ve)},Ke=(Ie,Me)=>{if(Ie){const ce=new CustomEvent(Me,{bubbles:!1,cancelable:!1});Ie.dispatchEvent(ce)}},Mt=()=>new Promise(Ie=>(0,Re.r)(()=>(0,Re.r)(()=>Ie()))),kt=function(){var Ie=(0,l.A)(function*(Me){const ce=Me;if(ce){if(null!=ce.componentOnReady){if(null!=(yield ce.componentOnReady()))return}else if(null!=ce.__registerHost)return void(yield new Promise(at=>(0,Re.r)(at)));yield Promise.all(Array.from(ce.children).map(kt))}});return function(ce){return Ie.apply(this,arguments)}}(),un=(Ie,Me)=>{Me?(Ie.setAttribute("aria-hidden","true"),Ie.classList.add("ion-page-hidden")):(Ie.hidden=!1,Ie.removeAttribute("aria-hidden"),Ie.classList.remove("ion-page-hidden"))},tt=(Ie,Me,ce)=>{void 0!==Ie&&(Ie.style.zIndex="back"===ce?"99":"101"),void 0!==Me&&(Me.style.zIndex="100")},De=Ie=>Ie.classList.contains("ion-page")?Ie:Ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ie},8476:(En,ht,N)=>{"use strict";N.d(ht,{d:()=>U,w:()=>l});const l=typeof window<"u"?window:void 0,U=typeof document<"u"?document:void 0},6032:(En,ht,N)=>{"use strict";N.d(ht,{m:()=>xe});var l=N(467),U=N(8476),J=N(6221),G=N(9144),Re=N(1559),we=N(4346),Z=N(9986);const be=fe=>(0,Z.c)().duration(fe?400:300),ve=fe=>{let rt,yt;const it=fe.width+8,We=(0,Z.c)(),At=(0,Z.c)();fe.isEndSide?(rt=it+"px",yt="0px"):(rt=-it+"px",yt="0px"),We.addElement(fe.menuInnerEl).fromTo("transform",`translateX(${rt})`,`translateX(${yt})`);const ze="ios"===(0,we.b)(fe),Fe=ze?.2:.25;return At.addElement(fe.backdropEl).fromTo("opacity",.01,Fe),be(ze).addAnimation([We,At])},Te=fe=>{let rt,yt;const it=(0,we.b)(fe),We=fe.width;fe.isEndSide?(rt=-We+"px",yt=We+"px"):(rt=We+"px",yt=-We+"px");const At=(0,Z.c)().addElement(fe.menuInnerEl).fromTo("transform",`translateX(${yt})`,"translateX(0px)"),Pt=(0,Z.c)().addElement(fe.contentEl).fromTo("transform","translateX(0px)",`translateX(${rt})`),ze=(0,Z.c)().addElement(fe.backdropEl).fromTo("opacity",.01,.32);return be("ios"===it).addAnimation([At,Pt,ze])},ue=fe=>{const rt=(0,we.b)(fe),yt=fe.width*(fe.isEndSide?-1:1)+"px",it=(0,Z.c)().addElement(fe.contentEl).fromTo("transform","translateX(0px)",`translateX(${yt})`);return be("ios"===rt).addAnimation(it)},xe=(()=>{const fe=new Map,rt=[],yt=function(){var Me=(0,l.A)(function*(ce){const Pe=yield ot(ce,!0);return!!Pe&&Pe.open()});return function(Pe){return Me.apply(this,arguments)}}(),it=function(){var Me=(0,l.A)(function*(ce){const Pe=yield void 0!==ce?ot(ce,!0):qe();return void 0!==Pe&&Pe.close()});return function(Pe){return Me.apply(this,arguments)}}(),We=function(){var Me=(0,l.A)(function*(ce){const Pe=yield ot(ce,!0);return!!Pe&&Pe.toggle()});return function(Pe){return Me.apply(this,arguments)}}(),At=function(){var Me=(0,l.A)(function*(ce,Pe){const at=yield ot(Pe);return at&&(at.disabled=!ce),at});return function(Pe,at){return Me.apply(this,arguments)}}(),Pt=function(){var Me=(0,l.A)(function*(ce,Pe){const at=yield ot(Pe);return at&&(at.swipeGesture=ce),at});return function(Pe,at){return Me.apply(this,arguments)}}(),ze=function(){var Me=(0,l.A)(function*(ce){if(null!=ce){const Pe=yield ot(ce);return void 0!==Pe&&Pe.isOpen()}return void 0!==(yield qe())});return function(Pe){return Me.apply(this,arguments)}}(),Fe=function(){var Me=(0,l.A)(function*(ce){const Pe=yield ot(ce);return!!Pe&&!Pe.disabled});return function(Pe){return Me.apply(this,arguments)}}(),ot=function(){var Me=(0,l.A)(function*(ce,Pe=!1){if(yield Ie(),"start"===ce||"end"===ce){const Xe=rt.filter(Tt=>Tt.side===ce&&!Tt.disabled);if(Xe.length>=1)return Xe.length>1&&Pe&&(0,G.p)(`menuController queried for a menu on the "${ce}" side, but ${Xe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Xe.map(Tt=>Tt.el)),Xe[0].el;const Se=rt.filter(Tt=>Tt.side===ce);if(Se.length>=1)return Se.length>1&&Pe&&(0,G.p)(`menuController queried for a menu on the "${ce}" side, but ${Se.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Se.map(Tt=>Tt.el)),Se[0].el}else if(null!=ce)return De(Xe=>Xe.menuId===ce);return De(Xe=>!Xe.disabled)||(rt.length>0?rt[0].el:void 0)});return function(Pe){return Me.apply(this,arguments)}}(),qe=function(){var Me=(0,l.A)(function*(){return yield Ie(),kt()});return function(){return Me.apply(this,arguments)}}(),nt=function(){var Me=(0,l.A)(function*(){return yield Ie(),un()});return function(){return Me.apply(this,arguments)}}(),bt=function(){var Me=(0,l.A)(function*(){return yield Ie(),tt()});return function(){return Me.apply(this,arguments)}}(),H=(Me,ce)=>{fe.set(Me,ce)},Ke=function(){var Me=(0,l.A)(function*(ce,Pe,at,Xe){if(tt())return!1;if(Pe){const Se=yield qe();Se&&ce.el!==Se&&(yield Se.setOpen(!1,!1))}return ce._setOpen(Pe,at,Xe)});return function(Pe,at,Xe,Se){return Me.apply(this,arguments)}}(),kt=()=>De(Me=>Me._isOpen),un=()=>rt.map(Me=>Me.el),tt=()=>rt.some(Me=>Me.isAnimating),De=Me=>{const ce=rt.find(Me);if(void 0!==ce)return ce.el},Ie=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Me=>new Promise(ce=>(0,Re.c)(Me,ce))));return H("reveal",ue),H("push",Te),H("overlay",ve),null==U.d||U.d.addEventListener("ionBackButton",Me=>{const ce=kt();ce&&Me.detail.register(J.MENU_BACK_BUTTON_PRIORITY,()=>ce.close())}),{registerAnimation:H,get:ot,getMenus:nt,getOpen:qe,isEnabled:Fe,swipeGesture:Pt,isAnimating:bt,isOpen:ze,enable:At,toggle:We,close:it,open:yt,_getOpenSync:kt,_createAnimation:(Me,ce)=>{const Pe=fe.get(Me);if(!Pe)throw new Error("animation not registered");return Pe(ce)},_register:Me=>{rt.indexOf(Me)<0&&rt.push(Me)},_unregister:Me=>{const ce=rt.indexOf(Me);ce>-1&&rt.splice(ce,1)},_setOpen:Ke}})()},4346:(En,ht,N)=>{"use strict";N.d(ht,{a:()=>ue,b:()=>un,c:()=>J,i:()=>tt});var l=N(6317);class U{constructor(){this.m=new Map}reset(Ie){this.m=new Map(Object.entries(Ie))}get(Ie,Me){const ce=this.m.get(Ie);return void 0!==ce?ce:Me}getBoolean(Ie,Me=!1){const ce=this.m.get(Ie);return void 0===ce?Me:"string"==typeof ce?"true"===ce:!!ce}getNumber(Ie,Me){const ce=parseFloat(this.m.get(Ie));return isNaN(ce)?void 0!==Me?Me:NaN:ce}set(Ie,Me){this.m.set(Ie,Me)}}const J=new U,ve="ionic-persist-config",ue=(De,Ie)=>("string"==typeof De&&(Ie=De,De=void 0),(De=>ke(De))(De).includes(Ie)),ke=(De=window)=>{if(typeof De>"u")return[];De.Ionic=De.Ionic||{};let Ie=De.Ionic.platforms;return null==Ie&&(Ie=De.Ionic.platforms=xe(De),Ie.forEach(Me=>De.document.documentElement.classList.add(`plt-${Me}`))),Ie},xe=De=>{const Ie=J.get("platform");return Object.keys(Mt).filter(Me=>{const ce=Ie?.[Me];return"function"==typeof ce?ce(De):Mt[Me](De)})},rt=De=>!!(wt(De,/iPad/i)||wt(De,/Macintosh/i)&&Fe(De)),We=De=>wt(De,/android|sink/i),Fe=De=>Ke(De,"(any-pointer:coarse)"),qe=De=>nt(De)||bt(De),nt=De=>!!(De.cordova||De.phonegap||De.PhoneGap),bt=De=>{const Ie=De.Capacitor;return!!(Ie?.isNative||Ie?.isNativePlatform&&Ie.isNativePlatform())},wt=(De,Ie)=>Ie.test(De.navigator.userAgent),Ke=(De,Ie)=>{var Me;return null===(Me=De.matchMedia)||void 0===Me?void 0:Me.call(De,Ie).matches},Mt={ipad:rt,iphone:De=>wt(De,/iPhone/i),ios:De=>wt(De,/iPhone|iPod/i)||rt(De),android:We,phablet:De=>{const Ie=De.innerWidth,Me=De.innerHeight,ce=Math.min(Ie,Me),Pe=Math.max(Ie,Me);return ce>390&&ce<520&&Pe>620&&Pe<800},tablet:De=>{const Ie=De.innerWidth,Me=De.innerHeight,ce=Math.min(Ie,Me),Pe=Math.max(Ie,Me);return rt(De)||(De=>We(De)&&!wt(De,/mobile/i))(De)||ce>460&&ce<820&&Pe>780&&Pe<1400},cordova:nt,capacitor:bt,electron:De=>wt(De,/electron/i),pwa:De=>{var Ie;return!!(null!==(Ie=De.matchMedia)&&void 0!==Ie&&Ie.call(De,"(display-mode: standalone)").matches||De.navigator.standalone)},mobile:Fe,mobileweb:De=>Fe(De)&&!qe(De),desktop:De=>!Fe(De),hybrid:qe};let kt;const un=De=>De&&(0,l.g)(De)||kt,tt=(De={})=>{if(typeof window>"u")return;const Ie=window.document,Me=window,ce=Me.Ionic=Me.Ionic||{},Pe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(De=>{try{const Ie=De.sessionStorage.getItem(ve);return null!==Ie?JSON.parse(Ie):{}}catch{return{}}})(Me)),{persistConfig:!1}),ce.config),(De=>{const Ie={};return De.location.search.slice(1).split("&").map(Me=>Me.split("=")).map(([Me,ce])=>{try{return[decodeURIComponent(Me),decodeURIComponent(ce)]}catch{return["",""]}}).filter(([Me])=>((De,Ie)=>De.substr(0,Ie.length)===Ie)(Me,"ionic:")).map(([Me,ce])=>[Me.slice(6),ce]).forEach(([Me,ce])=>{Ie[Me]=ce}),Ie})(Me)),De);J.reset(Pe),J.getBoolean("persistConfig")&&((De,Ie)=>{try{De.sessionStorage.setItem(ve,JSON.stringify(Ie))}catch{return}})(Me,Pe),ke(Me),ce.config=J,ce.mode=kt=J.get("mode",Ie.documentElement.getAttribute("mode")||(ue(Me,"ios")?"ios":"md")),J.set("mode",kt),Ie.documentElement.setAttribute("mode",kt),Ie.documentElement.classList.add(kt),J.getBoolean("_testing")&&J.set("animated",!1);const at=Se=>{var Tt;return null===(Tt=Se.tagName)||void 0===Tt?void 0:Tt.startsWith("ION-")},Xe=Se=>["ios","md"].includes(Se);(0,l.a)(Se=>{for(;Se;){const Tt=Se.mode||Se.getAttribute("mode");if(Tt){if(Xe(Tt))return Tt;at(Se)&&console.warn('Invalid ionic mode: "'+Tt+'", expected: "ios" or "md"')}Se=Se.parentElement}return kt})}},1935:(En,ht,N)=>{"use strict";N.r(ht),N.d(ht,{iosTransitionAnimation:()=>rt,shadow:()=>ve});var l=N(9986),U=N(5248);N(8476),N(4346),N(6317),N(9144);const be=it=>document.querySelector(`${it}.ion-cloned-element`),ve=it=>it.shadowRoot||it,Te=it=>{const We="ION-TABS"===it.tagName?it:it.querySelector("ion-tabs"),At="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=We){const Pt=We.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Pt?Pt.querySelector(At):null}return it.querySelector(At)},ue=(it,We)=>{const At="ION-TABS"===it.tagName?it:it.querySelector("ion-tabs");let Pt=[];if(null!=At){const ze=At.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ze&&(Pt=ze.querySelectorAll("ion-buttons"))}else Pt=it.querySelectorAll("ion-buttons");for(const ze of Pt){const Fe=ze.closest("ion-header"),ot=Fe&&!Fe.classList.contains("header-collapse-condense-inactive"),qe=ze.querySelector("ion-back-button"),nt=ze.classList.contains("buttons-collapse");if(null!==qe&&("start"===ze.slot||""===ze.slot)&&(nt&&ot&&We||!nt))return qe}return null},xe=(it,We,At,Pt,ze,Fe,ot,qe,nt)=>{var bt,H;const He=We?`calc(100% - ${ze.right+4}px)`:ze.left-4+"px",wt=We?"right":"left",Ke=We?"left":"right",Mt=We?"right":"left";let kt=1,un=1,tt=`scale(${un})`;const De="scale(1)";if(Fe&&ot){const jt=(null===(bt=Fe.textContent)||void 0===bt?void 0:bt.trim())===(null===(H=qe.textContent)||void 0===H?void 0:H.trim());kt=nt.width/ot.width,un=(nt.height-yt)/ot.height,tt=jt?`scale(${kt}, ${un})`:`scale(${un})`}const Me=ve(Pt).querySelector("ion-icon").getBoundingClientRect(),ce=We?Me.width/2-(Me.right-ze.right)+"px":ze.left-Me.width/2+"px",Pe=We?`-${window.innerWidth-ze.right}px`:`${ze.left}px`,at=`${nt.top}px`,Xe=`${ze.top}px`,he=At?[{offset:0,transform:`translate3d(${Pe}, ${Xe}, 0)`},{offset:1,transform:`translate3d(${ce}, ${at}, 0)`}]:[{offset:0,transform:`translate3d(${ce}, ${at}, 0)`},{offset:1,transform:`translate3d(${Pe}, ${Xe}, 0)`}],xt=At?[{offset:0,opacity:1,transform:De},{offset:1,opacity:0,transform:tt}]:[{offset:0,opacity:0,transform:tt},{offset:1,opacity:1,transform:De}],qn=At?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],kn=(0,l.c)(),Nn=(0,l.c)(),zn=(0,l.c)(),Yn=be("ion-back-button"),ft=ve(Yn).querySelector(".button-text"),Xt=ve(Yn).querySelector("ion-icon");Yn.text=Pt.text,Yn.mode=Pt.mode,Yn.icon=Pt.icon,Yn.color=Pt.color,Yn.disabled=Pt.disabled,Yn.style.setProperty("display","block"),Yn.style.setProperty("position","fixed"),Nn.addElement(Xt),kn.addElement(ft),zn.addElement(Yn),zn.beforeStyles({position:"absolute",top:"0px",[Mt]:"0px"}).beforeAddWrite(()=>{Pt.style.setProperty("display","none"),Yn.style.setProperty(wt,He)}).afterAddWrite(()=>{Pt.style.setProperty("display",""),Yn.style.setProperty("display","none"),Yn.style.removeProperty(wt)}).keyframes(he),kn.beforeStyles({"transform-origin":`${wt} top`}).keyframes(xt),Nn.beforeStyles({"transform-origin":`${Ke} center`}).keyframes(qn),it.addAnimation([kn,Nn,zn])},fe=(it,We,At,Pt,ze,Fe,ot,qe,nt)=>{var bt,H;const He=We?"right":"left",wt=We?`calc(100% - ${ze.right}px)`:`${ze.left}px`,Mt=`${ze.top}px`;let un=We?`-${window.innerWidth-ot.right-8}px`:`${ot.x+8}px`,tt=.5;const De="scale(1)";let Ie=`scale(${tt})`;if(qe&&nt){un=We?`-${window.innerWidth-nt.right-8}px`:nt.x-8+"px";const st=(null===(bt=qe.textContent)||void 0===bt?void 0:bt.trim())===(null===(H=Pt.textContent)||void 0===H?void 0:H.trim());tt=nt.height/(Fe.height-yt),Ie=st?`scale(${nt.width/Fe.width}, ${tt})`:`scale(${tt})`}const Pe=ot.top+ot.height/2-ze.height*tt/2+"px",Se=At?[{offset:0,opacity:0,transform:`translate3d(${un}, ${Pe}, 0) ${Ie}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Mt}, 0) ${De}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Mt}, 0) ${De}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${un}, ${Pe}, 0) ${Ie}`}],Tt=be("ion-title"),he=(0,l.c)();Tt.innerText=Pt.innerText,Tt.size=Pt.size,Tt.color=Pt.color,he.addElement(Tt),he.beforeStyles({"transform-origin":`${He} top`,height:`${ze.height}px`,display:"",position:"relative",[He]:wt}).beforeAddWrite(()=>{Pt.style.setProperty("opacity","0")}).afterAddWrite(()=>{Pt.style.setProperty("opacity",""),Tt.style.setProperty("display","none")}).keyframes(Se),it.addAnimation(he)},rt=(it,We)=>{var At;try{const Pt="cubic-bezier(0.32,0.72,0,1)",ze="opacity",Fe="transform",ot="0%",nt="rtl"===it.ownerDocument.dir,bt=nt?"-99.5%":"99.5%",H=nt?"33%":"-33%",He=We.enteringEl,wt=We.leavingEl,Ke="back"===We.direction,Mt=He.querySelector(":scope > ion-content"),kt=He.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),un=He.querySelectorAll(":scope > ion-header > ion-toolbar"),tt=(0,l.c)(),De=(0,l.c)();if(tt.addElement(He).duration((null!==(At=We.duration)&&void 0!==At?At:0)||540).easing(We.easing||Pt).fill("both").beforeRemoveClass("ion-page-invisible"),wt&&null!=it){const Pe=(0,l.c)();Pe.addElement(it),tt.addAnimation(Pe)}if(Mt||0!==un.length||0!==kt.length?(De.addElement(Mt),De.addElement(kt)):De.addElement(He.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),tt.addAnimation(De),Ke?De.beforeClearStyles([ze]).fromTo("transform",`translateX(${H})`,`translateX(${ot})`).fromTo(ze,.8,1):De.beforeClearStyles([ze]).fromTo("transform",`translateX(${bt})`,`translateX(${ot})`),Mt){const Pe=ve(Mt).querySelector(".transition-effect");if(Pe){const at=Pe.querySelector(".transition-cover"),Xe=Pe.querySelector(".transition-shadow"),Se=(0,l.c)(),Tt=(0,l.c)(),he=(0,l.c)();Se.addElement(Pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Tt.addElement(at).beforeClearStyles([ze]).fromTo(ze,0,.1),he.addElement(Xe).beforeClearStyles([ze]).fromTo(ze,.03,.7),Se.addAnimation([Tt,he]),De.addAnimation([Se])}}const Ie=He.querySelector("ion-header.header-collapse-condense"),{forward:Me,backward:ce}=((it,We,At,Pt,ze)=>{const Fe=ue(Pt,At),ot=Te(ze),qe=Te(Pt),nt=ue(ze,At),bt=null!==Fe&&null!==ot&&!At,H=null!==qe&&null!==nt&&At;if(bt){const He=ot.getBoundingClientRect(),wt=Fe.getBoundingClientRect(),Ke=ve(Fe).querySelector(".button-text"),Mt=Ke?.getBoundingClientRect(),un=ve(ot).querySelector(".toolbar-title").getBoundingClientRect();fe(it,We,At,ot,He,un,wt,Ke,Mt),xe(it,We,At,Fe,wt,Ke,Mt,ot,un)}else if(H){const He=qe.getBoundingClientRect(),wt=nt.getBoundingClientRect(),Ke=ve(nt).querySelector(".button-text"),Mt=Ke?.getBoundingClientRect(),un=ve(qe).querySelector(".toolbar-title").getBoundingClientRect();fe(it,We,At,qe,He,un,wt,Ke,Mt),xe(it,We,At,nt,wt,Ke,Mt,qe,un)}return{forward:bt,backward:H}})(tt,nt,Ke,He,wt);if(un.forEach(Pe=>{const at=(0,l.c)();at.addElement(Pe),tt.addAnimation(at);const Xe=(0,l.c)();Xe.addElement(Pe.querySelector("ion-title"));const Se=(0,l.c)(),Tt=Array.from(Pe.querySelectorAll("ion-buttons,[menuToggle]")),he=Pe.closest("ion-header"),st=he?.classList.contains("header-collapse-condense-inactive");let Nt;Nt=Tt.filter(Ke?kn=>{const Nn=kn.classList.contains("buttons-collapse");return Nn&&!st||!Nn}:kn=>!kn.classList.contains("buttons-collapse")),Se.addElement(Nt);const xt=(0,l.c)();xt.addElement(Pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const hn=(0,l.c)();hn.addElement(ve(Pe).querySelector(".toolbar-background"));const Ln=(0,l.c)(),qn=Pe.querySelector("ion-back-button");if(qn&&Ln.addElement(qn),at.addAnimation([Xe,Se,xt,hn,Ln]),Se.fromTo(ze,.01,1),xt.fromTo(ze,.01,1),Ke)st||Xe.fromTo("transform",`translateX(${H})`,`translateX(${ot})`).fromTo(ze,.01,1),xt.fromTo("transform",`translateX(${H})`,`translateX(${ot})`),Ln.fromTo(ze,.01,1);else if(Ie||Xe.fromTo("transform",`translateX(${bt})`,`translateX(${ot})`).fromTo(ze,.01,1),xt.fromTo("transform",`translateX(${bt})`,`translateX(${ot})`),hn.beforeClearStyles([ze,"transform"]),he?.translucent?hn.fromTo("transform",nt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):hn.fromTo(ze,.01,"var(--opacity)"),Me||Ln.fromTo(ze,.01,1),qn&&!Me){const Nn=(0,l.c)();Nn.addElement(ve(qn).querySelector(".button-text")).fromTo("transform",nt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),at.addAnimation(Nn)}}),wt){const Pe=(0,l.c)(),at=wt.querySelector(":scope > ion-content"),Xe=wt.querySelectorAll(":scope > ion-header > ion-toolbar"),Se=wt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(at||0!==Xe.length||0!==Se.length?(Pe.addElement(at),Pe.addElement(Se)):Pe.addElement(wt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),tt.addAnimation(Pe),Ke){Pe.beforeClearStyles([ze]).fromTo("transform",`translateX(${ot})`,nt?"translateX(-100%)":"translateX(100%)");const Tt=(0,U.g)(wt);tt.afterAddWrite(()=>{"normal"===tt.getDirection()&&Tt.style.setProperty("display","none")})}else Pe.fromTo("transform",`translateX(${ot})`,`translateX(${H})`).fromTo(ze,1,.8);if(at){const Tt=ve(at).querySelector(".transition-effect");if(Tt){const he=Tt.querySelector(".transition-cover"),st=Tt.querySelector(".transition-shadow"),Nt=(0,l.c)(),xt=(0,l.c)(),hn=(0,l.c)();Nt.addElement(Tt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),xt.addElement(he).beforeClearStyles([ze]).fromTo(ze,.1,0),hn.addElement(st).beforeClearStyles([ze]).fromTo(ze,.7,.03),Nt.addAnimation([xt,hn]),Pe.addAnimation([Nt])}}Xe.forEach(Tt=>{const he=(0,l.c)();he.addElement(Tt);const st=(0,l.c)();st.addElement(Tt.querySelector("ion-title"));const Nt=(0,l.c)(),xt=Tt.querySelectorAll("ion-buttons,[menuToggle]"),hn=Tt.closest("ion-header"),Ln=hn?.classList.contains("header-collapse-condense-inactive"),qn=Array.from(xt).filter(Xt=>{const jt=Xt.classList.contains("buttons-collapse");return jt&&!Ln||!jt});Nt.addElement(qn);const kn=(0,l.c)(),Nn=Tt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Nn.length>0&&kn.addElement(Nn);const zn=(0,l.c)();zn.addElement(ve(Tt).querySelector(".toolbar-background"));const Yn=(0,l.c)(),ft=Tt.querySelector("ion-back-button");if(ft&&Yn.addElement(ft),he.addAnimation([st,Nt,kn,Yn,zn]),tt.addAnimation(he),Yn.fromTo(ze,.99,0),Nt.fromTo(ze,.99,0),kn.fromTo(ze,.99,0),Ke){if(Ln||st.fromTo("transform",`translateX(${ot})`,nt?"translateX(-100%)":"translateX(100%)").fromTo(ze,.99,0),kn.fromTo("transform",`translateX(${ot})`,nt?"translateX(-100%)":"translateX(100%)"),zn.beforeClearStyles([ze,"transform"]),hn?.translucent?zn.fromTo("transform","translateX(0px)",nt?"translateX(-100%)":"translateX(100%)"):zn.fromTo(ze,"var(--opacity)",0),ft&&!ce){const jt=(0,l.c)();jt.addElement(ve(ft).querySelector(".button-text")).fromTo("transform",`translateX(${ot})`,`translateX(${(nt?-124:124)+"px"})`),he.addAnimation(jt)}}else Ln||st.fromTo("transform",`translateX(${ot})`,`translateX(${H})`).fromTo(ze,.99,0).afterClearStyles([Fe,ze]),kn.fromTo("transform",`translateX(${ot})`,`translateX(${H})`).afterClearStyles([Fe,ze]),Yn.afterClearStyles([ze]),st.afterClearStyles([ze]),Nt.afterClearStyles([ze])})}return tt}catch(Pt){throw Pt}},yt=10},5062:(En,ht,N)=>{"use strict";N.r(ht),N.d(ht,{mdTransitionAnimation:()=>Z});var l=N(9986),U=N(5248);N(8476),N(4346),N(6317),N(9144);const Z=(be,ve)=>{var Te,ue,ke;const rt="back"===ve.direction,it=ve.leavingEl,We=(0,U.g)(ve.enteringEl),At=We.querySelector("ion-toolbar"),Pt=(0,l.c)();if(Pt.addElement(We).fill("both").beforeRemoveClass("ion-page-invisible"),rt?Pt.duration((null!==(Te=ve.duration)&&void 0!==Te?Te:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Pt.duration((null!==(ue=ve.duration)&&void 0!==ue?ue:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),At){const ze=(0,l.c)();ze.addElement(At),Pt.addAnimation(ze)}if(it&&rt){Pt.duration((null!==(ke=ve.duration)&&void 0!==ke?ke:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ze=(0,l.c)();ze.addElement((0,U.g)(it)).onFinish(Fe=>{1===Fe&&ze.elements.length>0&&ze.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Pt.addAnimation(ze)}return Pt}},4626:(En,ht,N)=>{"use strict";N.d(ht,{B:()=>Nt,F:()=>Yn,G:()=>xt,O:()=>hn,a:()=>it,b:()=>We,c:()=>Fe,d:()=>Ln,e:()=>qn,f:()=>Ie,g:()=>ce,h:()=>Xe,i:()=>Tt,j:()=>qe,k:()=>nt,l:()=>At,m:()=>Pt,n:()=>Te,o:()=>tt,q:()=>ue,s:()=>st,t:()=>ot});var l=N(467),U=N(8476),J=N(1559),G=N(6221),Re=N(4346),we=N(3345),Z=N(1970),be=N(9144);const ve='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Te=(ft,Xt)=>{const jt=ft.querySelector(ve);ke(jt,Xt??ft)},ue=(ft,Xt)=>{const jt=Array.from(ft.querySelectorAll(ve));ke(jt.length>0?jt[jt.length-1]:null,Xt??ft)},ke=(ft,Xt)=>{let jt=ft;const On=ft?.shadowRoot;if(On&&(jt=On.querySelector(ve)||ft),jt){const br=jt.closest("ion-radio-group");br?br.setFocus():(0,J.f)(jt)}else Xt.focus()};let xe=0,fe=0;const rt=new WeakMap,yt=ft=>({create:Xt=>bt(ft,Xt),dismiss:(Xt,jt,On)=>Mt(document,Xt,jt,ft,On),getTop:()=>(0,l.A)(function*(){return tt(document,ft)})()}),it=yt("ion-alert"),We=yt("ion-action-sheet"),At=yt("ion-loading"),Pt=yt("ion-modal"),Fe=yt("ion-popover"),ot=yt("ion-toast"),qe=ft=>{typeof document<"u"&&Ke(document);const Xt=xe++;ft.overlayIndex=Xt},nt=ft=>(ft.hasAttribute("id")||(ft.id="ion-overlay-"+ ++fe),ft.id),bt=(ft,Xt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ft).then(()=>{const jt=document.createElement(ft);return jt.classList.add("overlay-hidden"),Object.assign(jt,Object.assign(Object.assign({},Xt),{hasController:!0})),Pe(document).appendChild(jt),new Promise(On=>(0,J.c)(jt,On))}):Promise.resolve(),He=(ft,Xt)=>{let jt=ft;const On=ft?.shadowRoot;On&&(jt=On.querySelector(ve)||ft),jt?(0,J.f)(jt):Xt.focus()},Ke=ft=>{0===xe&&(xe=1,ft.addEventListener("focus",Xt=>{((ft,Xt)=>{const jt=tt(Xt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),On=ft.target;jt&&On&&!jt.classList.contains(Yn)&&(jt.shadowRoot?(()=>{if(jt.contains(On))jt.lastFocus=On;else if("ION-TOAST"===On.tagName)He(jt.lastFocus,jt);else{const tr=jt.lastFocus;Te(jt),tr===Xt.activeElement&&ue(jt),jt.lastFocus=Xt.activeElement}})():(()=>{if(jt===On)jt.lastFocus=void 0;else if("ION-TOAST"===On.tagName)He(jt.lastFocus,jt);else{const tr=(0,J.g)(jt);if(!tr.contains(On))return;const Xn=tr.querySelector(".ion-overlay-wrapper");if(!Xn)return;if(Xn.contains(On)||On===tr.querySelector("ion-backdrop"))jt.lastFocus=On;else{const Dr=jt.lastFocus;Te(Xn,jt),Dr===Xt.activeElement&&ue(Xn,jt),jt.lastFocus=Xt.activeElement}}})())})(Xt,ft)},!0),ft.addEventListener("ionBackButton",Xt=>{const jt=tt(ft);jt?.backdropDismiss&&Xt.detail.register(G.OVERLAY_BACK_BUTTON_PRIORITY,()=>{jt.dismiss(void 0,Nt)})}),(0,G.shouldUseCloseWatcher)()||ft.addEventListener("keydown",Xt=>{if("Escape"===Xt.key){const jt=tt(ft);jt?.backdropDismiss&&jt.dismiss(void 0,Nt)}}))},Mt=(ft,Xt,jt,On,br)=>{const er=tt(ft,On,br);return er?er.dismiss(Xt,jt):Promise.reject("overlay does not exist")},un=(ft,Xt)=>((ft,Xt)=>(void 0===Xt&&(Xt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(ft.querySelectorAll(Xt)).filter(jt=>jt.overlayIndex>0)))(ft,Xt).filter(jt=>!(ft=>ft.classList.contains("overlay-hidden"))(jt)),tt=(ft,Xt,jt)=>{const On=un(ft,Xt);return void 0===jt?On[On.length-1]:On.find(br=>br.id===jt)},De=(ft=!1)=>{const jt=Pe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");jt&&(ft?jt.setAttribute("aria-hidden","true"):jt.removeAttribute("aria-hidden"))},Ie=function(){var ft=(0,l.A)(function*(Xt,jt,On,br,er){var tr,Xn;if(Xt.presented)return;"ION-TOAST"!==Xt.el.tagName&&De(!0),document.body.classList.add(Z.B),Nn(Xt.el),kn(Xt.el),Xt.presented=!0,Xt.willPresent.emit(),null===(tr=Xt.willPresentShorthand)||void 0===tr||tr.emit();const Dr=(0,Re.b)(Xt),Mr=Xt.enterAnimation?Xt.enterAnimation:Re.c.get(jt,"ios"===Dr?On:br);(yield at(Xt,Mr,Xt.el,er))&&(Xt.didPresent.emit(),null===(Xn=Xt.didPresentShorthand)||void 0===Xn||Xn.emit()),"ION-TOAST"!==Xt.el.tagName&&Me(Xt.el),Xt.keyboardClose&&(null===document.activeElement||!Xt.el.contains(document.activeElement))&&Xt.el.focus(),Xt.el.removeAttribute("aria-hidden")});return function(jt,On,br,er,tr){return ft.apply(this,arguments)}}(),Me=function(){var ft=(0,l.A)(function*(Xt){let jt=document.activeElement;if(!jt)return;const On=jt?.shadowRoot;On&&(jt=On.querySelector(ve)||jt),yield Xt.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&jt.focus()});return function(jt){return ft.apply(this,arguments)}}(),ce=function(){var ft=(0,l.A)(function*(Xt,jt,On,br,er,tr,Xn){var Dr,Mr;if(!Xt.presented)return!1;const sr=void 0!==U.d?un(U.d).filter(Or=>"ION-TOAST"!==Or.tagName):[];1===sr.length&&sr[0].id===Xt.el.id&&(De(!1),document.body.classList.remove(Z.B)),Xt.presented=!1;try{kn(Xt.el),Xt.el.style.setProperty("pointer-events","none"),Xt.willDismiss.emit({data:jt,role:On}),null===(Dr=Xt.willDismissShorthand)||void 0===Dr||Dr.emit({data:jt,role:On});const Or=(0,Re.b)(Xt),Hr=Xt.leaveAnimation?Xt.leaveAnimation:Re.c.get(br,"ios"===Or?er:tr);On!==xt&&(yield at(Xt,Hr,Xt.el,Xn)),Xt.didDismiss.emit({data:jt,role:On}),null===(Mr=Xt.didDismissShorthand)||void 0===Mr||Mr.emit({data:jt,role:On}),(rt.get(Xt)||[]).forEach(vr=>vr.destroy()),rt.delete(Xt),Xt.el.classList.add("overlay-hidden"),Xt.el.style.removeProperty("pointer-events"),void 0!==Xt.el.lastFocus&&(Xt.el.lastFocus=void 0)}catch(Or){console.error(Or)}return Xt.el.remove(),zn(),!0});return function(jt,On,br,er,tr,Xn,Dr){return ft.apply(this,arguments)}}(),Pe=ft=>ft.querySelector("ion-app")||ft.body,at=function(){var ft=(0,l.A)(function*(Xt,jt,On,br){On.classList.remove("overlay-hidden");const tr=jt(Xt.el,br);(!Xt.animated||!Re.c.getBoolean("animated",!0))&&tr.duration(0),Xt.keyboardClose&&tr.beforeAddWrite(()=>{const Dr=On.ownerDocument.activeElement;Dr?.matches("input,ion-input, ion-textarea")&&Dr.blur()});const Xn=rt.get(Xt)||[];return rt.set(Xt,[...Xn,tr]),yield tr.play(),!0});return function(jt,On,br,er){return ft.apply(this,arguments)}}(),Xe=(ft,Xt)=>{let jt;const On=new Promise(br=>jt=br);return Se(ft,Xt,br=>{jt(br.detail)}),On},Se=(ft,Xt,jt)=>{const On=br=>{(0,J.b)(ft,Xt,On),jt(br)};(0,J.a)(ft,Xt,On)},Tt=ft=>"cancel"===ft||ft===Nt,he=ft=>ft(),st=(ft,Xt)=>{if("function"==typeof ft)return Re.c.get("_zoneGate",he)(()=>{try{return ft(Xt)}catch(On){throw On}})},Nt="backdrop",xt="gesture",hn=39,Ln=ft=>{let jt,Xt=!1;const On=(0,we.C)(),br=(Xn=!1)=>{if(jt&&!Xn)return{delegate:jt,inline:Xt};const{el:Dr,hasController:Mr,delegate:sr}=ft;return Xt=null!==Dr.parentNode&&!Mr,jt=Xt?sr||On:sr,{inline:Xt,delegate:jt}};return{attachViewToDom:function(){var Xn=(0,l.A)(function*(Dr){const{delegate:Mr}=br(!0);if(Mr)return yield Mr.attachViewToDom(ft.el,Dr);const{hasController:sr}=ft;if(sr&&void 0!==Dr)throw new Error("framework delegate is missing");return null});return function(Mr){return Xn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Xn}=br();Xn&&void 0!==ft.el&&Xn.removeViewFromDom(ft.el.parentElement,ft.el)}}},qn=()=>{let ft;const Xt=()=>{ft&&(ft(),ft=void 0)};return{addClickListener:(On,br)=>{Xt();const er=void 0!==br?document.getElementById(br):null;er?ft=((Xn,Dr)=>{const Mr=()=>{Dr.present()};return Xn.addEventListener("click",Mr),()=>{Xn.removeEventListener("click",Mr)}})(er,On):(0,be.p)(`A trigger element with the ID "${br}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,On)},removeClickListener:Xt}},kn=ft=>{void 0!==U.d&&(0,Re.a)("android")&&ft.setAttribute("aria-hidden","true")},Nn=ft=>{var Xt;if(void 0===U.d)return;const jt=un(U.d);for(let On=jt.length-1;On>=0;On--){const br=jt[On],er=null!==(Xt=jt[On+1])&&void 0!==Xt?Xt:ft;(er.hasAttribute("aria-hidden")||"ION-TOAST"!==er.tagName)&&br.setAttribute("aria-hidden","true")}},zn=()=>{if(void 0===U.d)return;const ft=un(U.d);for(let Xt=ft.length-1;Xt>=0;Xt--){const jt=ft[Xt];if(jt.removeAttribute("aria-hidden"),"ION-TOAST"!==jt.tagName)break}},Yn="ion-disable-focus-trap"},4409:(En,ht,N)=>{"use strict";N.d(ht,{l:()=>Te});var l=N(467),U=N(2233),J=N(4438),G=N(5940),Re=N(7703),we=N(6822),Z=N(7150),be=N(8018),ve=N(7125);let Te=(()=>{class ue{constructor(xe,fe,rt,yt,it){this.adsService=xe,this.utilService=fe,this.router=rt,this.translationService=yt,this.translateService=it,this.isMenuOpen=!1,this.appUrl="",this.userData={}}ngOnInit(){this.loadUserData()}loadUserData(){const xe=localStorage.getItem("userData");this.userData=xe?JSON.parse(xe):null}onMenuOpen(){}onMenuClose(){}redirectToPrivacy(){this.utilService.redirectTo="privacy-policy",this.router.navigate(["/tabs/privacy-policy"])}otherApplication(){window.open("https://play.google.com/store/apps/details?id=com.ms.imageTotext","_blank")}writeReview(){window.open("https://play.google.com/store/apps/details?id=com.msproducts.fuelApp","_blank")}shareApps(){var xe=this;return(0,l.A)(function*(){const fe="https://play.google.com/store/apps/details?id=com.msproducts.fuelApp";xe.utilService.showLoading("Sharing...");const yt={en:`\u26fd Fuel Calculation Made Easy! \u{1f697}\u{1f4a8}\n  \n  Calculate fuel costs and efficiency effortlessly with our smart fuel calculation app! Know your trip costs before hitting the road.\n  \n  \u{1f6e2}\ufe0f CNG, Petrol, and Diesel fuel type calculations.\n\n  \u{1f4ca} Key Features:\n  \u2705 Calculate total fuel cost, mileage, and fuel efficiency.\n  \u2705 Keep track of your fuel expenses with history logs.\n  \u2705 Simple and user-friendly interface.\n  \u2705 Instant sharing of trip details with friends and family.\n  \n  \u{1f4f2} Download now: ${fe}\n  After installing, view the shared record under the 'History' section.`,hi:`\u26fd \u0908\u0902\u0927\u0928 \u0917\u0923\u0928\u093e \u0906\u0938\u093e\u0928! \u{1f697}\u{1f4a8}\n  \n  \u0939\u092e\u093e\u0930\u0947 \u0938\u094d\u092e\u093e\u0930\u094d\u091f \u0908\u0902\u0927\u0928 \u0917\u0923\u0928\u093e \u0910\u092a \u0915\u0947 \u0938\u093e\u0925 \u0905\u092a\u0928\u0947 \u092f\u093e\u0924\u094d\u0930\u093e \u0916\u0930\u094d\u091a\u094b\u0902 \u0915\u0940 \u0917\u0923\u0928\u093e \u0915\u0930\u0947\u0902! \u0938\u0921\u093c\u0915 \u092a\u0930 \u091c\u093e\u0928\u0947 \u0938\u0947 \u092a\u0939\u0932\u0947 \u0905\u092a\u0928\u0947 \u092f\u093e\u0924\u094d\u0930\u093e \u0916\u0930\u094d\u091a\u094b\u0902 \u0915\u094b \u091c\u093e\u0928\u0947\u0902\u0964\n  \n  \u{1f6e2}\ufe0f \u0938\u0940\u090f\u0928\u091c\u0940, \u092a\u0947\u091f\u094d\u0930\u094b\u0932 \u0914\u0930 \u0921\u0940\u091c\u0932 \u0908\u0902\u0927\u0928 \u092a\u094d\u0930\u0915\u093e\u0930 \u0915\u0940 \u0917\u0923\u0928\u093e \u0915\u093e \u0938\u092e\u0930\u094d\u0925\u0928 \u0915\u0930\u0924\u093e \u0939\u0948\u0964\n\n  \u{1f4ca} \u092e\u0941\u0916\u094d\u092f \u0935\u093f\u0936\u0947\u0937\u0924\u093e\u090f\u0901:\n  \u2705 \u0915\u0941\u0932 \u0908\u0902\u0927\u0928 \u0932\u093e\u0917\u0924, \u092e\u093e\u0907\u0932\u0947\u091c \u0914\u0930 \u0926\u0915\u094d\u0937\u0924\u093e \u0915\u0940 \u0917\u0923\u0928\u093e \u0915\u0930\u0947\u0902\u0964\n  \u2705 \u0905\u092a\u0928\u0947 \u0908\u0902\u0927\u0928 \u0916\u0930\u094d\u091a\u094b\u0902 \u0915\u093e \u0930\u093f\u0915\u0949\u0930\u094d\u0921 \u0930\u0916\u0947\u0902\u0964\n  \u2705 \u0938\u0930\u0932 \u0914\u0930 \u0909\u092a\u092f\u094b\u0917\u0915\u0930\u094d\u0924\u093e \u0915\u0947 \u0905\u0928\u0941\u0915\u0942\u0932 \u0907\u0902\u091f\u0930\u092b\u093c\u0947\u0938\u0964\n  \u2705 \u092f\u093e\u0924\u094d\u0930\u093e \u0935\u093f\u0935\u0930\u0923 \u0924\u0941\u0930\u0902\u0924 \u0938\u093e\u091d\u093e \u0915\u0930\u0947\u0902\u0964\n  \n  \u{1f4f2} \u0905\u092d\u0940 \u0921\u093e\u0909\u0928\u0932\u094b\u0921 \u0915\u0930\u0947\u0902: ${fe}\n  \u0907\u0902\u0938\u094d\u091f\u0949\u0932 \u0915\u0930\u0928\u0947 \u0915\u0947 \u092c\u093e\u0926, \u0938\u093e\u091d\u093e \u0915\u093f\u090f \u0917\u090f \u0930\u093f\u0915\u0949\u0930\u094d\u0921 \u0915\u094b '\u0907\u0924\u093f\u0939\u093e\u0938' \u0905\u0928\u0941\u092d\u093e\u0917 \u092e\u0947\u0902 \u0926\u0947\u0916\u0947\u0902\u0964`,gu:`\u26fd \u0ab8\u0ab0\u0ab3 \u0a87\u0a82\u0aa7\u0aa3 \u0a97\u0aa3\u0aa4\u0ab0\u0ac0! \u{1f697}\u{1f4a8}\n  \n  \u0a85\u0aae\u0abe\u0ab0\u0abe \u0ab8\u0acd\u0aae\u0abe\u0ab0\u0acd\u0a9f \u0a87\u0a82\u0aa7\u0aa3 \u0a97\u0aa3\u0aa4\u0ab0\u0ac0 \u0a8f\u0aaa \u0ab8\u0abe\u0aa5\u0ac7 \u0aa4\u0aae\u0abe\u0ab0\u0abe \u0aaa\u0acd\u0ab0\u0ab5\u0abe\u0ab8 \u0a96\u0ab0\u0acd\u0a9a\u0acb\u0aa8\u0ac0 \u0a97\u0aa3\u0aa4\u0ab0\u0ac0 \u0a95\u0ab0\u0acb! \u0ab0\u0acb\u0aa1 \u0aaa\u0ab0 \u0a9c\u0ab5\u0abe \u0aae\u0abe\u0a9f\u0ac7 \u0aa4\u0aae\u0abe\u0ab0\u0abe \u0a96\u0ab0\u0acd\u0a9a\u0acb \u0a9c\u0abe\u0aa3\u0acb.\n  \n  \u{1f4b0}\u{1f6e2}\ufe0f \u0ab8\u0ac0\u0a8f\u0aa8\u0a9c\u0ac0, \u0aaa\u0ac7\u0a9f\u0acd\u0ab0\u0acb\u0ab2 \u0a85\u0aa8\u0ac7 \u0aa1\u0ac0\u0a9d\u0ab2 \u0aaa\u0acd\u0ab0\u0a95\u0abe\u0ab0\u0aa8\u0abe \u0a87\u0a82\u0aa7\u0aa3 \u0a96\u0ab0\u0acd\u0a9a\u0aa8\u0ac0 \u0a97\u0aa3\u0aa4\u0ab0\u0ac0 \u0a95\u0ab0\u0ab5\u0abe\u0aae\u0abe\u0a82 \u0aae\u0aa6\u0aa6 \u0a95\u0ab0\u0ac7 \u0a9b\u0ac7.\n\n  \u{1f4ca} \u0aae\u0ac1\u0a96\u0acd\u0aaf Features:\n  \u2705 \u0a95\u0ac1\u0ab2 \u0a87\u0a82\u0aa7\u0aa3 \u0a96\u0ab0\u0acd\u0a9a, \u0aae\u0abe\u0a88\u0ab2\u0ac7\u0a9c \u0a85\u0aa8\u0ac7 \u0a95\u0abe\u0ab0\u0acd\u0aaf\u0a95\u0acd\u0ab7\u0aae\u0aa4\u0abe \u0a97\u0aa3\u0acb.\n  \u2705 \u0aa4\u0aae\u0abe\u0ab0\u0abe \u0a87\u0a82\u0aa7\u0aa3 \u0a96\u0ab0\u0acd\u0a9a\u0acb\u0aa8\u0abe \u0ab0\u0ac7\u0a95\u0acb\u0ab0\u0acd\u0aa1 \u0ab0\u0abe\u0a96\u0acb.\n  \u2705 \u0ab8\u0ab0\u0ab3 \u0a85\u0aa8\u0ac7 \u0ab5\u0aaa\u0ab0\u0abe\u0ab6\u0a95\u0ab0\u0acd\u0aa4\u0abe \u0aae\u0ac8\u0aa4\u0acd\u0ab0\u0ac0\u0aaa\u0ac2\u0ab0\u0acd\u0aa3 \u0a87\u0aa8\u0acd\u0a9f\u0ab0\u0aab\u0ac7\u0ab8.\n  \u2705 \u0aaa\u0acd\u0ab0\u0ab5\u0abe\u0ab8 \u0ab5\u0abf\u0a97\u0aa4\u0acb \u0aa4\u0abe\u0aa4\u0acd\u0a95\u0abe\u0ab2\u0abf\u0a95 \u0ab6\u0ac7\u0ab0 \u0a95\u0ab0\u0acb.\n  \n  \u{1f4f2} \u0ab9\u0aae\u0aa3\u0abe\u0a82 \u0aa1\u0abe\u0a89\u0aa8\u0ab2\u0acb\u0aa1 \u0a95\u0ab0\u0acb: ${fe}`},it=yt[xe.translateService.currentLang||"en"]||yt.en;try{yield U.S.share({title:xe.translateService.instant("SHARE_TITLE"),text:it,dialogTitle:xe.translateService.instant("SHARE_DIALOG_TITLE")}),xe.utilService.dismissLoading()}catch(We){console.error("Sharing failed:",We),xe.utilService.dismissLoading()}})()}logout(){localStorage.removeItem("userData"),localStorage.removeItem("userToken"),localStorage.removeItem("selectedFuel"),this.utilService.updateState("changeLanguage"),this.router.navigate(["/user-login"])}static{this.\u0275fac=function(fe){return new(fe||ue)(J.rXU(G.g),J.rXU(Re.a),J.rXU(we.Ix),J.rXU(Z.L),J.rXU(be.c$))}}static{this.\u0275cmp=J.VBU({type:ue,selectors:[["app-menu"]],decls:56,vars:22,consts:[["menu",""],["content-id","main-content","side","start",3,"ionDidOpen","ionDidClose"],[1,"custom-header-toolbar"],[1,"profile-container"],["src","../../../assets/image/avatar.jpg","alt","User Avatar",1,"profile-avatar"],[1,"user-name"],[1,"container"],["auto-hide","true"],["routerLink","/tabs/home","routerDirection","root"],["src","../../../assets/icon/fuel icon/gas-station.png","alt",""],[3,"click"],["src","../../../assets/icon/fuel icon/languages.png","alt",""],["src","../../../assets/icon/share.png","alt",""],["routerLink","/tabs/home","routerDirection","root",3,"click"],["src","../../../assets/icon/app.png","alt",""],["src","../../../assets/icon/star0.png","alt",""],["src","../../../assets/icon/fuel icon/privacy-policy1.png","alt",""],["src","../../../assets/icon/fuel icon/logout.png","alt",""],[1,"fuel-img"],["src","../../../assets/image/pmp.png","alt","Fuel Selection"],["id","main-content"]],template:function(fe,rt){if(1&fe){const yt=J.RV6();J.j41(0,"ion-menu",1,0),J.bIt("ionDidOpen",function(){return J.eBV(yt),J.Njj(rt.onMenuOpen())})("ionDidClose",function(){return J.eBV(yt),J.Njj(rt.onMenuClose())}),J.j41(2,"ion-header")(3,"ion-toolbar",2)(4,"div",3),J.nrm(5,"img",4),J.j41(6,"p",5),J.EFF(7),J.k0s()()()(),J.j41(8,"ion-content")(9,"div",6)(10,"ion-list")(11,"ion-menu-toggle",7)(12,"ion-item",8),J.nrm(13,"img",9),J.j41(14,"ion-label"),J.EFF(15),J.nI1(16,"translate"),J.k0s()()(),J.j41(17,"ion-menu-toggle",7)(18,"ion-item",10),J.bIt("click",function(){return J.eBV(yt),J.Njj(rt.translationService.changeLanguage())}),J.nrm(19,"img",11),J.j41(20,"ion-label"),J.EFF(21),J.nI1(22,"translate"),J.k0s()()(),J.j41(23,"ion-menu-toggle",7)(24,"ion-item",10),J.bIt("click",function(){return J.eBV(yt),J.Njj(rt.shareApps())}),J.nrm(25,"img",12),J.j41(26,"ion-label"),J.EFF(27),J.nI1(28,"translate"),J.k0s()()(),J.j41(29,"ion-menu-toggle",7)(30,"ion-item",13),J.bIt("click",function(){return J.eBV(yt),J.Njj(rt.otherApplication())}),J.nrm(31,"img",14),J.j41(32,"ion-label"),J.EFF(33),J.nI1(34,"translate"),J.k0s()()(),J.j41(35,"ion-menu-toggle",7)(36,"ion-item",13),J.bIt("click",function(){return J.eBV(yt),J.Njj(rt.writeReview())}),J.nrm(37,"img",15),J.j41(38,"ion-label"),J.EFF(39),J.nI1(40,"translate"),J.k0s()()(),J.j41(41,"ion-menu-toggle",7)(42,"ion-item",10),J.bIt("click",function(){return J.eBV(yt),J.Njj(rt.redirectToPrivacy())}),J.nrm(43,"img",16),J.j41(44,"ion-label"),J.EFF(45),J.nI1(46,"translate"),J.k0s()()(),J.j41(47,"ion-menu-toggle",7)(48,"ion-item",10),J.bIt("click",function(){return J.eBV(yt),J.Njj(rt.logout())}),J.nrm(49,"img",17),J.j41(50,"ion-label"),J.EFF(51),J.nI1(52,"translate"),J.k0s()()()()(),J.j41(53,"div",18),J.nrm(54,"img",19),J.k0s()()(),J.nrm(55,"ion-router-outlet",20)}2&fe&&(J.R7$(7),J.JRh((null==rt.userData?null:rt.userData.fullName)||"Guest User"),J.R7$(8),J.JRh(J.bMT(16,8,"HOME")),J.R7$(6),J.JRh(J.bMT(22,10,"CHANGE_LANGUAGE")),J.R7$(6),J.JRh(J.bMT(28,12,"SHARE_APP")),J.R7$(6),J.JRh(J.bMT(34,14,"OUR_OTHER_APPS")),J.R7$(6),J.JRh(J.bMT(40,16,"WRITE_REVIEW")),J.R7$(6),J.JRh(J.bMT(46,18,"PRIVACY_POLICY")),J.R7$(6),J.JRh(J.bMT(52,20,"LOGOUT")))},dependencies:[ve.W9,ve.eU,ve.uz,ve.he,ve.nf,ve.oS,ve.cA,ve.ai,ve.Rg,ve.N7,we.Wk,be.D9],styles:["ion-list[_ngcontent-%COMP%]{position:absolute;top:100px;width:100%;background:transparent}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;color:#fff}.user-name[_ngcontent-%COMP%]{text-transform:capitalize}.profile-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.profile-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:10px}ion-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:10px}ion-label[_ngcontent-%COMP%]{font-size:16px}.fuel-img[_ngcontent-%COMP%]{position:absolute;bottom:50px;justify-content:center;display:flex}"]})}}return ue})()},8454:(En,ht,N)=>{"use strict";N.d(ht,{G:()=>Re});var l=N(177),U=N(7125),J=N(8018),G=N(4438);let Re=(()=>{class we{static{this.\u0275fac=function(ve){return new(ve||we)}}static{this.\u0275mod=G.$C({type:we})}static{this.\u0275inj=G.G2t({imports:[l.MD,U.bv,J.h,J.h]})}}return we})()},5940:(En,ht,N)=>{"use strict";N.d(ht,{g:()=>ze});var l=N(467),U=N(5083),Re=function(Fe){return Fe.TOP_CENTER="TOP_CENTER",Fe.CENTER="CENTER",Fe.BOTTOM_CENTER="BOTTOM_CENTER",Fe}(Re||{}),we=function(Fe){return Fe.BANNER="BANNER",Fe.FULL_BANNER="FULL_BANNER",Fe.LARGE_BANNER="LARGE_BANNER",Fe.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",Fe.LEADERBOARD="LEADERBOARD",Fe.ADAPTIVE_BANNER="ADAPTIVE_BANNER",Fe.SMART_BANNER="SMART_BANNER",Fe}(we||{}),Z=function(Fe){return Fe.Loaded="interstitialAdLoaded",Fe.FailedToLoad="interstitialAdFailedToLoad",Fe.Showed="interstitialAdShowed",Fe.FailedToShow="interstitialAdFailedToShow",Fe.Dismissed="interstitialAdDismissed",Fe}(Z||{}),ve=function(Fe){return Fe.Loaded="onRewardedVideoAdLoaded",Fe.FailedToLoad="onRewardedVideoAdFailedToLoad",Fe.Showed="onRewardedVideoAdShowed",Fe.FailedToShow="onRewardedVideoAdFailedToShow",Fe.Dismissed="onRewardedVideoAdDismissed",Fe.Rewarded="onRewardedVideoAdReward",Fe}(ve||{});N(2844);const ke=(0,U.F3)("AdMob",{web:()=>N.e(6077).then(N.bind(N,6077)).then(Fe=>new Fe.AdMobWeb)}),xe=(0,U.F3)("SafeArea",{web:()=>N.e(7267).then(N.bind(N,7267)).then(Fe=>new Fe.SafeAreaWeb)}),fe=(0,U.F3)("Device",{web:()=>N.e(8622).then(N.bind(N,8622)).then(Fe=>new Fe.DeviceWeb)});var rt=N(4438),yt=N(1626),it=N(7125),We=N(2872),At=N(6822),Pt=N(1941);let ze=(()=>{class Fe{constructor(qe,nt,bt,H,He){this.http=qe,this.alertController=nt,this.router=bt,this.platform=H,this.loadingService=He,this.isBannerShown=!1,this.isBannerHidden=!1,this.marginTop=0,this.ANDROID_ADMOB_BANNER_ID="ca-app-pub-1047405219515945/2955326580",this.ANDROID_ADMOB_REWARDED_ID="ca-app-pub-1047405219515945/9340803359",this.ANDROID_ADMOB_INTERSTITAIL_REWARDED_ID="ca-app-pub-1047405219515945/7313405815",this.ANDROID_ADMOB_INTERSTITAIL_ID="ca-app-pub-1047405219515945/8601586699"}initializeAdMobSDK(){return(0,l.A)(function*(){yield ke.initialize()})()}showAdMobBanner(){var qe=this;return(0,l.A)(function*(){if(!qe.isBannerShown)try{const nt=yield fe.getInfo(),bt=parseInt(nt.osVersion||"0",10);if("android"===nt.platform&&bt>=13){const H=yield xe.getSafeAreaInsets(),{insets:He}=H,wt={adId:qe.ANDROID_ADMOB_BANNER_ID,adSize:we.FULL_BANNER,position:Re.BOTTOM_CENTER,margin:He.bottom};yield ke.showBanner(wt),console.log(`Banner shown with safe area margin: ${He.bottom}px`)}else{const H={adId:qe.ANDROID_ADMOB_BANNER_ID,adSize:we.FULL_BANNER,position:Re.BOTTOM_CENTER};yield ke.showBanner(H),console.log("Banner shown without safe area margin")}qe.isBannerShown=!0}catch(nt){console.error("Failed to show banner ad:",nt)}})()}hideAdMobBanner(){return(0,l.A)(function*(){yield ke.hideBanner()})()}resumeAdMobBanner(){return(0,l.A)(function*(){yield ke.resumeBanner()})()}hideAdMobBanner_old(qe){qe?(this.isBannerHidden=!0,ke.hideBanner()):this.resumeAdMobBanner()}resumeAdMobBanner_old(){try{ke.resumeBanner(),this.isBannerHidden=!1}catch(qe){console.error("Failed to hide banner ad:",qe)}}removeAdMobBanner(){ke.removeBanner(),this.isBannerShown=!1}showAdMobRewardedAd(){var qe=this;return(0,l.A)(function*(){qe.loadingService.startLoader(),ke.addListener(ve.Loaded,H=>{qe.loadingService.stopLoader()}),ke.addListener(ve.FailedToLoad,H=>{setTimeout(()=>{qe.loadingService.stopLoader()},3e3)});const nt=yield ke.addListener(ve.Rewarded,H=>{nt.remove(),qe.loadingService.stopLoader()}),bt={adId:qe.ANDROID_ADMOB_INTERSTITAIL_REWARDED_ID};yield ke.prepareRewardVideoAd(bt),yield ke.showRewardVideoAd()})()}showAdMobInterstitialAd(){var qe=this;return(0,l.A)(function*(){qe.loadingService.startLoader(),ke.addListener(Z.Loaded,He=>{setTimeout(()=>{qe.loadingService.stopLoader()},3e3)}),ke.addListener(Z.FailedToLoad,He=>{setTimeout(()=>{qe.loadingService.stopLoader()},3e3)});const nt=yield xe.getSafeAreaInsets(),{insets:bt}=nt,H={adId:qe.ANDROID_ADMOB_INTERSTITAIL_ID,margin:bt.bottom};yield ke.prepareInterstitial(H),yield ke.showInterstitial(),qe.loadingService.stopLoader()})()}getSafeArea(){return(0,l.A)(function*(){return yield xe.getSafeAreaInsets()})()}static{this.\u0275fac=function(nt){return new(nt||Fe)(rt.KVO(yt.Qq),rt.KVO(it.hG),rt.KVO(At.Ix),rt.KVO(We.OD),rt.KVO(Pt.U))}}static{this.\u0275prov=rt.jDH({token:Fe,factory:Fe.\u0275fac})}}return Fe})()},4009:(En,ht,N)=>{"use strict";N.d(ht,{u:()=>Re});var l=N(467),U=N(4438),J=N(49),G=N(6822);let Re=(()=>{class we{constructor(be,ve){this.db=be,this.router=ve}generateToken(){return Math.random().toString(36).substr(2)+Math.random().toString(36).substr(2)}getUserData(be){var ve=this;return(0,l.A)(function*(){const Te=yield ve.db.database.ref("users").orderByChild("phoneNumber").equalTo(be).once("value");if(Te.exists()){const ue=Object.keys(Te.val())[0];return Te.val()[ue]}return null})()}saveUserData(be){var ve=this;return(0,l.A)(function*(){yield ve.db.object(`users/${be.village}`).set({surName:be.surName,name:be.Name,fullName:be.fullName,village:be.village,email:be.email||null,phoneNumber:be.phoneNumber,createdAt:(new Date).toISOString(),token:ve.generateToken()}),localStorage.setItem("userData",JSON.stringify(be)),localStorage.setItem("userToken",ve.generateToken())})()}static{this.\u0275fac=function(ve){return new(ve||we)(U.KVO(J.w$),U.KVO(G.Ix))}}static{this.\u0275prov=U.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}}return we})()},4518:(En,ht,N)=>{"use strict";N.d(ht,{p:()=>Te});var l=N(467);const J=(0,N(5083).F3)("App",{web:()=>N.e(9303).then(N.bind(N,9303)).then(ue=>new ue.AppWeb)});var G=N(4438),Re=N(7125),we=N(5940);let Z=(()=>{class ue{constructor(xe,fe){this.popoverController=xe,this.adsService=fe}ngOnInit(){}confirmExit(){this.popoverController.dismiss({confirmExit:!0})}cancelExit(){this.popoverController.dismiss({confirmExit:!1})}static{this.\u0275fac=function(fe){return new(fe||ue)(G.rXU(Re.IE),G.rXU(we.g))}}static{this.\u0275cmp=G.VBU({type:ue,selectors:[["app-confirm-exit-popover"]],decls:12,vars:0,consts:[[2,"text-align","center"],[1,"ion-padding"],[1,"text-center"],[1,"button-row"],["color","danger",3,"click"],["color","primary",3,"click"]],template:function(fe,rt){1&fe&&(G.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),G.EFF(3,"Exit App"),G.k0s()()(),G.j41(4,"ion-content",1)(5,"p",2),G.EFF(6,"Are you sure you want to exit the app?"),G.k0s(),G.j41(7,"div",3)(8,"ion-button",4),G.bIt("click",function(){return rt.confirmExit()}),G.EFF(9,"Exit"),G.k0s(),G.j41(10,"ion-button",5),G.bIt("click",function(){return rt.cancelExit()}),G.EFF(11,"Cancel"),G.k0s()()())},dependencies:[Re.Jm,Re.W9,Re.eU,Re.BC,Re.ai],styles:["ion-header[_ngcontent-%COMP%]{--webkit-box-shadow: none;box-shadow:none;border-bottom:1px solid gray}.button-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px}.text-center[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}ion-button[_ngcontent-%COMP%]{flex:1;max-width:120px;--box-shadow: none}"]})}}return ue})();var be=N(2872),ve=N(6822);let Te=(()=>{class ue{constructor(xe,fe,rt){this.platform=xe,this.popoverController=fe,this.router=rt,this.backPressCount=0,this.isPopoverOpen=!1}initializeBackButtonHandler(){var xe=this;this.platform.backButton.subscribeWithPriority(10,(0,l.A)(function*(){const fe=xe.router.url;fe.includes("/tabs/home")?xe.handleExit():(fe.includes("/tabs/scan"),xe.router.navigate(["/tabs/home"]))}))}handleExit(){var xe=this;return(0,l.A)(function*(){if(xe.isPopoverOpen)return;if(0===xe.backPressCount)return xe.backPressCount++,void(xe.backPressTimer=setTimeout(()=>{xe.backPressCount=0},2e3));clearTimeout(xe.backPressTimer),xe.backPressCount=0,xe.isPopoverOpen=!0;const fe=yield xe.popoverController.create({component:Z,backdropDismiss:!1,cssClass:"custom-popover-class"});yield fe.present();const{data:rt}=yield fe.onDidDismiss();xe.isPopoverOpen=!1,rt&&rt.confirmExit&&J.minimizeApp()})()}static{this.\u0275fac=function(fe){return new(fe||ue)(G.KVO(be.OD),G.KVO(Re.IE),G.KVO(ve.Ix))}}static{this.\u0275prov=G.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"})}}return ue})()},3651:(En,ht,N)=>{"use strict";N.d(ht,{Y:()=>J});var l=N(4438),U=N(7703);let J=(()=>{class G{constructor(we){this.utilService=we,this.dbName="FuelCalculatorDB",this.dbVersion=1,this.storeName="fuel_cost_history",this.db=null,this.initDatabase()}initDatabase(){const we=indexedDB.open(this.dbName,this.dbVersion);we.onupgradeneeded=Z=>{const be=Z.target.result;be.objectStoreNames.contains(this.storeName)||be.createObjectStore(this.storeName,{keyPath:"id",autoIncrement:!0}).createIndex("date","date",{unique:!1})},we.onsuccess=Z=>{this.db=Z.target.result},we.onerror=Z=>{console.error("Error initializing IndexedDB:",Z.target.error)}}saveRecord(we){return new Promise((Z,be)=>{if(!this.db)return void be("Database not initialized");const ue=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).add(we);ue.onsuccess=ke=>{Z(ke.target.result)},ue.onerror=ke=>{console.error("Error saving record:",ke.target.error),be(ke.target.error)}})}getAllRecords(){return new Promise((we,Z)=>{if(!this.db)return console.error("Database is not initialized."),void Z("Database not initialized");try{const Te=this.db.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();Te.onsuccess=ue=>{we(ue.target.result)},Te.onerror=ue=>{console.error("Error retrieving records:",ue.target.error),Z("Failed to retrieve records.")}}catch(be){console.error("Unexpected error in getAllRecords:",be),Z("Unexpected error retrieving records.")}})}updateRecord(we){return new Promise((Z,be)=>{if(!this.db)return void be("Database not initialized");if(!we.id)return void be("Record ID is missing");const ue=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(we);ue.onsuccess=()=>{Z()},ue.onerror=ke=>{console.error("Error updating record:",ke.target.error),be(ke.target.error)}})}deleteRecord(we){return new Promise((Z,be)=>{if(!this.db)return be("Database not initialized"),void this.utilService.dismissLoading();const ue=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(we);ue.onsuccess=()=>{this.utilService.dismissLoading(),Z()},ue.onerror=ke=>{console.error("Error deleting record:",ke.target.error),this.utilService.dismissLoading(),be(ke.target.error)}})}clearAllRecords(){return new Promise((we,Z)=>{if(!this.db)return void Z("Database not initialized");const Te=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).clear();Te.onsuccess=()=>{we()},Te.onerror=ue=>{console.error("Error clearing records:",ue.target.error),Z(ue.target.error)}})}static{this.\u0275fac=function(Z){return new(Z||G)(l.KVO(U.a))}}static{this.\u0275prov=l.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})()},1941:(En,ht,N)=>{"use strict";N.d(ht,{U:()=>Re});var l=N(467),U=N(4438);let J=(()=>{class we{constructor(){}ngOnInit(){}static{this.\u0275fac=function(ve){return new(ve||we)}}static{this.\u0275cmp=U.VBU({type:we,selectors:[["app-custom-loader"]],decls:6,vars:0,consts:[[1,"loader"],[1,"loaderParent"],[1,"loaderChild"],[1,"lds-ripple"]],template:function(ve,Te){1&ve&&(U.nrm(0,"div",0),U.j41(1,"div",1)(2,"div",2)(3,"div",3),U.nrm(4,"div")(5,"div"),U.k0s()()())},styles:[".loaderParent[_ngcontent-%COMP%]{height:100%;position:relative;background:#0006}.loaderParent[_ngcontent-%COMP%]   .loaderChild[_ngcontent-%COMP%]{margin:0;text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.loaderParent[_ngcontent-%COMP%]   .lds-ripple[_ngcontent-%COMP%]{display:inline-block;position:relative;width:64px;height:64px}.loaderParent[_ngcontent-%COMP%]   .lds-ripple[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;border:4px solid #fff;opacity:1;border-radius:50%;animation:_ngcontent-%COMP%_lds-ripple 1s cubic-bezier(0,.2,.8,1) infinite}.loaderParent[_ngcontent-%COMP%]   .lds-ripple[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.5s}@keyframes _ngcontent-%COMP%_lds-ripple{0%{top:28px;left:28px;width:0;height:0;opacity:1}to{top:-1px;left:-1px;width:58px;height:58px;opacity:0}}"]})}}return we})();var G=N(7125);let Re=(()=>{class we{constructor(be){this.modalCtrl=be}startLoader(){var be=this;return(0,l.A)(function*(){return be.modal=yield be.modalCtrl.create({component:J,cssClass:"loader-modal",backdropDismiss:!1}),yield be.modal.present()})()}stopLoader(){this.modal.dismiss()}static{this.\u0275fac=function(ve){return new(ve||we)(U.KVO(G.W3))}}static{this.\u0275prov=U.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}}return we})()},2191:(En,ht,N)=>{"use strict";N.d(ht,{A:()=>we});var l=N(467);const J=(0,N(5083).F3)("Network",{web:()=>N.e(3780).then(N.bind(N,3780)).then(Z=>new Z.NetworkWeb)});var G=N(4412),Re=N(4438);let we=(()=>{class Z{constructor(ve){this.zone=ve,this.networkStatus=new G.t(!0),this.initializeNetworkListener()}initializeNetworkListener(){var ve=this;return(0,l.A)(function*(){const Te=yield J.getStatus();ve.zone.run(()=>{ve.networkStatus.next(Te.connected)}),J.addListener("networkStatusChange",ue=>{ve.zone.run(()=>{ve.networkStatus.next(ue.connected)})})})()}getNetworkStatus(){return this.networkStatus.asObservable()}static{this.\u0275fac=function(Te){return new(Te||Z)(Re.KVO(Re.SKi))}}static{this.\u0275prov=Re.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}return Z})()},7150:(En,ht,N)=>{"use strict";N.d(ht,{L:()=>Re});var l=N(4438),U=N(8018),J=N(6822),G=N(7703);let Re=(()=>{class we{constructor(be,ve,Te){this.translate=be,this.router=ve,this.utilService=Te}changeFuelType(){this.utilService.updateState("changeFuelType"),this.router.navigate(["tabs/language-selection"])}changeLanguage(){this.utilService.updateState("changeLanguage"),this.router.navigate(["tabs/language-selection"])}initTranslate(){const be=localStorage.getItem("appLanguage");if(be)this.translate.use(be);else{const ve=this.translate.getBrowserLang();this.translate.use(ve?.match(/en|hi|gu/)?ve:"en")}}setLanguage(be){this.translate.use(be),localStorage.setItem("appLanguage",be)}static{this.\u0275fac=function(ve){return new(ve||we)(l.KVO(U.c$),l.KVO(J.Ix),l.KVO(G.a))}}static{this.\u0275prov=l.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}}return we})()},7703:(En,ht,N)=>{"use strict";N.d(ht,{a:()=>Re});var l=N(467),U=N(4412),J=N(4438),G=N(7125);let Re=(()=>{class we{constructor(be,ve,Te){this.alertController=be,this.toastController=ve,this.loadingController=Te,this.stateSubject=new U.t(""),this.state$=this.stateSubject.asObservable(),this.updateFuelType=new U.t(!1),this.fuelState$=this.updateFuelType.asObservable(),this.loading=null,this.isLoading=!1,this.redirectTo="",this.isOnline=!0}updateState(be){this.stateSubject.next(be)}updateFuelState(be){this.updateFuelType.next(be)}showLoading(be="Please wait..."){var ve=this;return(0,l.A)(function*(){ve.isLoading?console.warn("Loading is already active, skipping duplicate call"):(ve.isLoading=!0,ve.loading=yield ve.loadingController.create({spinner:"lines",cssClass:"custom-loading",backdropDismiss:!1}),yield ve.loading.present())})()}dismissLoading(){var be=this;return(0,l.A)(function*(){be.loading&&(yield be.loading.dismiss(),be.loading=null),be.isLoading=!1})()}showMessageModal(be,ve,Te="OK"){var ue=this;return(0,l.A)(function*(){yield(yield ue.alertController.create({header:be,message:ve,buttons:[{text:Te,cssClass:"alert-button-primary",handler:()=>{}}],cssClass:"alert-modal-class",backdropDismiss:!0})).present()})()}showConfirmationAlert(be,ve,Te){var ue=this;return(0,l.A)(function*(){yield(yield ue.alertController.create({header:"Confirm",message:be,backdropDismiss:!1,buttons:[{text:"No",role:"cancel",handler:Te},{text:"Yes",handler:ve}]})).present()})()}showToast(be,ve=1e3,Te="success"){var ue=this;return(0,l.A)(function*(){yield(yield ue.toastController.create({message:be,duration:ve,color:Te,position:"top"})).present()})()}allowOnlyLetters(be){const ve=be.key.charCodeAt(0);ve>=65&&ve<=90||ve>=97&&ve<=122||32===ve||be.preventDefault()}allowOnlyNumbers(be){const ve=be.key.charCodeAt(0);ve>=48&&ve<=57||be.preventDefault()}static{this.\u0275fac=function(ve){return new(ve||we)(J.KVO(G.hG),J.KVO(G.K_),J.KVO(G.Xi))}}static{this.\u0275prov=J.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}}return we})()},6059:(En,ht,N)=>{"use strict";var l=N(345),J=(N(4511),N(6822)),G=N(2872),Re=N(7125),we=N(9417),Z=N(467),be=N(5083),ve=function(a){return a.Dark="DARK",a.Light="LIGHT",a.Default="DEFAULT",a}(ve||{});const xe=(0,be.F3)("StatusBar");var fe=N(4438),rt=N(7150);let yt=(()=>{class a{constructor(r,o){this.popoverCtrl=r,this.translationService=o}selectLanguage(r){this.translationService.setLanguage(r),this.popoverCtrl.dismiss()}static{this.\u0275fac=function(o){return new(o||a)(fe.rXU(Re.IE),fe.rXU(rt.L))}}static{this.\u0275cmp=fe.VBU({type:a,selectors:[["app-language-popover"]],decls:11,vars:0,consts:[[1,"ion-padding"],["button","",3,"click"]],template:function(o,u){1&o&&(fe.j41(0,"ion-content",0)(1,"ion-list")(2,"ion-item",1),fe.bIt("click",function(){return u.selectLanguage("en")}),fe.j41(3,"ion-label"),fe.EFF(4,"English"),fe.k0s()(),fe.j41(5,"ion-item",1),fe.bIt("click",function(){return u.selectLanguage("hi")}),fe.j41(6,"ion-label"),fe.EFF(7,"\u0939\u093f\u0902\u0926\u0940"),fe.k0s()(),fe.j41(8,"ion-item",1),fe.bIt("click",function(){return u.selectLanguage("gu")}),fe.j41(9,"ion-label"),fe.EFF(10,"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0"),fe.k0s()()()())},dependencies:[Re.W9,Re.uz,Re.he,Re.nf]})}}return a})();function it(a,t){this.v=a,this.k=t}function We(a){return new it(a,0)}function Pt(a){var t,r;function o(m,E){try{var P=a[m](E),k=P.value,q=k instanceof it;Promise.resolve(q?k.v:k).then(function(ge){if(q){var Be="return"===m?"return":"next";if(!k.k||ge.done)return o(Be,ge);ge=a[Be](ge).value}u(P.done?"return":"normal",ge)},function(ge){o("throw",ge)})}catch(ge){u("throw",ge)}}function u(m,E){switch(m){case"return":t.resolve({value:E,done:!0});break;case"throw":t.reject(E);break;default:t.resolve({value:E,done:!1})}(t=t.next)?o(t.key,t.arg):r=null}this._invoke=function(m,E){return new Promise(function(P,k){var q={key:m,arg:E,resolve:P,reject:k,next:null};r?r=r.next=q:(t=r=q,o(m,E))})},"function"!=typeof a.return&&(this.return=void 0)}Pt.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Pt.prototype.next=function(a){return this._invoke("next",a)},Pt.prototype.throw=function(a){return this._invoke("throw",a)},Pt.prototype.return=function(a){return this._invoke("return",a)};const ze=(a,t)=>t.some(r=>a instanceof r);let Fe,ot;const bt=new WeakMap,H=new WeakMap,He=new WeakMap;let Mt={get(a,t,r){if(a instanceof IDBTransaction){if("done"===t)return bt.get(a);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return De(a[t])},set:(a,t,r)=>(a[t]=r,!0),has:(a,t)=>a instanceof IDBTransaction&&("done"===t||"store"===t)||t in a};function kt(a){Mt=a(Mt)}function tt(a){return"function"==typeof a?function un(a){return function nt(){return ot||(ot=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(a)?function(...t){return a.apply(Ie(this),t),De(this.request)}:function(...t){return De(a.apply(Ie(this),t))}}(a):(a instanceof IDBTransaction&&function Ke(a){if(bt.has(a))return;const t=new Promise((r,o)=>{const u=()=>{a.removeEventListener("complete",m),a.removeEventListener("error",E),a.removeEventListener("abort",E)},m=()=>{r(),u()},E=()=>{o(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",m),a.addEventListener("error",E),a.addEventListener("abort",E)});bt.set(a,t)}(a),ze(a,function qe(){return Fe||(Fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(a,Mt):a)}function De(a){if(a instanceof IDBRequest)return function wt(a){const t=new Promise((r,o)=>{const u=()=>{a.removeEventListener("success",m),a.removeEventListener("error",E)},m=()=>{r(De(a.result)),u()},E=()=>{o(a.error),u()};a.addEventListener("success",m),a.addEventListener("error",E)});return He.set(t,a),t}(a);if(H.has(a))return H.get(a);const t=tt(a);return t!==a&&(H.set(a,t),He.set(t,a)),t}const Ie=a=>He.get(a),Pe=["get","getKey","getAll","getAllKeys","count"],at=["put","add","delete","clear"],Xe=new Map;function Se(a,t){if(!(a instanceof IDBDatabase)||t in a||"string"!=typeof t)return;if(Xe.get(t))return Xe.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,u=at.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!u&&!Pe.includes(r))return;const m=function(){var E=(0,Z.A)(function*(P,...k){const q=this.transaction(P,u?"readwrite":"readonly");let ge=q.store;return o&&(ge=ge.index(k.shift())),(yield Promise.all([ge[r](...k),u&&q.done]))[0]});return function(k){return E.apply(this,arguments)}}();return Xe.set(t,m),m}kt(a=>({...a,get:(t,r,o)=>Se(t,r)||a.get(t,r,o),has:(t,r)=>!!Se(t,r)||a.has(t,r)}));const Tt=["continue","continuePrimaryKey","advance"],he={},st=new WeakMap,Nt=new WeakMap,xt={get(a,t){if(!Tt.includes(t))return a[t];let r=he[t];return r||(r=he[t]=function(...o){st.set(this,Nt.get(this)[t](...o))}),r}};function hn(){return Ln.apply(this,arguments)}function Ln(){return Ln=function At(a){return function(){return new Pt(a.apply(this,arguments))}}(function*(...a){let t=this;if(t instanceof IDBCursor||(t=yield We(t.openCursor(...a))),!t)return;const r=new Proxy(t,xt);for(Nt.set(r,t),He.set(r,Ie(t));t;)yield r,t=yield We(st.get(r)||t.continue()),st.delete(r)}),Ln.apply(this,arguments)}function qn(a,t){return t===Symbol.asyncIterator&&ze(a,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&ze(a,[IDBIndex,IDBObjectStore])}kt(a=>({...a,get:(t,r,o)=>qn(t,r)?hn:a.get(t,r,o),has:(t,r)=>qn(t,r)||a.has(t,r)}));let kn=(()=>{class a{constructor(){this.initDB()}initDB(){var r=this;return(0,Z.A)(function*(){r.dbPromise=function Me(a,t,{blocked:r,upgrade:o,blocking:u,terminated:m}={}){const E=indexedDB.open(a,t),P=De(E);return o&&E.addEventListener("upgradeneeded",k=>{o(De(E.result),k.oldVersion,k.newVersion,De(E.transaction),k)}),r&&E.addEventListener("blocked",k=>r(k.oldVersion,k.newVersion,k)),P.then(k=>{m&&k.addEventListener("close",()=>m()),u&&k.addEventListener("versionchange",q=>u(q.oldVersion,q.newVersion,q))}).catch(()=>{}),P}("FuelAppDataBase",1,{upgrade(o){o.objectStoreNames.contains("fuelRecords")||o.createObjectStore("fuelRecords",{keyPath:"id",autoIncrement:!0}).createIndex("id","id",{unique:!0})}})})()}addItem(r){var o=this;return(0,Z.A)(function*(){return yield(yield o.dbPromise).add("fuelRecords",{id:Date.now(),...r})})()}getAllItems(){var r=this;return(0,Z.A)(function*(){return yield(yield r.dbPromise).getAll("fuelRecords")})()}getItemById(r){var o=this;return(0,Z.A)(function*(){return yield(yield o.dbPromise).get("fuelRecords",r)})()}updateItem(r,o){var u=this;return(0,Z.A)(function*(){yield(yield u.dbPromise).put("fuelRecords",{id:r,...o})})()}deleteItem(r){var o=this;return(0,Z.A)(function*(){yield(yield o.dbPromise).delete("fuelRecords",r)})()}static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275prov=fe.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var Nn=N(5940),zn=N(4518),Yn=function(a){return a.Prompt="PROMPT",a.Camera="CAMERA",a.Photos="PHOTOS",a}(Yn||{}),ft=function(a){return a.Rear="REAR",a.Front="FRONT",a}(ft||{});class jt extends be.E_{getPhoto(t){var r=this;return(0,Z.A)(function*(){return new Promise(function(){var o=(0,Z.A)(function*(u,m){if(t.webUseInput||t.source===Yn.Photos)r.fileInputExperience(t,u,m);else if(t.source===Yn.Prompt){let E=document.querySelector("pwa-action-sheet");E||(E=document.createElement("pwa-action-sheet"),document.body.appendChild(E)),E.header=t.promptLabelHeader||"Photo",E.cancelable=!1,E.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],E.addEventListener("onSelection",function(){var P=(0,Z.A)(function*(k){0===k.detail?r.fileInputExperience(t,u,m):r.cameraExperience(t,u,m)});return function(k){return P.apply(this,arguments)}}())}else r.cameraExperience(t,u,m)});return function(u,m){return o.apply(this,arguments)}}())})()}pickImages(t){var r=this;return(0,Z.A)(function*(){return new Promise(function(){var o=(0,Z.A)(function*(u,m){r.multipleFileInputExperience(u,m)});return function(u,m){return o.apply(this,arguments)}}())})()}cameraExperience(t,r,o){var u=this;return(0,Z.A)(function*(){if(customElements.get("pwa-camera-modal")){const m=document.createElement("pwa-camera-modal");m.facingMode=t.direction===ft.Front?"user":"environment",document.body.appendChild(m);try{yield m.componentOnReady(),m.addEventListener("onPhoto",function(){var E=(0,Z.A)(function*(P){const k=P.detail;null===k?o(new be.I9("User cancelled photos app")):k instanceof Error?o(k):r(yield u._getCameraPhoto(k,t)),m.dismiss(),document.body.removeChild(m)});return function(P){return E.apply(this,arguments)}}()),m.present()}catch{u.fileInputExperience(t,r,o)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),u.fileInputExperience(t,r,o)})()}fileInputExperience(t,r,o){let u=document.querySelector("#_capacitor-camera-input");const m=()=>{var E;null===(E=u.parentNode)||void 0===E||E.removeChild(u)};u||(u=document.createElement("input"),u.id="_capacitor-camera-input",u.type="file",u.hidden=!0,document.body.appendChild(u),u.addEventListener("change",E=>{const P=u.files[0];let k="jpeg";if("image/png"===P.type?k="png":"image/gif"===P.type&&(k="gif"),"dataUrl"===t.resultType||"base64"===t.resultType){const q=new FileReader;q.addEventListener("load",()=>{if("dataUrl"===t.resultType)r({dataUrl:q.result,format:k});else if("base64"===t.resultType){const ge=q.result.split(",")[1];r({base64String:ge,format:k})}m()}),q.readAsDataURL(P)}else r({webPath:URL.createObjectURL(P),format:k}),m()}),u.addEventListener("cancel",E=>{o(new be.I9("User cancelled photos app")),m()})),u.accept="image/*",u.capture=!0,t.source===Yn.Photos||t.source===Yn.Prompt?u.removeAttribute("capture"):t.direction===ft.Front?u.capture="user":t.direction===ft.Rear&&(u.capture="environment"),u.click()}multipleFileInputExperience(t,r){let o=document.querySelector("#_capacitor-camera-input-multiple");const u=()=>{var m;null===(m=o.parentNode)||void 0===m||m.removeChild(o)};o||(o=document.createElement("input"),o.id="_capacitor-camera-input-multiple",o.type="file",o.hidden=!0,o.multiple=!0,document.body.appendChild(o),o.addEventListener("change",m=>{const E=[];for(let P=0;P<o.files.length;P++){const k=o.files[P];let q="jpeg";"image/png"===k.type?q="png":"image/gif"===k.type&&(q="gif"),E.push({webPath:URL.createObjectURL(k),format:q})}t({photos:E}),u()}),o.addEventListener("cancel",m=>{r(new be.I9("User cancelled photos app")),u()})),o.accept="image/*",o.click()}_getCameraPhoto(t,r){return new Promise((o,u)=>{const m=new FileReader,E=t.type.split("/")[1];"uri"===r.resultType?o({webPath:URL.createObjectURL(t),format:E,saved:!1}):(m.readAsDataURL(t),m.onloadend=()=>{const P=m.result;o("dataUrl"===r.resultType?{dataUrl:P,format:E,saved:!1}:{base64String:P.split(",")[1],format:E,saved:!1})},m.onerror=P=>{u(P)})})}checkPermissions(){var t=this;return(0,Z.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw t.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw t.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var t=this;return(0,Z.A)(function*(){throw t.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var t=this;return(0,Z.A)(function*(){throw t.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var t=this;return(0,Z.A)(function*(){throw t.unavailable("Not implemented on web.")})()}}new jt;const br=(0,be.F3)("Camera",{web:()=>new jt}),er=(0,be.F3)("PushNotifications",{});var tr=N(4412);let Xn=(()=>{class a{constructor(){this.dbName="AppDatabase",this.dbVersion=1,this.storeNames=["fuelCostHistory","appSettings"],this.db=null,this.initDatabase()}initDatabase(){const r=indexedDB.open(this.dbName,this.dbVersion);r.onupgradeneeded=o=>{const u=o.target.result;for(const m of this.storeNames)u.objectStoreNames.contains(m)||u.createObjectStore(m,"appSettings"===m?{keyPath:"key"}:{keyPath:"id",autoIncrement:!0})},r.onsuccess=o=>{this.db=o.target.result},r.onerror=o=>{console.error("Error opening IndexedDB:",o.target.error)}}setStorage(r,o){return new Promise((u,m)=>{if(!this.db)return void m("Database not initialized.");const k=this.db.transaction("appSettings","readwrite").objectStore("appSettings").put({key:r,value:o});k.onsuccess=()=>u(),k.onerror=q=>m(q.target.error)})}getStorage(r){return new Promise((o,u)=>{if(!this.db)return void u("Database not initialized.");const P=this.db.transaction("appSettings","readonly").objectStore("appSettings").get(r);P.onsuccess=k=>{o(k.target.result||null)},P.onerror=k=>{u(k.target.error)}})}removeStorage(r){return new Promise((o,u)=>{if(!this.db)return void u("Database not initialized.");const P=this.db.transaction("appSettings","readwrite").objectStore("appSettings").delete(r);P.onsuccess=()=>o(),P.onerror=k=>u(k.target.error)})}static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275prov=fe.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Dr="push_notification_token";let Mr=(()=>{class a{get redirect(){return this._redirect.asObservable()}constructor(r){this.storage=r,this._redirect=new tr.t(null)}initPush(){"web"!==be.Ii.getPlatform()&&this.registerPush()}registerPush(){var r=this;return(0,Z.A)(function*(){try{yield r.addListeners();let o=yield er.checkPermissions();if("prompt"===o.receive&&(o=yield er.requestPermissions()),"granted"!==o.receive)throw new Error("User denied permissions!");yield er.register()}catch(o){console.log(o)}})()}getDeliveredNotifications(){return(0,Z.A)(function*(){yield er.getDeliveredNotifications()})()}addListeners(){var r=this;er.addListener("registration",function(){var o=(0,Z.A)(function*(u){const m=u?.value;let E=1;const P=JSON.parse((yield r.storage.getStorage(Dr))?.value||"null");P&&(E=m==P?0:2),1==E?r.storage.setStorage(Dr,JSON.stringify(m)):2==E&&r.storage.setStorage(Dr,m)});return function(u){return o.apply(this,arguments)}}()),er.addListener("registrationError",o=>{}),er.addListener("pushNotificationReceived",function(){var o=(0,Z.A)(function*(u){const m=u?.data;m?.redirect&&r._redirect.next(m?.redirect)});return function(u){return o.apply(this,arguments)}}()),er.addListener("pushNotificationActionPerformed",function(){var o=(0,Z.A)(function*(u){const m=u.notification.data;m?.redirect&&r._redirect.next(m?.redirect)});return function(u){return o.apply(this,arguments)}}())}removeFcmToken(){var r=this;return(0,Z.A)(function*(){try{const o=JSON.parse((yield r.storage.getStorage(Dr))?.value??"null");r.storage.removeStorage(o)}catch(o){throw o}})()}static{this.\u0275fac=function(o){return new(o||a)(fe.KVO(Xn))}}static{this.\u0275prov=fe.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),sr=(()=>{class a{constructor(){this.fcm=(0,fe.WQX)(Mr)}checkCameraPermission(){return(0,Z.A)(function*(){try{return"granted"===(yield br.requestPermissions()).camera}catch(r){return console.error("Error requesting camera permission",r),!1}})()}checkGalleryPermission(){return(0,Z.A)(function*(){try{const r=yield br.requestPermissions();return console.log("------Gallery permission status:",r),"granted"===r.photos}catch(r){return console.error("Error requesting gallery permission",r),!1}})()}initializePermissions(){var r=this;return(0,Z.A)(function*(){setTimeout(()=>{r.fcm.initPush()},1e3)})()}static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275prov=fe.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),cr=(()=>{class a{constructor(r,o,u,m,E,P,k,q){this.indexedDbService=r,this.adsService=o,this.platform=u,this.deviceBackBtnService=m,this.permissionService=E,this.translationService=P,this.popoverCtrl=k,this.router=q,this.setStatusBarColor(),this.initializeApp()}ngOnInit(){var r=this;return(0,Z.A)(function*(){localStorage.getItem("appLanguage")||r.router.navigate(["tabs/language-selection"])})()}initializeApp(){var r=this;return(0,Z.A)(function*(){r.permissionService.initializePermissions(),yield r.initializeIndexedDB(),yield r.adsService.initializeAdMobSDK(),r.platform.ready().then(()=>{r.translationService.initTranslate(),r.deviceBackBtnService.initializeBackButtonHandler(),xe.setOverlaysWebView({overlay:!1})})})()}setStatusBarColor(){return(0,Z.A)(function*(){try{yield xe.setBackgroundColor({color:"#5ed1aa"}),yield xe.setStyle({style:ve.Light})}catch(r){console.error("Error setting status bar color:",r)}})()}initializeIndexedDB(){var r=this;return(0,Z.A)(function*(){try{yield r.indexedDbService.initDB()}catch(o){console.error("Error initializing IndexedDB:",o)}})()}presentLanguagePopover(){var r=this;return(0,Z.A)(function*(){yield(yield r.popoverCtrl.create({component:yt,translucent:!0,backdropDismiss:!1})).present()})()}static{this.\u0275fac=function(o){return new(o||a)(fe.rXU(kn),fe.rXU(Nn.g),fe.rXU(G.OD),fe.rXU(zn.p),fe.rXU(sr),fe.rXU(rt.L),fe.rXU(Re.IE),fe.rXU(J.Ix))}}static{this.\u0275cmp=fe.VBU({type:a,selectors:[["app-root"]],decls:2,vars:0,template:function(o,u){1&o&&(fe.j41(0,"ion-app"),fe.nrm(1,"ion-router-outlet"),fe.k0s())},dependencies:[Re.U1,Re.Rg],styles:["ion-header[_ngcontent-%COMP%]{--background: #3b82f6;--color: #fff}"]})}}return a})();const Ir=[{path:"",redirectTo:"language-selection",pathMatch:"full"},{path:"language-selection",loadChildren:()=>N.e(768).then(N.bind(N,768)).then(a=>a.LanguageSelectionPageModule)},{path:"user-login",loadChildren:()=>N.e(4961).then(N.bind(N,4961)).then(a=>a.UserLoginPageModule)},{path:"tabs",component:N(4409).l,canActivate:[(()=>{class a{constructor(r){this.router=r}canActivate(){return!!localStorage.getItem("userToken")||(this.router.navigate(["/language-selection"]),!1)}static{this.\u0275fac=function(o){return new(o||a)(fe.KVO(J.Ix))}}static{this.\u0275prov=fe.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()],children:[{path:"",loadChildren:()=>N.e(8372).then(N.bind(N,8372)).then(a=>a.TabsPageModule)}]},{path:"**",redirectTo:"language-selection",pathMatch:"full"}];let vr=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=fe.$C({type:a})}static{this.\u0275inj=fe.G2t({imports:[J.iI.forRoot(Ir,{preloadingStrategy:J.Kp}),J.iI]})}}return a})();var ur=N(1626);let ci=(()=>{class a{constructor(){this.dbName="AppDatabase",this.dbVersion=1,this.scannedStore="scannedData",this.pinnedStore="pinnedData",this.initDatabase()}initDatabase(){const r=indexedDB.open(this.dbName,this.dbVersion);r.onupgradeneeded=o=>{const u=o.target.result;u.objectStoreNames.contains(this.scannedStore)||u.createObjectStore(this.scannedStore,{keyPath:"id",autoIncrement:!0}),u.objectStoreNames.contains(this.pinnedStore)||u.createObjectStore(this.pinnedStore,{keyPath:"id",autoIncrement:!0})},r.onerror=o=>{console.error("Error opening IndexedDB:",o)}}saveScannedItem(r){return this.addItem(this.scannedStore,r)}getScannedData(){return this.getAllItems(this.scannedStore)}saveScannedData(r){return this.bulkSave(this.scannedStore,r)}savePinnedItem(r){return this.addItem(this.pinnedStore,r)}getPinnedData(){return this.getAllItems(this.pinnedStore)}savePinnedData(r){return this.bulkSave(this.pinnedStore,r)}addItem(r,o){return new Promise((u,m)=>{const E=indexedDB.open(this.dbName,this.dbVersion);E.onsuccess=P=>{const q=P.target.result.transaction(r,"readwrite");q.objectStore(r).add(o),q.oncomplete=()=>u(),q.onerror=()=>m(q.error)},E.onerror=()=>m(E.error)})}getAllItems(r){return new Promise((o,u)=>{const m=indexedDB.open(this.dbName,this.dbVersion);m.onsuccess=E=>{const k=E.target.result.transaction(r,"readonly"),q=k.objectStore(r),ge=[];q.openCursor().onsuccess=Be=>{const Et=Be.target.result;Et?(ge.push(Et.value),Et.continue()):o(ge)},k.onerror=()=>u(k.error)},m.onerror=()=>u(m.error)})}bulkSave(r,o){return new Promise((u,m)=>{const E=indexedDB.open(this.dbName,this.dbVersion);E.onsuccess=P=>{const q=P.target.result.transaction(r,"readwrite"),ge=q.objectStore(r);ge.clear(),o.forEach(Be=>ge.add(Be)),q.oncomplete=()=>u(),q.onerror=()=>m(q.error)},E.onerror=()=>m(E.error)})}static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275prov=fe.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var Rr=N(2191),ui=N(8454),dr=N(8018);let bi=(()=>{class a{http;prefix;suffix;constructor(r,o="/assets/i18n/",u=".json"){this.http=r,this.prefix=o,this.suffix=u}getTranslation(r){return this.http.get(`${this.prefix}${r}${this.suffix}`)}static \u0275fac=function(o){return new(o||a)(fe.KVO(ur.Qq),fe.KVO(String),fe.KVO(String))};static \u0275prov=fe.jDH({token:a,factory:a.\u0275fac})}return a})();var yi=N(3651),di=N(9253),Zt=N(177),ct=N(574),Ze=N(5719),It=N(3236),fn=N(1985),Bn=N(8455),Ge=N(7673),$e=N(9172),vt=N(9974),en=N(4360);function Ot(){return(0,vt.N)((a,t)=>{let r,o=!1;a.subscribe((0,en._)(t,u=>{const m=r;r=u,o&&t.next([m,u]),o=!0}))})}var yr,Mi,Pn=N(6354),Qn=N(2816),Gr=N(3294),ai=N(5964),$r=(N(324),N(9574)),Dn=N(1156),ri=N(8779),Pi=N(5398),wr=N(1401),Gi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kr={};(function(){var a;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Ft,pt,Rt){Rt||(Rt=0);var Bt=Array(16);if("string"==typeof pt)for(var qt=0;16>qt;++qt)Bt[qt]=pt.charCodeAt(Rt++)|pt.charCodeAt(Rt++)<<8|pt.charCodeAt(Rt++)<<16|pt.charCodeAt(Rt++)<<24;else for(qt=0;16>qt;++qt)Bt[qt]=pt[Rt++]|pt[Rt++]<<8|pt[Rt++]<<16|pt[Rt++]<<24;var on=Ft.g[3],Dt=(pt=Ft.g[0])+(on^(Rt=Ft.g[1])&((qt=Ft.g[2])^on))+Bt[0]+3614090360&4294967295;Dt=(Rt=(qt=(on=(pt=(Rt=(qt=(on=(pt=(Rt=(qt=(on=(pt=(Rt=(qt=(on=(pt=(Rt=(qt=(on=(pt=(Rt=(qt=(on=(pt=(Rt=(qt=(on=(pt=(Rt=(qt=(on=(pt=(Rt=(qt=(on=(pt=(Rt=(qt=(on=(pt=(Rt=(qt=(on=(pt=(Rt=(qt=(on=(pt=(Rt=(qt=(on=(pt=(Rt=(qt=(on=(pt=(Rt=(qt=(on=(pt=Rt+(Dt<<7&4294967295|Dt>>>25))+((Dt=on+(qt^pt&(Rt^qt))+Bt[1]+3905402710&4294967295)<<12&4294967295|Dt>>>20))+((Dt=qt+(Rt^on&(pt^Rt))+Bt[2]+606105819&4294967295)<<17&4294967295|Dt>>>15))+((Dt=Rt+(pt^qt&(on^pt))+Bt[3]+3250441966&4294967295)<<22&4294967295|Dt>>>10))+((Dt=pt+(on^Rt&(qt^on))+Bt[4]+4118548399&4294967295)<<7&4294967295|Dt>>>25))+((Dt=on+(qt^pt&(Rt^qt))+Bt[5]+1200080426&4294967295)<<12&4294967295|Dt>>>20))+((Dt=qt+(Rt^on&(pt^Rt))+Bt[6]+2821735955&4294967295)<<17&4294967295|Dt>>>15))+((Dt=Rt+(pt^qt&(on^pt))+Bt[7]+4249261313&4294967295)<<22&4294967295|Dt>>>10))+((Dt=pt+(on^Rt&(qt^on))+Bt[8]+1770035416&4294967295)<<7&4294967295|Dt>>>25))+((Dt=on+(qt^pt&(Rt^qt))+Bt[9]+2336552879&4294967295)<<12&4294967295|Dt>>>20))+((Dt=qt+(Rt^on&(pt^Rt))+Bt[10]+4294925233&4294967295)<<17&4294967295|Dt>>>15))+((Dt=Rt+(pt^qt&(on^pt))+Bt[11]+2304563134&4294967295)<<22&4294967295|Dt>>>10))+((Dt=pt+(on^Rt&(qt^on))+Bt[12]+1804603682&4294967295)<<7&4294967295|Dt>>>25))+((Dt=on+(qt^pt&(Rt^qt))+Bt[13]+4254626195&4294967295)<<12&4294967295|Dt>>>20))+((Dt=qt+(Rt^on&(pt^Rt))+Bt[14]+2792965006&4294967295)<<17&4294967295|Dt>>>15))+((Dt=Rt+(pt^qt&(on^pt))+Bt[15]+1236535329&4294967295)<<22&4294967295|Dt>>>10))+((Dt=pt+(qt^on&(Rt^qt))+Bt[1]+4129170786&4294967295)<<5&4294967295|Dt>>>27))+((Dt=on+(Rt^qt&(pt^Rt))+Bt[6]+3225465664&4294967295)<<9&4294967295|Dt>>>23))+((Dt=qt+(pt^Rt&(on^pt))+Bt[11]+643717713&4294967295)<<14&4294967295|Dt>>>18))+((Dt=Rt+(on^pt&(qt^on))+Bt[0]+3921069994&4294967295)<<20&4294967295|Dt>>>12))+((Dt=pt+(qt^on&(Rt^qt))+Bt[5]+3593408605&4294967295)<<5&4294967295|Dt>>>27))+((Dt=on+(Rt^qt&(pt^Rt))+Bt[10]+38016083&4294967295)<<9&4294967295|Dt>>>23))+((Dt=qt+(pt^Rt&(on^pt))+Bt[15]+3634488961&4294967295)<<14&4294967295|Dt>>>18))+((Dt=Rt+(on^pt&(qt^on))+Bt[4]+3889429448&4294967295)<<20&4294967295|Dt>>>12))+((Dt=pt+(qt^on&(Rt^qt))+Bt[9]+568446438&4294967295)<<5&4294967295|Dt>>>27))+((Dt=on+(Rt^qt&(pt^Rt))+Bt[14]+3275163606&4294967295)<<9&4294967295|Dt>>>23))+((Dt=qt+(pt^Rt&(on^pt))+Bt[3]+4107603335&4294967295)<<14&4294967295|Dt>>>18))+((Dt=Rt+(on^pt&(qt^on))+Bt[8]+1163531501&4294967295)<<20&4294967295|Dt>>>12))+((Dt=pt+(qt^on&(Rt^qt))+Bt[13]+2850285829&4294967295)<<5&4294967295|Dt>>>27))+((Dt=on+(Rt^qt&(pt^Rt))+Bt[2]+4243563512&4294967295)<<9&4294967295|Dt>>>23))+((Dt=qt+(pt^Rt&(on^pt))+Bt[7]+1735328473&4294967295)<<14&4294967295|Dt>>>18))+((Dt=Rt+(on^pt&(qt^on))+Bt[12]+2368359562&4294967295)<<20&4294967295|Dt>>>12))+((Dt=pt+(Rt^qt^on)+Bt[5]+4294588738&4294967295)<<4&4294967295|Dt>>>28))+((Dt=on+(pt^Rt^qt)+Bt[8]+2272392833&4294967295)<<11&4294967295|Dt>>>21))+((Dt=qt+(on^pt^Rt)+Bt[11]+1839030562&4294967295)<<16&4294967295|Dt>>>16))+((Dt=Rt+(qt^on^pt)+Bt[14]+4259657740&4294967295)<<23&4294967295|Dt>>>9))+((Dt=pt+(Rt^qt^on)+Bt[1]+2763975236&4294967295)<<4&4294967295|Dt>>>28))+((Dt=on+(pt^Rt^qt)+Bt[4]+1272893353&4294967295)<<11&4294967295|Dt>>>21))+((Dt=qt+(on^pt^Rt)+Bt[7]+4139469664&4294967295)<<16&4294967295|Dt>>>16))+((Dt=Rt+(qt^on^pt)+Bt[10]+3200236656&4294967295)<<23&4294967295|Dt>>>9))+((Dt=pt+(Rt^qt^on)+Bt[13]+681279174&4294967295)<<4&4294967295|Dt>>>28))+((Dt=on+(pt^Rt^qt)+Bt[0]+3936430074&4294967295)<<11&4294967295|Dt>>>21))+((Dt=qt+(on^pt^Rt)+Bt[3]+3572445317&4294967295)<<16&4294967295|Dt>>>16))+((Dt=Rt+(qt^on^pt)+Bt[6]+76029189&4294967295)<<23&4294967295|Dt>>>9))+((Dt=pt+(Rt^qt^on)+Bt[9]+3654602809&4294967295)<<4&4294967295|Dt>>>28))+((Dt=on+(pt^Rt^qt)+Bt[12]+3873151461&4294967295)<<11&4294967295|Dt>>>21))+((Dt=qt+(on^pt^Rt)+Bt[15]+530742520&4294967295)<<16&4294967295|Dt>>>16))+((Dt=Rt+(qt^on^pt)+Bt[2]+3299628645&4294967295)<<23&4294967295|Dt>>>9))+((Dt=pt+(qt^(Rt|~on))+Bt[0]+4096336452&4294967295)<<6&4294967295|Dt>>>26))+((Dt=on+(Rt^(pt|~qt))+Bt[7]+1126891415&4294967295)<<10&4294967295|Dt>>>22))+((Dt=qt+(pt^(on|~Rt))+Bt[14]+2878612391&4294967295)<<15&4294967295|Dt>>>17))+((Dt=Rt+(on^(qt|~pt))+Bt[5]+4237533241&4294967295)<<21&4294967295|Dt>>>11))+((Dt=pt+(qt^(Rt|~on))+Bt[12]+1700485571&4294967295)<<6&4294967295|Dt>>>26))+((Dt=on+(Rt^(pt|~qt))+Bt[3]+2399980690&4294967295)<<10&4294967295|Dt>>>22))+((Dt=qt+(pt^(on|~Rt))+Bt[10]+4293915773&4294967295)<<15&4294967295|Dt>>>17))+((Dt=Rt+(on^(qt|~pt))+Bt[1]+2240044497&4294967295)<<21&4294967295|Dt>>>11))+((Dt=pt+(qt^(Rt|~on))+Bt[8]+1873313359&4294967295)<<6&4294967295|Dt>>>26))+((Dt=on+(Rt^(pt|~qt))+Bt[15]+4264355552&4294967295)<<10&4294967295|Dt>>>22))+((Dt=qt+(pt^(on|~Rt))+Bt[6]+2734768916&4294967295)<<15&4294967295|Dt>>>17))+((Dt=Rt+(on^(qt|~pt))+Bt[13]+1309151649&4294967295)<<21&4294967295|Dt>>>11))+((on=(pt=Rt+((Dt=pt+(qt^(Rt|~on))+Bt[4]+4149444226&4294967295)<<6&4294967295|Dt>>>26))+((Dt=on+(Rt^(pt|~qt))+Bt[11]+3174756917&4294967295)<<10&4294967295|Dt>>>22))^((qt=on+((Dt=qt+(pt^(on|~Rt))+Bt[2]+718787259&4294967295)<<15&4294967295|Dt>>>17))|~pt))+Bt[9]+3951481745&4294967295,Ft.g[0]=Ft.g[0]+pt&4294967295,Ft.g[1]=Ft.g[1]+(qt+(Dt<<21&4294967295|Dt>>>11))&4294967295,Ft.g[2]=Ft.g[2]+qt&4294967295,Ft.g[3]=Ft.g[3]+on&4294967295}function E(Ft,pt){this.h=pt;for(var Rt=[],Bt=!0,qt=Ft.length-1;0<=qt;qt--){var on=0|Ft[qt];Bt&&on==pt||(Rt[qt]=on,Bt=!1)}this.g=Rt}(function t(Ft,pt){function Rt(){}Rt.prototype=pt.prototype,Ft.D=pt.prototype,Ft.prototype=new Rt,Ft.prototype.constructor=Ft,Ft.C=function(Bt,qt,on){for(var Dt=Array(arguments.length-2),Eu=2;Eu<arguments.length;Eu++)Dt[Eu-2]=arguments[Eu];return pt.prototype[qt].apply(Bt,Dt)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(Ft,pt){void 0===pt&&(pt=Ft.length);for(var Rt=pt-this.blockSize,Bt=this.B,qt=this.h,on=0;on<pt;){if(0==qt)for(;on<=Rt;)u(this,Ft,on),on+=this.blockSize;if("string"==typeof Ft){for(;on<pt;)if(Bt[qt++]=Ft.charCodeAt(on++),qt==this.blockSize){u(this,Bt),qt=0;break}}else for(;on<pt;)if(Bt[qt++]=Ft[on++],qt==this.blockSize){u(this,Bt),qt=0;break}}this.h=qt,this.o+=pt},o.prototype.v=function(){var Ft=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ft[0]=128;for(var pt=1;pt<Ft.length-8;++pt)Ft[pt]=0;var Rt=8*this.o;for(pt=Ft.length-8;pt<Ft.length;++pt)Ft[pt]=255&Rt,Rt/=256;for(this.u(Ft),Ft=Array(16),pt=Rt=0;4>pt;++pt)for(var Bt=0;32>Bt;Bt+=8)Ft[Rt++]=this.g[pt]>>>Bt&255;return Ft};var P={};function k(Ft){return-128<=Ft&&128>Ft?function m(Ft,pt){var Rt=P;return Object.prototype.hasOwnProperty.call(Rt,Ft)?Rt[Ft]:Rt[Ft]=pt(Ft)}(Ft,function(pt){return new E([0|pt],0>pt?-1:0)}):new E([0|Ft],0>Ft?-1:0)}function q(Ft){if(isNaN(Ft)||!isFinite(Ft))return Be;if(0>Ft)return Vn(q(-Ft));for(var pt=[],Rt=1,Bt=0;Ft>=Rt;Bt++)pt[Bt]=Ft/Rt|0,Rt*=4294967296;return new E(pt,0)}var Be=k(0),Et=k(1),nn=k(16777216);function wn(Ft){if(0!=Ft.h)return!1;for(var pt=0;pt<Ft.g.length;pt++)if(0!=Ft.g[pt])return!1;return!0}function jn(Ft){return-1==Ft.h}function Vn(Ft){for(var pt=Ft.g.length,Rt=[],Bt=0;Bt<pt;Bt++)Rt[Bt]=~Ft.g[Bt];return new E(Rt,~Ft.h).add(Et)}function Sr(Ft,pt){return Ft.add(Vn(pt))}function jr(Ft,pt){for(;(65535&Ft[pt])!=Ft[pt];)Ft[pt+1]+=Ft[pt]>>>16,Ft[pt]&=65535,pt++}function Cr(Ft,pt){this.g=Ft,this.h=pt}function ti(Ft,pt){if(wn(pt))throw Error("division by zero");if(wn(Ft))return new Cr(Be,Be);if(jn(Ft))return pt=ti(Vn(Ft),pt),new Cr(Vn(pt.g),Vn(pt.h));if(jn(pt))return pt=ti(Ft,Vn(pt)),new Cr(Vn(pt.g),pt.h);if(30<Ft.g.length){if(jn(Ft)||jn(pt))throw Error("slowDivide_ only works with positive integers.");for(var Rt=Et,Bt=pt;0>=Bt.l(Ft);)Rt=zi(Rt),Bt=zi(Bt);var qt=Ri(Rt,1),on=Ri(Bt,1);for(Bt=Ri(Bt,2),Rt=Ri(Rt,2);!wn(Bt);){var Dt=on.add(Bt);0>=Dt.l(Ft)&&(qt=qt.add(Rt),on=Dt),Bt=Ri(Bt,1),Rt=Ri(Rt,1)}return pt=Sr(Ft,qt.j(pt)),new Cr(qt,pt)}for(qt=Be;0<=Ft.l(pt);){for(Rt=Math.max(1,Math.floor(Ft.m()/pt.m())),Bt=48>=(Bt=Math.ceil(Math.log(Rt)/Math.LN2))?1:Math.pow(2,Bt-48),Dt=(on=q(Rt)).j(pt);jn(Dt)||0<Dt.l(Ft);)Dt=(on=q(Rt-=Bt)).j(pt);wn(on)&&(on=Et),qt=qt.add(on),Ft=Sr(Ft,Dt)}return new Cr(qt,Ft)}function zi(Ft){for(var pt=Ft.g.length+1,Rt=[],Bt=0;Bt<pt;Bt++)Rt[Bt]=Ft.i(Bt)<<1|Ft.i(Bt-1)>>>31;return new E(Rt,Ft.h)}function Ri(Ft,pt){var Rt=pt>>5;pt%=32;for(var Bt=Ft.g.length-Rt,qt=[],on=0;on<Bt;on++)qt[on]=0<pt?Ft.i(on+Rt)>>>pt|Ft.i(on+Rt+1)<<32-pt:Ft.i(on+Rt);return new E(qt,Ft.h)}(a=E.prototype).m=function(){if(jn(this))return-Vn(this).m();for(var Ft=0,pt=1,Rt=0;Rt<this.g.length;Rt++){var Bt=this.i(Rt);Ft+=(0<=Bt?Bt:4294967296+Bt)*pt,pt*=4294967296}return Ft},a.toString=function(Ft){if(2>(Ft=Ft||10)||36<Ft)throw Error("radix out of range: "+Ft);if(wn(this))return"0";if(jn(this))return"-"+Vn(this).toString(Ft);for(var pt=q(Math.pow(Ft,6)),Rt=this,Bt="";;){var qt=ti(Rt,pt).g,on=((0<(Rt=Sr(Rt,qt.j(pt))).g.length?Rt.g[0]:Rt.h)>>>0).toString(Ft);if(wn(Rt=qt))return on+Bt;for(;6>on.length;)on="0"+on;Bt=on+Bt}},a.i=function(Ft){return 0>Ft?0:Ft<this.g.length?this.g[Ft]:this.h},a.l=function(Ft){return jn(Ft=Sr(this,Ft))?-1:wn(Ft)?0:1},a.abs=function(){return jn(this)?Vn(this):this},a.add=function(Ft){for(var pt=Math.max(this.g.length,Ft.g.length),Rt=[],Bt=0,qt=0;qt<=pt;qt++){var on=Bt+(65535&this.i(qt))+(65535&Ft.i(qt)),Dt=(on>>>16)+(this.i(qt)>>>16)+(Ft.i(qt)>>>16);Bt=Dt>>>16,Rt[qt]=(Dt&=65535)<<16|(on&=65535)}return new E(Rt,-2147483648&Rt[Rt.length-1]?-1:0)},a.j=function(Ft){if(wn(this)||wn(Ft))return Be;if(jn(this))return jn(Ft)?Vn(this).j(Vn(Ft)):Vn(Vn(this).j(Ft));if(jn(Ft))return Vn(this.j(Vn(Ft)));if(0>this.l(nn)&&0>Ft.l(nn))return q(this.m()*Ft.m());for(var pt=this.g.length+Ft.g.length,Rt=[],Bt=0;Bt<2*pt;Bt++)Rt[Bt]=0;for(Bt=0;Bt<this.g.length;Bt++)for(var qt=0;qt<Ft.g.length;qt++){var on=this.i(Bt)>>>16,Dt=65535&this.i(Bt),Eu=Ft.i(qt)>>>16,Dh=65535&Ft.i(qt);Rt[2*Bt+2*qt]+=Dt*Dh,jr(Rt,2*Bt+2*qt),Rt[2*Bt+2*qt+1]+=on*Dh,jr(Rt,2*Bt+2*qt+1),Rt[2*Bt+2*qt+1]+=Dt*Eu,jr(Rt,2*Bt+2*qt+1),Rt[2*Bt+2*qt+2]+=on*Eu,jr(Rt,2*Bt+2*qt+2)}for(Bt=0;Bt<pt;Bt++)Rt[Bt]=Rt[2*Bt+1]<<16|Rt[2*Bt];for(Bt=pt;Bt<2*pt;Bt++)Rt[Bt]=0;return new E(Rt,0)},a.A=function(Ft){return ti(this,Ft).h},a.and=function(Ft){for(var pt=Math.max(this.g.length,Ft.g.length),Rt=[],Bt=0;Bt<pt;Bt++)Rt[Bt]=this.i(Bt)&Ft.i(Bt);return new E(Rt,this.h&Ft.h)},a.or=function(Ft){for(var pt=Math.max(this.g.length,Ft.g.length),Rt=[],Bt=0;Bt<pt;Bt++)Rt[Bt]=this.i(Bt)|Ft.i(Bt);return new E(Rt,this.h|Ft.h)},a.xor=function(Ft){for(var pt=Math.max(this.g.length,Ft.g.length),Rt=[],Bt=0;Bt<pt;Bt++)Rt[Bt]=this.i(Bt)^Ft.i(Bt);return new E(Rt,this.h^Ft.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Mi=Kr.Md5=o,E.prototype.add=E.prototype.add,E.prototype.multiply=E.prototype.j,E.prototype.modulo=E.prototype.A,E.prototype.compare=E.prototype.l,E.prototype.toNumber=E.prototype.m,E.prototype.toString=E.prototype.toString,E.prototype.getBits=E.prototype.i,E.fromNumber=q,E.fromString=function ge(Ft,pt){if(0==Ft.length)throw Error("number format error: empty string");if(2>(pt=pt||10)||36<pt)throw Error("radix out of range: "+pt);if("-"==Ft.charAt(0))return Vn(ge(Ft.substring(1),pt));if(0<=Ft.indexOf("-"))throw Error('number format error: interior "-" character');for(var Rt=q(Math.pow(pt,8)),Bt=Be,qt=0;qt<Ft.length;qt+=8){var on=Math.min(8,Ft.length-qt),Dt=parseInt(Ft.substring(qt,qt+on),pt);8>on?(on=q(Math.pow(pt,on)),Bt=Bt.j(on).add(q(Dt))):Bt=(Bt=Bt.j(Rt)).add(q(Dt))}return Bt},yr=Kr.Integer=E}).apply(typeof Gi<"u"?Gi:typeof self<"u"?self:typeof window<"u"?window:{});var Wt,_e,ie,Y,Ve,gt,ln,Yt,li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mi={};(function(){var a,t="function"==typeof Object.defineProperties?Object.defineProperty:function(I,j,se){return I==Array.prototype||I==Object.prototype||(I[j]=se.value),I},o=function r(I){I=["object"==typeof globalThis&&globalThis,I,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof li&&li];for(var j=0;j<I.length;++j){var se=I[j];if(se&&se.Math==Math)return se}throw Error("Cannot find global object")}(this);!function u(I,j){if(j)e:{var se=o;I=I.split(".");for(var Le=0;Le<I.length-1;Le++){var Jt=I[Le];if(!(Jt in se))break e;se=se[Jt]}(j=j(Le=se[I=I[I.length-1]]))!=Le&&null!=j&&t(se,I,{configurable:!0,writable:!0,value:j})}}("Array.prototype.values",function(I){return I||function(){return function m(I,j){I instanceof String&&(I+="");var se=0,Le=!1,Jt={next:function(){if(!Le&&se<I.length){var gn=se++;return{value:j(gn,I[gn]),done:!1}}return Le=!0,{done:!0,value:void 0}}};return Jt[Symbol.iterator]=function(){return Jt},Jt}(this,function(j,se){return se})}});var E=E||{},P=this||self;function k(I){var j=typeof I;return"array"==(j="object"!=j?j:I?Array.isArray(I)?"array":j:"null")||"object"==j&&"number"==typeof I.length}function q(I){var j=typeof I;return"object"==j&&null!=I||"function"==j}function ge(I,j,se){return I.call.apply(I.bind,arguments)}function Be(I,j,se){if(!I)throw Error();if(2<arguments.length){var Le=Array.prototype.slice.call(arguments,2);return function(){var Jt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Jt,Le),I.apply(j,Jt)}}return function(){return I.apply(j,arguments)}}function Et(I,j,se){return(Et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ge:Be).apply(null,arguments)}function nn(I,j){var se=Array.prototype.slice.call(arguments,1);return function(){var Le=se.slice();return Le.push.apply(Le,arguments),I.apply(this,Le)}}function wn(I,j){function se(){}se.prototype=j.prototype,I.aa=j.prototype,I.prototype=new se,I.prototype.constructor=I,I.Qb=function(Le,Jt,gn){for(var lr=Array(arguments.length-2),Ts=2;Ts<arguments.length;Ts++)lr[Ts-2]=arguments[Ts];return j.prototype[Jt].apply(Le,lr)}}function jn(I){const j=I.length;if(0<j){const se=Array(j);for(let Le=0;Le<j;Le++)se[Le]=I[Le];return se}return[]}function Vn(I,j){for(let se=1;se<arguments.length;se++){const Le=arguments[se];if(k(Le)){const Jt=I.length||0,gn=Le.length||0;I.length=Jt+gn;for(let lr=0;lr<gn;lr++)I[Jt+lr]=Le[lr]}else I.push(Le)}}function jr(I){return/^[\s\xa0]*$/.test(I)}function Cr(){var I=P.navigator;return I&&(I=I.userAgent)?I:""}function ti(I){return ti[" "](I),I}ti[" "]=function(){};var zi=!(-1==Cr().indexOf("Gecko")||-1!=Cr().toLowerCase().indexOf("webkit")&&-1==Cr().indexOf("Edge")||-1!=Cr().indexOf("Trident")||-1!=Cr().indexOf("MSIE")||-1!=Cr().indexOf("Edge"));function Ri(I,j,se){for(const Le in I)j.call(se,I[Le],Le,I)}function pt(I){const j={};for(const se in I)j[se]=I[se];return j}const Rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bt(I,j){let se,Le;for(let Jt=1;Jt<arguments.length;Jt++){for(se in Le=arguments[Jt],Le)I[se]=Le[se];for(let gn=0;gn<Rt.length;gn++)se=Rt[gn],Object.prototype.hasOwnProperty.call(Le,se)&&(I[se]=Le[se])}}function qt(I){var j=1;I=I.split(":");const se=[];for(;0<j&&I.length;)se.push(I.shift()),j--;return I.length&&se.push(I.join(":")),se}function on(I){P.setTimeout(()=>{throw I},0)}function Dt(){var I=Jv;let j=null;return I.g&&(j=I.g,I.g=I.g.next,I.g||(I.h=null),j.next=null),j}var Dh=new class Sr{constructor(j,se){this.i=j,this.j=se,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}(()=>new U0,I=>I.reset());class U0{constructor(){this.next=this.g=this.h=null}set(j,se){this.h=j,this.g=se,this.next=null}reset(){this.next=this.g=this.h=null}}let Mp,xp=!1,Jv=new class Eu{constructor(){this.h=this.g=null}add(j,se){const Le=Dh.get();Le.set(j,se),this.h?this.h.next=Le:this.g=Le,this.h=Le}},hE=()=>{const I=P.Promise.resolve(void 0);Mp=()=>{I.then(B0)}};var B0=()=>{for(var I;I=Dt();){try{I.h.call(I.g)}catch(se){on(se)}var j=Dh;j.j(I),100>j.h&&(j.h++,I.next=j.g,j.g=I)}xp=!1};function Iu(){this.s=this.s,this.C=this.C}function Ha(I,j){this.type=I,this.g=this.target=j,this.defaultPrevented=!1}Iu.prototype.s=!1,Iu.prototype.ma=function(){this.s||(this.s=!0,this.N())},Iu.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ha.prototype.h=function(){this.defaultPrevented=!0};var $0=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var I=!1,j=Object.defineProperty({},"passive",{get:function(){I=!0}});try{const se=()=>{};P.addEventListener("test",se,j),P.removeEventListener("test",se,j)}catch{}return I}();function Np(I,j){if(Ha.call(this,I?I.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,I){var se=this.type=I.type,Le=I.changedTouches&&I.changedTouches.length?I.changedTouches[0]:null;if(this.target=I.target||I.srcElement,this.g=j,j=I.relatedTarget){if(zi){e:{try{ti(j.nodeName);var Jt=!0;break e}catch{}Jt=!1}Jt||(j=null)}}else"mouseover"==se?j=I.fromElement:"mouseout"==se&&(j=I.toElement);this.relatedTarget=j,Le?(this.clientX=void 0!==Le.clientX?Le.clientX:Le.pageX,this.clientY=void 0!==Le.clientY?Le.clientY:Le.pageY,this.screenX=Le.screenX||0,this.screenY=Le.screenY||0):(this.clientX=void 0!==I.clientX?I.clientX:I.pageX,this.clientY=void 0!==I.clientY?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0),this.button=I.button,this.key=I.key||"",this.ctrlKey=I.ctrlKey,this.altKey=I.altKey,this.shiftKey=I.shiftKey,this.metaKey=I.metaKey,this.pointerId=I.pointerId||0,this.pointerType="string"==typeof I.pointerType?I.pointerType:Sh[I.pointerType]||"",this.state=I.state,this.i=I,I.defaultPrevented&&Np.aa.h.call(this)}}wn(Np,Ha);var Sh={2:"touch",3:"pen",4:"mouse"};Np.prototype.h=function(){Np.aa.h.call(this);var I=this.i;I.preventDefault?I.preventDefault():I.returnValue=!1};var dd="closure_listenable_"+(1e6*Math.random()|0),Zv=0;function e_(I,j,se,Le,Jt){this.listener=I,this.proxy=null,this.src=j,this.type=se,this.capture=!!Le,this.ha=Jt,this.key=++Zv,this.da=this.fa=!1}function qg(I){I.da=!0,I.listener=null,I.proxy=null,I.src=null,I.ha=null}function hd(I){this.src=I,this.g={},this.h=0}function Qg(I,j){var se=j.type;if(se in I.g){var gn,Le=I.g[se],Jt=Array.prototype.indexOf.call(Le,j,void 0);(gn=0<=Jt)&&Array.prototype.splice.call(Le,Jt,1),gn&&(qg(j),0==I.g[se].length&&(delete I.g[se],I.h--))}}function t_(I,j,se,Le){for(var Jt=0;Jt<I.length;++Jt){var gn=I[Jt];if(!gn.da&&gn.listener==j&&gn.capture==!!se&&gn.ha==Le)return Jt}return-1}hd.prototype.add=function(I,j,se,Le,Jt){var gn=I.toString();(I=this.g[gn])||(I=this.g[gn]=[],this.h++);var lr=t_(I,j,Le,Jt);return-1<lr?(j=I[lr],se||(j.fa=!1)):((j=new e_(j,this.src,gn,!!Le,Jt)).fa=se,I.push(j)),j};var n_="closure_lm_"+(1e6*Math.random()|0),r_={};function fE(I,j,se,Le,Jt){if(Le&&Le.once)return mE(I,j,se,Le,Jt);if(Array.isArray(j)){for(var gn=0;gn<j.length;gn++)fE(I,j[gn],se,Le,Jt);return null}return se=o_(se),I&&I[dd]?I.K(j,se,q(Le)?!!Le.capture:!!Le,Jt):pE(I,j,se,!1,Le,Jt)}function pE(I,j,se,Le,Jt,gn){if(!j)throw Error("Invalid event type");var lr=q(Jt)?!!Jt.capture:!!Jt,Ts=Yg(I);if(Ts||(I[n_]=Ts=new hd(I)),(se=Ts.add(j,se,Le,lr,gn)).proxy)return se;if(Le=function gE(){const j=j0;return function I(se){return j.call(I.src,I.listener,se)}}(),se.proxy=Le,Le.src=I,Le.listener=se,I.addEventListener)$0||(Jt=lr),void 0===Jt&&(Jt=!1),I.addEventListener(j.toString(),Le,Jt);else if(I.attachEvent)I.attachEvent(vE(j.toString()),Le);else{if(!I.addListener||!I.removeListener)throw Error("addEventListener and attachEvent are unavailable.");I.addListener(Le)}return se}function mE(I,j,se,Le,Jt){if(Array.isArray(j)){for(var gn=0;gn<j.length;gn++)mE(I,j[gn],se,Le,Jt);return null}return se=o_(se),I&&I[dd]?I.L(j,se,q(Le)?!!Le.capture:!!Le,Jt):pE(I,j,se,!0,Le,Jt)}function i_(I,j,se,Le,Jt){if(Array.isArray(j))for(var gn=0;gn<j.length;gn++)i_(I,j[gn],se,Le,Jt);else Le=q(Le)?!!Le.capture:!!Le,se=o_(se),I&&I[dd]?(I=I.i,(j=String(j).toString())in I.g&&-1<(se=t_(gn=I.g[j],se,Le,Jt))&&(qg(gn[se]),Array.prototype.splice.call(gn,se,1),0==gn.length&&(delete I.g[j],I.h--))):I&&(I=Yg(I))&&(j=I.g[j.toString()],I=-1,j&&(I=t_(j,se,Le,Jt)),(se=-1<I?j[I]:null)&&Af(se))}function Af(I){if("number"!=typeof I&&I&&!I.da){var j=I.src;if(j&&j[dd])Qg(j.i,I);else{var se=I.type,Le=I.proxy;j.removeEventListener?j.removeEventListener(se,Le,I.capture):j.detachEvent?j.detachEvent(vE(se),Le):j.addListener&&j.removeListener&&j.removeListener(Le),(se=Yg(j))?(Qg(se,I),0==se.h&&(se.src=null,j[n_]=null)):qg(I)}}}function vE(I){return I in r_?r_[I]:r_[I]="on"+I}function j0(I,j){if(I.da)I=!0;else{j=new Np(j,this);var se=I.listener,Le=I.ha||I.src;I.fa&&Af(I),I=se.call(Le,j)}return I}function Yg(I){return(I=I[n_])instanceof hd?I:null}var s_="__closure_events_fn_"+(1e9*Math.random()>>>0);function o_(I){return"function"==typeof I?I:(I[s_]||(I[s_]=function(j){return I.handleEvent(j)}),I[s_])}function go(){Iu.call(this),this.i=new hd(this),this.M=this,this.F=null}function ko(I,j){var se,Le=I.F;if(Le)for(se=[];Le;Le=Le.F)se.push(Le);if(I=I.M,Le=j.type||j,"string"==typeof j)j=new Ha(j,I);else if(j instanceof Ha)j.target=j.target||I;else{var Jt=j;Bt(j=new Ha(Le,I),Jt)}if(Jt=!0,se)for(var gn=se.length-1;0<=gn;gn--){var lr=j.g=se[gn];Jt=Bd(lr,Le,!0,j)&&Jt}if(Jt=Bd(lr=j.g=I,Le,!0,j)&&Jt,Jt=Bd(lr,Le,!1,j)&&Jt,se)for(gn=0;gn<se.length;gn++)Jt=Bd(lr=j.g=se[gn],Le,!1,j)&&Jt}function Bd(I,j,se,Le){if(!(j=I.i.g[String(j)]))return!0;j=j.concat();for(var Jt=!0,gn=0;gn<j.length;++gn){var lr=j[gn];if(lr&&!lr.da&&lr.capture==se){var Ts=lr.listener,pa=lr.ha||lr.src;lr.fa&&Qg(I.i,lr),Jt=!1!==Ts.call(pa,Le)&&Jt}}return Jt&&!Le.defaultPrevented}function H0(I,j,se){if("function"==typeof I)se&&(I=Et(I,se));else{if(!I||"function"!=typeof I.handleEvent)throw Error("Invalid listener argument");I=Et(I.handleEvent,I)}return 2147483647<Number(j)?-1:P.setTimeout(I,j||0)}function a_(I){I.g=H0(()=>{I.g=null,I.i&&(I.i=!1,a_(I))},I.l);const j=I.h;I.h=null,I.m.apply(null,j)}wn(go,Iu),go.prototype[dd]=!0,go.prototype.removeEventListener=function(I,j,se,Le){i_(this,I,j,se,Le)},go.prototype.N=function(){if(go.aa.N.call(this),this.i){var j,I=this.i;for(j in I.g){for(var se=I.g[j],Le=0;Le<se.length;Le++)qg(se[Le]);delete I.g[j],I.h--}}this.F=null},go.prototype.K=function(I,j,se,Le){return this.i.add(String(I),j,!1,se,Le)},go.prototype.L=function(I,j,se,Le){return this.i.add(String(I),j,!0,se,Le)};class l_ extends Iu{constructor(j,se){super(),this.m=j,this.l=se,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:a_(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Op(I){Iu.call(this),this.h=I,this.g={}}wn(Op,Iu);var c_=[];function _E(I){Ri(I.g,function(j,se){this.g.hasOwnProperty(se)&&Af(j)},I),I.g={}}Op.prototype.N=function(){Op.aa.N.call(this),_E(this)},Op.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jg=P.JSON.stringify,pb=P.JSON.parse,W0=class{stringify(I){return P.JSON.stringify(I,void 0)}parse(I){return P.JSON.parse(I,void 0)}};function Df(){}function yE(){}Df.prototype.h=null;var kp={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function u_(){Ha.call(this,"d")}function Lp(){Ha.call(this,"c")}wn(u_,Ha),wn(Lp,Ha);var Cl={},Fp=null;function Vp(){return Fp=Fp||new go}function Sf(I){Ha.call(this,Cl.La,I)}function Up(I){const j=Vp();ko(j,new Sf(j))}function EE(I,j){Ha.call(this,Cl.STAT_EVENT,I),this.stat=j}function Sa(I){const j=Vp();ko(j,new EE(j,I))}function d_(I,j){Ha.call(this,Cl.Ma,I),this.size=j}function fc(I,j){if("function"!=typeof I)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){I()},j)}function fd(){this.g=!0}function Rh(I,j,se,Le){I.info(function(){return"XMLHTTP TEXT ("+j+"): "+function z0(I,j){if(!I.g)return j;if(!j)return null;try{var se=JSON.parse(j);if(se)for(I=0;I<se.length;I++)if(Array.isArray(se[I])){var Le=se[I];if(!(2>Le.length)){var Jt=Le[1];if(Array.isArray(Jt)&&!(1>Jt.length)){var gn=Jt[0];if("noop"!=gn&&"stop"!=gn&&"close"!=gn)for(var lr=1;lr<Jt.length;lr++)Jt[lr]=""}}}return Jg(se)}catch{return j}}(I,se)+(Le?" "+Le:"")})}Cl.La="serverreachability",wn(Sf,Ha),Cl.STAT_EVENT="statevent",wn(EE,Ha),Cl.Ma="timingevent",wn(d_,Ha),fd.prototype.xa=function(){this.g=!1},fd.prototype.info=function(){};var h_,$d={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},TE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function tm(){}function jd(I,j,se,Le){this.j=I,this.i=j,this.l=se,this.R=Le||1,this.U=new Op(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new CE}function CE(){this.i=null,this.g="",this.h=!1}wn(tm,Df),tm.prototype.g=function(){return new XMLHttpRequest},tm.prototype.i=function(){return{}},h_=new tm;var wE={},f_={};function p_(I,j,se){I.L=1,I.v=Wp(pd(j)),I.m=se,I.P=!0,Bp(I,null)}function Bp(I,j){I.F=Date.now(),$p(I),I.A=pd(I.v);var se=I.A,Le=I.R;Array.isArray(Le)||(Le=[String(Le)]),w_(se.i,"t",Le),I.C=0,se=I.j.J,I.h=new CE,I.g=x_(I.j,se?j:null,!I.m),0<I.O&&(I.M=new l_(Et(I.Y,I,I.g),I.O)),j=I.U,se=I.g,Le=I.ca;var Jt="readystatechange";Array.isArray(Jt)||(Jt&&(c_[0]=Jt.toString()),Jt=c_);for(var gn=0;gn<Jt.length;gn++){var lr=fE(se,Jt[gn],Le||j.handleEvent,!1,j.h||j);if(!lr)break;j.g[lr.key]=lr}j=I.H?pt(I.H):{},I.m?(I.u||(I.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",I.g.ea(I.A,I.u,I.m,j)):(I.u="GET",I.g.ea(I.A,I.u,null,j)),Up(),function gb(I,j,se,Le,Jt,gn){I.info(function(){if(I.g)if(gn)for(var lr="",Ts=gn.split("&"),pa=0;pa<Ts.length;pa++){var us=Ts[pa].split("=");if(1<us.length){var ll=us[0];us=us[1];var Ra=ll.split("_");lr=2<=Ra.length&&"type"==Ra[1]?lr+(ll+"=")+us+"&":lr+(ll+"=redacted&")}}else lr=null;else lr=gn;return"XMLHTTP REQ ("+Le+") [attempt "+Jt+"]: "+j+"\n"+se+"\n"+lr})}(I.i,I.u,I.A,I.l,I.R,I.m)}function bE(I){return!!I.g&&"GET"==I.u&&2!=I.L&&I.j.Ca}function G0(I,j){var se=I.C,Le=j.indexOf("\n",se);return-1==Le?f_:(se=Number(j.substring(se,Le)),isNaN(se)?wE:(Le+=1)+se>j.length?f_:(j=j.slice(Le,Le+se),I.C=Le+se,j))}function $p(I){I.S=Date.now()+I.I,g_(I,I.I)}function g_(I,j){if(null!=I.B)throw Error("WatchDog timer not null");I.B=fc(Et(I.ba,I),j)}function jp(I){I.B&&(P.clearTimeout(I.B),I.B=null)}function Rf(I){0==I.j.G||I.J||M_(I.j,I)}function Ph(I){jp(I);var j=I.M;j&&"function"==typeof j.ma&&j.ma(),I.M=null,_E(I.U),I.g&&(j=I.g,I.g=null,j.abort(),j.ma())}function nm(I,j){try{var se=I.j;if(0!=se.G&&(se.g==I||y_(se.h,I)))if(!I.K&&y_(se.h,I)&&3==se.G){try{var Le=se.Da.g.parse(j)}catch{Le=null}if(Array.isArray(Le)&&3==Le.length){var Jt=Le;if(0==Jt[0]){e:if(!se.u){if(se.g){if(!(se.g.F+3e3<I.F))break e;hm(se),zd(se)}R_(se),Sa(18)}}else se.za=Jt[1],0<se.za-se.T&&37500>Jt[2]&&se.F&&0==se.v&&!se.C&&(se.C=fc(Et(se.Za,se),6e3));if(1>=AE(se.h)&&se.ca){try{se.ca()}catch{}se.ca=void 0}}else Gd(se,11)}else if((I.K||se.g==I)&&hm(se),!jr(j))for(Jt=se.Da.g.parse(j),j=0;j<Jt.length;j++){let us=Jt[j];if(se.T=us[0],us=us[1],2==se.G)if("c"==us[0]){se.K=us[1],se.ia=us[2];const ll=us[3];null!=ll&&(se.la=ll,se.j.info("VER="+se.la));const Ra=us[4];null!=Ra&&(se.Aa=Ra,se.j.info("SVER="+se.Aa));const Oh=us[5];null!=Oh&&"number"==typeof Oh&&0<Oh&&(se.L=Le=1.5*Oh,se.j.info("backChannelRequestTimeoutMs_="+Le)),Le=se;const Pa=I.g;if(Pa){const Kp=Pa.g?Pa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kp){var gn=Le.h;gn.g||-1==Kp.indexOf("spdy")&&-1==Kp.indexOf("quic")&&-1==Kp.indexOf("h2")||(gn.j=gn.l,gn.g=new Set,gn.h&&(E_(gn,gn.h),gn.h=null))}if(Le.D){const N_=Pa.g?Pa.g.getResponseHeader("X-HTTP-Session-Id"):null;N_&&(Le.ya=N_,Us(Le.I,Le.D,N_))}}se.G=3,se.l&&se.l.ua(),se.ba&&(se.R=Date.now()-I.F,se.j.info("Handshake RTT: "+se.R+"ms"));var lr=I;if((Le=se).qa=zE(Le,Le.J?Le.ia:null,Le.W),lr.K){rm(Le.h,lr);var Ts=lr,pa=Le.L;pa&&(Ts.I=pa),Ts.B&&(jp(Ts),$p(Ts)),Le.g=lr}else WE(Le);0<se.i.length&&S_(se)}else"stop"!=us[0]&&"close"!=us[0]||Gd(se,7);else 3==se.G&&("stop"==us[0]||"close"==us[0]?"stop"==us[0]?Gd(se,7):Wd(se):"noop"!=us[0]&&se.l&&se.l.ta(us),se.v=0)}Up()}catch{}}jd.prototype.ca=function(I){I=I.target;const j=this.M;j&&3==Hd(I)?j.j():this.Y(I)},jd.prototype.Y=function(I){try{if(I==this.g)e:{const Ra=Hd(this.g);var j=this.g.Ba();if(this.g.Z(),!(3>Ra)&&(3!=Ra||this.g&&(this.h.h||this.g.oa()||nT(this.g)))){this.J||4!=Ra||7==j||Up(),jp(this);var se=this.g.Z();this.X=se;t:if(bE(this)){var Le=nT(this.g);I="";var Jt=Le.length,gn=4==Hd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ph(this),Rf(this);var lr="";break t}this.h.i=new P.TextDecoder}for(j=0;j<Jt;j++)this.h.h=!0,I+=this.h.i.decode(Le[j],{stream:!(gn&&j==Jt-1)});Le.length=0,this.h.g+=I,this.C=0,lr=this.h.g}else lr=this.g.oa();if(this.o=200==se,function em(I,j,se,Le,Jt,gn,lr){I.info(function(){return"XMLHTTP RESP ("+Le+") [ attempt "+Jt+"]: "+j+"\n"+se+"\n"+gn+" "+lr})}(this.i,this.u,this.A,this.l,this.R,Ra,se),this.o){if(this.T&&!this.K){t:{if(this.g){var Ts,pa=this.g;if((Ts=pa.g?pa.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jr(Ts)){var us=Ts;break t}}us=null}if(!(se=us)){this.o=!1,this.s=3,Sa(12),Ph(this),Rf(this);break e}Rh(this.i,this.l,se,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nm(this,se)}if(this.P){let Pa;for(se=!0;!this.J&&this.C<lr.length;){if(Pa=G0(this,lr),Pa==f_){4==Ra&&(this.s=4,Sa(14),se=!1),Rh(this.i,this.l,null,"[Incomplete Response]");break}if(Pa==wE){this.s=4,Sa(15),Rh(this.i,this.l,lr,"[Invalid Chunk]"),se=!1;break}Rh(this.i,this.l,Pa,null),nm(this,Pa)}if(bE(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ra||0!=lr.length||this.h.h||(this.s=1,Sa(16),se=!1),this.o=this.o&&se,se){if(0<lr.length&&!this.W){this.W=!0;var ll=this.j;ll.g==this&&ll.ba&&!ll.M&&(ll.j.info("Great, no buffering proxy detected. Bytes received: "+lr.length),Nf(ll),ll.M=!0,Sa(11))}}else Rh(this.i,this.l,lr,"[Invalid Chunked Response]"),Ph(this),Rf(this)}else Rh(this.i,this.l,lr,null),nm(this,lr);4==Ra&&Ph(this),this.o&&!this.J&&(4==Ra?M_(this.j,this):(this.o=!1,$p(this)))}else(function mb(I){const j={};I=(I.g&&2<=Hd(I)&&I.g.getAllResponseHeaders()||"").split("\r\n");for(let Le=0;Le<I.length;Le++){if(jr(I[Le]))continue;var se=qt(I[Le]);const Jt=se[0];if("string"!=typeof(se=se[1]))continue;se=se.trim();const gn=j[Jt]||[];j[Jt]=gn,gn.push(se)}!function Ft(I,j){for(const se in I)j.call(void 0,I[se],se,I)}(j,function(Le){return Le.join(", ")})})(this.g),400==se&&0<lr.indexOf("Unknown SID")?(this.s=3,Sa(12)):(this.s=0,Sa(13)),Ph(this),Rf(this)}}}catch{}},jd.prototype.cancel=function(){this.J=!0,Ph(this)},jd.prototype.ba=function(){this.B=null;const I=Date.now();0<=I-this.S?(function IE(I,j){I.info(function(){return"TIMEOUT: "+j})}(this.i,this.A),2!=this.L&&(Up(),Sa(17)),Ph(this),this.s=2,Rf(this)):g_(this,this.S-I)};var m_=class{constructor(I,j){this.g=I,this.map=j}};function v_(I){this.l=I||10,I=P.PerformanceNavigationTiming?0<(I=P.performance.getEntriesByType("navigation")).length&&("hq"==I[0].nextHopProtocol||"h2"==I[0].nextHopProtocol):!!(P.chrome&&P.chrome.loadTimes&&P.chrome.loadTimes()&&P.chrome.loadTimes().wasFetchedViaSpdy),this.j=I?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function __(I){return!!I.h||!!I.g&&I.g.size>=I.j}function AE(I){return I.h?1:I.g?I.g.size:0}function y_(I,j){return I.h?I.h==j:!!I.g&&I.g.has(j)}function E_(I,j){I.g?I.g.add(j):I.h=j}function rm(I,j){I.h&&I.h==j?I.h=null:I.g&&I.g.has(j)&&I.g.delete(j)}function im(I){if(null!=I.h)return I.i.concat(I.h.D);if(null!=I.g&&0!==I.g.size){let j=I.i;for(const se of I.g.values())j=j.concat(se.D);return j}return jn(I.i)}function sm(I,j){if(I.forEach&&"function"==typeof I.forEach)I.forEach(j,void 0);else if(k(I)||"string"==typeof I)Array.prototype.forEach.call(I,j,void 0);else for(var se=function I_(I){if(I.na&&"function"==typeof I.na)return I.na();if(!I.V||"function"!=typeof I.V){if(typeof Map<"u"&&I instanceof Map)return Array.from(I.keys());if(!(typeof Set<"u"&&I instanceof Set)){if(k(I)||"string"==typeof I){var j=[];I=I.length;for(var se=0;se<I;se++)j.push(se);return j}j=[],se=0;for(const Le in I)j[se++]=Le;return j}}}(I),Le=function DE(I){if(I.V&&"function"==typeof I.V)return I.V();if(typeof Map<"u"&&I instanceof Map||typeof Set<"u"&&I instanceof Set)return Array.from(I.values());if("string"==typeof I)return I.split("");if(k(I)){for(var j=[],se=I.length,Le=0;Le<se;Le++)j.push(I[Le]);return j}for(Le in j=[],se=0,I)j[se++]=I[Le];return j}(I),Jt=Le.length,gn=0;gn<Jt;gn++)j.call(void 0,Le[gn],se&&se[gn],I)}v_.prototype.cancel=function(){if(this.i=im(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const I of this.g.values())I.cancel();this.g.clear()}};var SE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mh(I){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,I instanceof Mh){this.h=I.h,Hp(this,I.j),this.o=I.o,this.g=I.g,Pf(this,I.s),this.l=I.l;var j=I.i,se=new xf;se.i=j.i,j.g&&(se.g=new Map(j.g),se.h=j.h),om(this,se),this.m=I.m}else I&&(j=String(I).match(SE))?(this.h=!1,Hp(this,j[1]||"",!0),this.o=Mf(j[2]||""),this.g=Mf(j[3]||"",!0),Pf(this,j[4]),this.l=Mf(j[5]||"",!0),om(this,j[6]||"",!0),this.m=Mf(j[7]||"")):(this.h=!1,this.i=new xf(null,this.h))}function pd(I){return new Mh(I)}function Hp(I,j,se){I.j=se?Mf(j,!0):j,I.j&&(I.j=I.j.replace(/:$/,""))}function Pf(I,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);I.s=j}else I.s=null}function om(I,j,se){j instanceof xf?(I.i=j,function b_(I,j){j&&!I.j&&(xh(I),I.i=null,I.g.forEach(function(se,Le){var Jt=Le.toLowerCase();Le!=Jt&&(X0(this,Le),w_(this,Jt,se))},I)),I.j=j}(I.i,I.h)):(se||(j=zp(j,xE)),I.i=new xf(j,I.h))}function Us(I,j,se){I.i.set(j,se)}function Wp(I){return Us(I,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),I}function Mf(I,j){return I?j?decodeURI(I.replace(/%25/g,"%2525")):decodeURIComponent(I):""}function zp(I,j,se){return"string"==typeof I?(I=encodeURI(I).replace(j,RE),se&&(I=I.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I):null}function RE(I){return"%"+((I=I.charCodeAt(0))>>4&15).toString(16)+(15&I).toString(16)}Mh.prototype.toString=function(){var I=[],j=this.j;j&&I.push(zp(j,PE,!0),":");var se=this.g;return(se||"file"==j)&&(I.push("//"),(j=this.o)&&I.push(zp(j,PE,!0),"@"),I.push(encodeURIComponent(String(se)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(se=this.s)&&I.push(":",String(se))),(se=this.l)&&(this.g&&"/"!=se.charAt(0)&&I.push("/"),I.push(zp(se,"/"==se.charAt(0)?ME:T_,!0))),(se=this.i.toString())&&I.push("?",se),(se=this.m)&&I.push("#",zp(se,al)),I.join("")};var PE=/[#\/\?@]/g,T_=/[#\?:]/g,ME=/[#\?]/g,xE=/[#\?@]/g,al=/#/g;function xf(I,j){this.h=this.g=null,this.i=I||null,this.j=!!j}function xh(I){I.g||(I.g=new Map,I.h=0,I.i&&function K0(I,j){if(I){I=I.split("&");for(var se=0;se<I.length;se++){var Le=I[se].indexOf("="),Jt=null;if(0<=Le){var gn=I[se].substring(0,Le);Jt=I[se].substring(Le+1)}else gn=I[se];j(gn,Jt?decodeURIComponent(Jt.replace(/\+/g," ")):"")}}}(I.i,function(j,se){I.add(decodeURIComponent(j.replace(/\+/g," ")),se)}))}function X0(I,j){xh(I),j=Nh(I,j),I.g.has(j)&&(I.i=null,I.h-=I.g.get(j).length,I.g.delete(j))}function C_(I,j){return xh(I),j=Nh(I,j),I.g.has(j)}function w_(I,j,se){X0(I,j),0<se.length&&(I.i=null,I.g.set(Nh(I,j),jn(se)),I.h+=se.length)}function Nh(I,j){return j=String(j),I.j&&(j=j.toLowerCase()),j}function gd(I,j,se,Le,Jt){try{Jt&&(Jt.onload=null,Jt.onerror=null,Jt.onabort=null,Jt.ontimeout=null),Le(se)}catch{}}function kE(){this.g=new W0}function q0(I,j,se){const Le=se||"";try{sm(I,function(Jt,gn){let lr=Jt;q(Jt)&&(lr=Jg(Jt)),j.push(Le+gn+"="+encodeURIComponent(lr))})}catch(Jt){throw j.push(Le+"type="+encodeURIComponent("_badmap")),Jt}}function am(I){this.l=I.Ub||null,this.j=I.eb||!1}function A_(I,j){go.call(this),this.D=I,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Q0(I){I.j.read().then(I.Pa.bind(I)).catch(I.ga.bind(I))}function lm(I){I.readyState=4,I.l=null,I.j=null,I.v=null,cm(I)}function cm(I){I.onreadystatechange&&I.onreadystatechange.call(I)}function Y0(I){let j="";return Ri(I,function(se,Le){j+=Le,j+=":",j+=se,j+="\r\n"}),j}function LE(I,j,se){e:{for(Le in se){var Le=!1;break e}Le=!0}Le||(se=Y0(se),"string"==typeof I?null!=se&&encodeURIComponent(String(se)):Us(I,j,se))}function wo(I){go.call(this),this.headers=new Map,this.o=I||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=xf.prototype).add=function(I,j){xh(this),this.i=null,I=Nh(this,I);var se=this.g.get(I);return se||this.g.set(I,se=[]),se.push(j),this.h+=1,this},a.forEach=function(I,j){xh(this),this.g.forEach(function(se,Le){se.forEach(function(Jt){I.call(j,Jt,Le,this)},this)},this)},a.na=function(){xh(this);const I=Array.from(this.g.values()),j=Array.from(this.g.keys()),se=[];for(let Le=0;Le<j.length;Le++){const Jt=I[Le];for(let gn=0;gn<Jt.length;gn++)se.push(j[Le])}return se},a.V=function(I){xh(this);let j=[];if("string"==typeof I)C_(this,I)&&(j=j.concat(this.g.get(Nh(this,I))));else{I=Array.from(this.g.values());for(let se=0;se<I.length;se++)j=j.concat(I[se])}return j},a.set=function(I,j){return xh(this),this.i=null,C_(this,I=Nh(this,I))&&(this.h-=this.g.get(I).length),this.g.set(I,[j]),this.h+=1,this},a.get=function(I,j){return I&&0<(I=this.V(I)).length?String(I[0]):j},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const I=[],j=Array.from(this.g.keys());for(var se=0;se<j.length;se++){var Le=j[se];const gn=encodeURIComponent(String(Le)),lr=this.V(Le);for(Le=0;Le<lr.length;Le++){var Jt=gn;""!==lr[Le]&&(Jt+="="+encodeURIComponent(String(lr[Le]))),I.push(Jt)}}return this.i=I.join("&")},wn(am,Df),am.prototype.g=function(){return new A_(this.l,this.j)},am.prototype.i=function(I){return function(){return I}}({}),wn(A_,go),(a=A_.prototype).open=function(I,j){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=I,this.A=j,this.readyState=1,cm(this)},a.send=function(I){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};I&&(j.body=I),(this.D||P).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lm(this)),this.readyState=0},a.Sa=function(I){if(this.g&&(this.l=I,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=I.headers,this.readyState=2,cm(this)),this.g&&(this.readyState=3,cm(this),this.g)))if("arraybuffer"===this.responseType)I.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in I){if(this.j=I.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Q0(this)}else I.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(I){if(this.g){if(this.o&&I.value)this.response.push(I.value);else if(!this.o){var j=I.value?I.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!I.done}))&&(this.response=this.responseText+=j)}I.done?lm(this):cm(this),3==this.readyState&&Q0(this)}},a.Ra=function(I){this.g&&(this.response=this.responseText=I,lm(this))},a.Qa=function(I){this.g&&(this.response=I,lm(this))},a.ga=function(){this.g&&lm(this)},a.setRequestHeader=function(I,j){this.u.append(I,j)},a.getResponseHeader=function(I){return this.h&&this.h.get(I.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const I=[],j=this.h.entries();for(var se=j.next();!se.done;)I.push((se=se.value)[0]+": "+se[1]),se=j.next();return I.join("\r\n")},Object.defineProperty(A_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(I){this.m=I?"include":"same-origin"}}),wn(wo,go);var FE=/^https?$/i,VE=["POST","PUT"];function J0(I,j){I.h=!1,I.g&&(I.j=!0,I.g.abort(),I.j=!1),I.l=j,I.m=5,Z0(I),D_(I)}function Z0(I){I.A||(I.A=!0,ko(I,"complete"),ko(I,"error"))}function eT(I){if(I.h&&typeof E<"u"&&(!I.v[1]||4!=Hd(I)||2!=I.Z()))if(I.u&&4==Hd(I))H0(I.Ea,0,I);else if(ko(I,"readystatechange"),4==Hd(I)){I.h=!1;try{const lr=I.Z();e:switch(lr){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var se;if(!(se=j)){var Le;if(Le=0===lr){var Jt=String(I.D).match(SE)[1]||null;!Jt&&P.self&&P.self.location&&(Jt=P.self.location.protocol.slice(0,-1)),Le=!FE.test(Jt?Jt.toLowerCase():"")}se=Le}if(se)ko(I,"complete"),ko(I,"success");else{I.m=6;try{var gn=2<Hd(I)?I.g.statusText:""}catch{gn=""}I.l=gn+" ["+I.Z()+"]",Z0(I)}}finally{D_(I)}}}function D_(I,j){if(I.g){tT(I);const se=I.g,Le=I.v[0]?()=>{}:null;I.g=null,I.v=null,j||ko(I,"ready");try{se.onreadystatechange=Le}catch{}}}function tT(I){I.I&&(P.clearTimeout(I.I),I.I=null)}function Hd(I){return I.g?I.g.readyState:0}function nT(I){try{if(!I.g)return null;if("response"in I.g)return I.g.response;switch(I.H){case"":case"text":return I.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in I.g)return I.g.mozResponseArrayBuffer}return null}catch{return null}}function um(I,j,se){return se&&se.internalChannelParams&&se.internalChannelParams[I]||j}function UE(I){this.Aa=0,this.i=[],this.j=new fd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=um("failFast",!1,I),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=um("baseRetryDelayMs",5e3,I),this.cb=um("retryDelaySeedMs",1e4,I),this.Wa=um("forwardChannelMaxRetries",2,I),this.wa=um("forwardChannelRequestTimeoutMs",2e4,I),this.pa=I&&I.xmlHttpFactory||void 0,this.Xa=I&&I.Tb||void 0,this.Ca=I&&I.useFetchStreams||!1,this.L=void 0,this.J=I&&I.supportsCrossDomainXhr||!1,this.K="",this.h=new v_(I&&I.concurrentRequestLimit),this.Da=new kE,this.P=I&&I.fastHandshake||!1,this.O=I&&I.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=I&&I.Rb||!1,I&&I.xa&&this.j.xa(),I&&I.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&I&&I.detectBufferingProxy||!1,this.ja=void 0,I&&I.longPollingTimeout&&0<I.longPollingTimeout&&(this.ja=I.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Wd(I){if(BE(I),3==I.G){var j=I.U++,se=pd(I.I);if(Us(se,"SID",I.K),Us(se,"RID",j),Us(se,"TYPE","terminate"),dm(I,se),(j=new jd(I,I.j,j)).L=2,j.v=Wp(pd(se)),se=!1,P.navigator&&P.navigator.sendBeacon)try{se=P.navigator.sendBeacon(j.v.toString(),"")}catch{}!se&&P.Image&&((new Image).src=j.v,se=!0),se||(j.g=x_(j.j,null),j.g.ea(j.v)),j.F=Date.now(),$p(j)}iT(I)}function zd(I){I.g&&(Nf(I),I.g.cancel(),I.g=null)}function BE(I){zd(I),I.u&&(P.clearTimeout(I.u),I.u=null),hm(I),I.h.cancel(),I.s&&("number"==typeof I.s&&P.clearTimeout(I.s),I.s=null)}function S_(I){if(!__(I.h)&&!I.s){I.s=!0;var j=I.Ga;Mp||hE(),xp||(Mp(),xp=!0),Jv.add(j,I),I.B=0}}function jE(I,j){var se;se=j?j.l:I.U++;const Le=pd(I.I);Us(Le,"SID",I.K),Us(Le,"RID",se),Us(Le,"AID",I.T),dm(I,Le),I.m&&I.o&&LE(Le,I.m,I.o),se=new jd(I,I.j,se,I.B+1),null===I.m&&(se.H=I.o),j&&(I.i=j.D.concat(I.i)),j=HE(I,se,1e3),se.I=Math.round(.5*I.wa)+Math.round(.5*I.wa*Math.random()),E_(I.h,se),p_(se,Le,j)}function dm(I,j){I.H&&Ri(I.H,function(se,Le){Us(j,Le,se)}),I.l&&sm({},function(se,Le){Us(j,Le,se)})}function HE(I,j,se){se=Math.min(I.i.length,se);var Le=I.l?Et(I.l.Na,I.l,I):null;e:{var Jt=I.i;let gn=-1;for(;;){const lr=["count="+se];-1==gn?0<se?(gn=Jt[0].g,lr.push("ofs="+gn)):gn=0:lr.push("ofs="+gn);let Ts=!0;for(let pa=0;pa<se;pa++){let us=Jt[pa].g;const ll=Jt[pa].map;if(us-=gn,0>us)gn=Math.max(0,Jt[pa].g-100),Ts=!1;else try{q0(ll,lr,"req"+us+"_")}catch{Le&&Le(ll)}}if(Ts){Le=lr.join("&");break e}}}return I=I.i.splice(0,se),j.D=I,Le}function WE(I){if(!I.g&&!I.u){I.Y=1;var j=I.Fa;Mp||hE(),xp||(Mp(),xp=!0),Jv.add(j,I),I.v=0}}function R_(I){return!(I.g||I.u||3<=I.v||(I.Y++,I.u=fc(Et(I.Fa,I),rT(I,I.v)),I.v++,0))}function Nf(I){null!=I.A&&(P.clearTimeout(I.A),I.A=null)}function P_(I){I.g=new jd(I,I.j,"rpc",I.Y),null===I.m&&(I.g.H=I.o),I.g.O=0;var j=pd(I.qa);Us(j,"RID","rpc"),Us(j,"SID",I.K),Us(j,"AID",I.T),Us(j,"CI",I.F?"0":"1"),!I.F&&I.ja&&Us(j,"TO",I.ja),Us(j,"TYPE","xmlhttp"),dm(I,j),I.m&&I.o&&LE(j,I.m,I.o),I.L&&(I.g.I=I.L);var se=I.g;I=I.ia,se.L=1,se.v=Wp(pd(j)),se.m=null,se.P=!0,Bp(se,I)}function hm(I){null!=I.C&&(P.clearTimeout(I.C),I.C=null)}function M_(I,j){var se=null;if(I.g==j){hm(I),Nf(I),I.g=null;var Le=2}else{if(!y_(I.h,j))return;se=j.D,rm(I.h,j),Le=1}if(0!=I.G)if(j.o)if(1==Le){se=j.m?j.m.length:0,j=Date.now()-j.F;var Jt=I.B;ko(Le=Vp(),new d_(Le,se)),S_(I)}else WE(I);else if(3==(Jt=j.s)||0==Jt&&0<j.X||!(1==Le&&function $E(I,j){return!(AE(I.h)>=I.h.j-(I.s?1:0)||(I.s?(I.i=j.D.concat(I.i),0):1==I.G||2==I.G||I.B>=(I.Va?0:I.Wa)||(I.s=fc(Et(I.Ga,I,j),rT(I,I.B)),I.B++,0)))}(I,j)||2==Le&&R_(I)))switch(se&&0<se.length&&(j=I.h,j.i=j.i.concat(se)),Jt){case 1:Gd(I,5);break;case 4:Gd(I,10);break;case 3:Gd(I,6);break;default:Gd(I,2)}}function rT(I,j){let se=I.Ta+Math.floor(Math.random()*I.cb);return I.isActive()||(se*=2),se*j}function Gd(I,j){if(I.j.info("Error code "+j),2==j){var se=Et(I.fb,I),Le=I.Xa;const Jt=!Le;Le=new Mh(Le||"//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||Hp(Le,"https"),Wp(Le),Jt?function NE(I,j){const se=new fd;if(P.Image){const Le=new Image;Le.onload=nn(gd,se,"TestLoadImage: loaded",!0,j,Le),Le.onerror=nn(gd,se,"TestLoadImage: error",!1,j,Le),Le.onabort=nn(gd,se,"TestLoadImage: abort",!1,j,Le),Le.ontimeout=nn(gd,se,"TestLoadImage: timeout",!1,j,Le),P.setTimeout(function(){Le.ontimeout&&Le.ontimeout()},1e4),Le.src=I}else j(!1)}(Le.toString(),se):function OE(I,j){new fd;const Le=new AbortController,Jt=setTimeout(()=>{Le.abort(),gd(0,0,!1,j)},1e4);fetch(I,{signal:Le.signal}).then(gn=>{clearTimeout(Jt),gd(0,0,!!gn.ok,j)}).catch(()=>{clearTimeout(Jt),gd(0,0,!1,j)})}(Le.toString(),se)}else Sa(2);I.G=0,I.l&&I.l.sa(j),iT(I),BE(I)}function iT(I){if(I.G=0,I.ka=[],I.l){const j=im(I.h);(0!=j.length||0!=I.i.length)&&(Vn(I.ka,j),Vn(I.ka,I.i),I.h.i.length=0,jn(I.i),I.i.length=0),I.l.ra()}}function zE(I,j,se){var Le=se instanceof Mh?pd(se):new Mh(se);if(""!=Le.g)j&&(Le.g=j+"."+Le.g),Pf(Le,Le.s);else{var Jt=P.location;Le=Jt.protocol,j=j?j+"."+Jt.hostname:Jt.hostname,Jt=+Jt.port;var gn=new Mh(null);Le&&Hp(gn,Le),j&&(gn.g=j),Jt&&Pf(gn,Jt),se&&(gn.l=se),Le=gn}return j=I.ya,(se=I.D)&&j&&Us(Le,se,j),Us(Le,"VER",I.la),dm(I,Le),Le}function x_(I,j,se){if(j&&!I.J)throw Error("Can't create secondary domain capable XhrIo object.");return(j=new wo(I.Ca&&!I.pa?new am({eb:se}):I.pa)).Ha(I.J),j}function fm(){}function pm(){}function Wl(I,j){go.call(this),this.g=new UE(j),this.l=I,this.h=j&&j.messageUrlParams||null,I=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(I?I["X-Client-Protocol"]="webchannel":I={"X-Client-Protocol":"webchannel"}),this.g.o=I,I=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(I?I["X-WebChannel-Content-Type"]=j.messageContentType:I={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(I?I["X-WebChannel-Client-Profile"]=j.va:I={"X-WebChannel-Client-Profile":j.va}),this.g.S=I,(I=j&&j.Sb)&&!jr(I)&&(this.g.m=I),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!jr(j)&&(this.g.D=j,null!==(I=this.h)&&j in I&&j in(I=this.h)&&delete I[j]),this.j=new Of(this)}function Gp(I){u_.call(this),I.__headers__&&(this.headers=I.__headers__,this.statusCode=I.__status__,delete I.__headers__,delete I.__status__);var j=I.__sm__;if(j){e:{for(const se in j){I=se;break e}I=void 0}(this.i=I)&&(I=this.i,j=null!==j&&I in j?j[I]:void 0),this.data=j}else this.data=I}function GE(){Lp.call(this),this.status=1}function Of(I){this.g=I}(a=wo.prototype).Ha=function(I){this.J=I},a.ea=function(I,j,se,Le){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+I);j=j?j.toUpperCase():"GET",this.D=I,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():h_.g(),this.v=function Zg(I){return I.h||(I.h=I.i())}(this.o?this.o:h_),this.g.onreadystatechange=Et(this.Ea,this);try{this.B=!0,this.g.open(j,String(I),!0),this.B=!1}catch(gn){return void J0(this,gn)}if(I=se||"",se=new Map(this.headers),Le)if(Object.getPrototypeOf(Le)===Object.prototype)for(var Jt in Le)se.set(Jt,Le[Jt]);else{if("function"!=typeof Le.keys||"function"!=typeof Le.get)throw Error("Unknown input type for opt_headers: "+String(Le));for(const gn of Le.keys())se.set(gn,Le.get(gn))}Le=Array.from(se.keys()).find(gn=>"content-type"==gn.toLowerCase()),Jt=P.FormData&&I instanceof P.FormData,!(0<=Array.prototype.indexOf.call(VE,j,void 0))||Le||Jt||se.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[gn,lr]of se)this.g.setRequestHeader(gn,lr);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tT(this),this.u=!0,this.g.send(I),this.u=!1}catch(gn){J0(this,gn)}},a.abort=function(I){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=I||7,ko(this,"complete"),ko(this,"abort"),D_(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),D_(this,!0)),wo.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?eT(this):this.bb())},a.bb=function(){eT(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<Hd(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(I){if(this.g){var j=this.g.responseText;return I&&0==j.indexOf(I)&&(j=j.substring(I.length)),pb(j)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=UE.prototype).la=8,a.G=1,a.connect=function(I,j,se,Le){Sa(0),this.W=I,this.H=j||{},se&&void 0!==Le&&(this.H.OSID=se,this.H.OAID=Le),this.F=this.X,this.I=zE(this,null,this.W),S_(this)},a.Ga=function(I){if(this.s)if(this.s=null,1==this.G){if(!I){this.U=Math.floor(1e5*Math.random()),I=this.U++;const Jt=new jd(this,this.j,I);let gn=this.o;if(this.S&&(gn?(gn=pt(gn),Bt(gn,this.S)):gn=this.S),null!==this.m||this.O||(Jt.H=gn,gn=null),this.P)e:{for(var j=0,se=0;se<this.i.length;se++){var Le=this.i[se];if(void 0===(Le="__data__"in Le.map&&"string"==typeof(Le=Le.map.__data__)?Le.length:void 0))break;if(4096<(j+=Le)){j=se;break e}if(4096===j||se===this.i.length-1){j=se+1;break e}}j=1e3}else j=1e3;j=HE(this,Jt,j),Us(se=pd(this.I),"RID",I),Us(se,"CVER",22),this.D&&Us(se,"X-HTTP-Session-Id",this.D),dm(this,se),gn&&(this.O?j="headers="+encodeURIComponent(String(Y0(gn)))+"&"+j:this.m&&LE(se,this.m,gn)),E_(this.h,Jt),this.Ua&&Us(se,"TYPE","init"),this.P?(Us(se,"$req",j),Us(se,"SID","null"),Jt.T=!0,p_(Jt,se,null)):p_(Jt,se,j),this.G=2}}else 3==this.G&&(I?jE(this,I):0==this.i.length||__(this.h)||jE(this))},a.Fa=function(){if(this.u=null,P_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var I=2*this.R;this.j.info("BP detection timer enabled: "+I),this.A=fc(Et(this.ab,this),I)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Sa(10),zd(this),P_(this))},a.Za=function(){null!=this.C&&(this.C=null,zd(this),R_(this),Sa(19))},a.fb=function(I){I?(this.j.info("Successfully pinged google.com"),Sa(2)):(this.j.info("Failed to ping google.com"),Sa(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=fm.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},pm.prototype.g=function(I,j){return new Wl(I,j)},wn(Wl,go),Wl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wl.prototype.close=function(){Wd(this.g)},Wl.prototype.o=function(I){var j=this.g;if("string"==typeof I){var se={};se.__data__=I,I=se}else this.u&&((se={}).__data__=Jg(I),I=se);j.i.push(new m_(j.Ya++,I)),3==j.G&&S_(j)},Wl.prototype.N=function(){this.g.l=null,delete this.j,Wd(this.g),delete this.g,Wl.aa.N.call(this)},wn(Gp,u_),wn(GE,Lp),wn(Of,fm),Of.prototype.ua=function(){ko(this.g,"a")},Of.prototype.ta=function(I){ko(this.g,new Gp(I))},Of.prototype.sa=function(I){ko(this.g,new GE)},Of.prototype.ra=function(){ko(this.g,"b")},pm.prototype.createWebChannel=pm.prototype.g,Wl.prototype.send=Wl.prototype.o,Wl.prototype.open=Wl.prototype.m,Wl.prototype.close=Wl.prototype.close,Yt=mi.createWebChannelTransport=function(){return new pm},ln=mi.getStatEventTarget=function(){return Vp()},gt=mi.Event=Cl,Ve=mi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$d.NO_ERROR=0,$d.TIMEOUT=8,$d.HTTP_ERROR=6,Y=mi.ErrorCode=$d,TE.COMPLETE="complete",ie=mi.EventType=TE,yE.EventType=kp,kp.OPEN="a",kp.CLOSE="b",kp.ERROR="c",kp.MESSAGE="d",go.prototype.listen=go.prototype.K,_e=mi.WebChannel=yE,mi.FetchXmlHttpFactory=am,wo.prototype.listenOnce=wo.prototype.L,wo.prototype.getLastError=wo.prototype.Ka,wo.prototype.getLastErrorCode=wo.prototype.Ba,wo.prototype.getStatus=wo.prototype.Z,wo.prototype.getResponseJson=wo.prototype.Oa,wo.prototype.getResponseText=wo.prototype.oa,wo.prototype.send=wo.prototype.ea,wo.prototype.setWithCredentials=wo.prototype.Ha,Wt=mi.XhrIo=wo}).apply(typeof li<"u"?li:typeof self<"u"?self:typeof window<"u"?window:{});const pe="@firebase/firestore";class Oe{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Oe.UNAUTHENTICATED=new Oe(null),Oe.GOOGLE_CREDENTIALS=new Oe("google-credentials-uid"),Oe.FIRST_PARTY=new Oe("first-party-uid"),Oe.MOCK_USER=new Oe("mock-user");let Je="10.14.0";const Ht=new Pi.Vy("@firebase/firestore");function Gt(){return Ht.logLevel}function St(a,...t){if(Ht.logLevel<=Pi.$b.DEBUG){const r=t.map(Lr);Ht.debug(`Firestore (${Je}): ${a}`,...r)}}function Gn(a,...t){if(Ht.logLevel<=Pi.$b.ERROR){const r=t.map(Lr);Ht.error(`Firestore (${Je}): ${a}`,...r)}}function Hn(a,...t){if(Ht.logLevel<=Pi.$b.WARN){const r=t.map(Lr);Ht.warn(`Firestore (${Je}): ${a}`,...r)}}function Lr(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function Mn(a="Unexpected state"){const t=`FIRESTORE (${Je}) INTERNAL ASSERTION FAILED: `+a;throw Gn(t),new Error(t)}function In(a,t){a||Mn()}function Tn(a,t){return a}const Vt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Kt extends wr.g{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}class Qi{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class de{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Oe.UNAUTHENTICATED))}shutdown(){}}class ye{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ut{constructor(t){this.t=t,this.currentUser=Oe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){var o=this;In(void 0===this.o);let u=this.i;const m=q=>this.i!==u?(u=this.i,r(q)):Promise.resolve();let E=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new xr,t.enqueueRetryable(()=>m(this.currentUser))};const P=()=>{const q=E;t.enqueueRetryable((0,Z.A)(function*(){yield q.promise,yield m(o.currentUser)}))},k=q=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.o&&(this.auth.addAuthTokenListener(this.o),P())};this.t.onInit(q=>k(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?k(q):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new xr)}},0),P()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(In("string"==typeof o.accessToken),new Qi(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return In(null===t||"string"==typeof t),new Oe(t)}}class Qt{constructor(t,r,o){this.l=t,this.h=r,this.P=o,this.type="FirstParty",this.user=Oe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bn{constructor(t,r,o){this.l=t,this.h=r,this.P=o}getToken(){return Promise.resolve(new Qt(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Oe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nr{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rr{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){In(void 0===this.o);const o=m=>{null!=m.error&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const E=m.token!==this.R;return this.R=m.token,St("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?r(m.token):Promise.resolve()};this.o=m=>{t.enqueueRetryable(()=>o(m))};const u=m=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(m=>u(m)),setTimeout(()=>{if(!this.appCheck){const m=this.A.getImmediate({optional:!0});m?u(m):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(In("string"==typeof r.token),this.R=r.token,new nr(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xn(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let o=0;o<a;o++)r[o]=Math.floor(256*Math.random());return r}class Ei{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=xn(40);for(let m=0;m<u.length;++m)o.length<20&&u[m]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[m]%62))}return o}}function Wn(a,t){return a<t?-1:a>t?1:0}function ts(a,t,r){return a.length===t.length&&a.every((o,u)=>r(o,t[u]))}function Lo(a){return a+"\0"}class Ai{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Kt(Vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Kt(Vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new Kt(Vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Kt(Vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ai.fromMillis(Date.now())}static fromDate(t){return Ai.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),o=Math.floor(1e6*(t-1e3*r));return new Ai(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Wn(this.nanoseconds,t.nanoseconds):Wn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _r{constructor(t){this.timestamp=t}static fromTimestamp(t){return new _r(t)}static min(){return new _r(new Ai(0,0))}static max(){return new _r(new Ai(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ii{constructor(t,r,o){void 0===r?r=0:r>t.length&&Mn(),void 0===o?o=t.length-r:o>t.length-r&&Mn(),this.segments=t,this.offset=r,this.len=o}get length(){return this.len}isEqual(t){return 0===ii.comparator(this,t)}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof ii?t.forEach(o=>{r.push(o)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,o=this.limit();r<o;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const o=Math.min(t.length,r.length);for(let u=0;u<o;u++){const m=t.get(u),E=r.get(u);if(m<E)return-1;if(m>E)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class Jn extends ii{construct(t,r,o){return new Jn(t,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const o of t){if(o.indexOf("//")>=0)throw new Kt(Vt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new Jn(r)}static emptyPath(){return new Jn([])}}const ns=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ii extends ii{construct(t,r,o){return new Ii(t,r,o)}static isValidIdentifier(t){return ns.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ii.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ii(["__name__"])}static fromServerFormat(t){const r=[];let o="",u=0;const m=()=>{if(0===o.length)throw new Kt(Vt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let E=!1;for(;u<t.length;){const P=t[u];if("\\"===P){if(u+1===t.length)throw new Kt(Vt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const k=t[u+1];if("\\"!==k&&"."!==k&&"`"!==k)throw new Kt(Vt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=k,u+=2}else"`"===P?(E=!E,u++):"."!==P||E?(o+=P,u++):(m(),u++)}if(m(),E)throw new Kt(Vt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ii(r)}static emptyPath(){return new Ii([])}}class Fn{constructor(t){this.path=t}static fromPath(t){return new Fn(Jn.fromString(t))}static fromName(t){return new Fn(Jn.fromString(t).popFirst(5))}static empty(){return new Fn(Jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Jn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,r){return Jn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Fn(new Jn(t.slice()))}}class as{constructor(t,r,o,u){this.indexId=t,this.collectionGroup=r,this.fields=o,this.indexState=u}}function Js(a){return a.fields.find(t=>2===t.kind)}function Cs(a){return a.fields.filter(t=>2!==t.kind)}as.UNKNOWN_ID=-1;class le{constructor(t,r){this.fieldPath=t,this.kind=r}}class A{constructor(t,r){this.sequenceNumber=t,this.offset=r}static empty(){return new A(0,zt.min())}}function K(a,t){const r=a.toTimestamp().seconds,o=a.toTimestamp().nanoseconds+1,u=_r.fromTimestamp(1e9===o?new Ai(r+1,0):new Ai(r,o));return new zt(u,Fn.empty(),t)}function Ue(a){return new zt(a.readTime,a.key,-1)}class zt{constructor(t,r,o){this.readTime=t,this.documentKey=r,this.largestBatchId=o}static min(){return new zt(_r.min(),Fn.empty(),-1)}static max(){return new zt(_r.max(),Fn.empty(),-1)}}function dn(a,t){let r=a.readTime.compareTo(t.readTime);return 0!==r?r:(r=Fn.comparator(a.documentKey,t.documentKey),0!==r?r:Wn(a.largestBatchId,t.largestBatchId))}const pn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function $n(a){return Un.apply(this,arguments)}function Un(){return(Un=(0,Z.A)(function*(a){if(a.code!==Vt.FAILED_PRECONDITION||a.message!==pn)throw a;St("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Qe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Mn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new Qe((o,u)=>{this.nextCallback=m=>{this.wrapSuccess(t,m).next(o,u)},this.catchCallback=m=>{this.wrapFailure(r,m).next(o,u)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof Qe?r:Qe.resolve(r)}catch(r){return Qe.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):Qe.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):Qe.reject(r)}static resolve(t){return new Qe((r,o)=>{r(t)})}static reject(t){return new Qe((r,o)=>{o(t)})}static waitFor(t){return new Qe((r,o)=>{let u=0,m=0,E=!1;t.forEach(P=>{++u,P.next(()=>{++m,E&&m===u&&r()},k=>o(k))}),E=!0,m===u&&r()})}static or(t){let r=Qe.resolve(!1);for(const o of t)r=r.next(u=>u?Qe.resolve(u):o());return r}static forEach(t,r){const o=[];return t.forEach((u,m)=>{o.push(r.call(this,u,m))}),this.waitFor(o)}static mapArray(t,r){return new Qe((o,u)=>{const m=t.length,E=new Array(m);let P=0;for(let k=0;k<m;k++){const q=k;r(t[q]).next(ge=>{E[q]=ge,++P,P===m&&o(E)},ge=>u(ge))}})}static doWhile(t,r){return new Qe((o,u)=>{const m=()=>{!0===t()?r().next(()=>{m()},u):o()};m()})}}class pr{constructor(t,r){this.action=t,this.transaction=r,this.aborted=!1,this.V=new xr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Xr(t,r.error)):this.V.resolve()},this.transaction.onerror=o=>{const u=Yo(o.target.error);this.V.reject(new Xr(t,u))}}static open(t,r,o,u){try{return new pr(r,t.transaction(u,o))}catch(m){throw new Xr(r,m)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(St("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const r=this.transaction.objectStore(t);return new rs(r)}}class Pr{constructor(t,r,o){this.name=t,this.version=r,this.p=o,12.2===Pr.S((0,wr.ZQ)())&&Gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return St("SimpleDb","Removing database:",t),si(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,wr.zW)())return!1;if(Pr.v())return!0;const t=(0,wr.ZQ)(),r=Pr.S(t),o=0<r&&r<10,u=xi(t),m=0<u&&u<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||o||m)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,r){return t.store(r)}static S(t){const r=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}M(t){var r=this;return(0,Z.A)(function*(){return r.db||(St("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,u)=>{const m=indexedDB.open(r.name,r.version);m.onsuccess=E=>{o(E.target.result)},m.onblocked=()=>{u(new Xr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=E=>{const P=E.target.error;u("VersionError"===P.name?new Kt(Vt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new Kt(Vt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Xr(t,P))},m.onupgradeneeded=E=>{St("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',E.oldVersion),r.p.O(E.target.result,m.transaction,E.oldVersion,r.version).next(()=>{St("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=o=>r.N(o)),r.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=r=>t(r))}runTransaction(t,r,o,u){var m=this;return(0,Z.A)(function*(){const E="readonly"===r;let P=0;for(;;){++P;try{m.db=yield m.M(t);const k=pr.open(m.db,t,E?"readonly":"readwrite",o),q=u(k).next(ge=>(k.g(),ge)).catch(ge=>(k.abort(ge),Qe.reject(ge))).toPromise();return q.catch(()=>{}),yield k.m,q}catch(k){const q=k,ge="FirebaseError"!==q.name&&P<3;if(St("SimpleDb","Transaction failed with error:",q.message,"Retrying:",ge),m.close(),!ge)return Promise.reject(q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function xi(a){const t=a.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Di{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return si(this.B.delete())}}class Xr extends Kt{constructor(t,r){super(Vt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function ni(a){return"IndexedDbTransactionError"===a.name}class rs{constructor(t){this.store=t}put(t,r){let o;return void 0!==r?(St("SimpleDb","PUT",this.store.name,t,r),o=this.store.put(r,t)):(St("SimpleDb","PUT",this.store.name,"<auto-key>",t),o=this.store.put(t)),si(o)}add(t){return St("SimpleDb","ADD",this.store.name,t,t),si(this.store.add(t))}get(t){return si(this.store.get(t)).next(r=>(void 0===r&&(r=null),St("SimpleDb","GET",this.store.name,t,r),r))}delete(t){return St("SimpleDb","DELETE",this.store.name,t),si(this.store.delete(t))}count(){return St("SimpleDb","COUNT",this.store.name),si(this.store.count())}U(t,r){const o=this.options(t,r),u=o.index?this.store.index(o.index):this.store;if("function"==typeof u.getAll){const m=u.getAll(o.range);return new Qe((E,P)=>{m.onerror=k=>{P(k.target.error)},m.onsuccess=k=>{E(k.target.result)}})}{const m=this.cursor(o),E=[];return this.W(m,(P,k)=>{E.push(k)}).next(()=>E)}}G(t,r){const o=this.store.getAll(t,null===r?void 0:r);return new Qe((u,m)=>{o.onerror=E=>{m(E.target.error)},o.onsuccess=E=>{u(E.target.result)}})}j(t,r){St("SimpleDb","DELETE ALL",this.store.name);const o=this.options(t,r);o.H=!1;const u=this.cursor(o);return this.W(u,(m,E,P)=>P.delete())}J(t,r){let o;r?o=t:(o={},r=t);const u=this.cursor(o);return this.W(u,r)}Y(t){const r=this.cursor({});return new Qe((o,u)=>{r.onerror=m=>{const E=Yo(m.target.error);u(E)},r.onsuccess=m=>{const E=m.target.result;E?t(E.primaryKey,E.value).next(P=>{P?E.continue():o()}):o()}})}W(t,r){const o=[];return new Qe((u,m)=>{t.onerror=E=>{m(E.target.error)},t.onsuccess=E=>{const P=E.target.result;if(!P)return void u();const k=new Di(P),q=r(P.primaryKey,P.value,k);if(q instanceof Qe){const ge=q.catch(Be=>(k.done(),Qe.reject(Be)));o.push(ge)}k.isDone?u():null===k.K?P.continue():P.continue(k.K)}}).next(()=>Qe.waitFor(o))}options(t,r){let o;return void 0!==t&&("string"==typeof t?o=t:r=t),{index:o,range:r}}cursor(t){let r="next";if(t.reverse&&(r="prev"),t.index){const o=this.store.index(t.index);return t.H?o.openKeyCursor(t.range,r):o.openCursor(t.range,r)}return this.store.openCursor(t.range,r)}}function si(a){return new Qe((t,r)=>{a.onsuccess=o=>{t(o.target.result)},a.onerror=o=>{const u=Yo(o.target.error);r(u)}})}let mo=!1;function Yo(a){const t=Pr.S((0,wr.ZQ)());if(t>=12.2&&t<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const o=new Kt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mo||(mo=!0,setTimeout(()=>{throw o},0)),o}}return a}class zs{constructor(t,r){this.asyncQueue=t,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var r=this;St("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Z.A)(function*(){r.task=null;try{St("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(o){ni(o)?St("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield $n(o)}yield r.X(6e4)}))}}class Zs{constructor(t,r){this.localStore=t,this.persistence=r}ee(t=50){var r=this;return(0,Z.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.te(o,t))})()}te(t,r){const o=new Set;let u=r,m=!0;return Qe.doWhile(()=>!0===m&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(E=>{if(null!==E&&!o.has(E))return St("IndexBackfiller",`Processing collection: ${E}`),this.ne(t,E,u).next(P=>{u-=P,o.add(E)});m=!1})).next(()=>r-u)}ne(t,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,r).next(u=>this.localStore.localDocuments.getNextDocuments(t,r,u,o).next(m=>{const E=m.changes;return this.localStore.indexManager.updateIndexEntries(t,E).next(()=>this.re(u,m)).next(P=>(St("IndexBackfiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(t,r,P))).next(()=>E.size)}))}re(t,r){let o=t;return r.changes.forEach((u,m)=>{const E=Ue(m);dn(E,o)>0&&(o=E)}),new zt(o.readTime,o.documentKey,Math.max(r.batchId,t.largestBatchId))}}let Rs=(()=>{class a{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=u=>this.ie(u),this.se=u=>o.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function Jo(a){return null==a}function bo(a){return 0===a&&1/a==-1/0}function is(a){return"number"==typeof a&&Number.isInteger(a)&&!bo(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function ls(a){let t="";for(let r=0;r<a.length;r++)t.length>0&&(t=Zo(t)),t=Gs(a.get(r),t);return Zo(t)}function Gs(a,t){let r=t;const o=a.length;for(let u=0;u<o;u++){const m=a.charAt(u);switch(m){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=m}}return r}function Zo(a){return a+"\x01\x01"}function $s(a){const t=a.length;if(In(t>=2),2===t)return In("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),Jn.emptyPath();const r=t-2,o=[];let u="";for(let m=0;m<t;){const E=a.indexOf("\x01",m);switch((E<0||E>r)&&Mn(),a.charAt(E+1)){case"\x01":const P=a.substring(m,E);let k;0===u.length?k=P:(u+=P,k=u,u=""),o.push(k);break;case"\x10":u+=a.substring(m,E),u+="\0";break;case"\x11":u+=a.substring(m,E+1);break;default:Mn()}m=E+2}return new Jn(o)}const eo=["userId","batchId"];function Tr(a,t){return[a,ls(t)]}function Ks(a,t,r){return[a,ls(t),r]}const Wa={},to=["prefixPath","collectionGroup","readTime","documentId"],za=["prefixPath","collectionGroup","documentId"],js=["collectionGroup","readTime","prefixPath","documentId"],vs=["canonicalId","targetId"],Xs=["targetId","path"],zr=["path","targetId"],As=["collectionId","parent"],Fo=["indexId","uid"],Wc=["uid","sequenceNumber"],Vi=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Na=["indexId","uid","orderedDocumentKey"],Gl=["userId","collectionPath","documentId"],Kl=["userId","collectionPath","largestBatchId"],Ga=["userId","collectionGroup","largestBatchId"],Ao=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Q=[...Ao,"documentOverlays"],ee=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$=ee,Ce=[...$,"indexConfiguration","indexState","indexEntries"],_t=Ce,Nr=[...Ce,"globals"];class Qr extends mn{constructor(t,r){super(),this._e=t,this.currentSequenceNumber=r}}function Ui(a,t){const r=Tn(a);return Pr.F(r._e,t)}function Vo(a){let t=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t++;return t}function vo(a,t){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t(r,a[r])}function mc(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class Ni{constructor(t,r){this.comparator=t,this.root=r||gs.EMPTY}insert(t,r){return new Ni(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,gs.BLACK,null,null))}remove(t){return new Ni(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gs.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(t){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(t,o.key);if(0===u)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,o)=>(t(r,o),!1))}toString(){const t=[];return this.inorderTraversal((r,o)=>(t.push(`${r}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cl(this.root,t,this.comparator,!1)}getReverseIterator(){return new cl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cl(this.root,t,this.comparator,!0)}}class cl{constructor(t,r,o,u){this.isReverse=u,this.nodeStack=[];let m=1;for(;!t.isEmpty();)if(m=r?o(t.key,r):1,r&&u&&(m*=-1),m<0)t=this.isReverse?t.left:t.right;else{if(0===m){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gs{constructor(t,r,o,u,m){this.key=t,this.value=r,this.color=o??gs.RED,this.left=u??gs.EMPTY,this.right=m??gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,o,u,m){return new gs(t??this.key,r??this.value,o??this.color,u??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let u=this;const m=o(t,u.key);return u=m<0?u.copy(null,null,null,u.left.insert(t,r,o),null):0===m?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(t,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return gs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let o,u=this;if(r(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(t,u.key)){if(u.right.isEmpty())return gs.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mn();const t=this.left.check();if(t!==this.right.check())throw Mn();return t+(this.isRed()?0:1)}}gs.EMPTY=null,gs.RED=!0,gs.BLACK=!1,gs.EMPTY=new class{constructor(){this.size=0}get key(){throw Mn()}get value(){throw Mn()}get color(){throw Mn()}get left(){throw Mn()}get right(){throw Mn()}copy(t,r,o,u,m){return this}insert(t,r,o){return new gs(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hi{constructor(t){this.comparator=t,this.data=new Ni(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,o)=>(t(r),!1))}forEachInRange(t,r){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,t[1])>=0)return;r(u.key)}}forEachWhile(t,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new _o(this.data.getIterator())}getIteratorFrom(t){return new _o(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(o=>{r=r.add(o)}),r}isEqual(t){if(!(t instanceof hi)||this.size!==t.size)return!1;const r=this.data.getIterator(),o=t.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,m=o.getNext().key;if(0!==this.comparator(u,m))return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new hi(this.comparator);return r.data=t,r}}class _o{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ea(a){return a.hasNext()?a.getNext():void 0}class Ps{constructor(t){this.fields=t,t.sort(Ii.comparator)}static empty(){return new Ps([])}unionWith(t){let r=new hi(Ii.comparator);for(const o of this.fields)r=r.add(o);for(const o of t)r=r.add(o);return new Ps(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return ts(this.fields,t.fields,(r,o)=>r.isEqual(o))}}class qr extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zr{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(u){try{return atob(u)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new qr("Invalid base64 string: "+m):m}}(t);return new Zr(r)}static fromUint8Array(t){const r=function(u){let m="";for(let E=0;E<u.length;++E)m+=String.fromCharCode(u[E]);return m}(t);return new Zr(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let u=0;u<r.length;u++)o[u]=r.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Wn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zr.EMPTY_BYTE_STRING=new Zr("");const Uo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(a){if(In(!!a),"string"==typeof a){let t=0;const r=Uo.exec(a);if(In(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),t=Number(u)}const o=new Date(a);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:qi(a.seconds),nanos:qi(a.nanos)}}function qi(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function no(a){return"string"==typeof a?Zr.fromBase64String(a):Zr.fromUint8Array(a)}function Oa(a){var t,r;return"server_timestamp"===(null===(r=((null===(t=a?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ul(a){const t=a.mapValue.fields.__previous_value__;return Oa(t)?ul(t):t}function dl(a){const t=Yi(a.mapValue.fields.__local_write_time__.timestampValue);return new Ai(t.seconds,t.nanos)}class _s{constructor(t,r,o,u,m,E,P,k,q){this.databaseId=t,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=m,this.forceLongPolling=E,this.autoDetectLongPolling=P,this.longPollingOptions=k,this.useFetchStreams=q}}class yo{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new yo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof yo&&t.projectId===this.projectId&&t.database===this.database}}const Eo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hl={nullValue:"NULL_VALUE"};function ro(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Oa(a)?4:Ji(a)?9007199254740991:Ro(a)?10:11:Mn()}function Do(a,t){if(a===t)return!0;const r=ro(a);if(r!==ro(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return dl(a).isEqual(dl(t));case 3:return function(u,m){if("string"==typeof u.timestampValue&&"string"==typeof m.timestampValue&&u.timestampValue.length===m.timestampValue.length)return u.timestampValue===m.timestampValue;const E=Yi(u.timestampValue),P=Yi(m.timestampValue);return E.seconds===P.seconds&&E.nanos===P.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return m=t,no(a.bytesValue).isEqual(no(m.bytesValue));case 7:return a.referenceValue===t.referenceValue;case 8:return function(u,m){return qi(u.geoPointValue.latitude)===qi(m.geoPointValue.latitude)&&qi(u.geoPointValue.longitude)===qi(m.geoPointValue.longitude)}(a,t);case 2:return function(u,m){if("integerValue"in u&&"integerValue"in m)return qi(u.integerValue)===qi(m.integerValue);if("doubleValue"in u&&"doubleValue"in m){const E=qi(u.doubleValue),P=qi(m.doubleValue);return E===P?bo(E)===bo(P):isNaN(E)&&isNaN(P)}return!1}(a,t);case 9:return ts(a.arrayValue.values||[],t.arrayValue.values||[],Do);case 10:case 11:return function(u,m){const E=u.mapValue.fields||{},P=m.mapValue.fields||{};if(Vo(E)!==Vo(P))return!1;for(const k in E)if(E.hasOwnProperty(k)&&(void 0===P[k]||!Do(E[k],P[k])))return!1;return!0}(a,t);default:return Mn()}var m}function uo(a,t){return void 0!==(a.values||[]).find(r=>Do(r,t))}function So(a,t){if(a===t)return 0;const r=ro(a),o=ro(t);if(r!==o)return Wn(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Wn(a.booleanValue,t.booleanValue);case 2:return function(m,E){const P=qi(m.integerValue||m.doubleValue),k=qi(E.integerValue||E.doubleValue);return P<k?-1:P>k?1:P===k?0:isNaN(P)?isNaN(k)?0:-1:1}(a,t);case 3:return ta(a.timestampValue,t.timestampValue);case 4:return ta(dl(a),dl(t));case 5:return Wn(a.stringValue,t.stringValue);case 6:return function(m,E){const P=no(m),k=no(E);return P.compareTo(k)}(a.bytesValue,t.bytesValue);case 7:return function(m,E){const P=m.split("/"),k=E.split("/");for(let q=0;q<P.length&&q<k.length;q++){const ge=Wn(P[q],k[q]);if(0!==ge)return ge}return Wn(P.length,k.length)}(a.referenceValue,t.referenceValue);case 8:return function(m,E){const P=Wn(qi(m.latitude),qi(E.latitude));return 0!==P?P:Wn(qi(m.longitude),qi(E.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return fl(a.arrayValue,t.arrayValue);case 10:return function(m,E){var P,k,q,ge;const nn=null===(P=(m.fields||{}).value)||void 0===P?void 0:P.arrayValue,wn=null===(k=(E.fields||{}).value)||void 0===k?void 0:k.arrayValue,jn=Wn((null===(q=nn?.values)||void 0===q?void 0:q.length)||0,(null===(ge=wn?.values)||void 0===ge?void 0:ge.length)||0);return 0!==jn?jn:fl(nn,wn)}(a.mapValue,t.mapValue);case 11:return function(m,E){if(m===Eo.mapValue&&E===Eo.mapValue)return 0;if(m===Eo.mapValue)return 1;if(E===Eo.mapValue)return-1;const P=m.fields||{},k=Object.keys(P),q=E.fields||{},ge=Object.keys(q);k.sort(),ge.sort();for(let Be=0;Be<k.length&&Be<ge.length;++Be){const Et=Wn(k[Be],ge[Be]);if(0!==Et)return Et;const nn=So(P[k[Be]],q[ge[Be]]);if(0!==nn)return nn}return Wn(k.length,ge.length)}(a.mapValue,t.mapValue);default:throw Mn()}}function ta(a,t){if("string"==typeof a&&"string"==typeof t&&a.length===t.length)return Wn(a,t);const r=Yi(a),o=Yi(t),u=Wn(r.seconds,o.seconds);return 0!==u?u:Wn(r.nanos,o.nanos)}function fl(a,t){const r=a.values||[],o=t.values||[];for(let u=0;u<r.length&&u<o.length;++u){const m=So(r[u],o[u]);if(m)return m}return Wn(r.length,o.length)}function pl(a){return ho(a)}function ho(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const o=Yi(r);return`time(${o.seconds},${o.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?no(a.bytesValue).toBase64():"referenceValue"in a?Fn.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let o="[",u=!0;for(const m of r.values||[])u?u=!1:o+=",",o+=ho(m);return o+"]"}(a.arrayValue):"mapValue"in a?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",m=!0;for(const E of o)m?m=!1:u+=",",u+=`${E}:${ho(r.fields[E])}`;return u+"}"}(a.mapValue):Mn()}function ga(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function na(a){return!!a&&"integerValue"in a}function ra(a){return!!a&&"arrayValue"in a}function Ka(a){return!!a&&"nullValue"in a}function Xa(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function ms(a){return!!a&&"mapValue"in a}function Ro(a){var t,r;return"__vector__"===(null===(r=((null===(t=a?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ma(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return vo(a.mapValue.fields,(r,o)=>t.mapValue.fields[r]=ma(o)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=ma(a.arrayValue.values[r]);return t}return Object.assign({},a)}function Ji(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}const Ms={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function ml(a){return"nullValue"in a?hl:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?ga(yo.empty(),Fn.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?Ro(a)?Ms:{mapValue:{}}:Mn()}function Bo(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?ga(yo.empty(),Fn.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?Ms:"mapValue"in a?Ro(a)?{mapValue:{}}:Eo:Mn()}function qa(a,t){const r=So(a.value,t.value);return 0!==r?r:a.inclusive&&!t.inclusive?-1:!a.inclusive&&t.inclusive?1:0}function wl(a,t){const r=So(a.value,t.value);return 0!==r?r:a.inclusive&&!t.inclusive?1:!a.inclusive&&t.inclusive?-1:0}class ds{constructor(t){this.value=t}static empty(){return new ds({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let o=0;o<t.length-1;++o)if(r=(r.mapValue.fields||{})[t.get(o)],!ms(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=ma(r)}setAll(t){let r=Ii.emptyPath(),o={},u=[];t.forEach((E,P)=>{if(!r.isImmediateParentOf(P)){const k=this.getFieldsMap(r);this.applyChanges(k,o,u),o={},u=[],r=P.popLast()}E?o[P.lastSegment()]=ma(E):u.push(P.lastSegment())});const m=this.getFieldsMap(r);this.applyChanges(m,o,u)}delete(t){const r=this.field(t.popLast());ms(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Do(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<t.length;++o){let u=r.mapValue.fields[t.get(o)];ms(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[t.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(t,r,o){vo(r,(u,m)=>t[u]=m);for(const u of o)delete t[u]}clone(){return new ds(ma(this.value))}}function va(a){const t=[];return vo(a.fields,(r,o)=>{const u=new Ii([r]);if(ms(o)){const m=va(o.mapValue).fields;if(0===m.length)t.push(u);else for(const E of m)t.push(u.child(E))}else t.push(u)}),new Ps(t)}class Oi{constructor(t,r,o,u,m,E,P){this.key=t,this.documentType=r,this.version=o,this.readTime=u,this.createTime=m,this.data=E,this.documentState=P}static newInvalidDocument(t){return new Oi(t,0,_r.min(),_r.min(),_r.min(),ds.empty(),0)}static newFoundDocument(t,r,o,u){return new Oi(t,1,r,_r.min(),o,u,0)}static newNoDocument(t,r){return new Oi(t,2,r,_r.min(),_r.min(),ds.empty(),0)}static newUnknownDocument(t,r){return new Oi(t,3,r,_r.min(),_r.min(),ds.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(_r.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_r.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Oi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ds{constructor(t,r){this.position=t,this.inclusive=r}}function Io(a,t,r){let o=0;for(let u=0;u<a.position.length;u++){const m=t[u],E=a.position[u];if(o=m.field.isKeyField()?Fn.comparator(Fn.fromName(E.referenceValue),r.key):So(E,r.data.field(m.field)),"desc"===m.dir&&(o*=-1),0!==o)break}return o}function ka(a,t){if(null===a)return null===t;if(null===t||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Do(a.position[r],t.position[r]))return!1;return!0}class La{constructor(t,r="asc"){this.field=t,this.dir=r}}function M(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class oe{}class B extends oe{constructor(t,r,o){super(),this.field=t,this.op=r,this.value=o}static create(t,r,o){return t.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(t,r,o):new cs(t,r,o):"array-contains"===r?new vi(t,o):"in"===r?new ys(t,o):"not-in"===r?new Bi(t,o):"array-contains-any"===r?new xs(t,o):new B(t,r,o)}static createKeyFieldInFilter(t,r,o){return"in"===r?new Vr(t,o):new Rn(t,o)}matches(t){const r=t.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(So(r,this.value)):null!==r&&ro(this.value)===ro(r)&&this.matchesComparison(So(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Mn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ne extends oe{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new ne(t,r)}matches(t){return et(this)?void 0===this.filters.find(r=>!r.matches(t)):void 0!==this.filters.find(r=>r.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function et(a){return"and"===a.op}function an(a){return"or"===a.op}function yn(a){return fr(a)&&et(a)}function fr(a){for(const t of a.filters)if(t instanceof ne)return!1;return!0}function Ti(a){if(a instanceof B)return a.field.canonicalString()+a.op.toString()+pl(a.value);if(yn(a))return a.filters.map(t=>Ti(t)).join(",");{const t=a.filters.map(r=>Ti(r)).join(",");return`${a.op}(${t})`}}function ss(a,t){return a instanceof B?(o=a,(u=t)instanceof B&&o.op===u.op&&o.field.isEqual(u.field)&&Do(o.value,u.value)):a instanceof ne?function(o,u){return u instanceof ne&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((m,E,P)=>m&&ss(E,u.filters[P]),!0)}(a,t):void Mn();var o,u}function Fi(a,t){const r=a.filters.concat(t);return ne.create(r,a.op)}function fi(a){return a instanceof B?`${(r=a).field.canonicalString()} ${r.op} ${pl(r.value)}`:a instanceof ne?function(r){return r.op.toString()+" {"+r.getFilters().map(fi).join(" ,")+"}"}(a):"Filter";var r}class cs extends B{constructor(t,r,o){super(t,r,o),this.key=Fn.fromName(o.referenceValue)}matches(t){const r=Fn.comparator(t.key,this.key);return this.matchesComparison(r)}}class Vr extends B{constructor(t,r){super(t,"in",r),this.keys=or(0,r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Rn extends B{constructor(t,r){super(t,"not-in",r),this.keys=or(0,r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function or(a,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Fn.fromName(o.referenceValue))}class vi extends B{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return ra(r)&&uo(r.arrayValue,this.value)}}class ys extends B{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return null!==r&&uo(this.value.arrayValue,r)}}class Bi extends B{constructor(t,r){super(t,"not-in",r)}matches(t){if(uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return null!==r&&!uo(this.value.arrayValue,r)}}class xs extends B{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!ra(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>uo(this.value.arrayValue,o))}}class io{constructor(t,r=null,o=[],u=[],m=null,E=null,P=null){this.path=t,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=m,this.startAt=E,this.endAt=P,this.ue=null}}function Ci(a,t=null,r=[],o=[],u=null,m=null,E=null){return new io(a,t,r,o,u,m,E)}function Hi(a){const t=Tn(a);if(null===t.ue){let r=t.path.canonicalString();null!==t.collectionGroup&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(o=>Ti(o)).join(","),r+="|ob:",r+=t.orderBy.map(o=>{return(m=o).field.canonicalString()+m.dir;var m}).join(","),Jo(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>pl(o)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>pl(o)).join(",")),t.ue=r}return t.ue}function so(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!M(a.orderBy[r],t.orderBy[r]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!ss(a.filters[r],t.filters[r]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!ka(a.startAt,t.startAt)&&ka(a.endAt,t.endAt)}function Ur(a){return Fn.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function $o(a,t){return a.filters.filter(r=>r instanceof B&&r.field.isEqual(t))}function ql(a,t,r){let o=hl,u=!0;for(const m of $o(a,t)){let E=hl,P=!0;switch(m.op){case"<":case"<=":E=ml(m.value);break;case"==":case"in":case">=":E=m.value;break;case">":E=m.value,P=!1;break;case"!=":case"not-in":E=hl}qa({value:o,inclusive:u},{value:E,inclusive:P})<0&&(o=E,u=P)}if(null!==r)for(let m=0;m<a.orderBy.length;++m)if(a.orderBy[m].field.isEqual(t)){const E=r.position[m];qa({value:o,inclusive:u},{value:E,inclusive:r.inclusive})<0&&(o=E,u=r.inclusive);break}return{value:o,inclusive:u}}function Qa(a,t,r){let o=Eo,u=!0;for(const m of $o(a,t)){let E=Eo,P=!0;switch(m.op){case">=":case">":E=Bo(m.value),P=!1;break;case"==":case"in":case"<=":E=m.value;break;case"<":E=m.value,P=!1;break;case"!=":case"not-in":E=Eo}wl({value:o,inclusive:u},{value:E,inclusive:P})>0&&(o=E,u=P)}if(null!==r)for(let m=0;m<a.orderBy.length;++m)if(a.orderBy[m].field.isEqual(t)){const E=r.position[m];wl({value:o,inclusive:u},{value:E,inclusive:r.inclusive})>0&&(o=E,u=r.inclusive);break}return{value:o,inclusive:u}}class ki{constructor(t,r=null,o=[],u=[],m=null,E="F",P=null,k=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=m,this.limitType=E,this.startAt=P,this.endAt=k,this.ce=null,this.le=null,this.he=null}}function oo(a,t,r,o,u,m,E,P){return new ki(a,t,r,o,u,m,E,P)}function _a(a){return new ki(a)}function Ya(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function jo(a){return null!==a.collectionGroup}function bl(a){const t=Tn(a);if(null===t.ce){t.ce=[];const r=new Set;for(const m of t.explicitOrderBy)t.ce.push(m),r.add(m.field.canonicalString());const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(E){let P=new hi(Ii.comparator);return E.filters.forEach(k=>{k.getFlattenedFilters().forEach(q=>{q.isInequality()&&(P=P.add(q.field))})}),P})(t).forEach(m=>{r.has(m.canonicalString())||m.isKeyField()||t.ce.push(new La(m,o))}),r.has(Ii.keyField().canonicalString())||t.ce.push(new La(Ii.keyField(),o))}return t.ce}function $i(a){const t=Tn(a);return t.le||(t.le=function fo(a,t){if("F"===a.limitType)return Ci(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(u=>new La(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new Ds(a.endAt.position,a.endAt.inclusive):null,o=a.startAt?new Ds(a.startAt.position,a.startAt.inclusive):null;return Ci(a.path,a.collectionGroup,t,a.filters,a.limit,r,o)}}(t,bl(a))),t.le}function gr(a,t){const r=a.filters.concat([t]);return new ki(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function Yl(a,t,r){return new ki(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,r,a.startAt,a.endAt)}function os(a,t){return so($i(a),$i(t))&&a.limitType===t.limitType}function ia(a){return`${Hi($i(a))}|lt:${a.limitType}`}function ya(a){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(u=>fi(u)).join(", ")}]`),Jo(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(u=>{return`${(E=u).field.canonicalString()} (${E.dir})`;var E}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(u=>pl(u)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(u=>pl(u)).join(",")),`Target(${o})`}($i(a))}; limitType=${a.limitType})`}function Ja(a,t){return t.isFoundDocument()&&function(o,u){const m=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(m):Fn.isDocumentKey(o.path)?o.path.isEqual(m):o.path.isImmediateParentOf(m)}(a,t)&&function(o,u){for(const m of bl(o))if(!m.field.isKeyField()&&null===u.data.field(m.field))return!1;return!0}(a,t)&&function(o,u){for(const m of o.filters)if(!m.matches(u))return!1;return!0}(a,t)&&(u=t,!((o=a).startAt&&!function(E,P,k){const q=Io(E,P,k);return E.inclusive?q<=0:q<0}(o.startAt,bl(o),u)||o.endAt&&!function(E,P,k){const q=Io(E,P,k);return E.inclusive?q>=0:q>0}(o.endAt,bl(o),u)));var o,u}function Es(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function zc(a){return(t,r)=>{let o=!1;for(const u of bl(a)){const m=Ns(u,t,r);if(0!==m)return m;o=o||u.field.isKeyField()}return 0}}function Ns(a,t,r){const o=a.field.isKeyField()?Fn.comparator(t.key,r.key):function(m,E,P){const k=E.data.field(m),q=P.data.field(m);return null!==k&&null!==q?So(k,q):Mn()}(a.field,t,r);switch(a.dir){case"asc":return o;case"desc":return-1*o;default:return Mn()}}class hs{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),o=this.inner[r];if(void 0!==o)for(const[u,m]of o)if(this.equalsFn(u,t))return m}has(t){return void 0!==this.get(t)}set(t,r){const o=this.mapKeyFn(t),u=this.inner[o];if(void 0===u)return this.inner[o]=[[t,r]],void this.innerSize++;for(let m=0;m<u.length;m++)if(this.equalsFn(u[m][0],t))return void(u[m]=[t,r]);u.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),o=this.inner[r];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return 1===o.length?delete this.inner[r]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(t){vo(this.inner,(r,o)=>{for(const[u,m]of o)t(u,m)})}isEmpty(){return mc(this.inner)}size(){return this.innerSize}}const Cu=new Ni(Fn.comparator);function fs(){return Cu}const Jl=new Ni(Fn.comparator);function Os(...a){let t=Jl;for(const r of a)t=t.insert(r.key,r);return t}function sa(a){let t=Jl;return a.forEach((r,o)=>t=t.insert(r,o.overlayedDocument)),t}function oa(){return vl()}function Gc(){return vl()}function vl(){return new hs(a=>a.toString(),(a,t)=>a.isEqual(t))}const Kc=new Ni(Fn.comparator),Xc=new hi(Fn.comparator);function Yr(...a){let t=Xc;for(const r of a)t=t.add(r);return t}const kh=new hi(Wn);function Yd(){return kh}function _d(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bo(t)?"-0":t}}function Zl(a){return{integerValue:""+a}}function ec(a,t){return is(t)?Zl(t):_d(a,t)}class wu{constructor(){this._=void 0}}function S(a,t,r){return a instanceof F?function(u,m){const E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return m&&Oa(m)&&(m=ul(m)),m&&(E.fields.__previous_value__=m),{mapValue:E}}(r,t):a instanceof te?Ae(a,t):a instanceof Ye?rn(a,t):function(u,m){const E=R(u,m),P=Kn(E)+Kn(u.Pe);return na(E)&&na(u.Pe)?Zl(P):_d(u.serializer,P)}(a,t)}function L(a,t,r){return a instanceof te?Ae(a,t):a instanceof Ye?rn(a,t):r}function R(a,t){return a instanceof Lt?na(o=t)||(m=o)&&"doubleValue"in m?t:{integerValue:0}:null;var o,m}class F extends wu{}class te extends wu{constructor(t){super(),this.elements=t}}function Ae(a,t){const r=Br(t);for(const o of a.elements)r.some(u=>Do(u,o))||r.push(o);return{arrayValue:{values:r}}}class Ye extends wu{constructor(t){super(),this.elements=t}}function rn(a,t){let r=Br(t);for(const o of a.elements)r=r.filter(u=>!Do(u,o));return{arrayValue:{values:r}}}class Lt extends wu{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function Kn(a){return qi(a.integerValue||a.doubleValue)}function Br(a){return ra(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Jr{constructor(t,r){this.field=t,this.transform=r}}class aa{constructor(t,r){this.version=t,this.transformResults=r}}class oi{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new oi}static exists(t){return new oi(void 0,t)}static updateTime(t){return new oi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ho(a,t){return void 0!==a.updateTime?t.isFoundDocument()&&t.version.isEqual(a.updateTime):void 0===a.exists||a.exists===t.isFoundDocument()}class Po{}function Fa(a,t){if(!a.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return a.isNoDocument()?new Va(a.key,oi.none()):new yc(a.key,a.data,oi.none());{const r=a.data,o=ds.empty();let u=new hi(Ii.comparator);for(let m of t.fields)if(!u.has(m)){let E=r.field(m);null===E&&m.length>1&&(m=m.popLast(),E=r.field(m)),null===E?o.delete(m):o.set(m,E),u=u.add(m)}return new Hs(a.key,o,new Ps(u.toArray()),oi.none())}}function vc(a,t,r){a instanceof yc?function(u,m,E){const P=u.value.clone(),k=tc(u.fieldTransforms,m,E.transformResults);P.setAll(k),m.convertToFoundDocument(E.version,P).setHasCommittedMutations()}(a,t,r):a instanceof Hs?function(u,m,E){if(!Ho(u.precondition,m))return void m.convertToUnknownDocument(E.version);const P=tc(u.fieldTransforms,m,E.transformResults),k=m.data;k.setAll(_l(u)),k.setAll(P),m.convertToFoundDocument(E.version,k).setHasCommittedMutations()}(a,t,r):t.convertToNoDocument(r.version).setHasCommittedMutations()}function Ea(a,t,r,o){return a instanceof yc?function(m,E,P,k){if(!Ho(m.precondition,E))return P;const q=m.value.clone(),ge=Li(m.fieldTransforms,k,E);return q.setAll(ge),E.convertToFoundDocument(E.version,q).setHasLocalMutations(),null}(a,t,r,o):a instanceof Hs?function(m,E,P,k){if(!Ho(m.precondition,E))return P;const q=Li(m.fieldTransforms,k,E),ge=E.data;return ge.setAll(_l(m)),ge.setAll(q),E.convertToFoundDocument(E.version,ge).setHasLocalMutations(),null===P?null:P.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(Be=>Be.field))}(a,t,r,o):(P=r,Ho(a.precondition,E=t)?(E.convertToNoDocument(E.version).setHasLocalMutations(),null):P);var E,P}function qc(a,t){let r=null;for(const o of a.fieldTransforms){const u=t.data.field(o.field),m=R(o.transform,u||null);null!=m&&(null===r&&(r=ds.empty()),r.set(o.field,m))}return r||null}function _c(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&(u=t.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===u||o&&u&&ts(o,u,(m,E)=>function ps(a,t){return a.field.isEqual(t.field)&&(u=t.transform,(o=a.transform)instanceof te&&u instanceof te||o instanceof Ye&&u instanceof Ye?ts(o.elements,u.elements,Do):o instanceof Lt&&u instanceof Lt?Do(o.Pe,u.Pe):o instanceof F&&u instanceof F);var o,u}(m,E))))&&(0===a.type?a.value.isEqual(t.value):1!==a.type||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask));var o,u}class yc extends Po{constructor(t,r,o,u=[]){super(),this.key=t,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Hs extends Po{constructor(t,r,o,u,m=[]){super(),this.key=t,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function _l(a){const t=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=a.data.field(r);t.set(r,o)}}),t}function tc(a,t,r){const o=new Map;In(a.length===r.length);for(let u=0;u<r.length;u++){const m=a[u],E=m.transform,P=t.data.field(m.field);o.set(m.field,L(E,P,r[u]))}return o}function Li(a,t,r){const o=new Map;for(const u of a){const m=u.transform,E=r.data.field(u.field);o.set(u.field,S(m,E,t))}return o}class Va extends Po{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ia extends Po{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ss{constructor(t,r,o,u){this.batchId=t,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(t,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const m=this.mutations[u];m.key.isEqual(t.key)&&vc(m,t,o[u])}}applyToLocalView(t,r){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(r=Ea(o,t,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(r=Ea(o,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const o=Gc();return this.mutations.forEach(u=>{const m=t.get(u.key),E=m.overlayedDocument;let P=this.applyToLocalView(E,m.mutatedFields);P=r.has(u.key)?null:P;const k=Fa(E,P);null!==k&&o.set(u.key,k),E.isValidDocument()||E.convertToNoDocument(_r.min())}),o}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Yr())}isEqual(t){return this.batchId===t.batchId&&ts(this.mutations,t.mutations,(r,o)=>_c(r,o))&&ts(this.baseMutations,t.baseMutations,(r,o)=>_c(r,o))}}class Al{constructor(t,r,o,u){this.batch=t,this.commitVersion=r,this.mutationResults=o,this.docVersions=u}static from(t,r,o){In(t.mutations.length===o.length);let u=function(){return Kc}();const m=t.mutations;for(let E=0;E<m.length;E++)u=u.insert(m[E].key,o[E].version);return new Al(t,r,o,u)}}class Ec{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ta{constructor(t,r){this.count=t,this.unchangedNames=r}}var ws,wi;function Lh(a){switch(a){default:return Mn();case Vt.CANCELLED:case Vt.UNKNOWN:case Vt.DEADLINE_EXCEEDED:case Vt.RESOURCE_EXHAUSTED:case Vt.INTERNAL:case Vt.UNAVAILABLE:case Vt.UNAUTHENTICATED:return!1;case Vt.INVALID_ARGUMENT:case Vt.NOT_FOUND:case Vt.ALREADY_EXISTS:case Vt.PERMISSION_DENIED:case Vt.FAILED_PRECONDITION:case Vt.ABORTED:case Vt.OUT_OF_RANGE:case Vt.UNIMPLEMENTED:case Vt.DATA_LOSS:return!0}}function la(a){if(void 0===a)return Gn("GRPC error has no .code"),Vt.UNKNOWN;switch(a){case ws.OK:return Vt.OK;case ws.CANCELLED:return Vt.CANCELLED;case ws.UNKNOWN:return Vt.UNKNOWN;case ws.DEADLINE_EXCEEDED:return Vt.DEADLINE_EXCEEDED;case ws.RESOURCE_EXHAUSTED:return Vt.RESOURCE_EXHAUSTED;case ws.INTERNAL:return Vt.INTERNAL;case ws.UNAVAILABLE:return Vt.UNAVAILABLE;case ws.UNAUTHENTICATED:return Vt.UNAUTHENTICATED;case ws.INVALID_ARGUMENT:return Vt.INVALID_ARGUMENT;case ws.NOT_FOUND:return Vt.NOT_FOUND;case ws.ALREADY_EXISTS:return Vt.ALREADY_EXISTS;case ws.PERMISSION_DENIED:return Vt.PERMISSION_DENIED;case ws.FAILED_PRECONDITION:return Vt.FAILED_PRECONDITION;case ws.ABORTED:return Vt.ABORTED;case ws.OUT_OF_RANGE:return Vt.OUT_OF_RANGE;case ws.UNIMPLEMENTED:return Vt.UNIMPLEMENTED;case ws.DATA_LOSS:return Vt.DATA_LOSS;default:return Mn()}}(wi=ws||(ws={}))[wi.OK=0]="OK",wi[wi.CANCELLED=1]="CANCELLED",wi[wi.UNKNOWN=2]="UNKNOWN",wi[wi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wi[wi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wi[wi.NOT_FOUND=5]="NOT_FOUND",wi[wi.ALREADY_EXISTS=6]="ALREADY_EXISTS",wi[wi.PERMISSION_DENIED=7]="PERMISSION_DENIED",wi[wi.UNAUTHENTICATED=16]="UNAUTHENTICATED",wi[wi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wi[wi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wi[wi.ABORTED=10]="ABORTED",wi[wi.OUT_OF_RANGE=11]="OUT_OF_RANGE",wi[wi.UNIMPLEMENTED=12]="UNIMPLEMENTED",wi[wi.INTERNAL=13]="INTERNAL",wi[wi.UNAVAILABLE=14]="UNAVAILABLE",wi[wi.DATA_LOSS=15]="DATA_LOSS";function Jd(){return new TextEncoder}const bu=new yr([4294967295,4294967295],0);function Tc(a){const t=Jd().encode(a),r=new Mi;return r.update(t),new Uint8Array(r.digest())}function rc(a){const t=new DataView(a.buffer),r=t.getUint32(0,!0),o=t.getUint32(4,!0),u=t.getUint32(8,!0),m=t.getUint32(12,!0);return[new yr([r,o],0),new yr([u,m],0)]}class yl{constructor(t,r,o){if(this.bitmap=t,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Za(`Invalid padding: ${r}`);if(o<0)throw new Za(`Invalid hash count: ${o}`);if(t.length>0&&0===this.hashCount)throw new Za(`Invalid hash count: ${o}`);if(0===t.length&&0!==r)throw new Za(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*t.length-r,this.Te=yr.fromNumber(this.Ie)}Ee(t,r,o){let u=t.add(r.multiply(yr.fromNumber(o)));return 1===u.compare(bu)&&(u=new yr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const r=Tc(t),[o,u]=rc(r);for(let m=0;m<this.hashCount;m++){const E=this.Ee(o,u,m);if(!this.de(E))return!1}return!0}static create(t,r,o){const u=t%8==0?0:8-t%8,m=new Uint8Array(Math.ceil(t/8)),E=new yl(m,u,r);return o.forEach(P=>E.insert(P)),E}insert(t){if(0===this.Ie)return;const r=Tc(t),[o,u]=rc(r);for(let m=0;m<this.hashCount;m++){const E=this.Ee(o,u,m);this.Ae(E)}}Ae(t){const r=Math.floor(t/8);this.bitmap[r]|=1<<t%8}}class Za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class To{constructor(t,r,o,u,m){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(t,r,o){const u=new Map;return u.set(t,Wo.createSynthesizedTargetChangeForCurrentChange(t,r,o)),new To(_r.min(),u,new Ni(Wn),fs(),Yr())}}class Wo{constructor(t,r,o,u,m){this.resumeToken=t,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(t,r,o){return new Wo(o,r,Yr(),Yr(),Yr())}}class Wr{constructor(t,r,o,u){this.Re=t,this.removedTargetIds=r,this.key=o,this.Ve=u}}class Cc{constructor(t,r){this.targetId=t,this.me=r}}class Dl{constructor(t,r,o=Zr.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=r,this.resumeToken=o,this.cause=u}}class Qc{constructor(){this.fe=0,this.ge=Au(),this.pe=Zr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Yr(),r=Yr(),o=Yr();return this.ge.forEach((u,m)=>{switch(m){case 0:t=t.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:Mn()}}),new Wo(this.pe,this.ye,t,r,o)}Ce(){this.we=!1,this.ge=Au()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,In(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Zp{constructor(t){this.Le=t,this.Be=new Map,this.ke=fs(),this.qe=ic(),this.Qe=new Ni(Wn)}Ke(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(r,t.Ve):this.Ue(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.Ue(r,t.key,t.Ve)}We(t){this.forEachTarget(t,r=>{const o=this.Ge(r);switch(t.state){case 0:this.ze(r)&&o.De(t.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(t.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(t.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(t.resumeToken));break;default:Mn()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((o,u)=>{this.ze(u)&&r(u)})}He(t){const r=t.targetId,o=t.me.count,u=this.Je(r);if(u){const m=u.target;if(Ur(m))if(0===o){const E=new Fn(m.path);this.Ue(r,E,Oi.newNoDocument(E,_r.min()))}else In(1===o);else{const E=this.Ye(r);if(E!==o){const P=this.Ze(t),k=P?this.Xe(P,t,E):1;0!==k&&(this.je(r),this.Qe=this.Qe.insert(r,2===k?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:m=0}=r;let E,P;try{E=no(o).toUint8Array()}catch(k){if(k instanceof qr)return Hn("Decoding the base64 bloom filter in existence filter failed ("+k.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw k}try{P=new yl(E,u,m)}catch(k){return Hn(k instanceof Za?"BloomFilter error: ":"Applying bloom filter failed: ",k),null}return 0===P.Ie?null:P}Xe(t,r,o){return r.me.count===o-this.nt(t,r.targetId)?0:2}nt(t,r){const o=this.Le.getRemoteKeysForTarget(r);let u=0;return o.forEach(m=>{const E=this.Le.tt(),P=`projects/${E.projectId}/databases/${E.database}/documents/${m.path.canonicalString()}`;t.mightContain(P)||(this.Ue(r,m,null),u++)}),u}rt(t){const r=new Map;this.Be.forEach((m,E)=>{const P=this.Je(E);if(P){if(m.current&&Ur(P.target)){const k=new Fn(P.target.path);null!==this.ke.get(k)||this.it(E,k)||this.Ue(E,k,Oi.newNoDocument(k,t))}m.be&&(r.set(E,m.ve()),m.Ce())}});let o=Yr();this.qe.forEach((m,E)=>{let P=!0;E.forEachWhile(k=>{const q=this.Je(k);return!q||"TargetPurposeLimboResolution"===q.purpose||(P=!1,!1)}),P&&(o=o.add(m))}),this.ke.forEach((m,E)=>E.setReadTime(t));const u=new To(t,r,this.Qe,this.ke,o);return this.ke=fs(),this.qe=ic(),this.Qe=new Ni(Wn),u}$e(t,r){if(!this.ze(t))return;const o=this.it(t,r.key)?2:0;this.Ge(t).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t))}Ue(t,r,o){if(!this.ze(t))return;const u=this.Ge(t);this.it(t,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(t)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(t){this.Be.delete(t)}Ye(t){const r=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let r=this.Be.get(t);return r||(r=new Qc,this.Be.set(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new hi(Wn),this.qe=this.qe.insert(t,r)),r}ze(t){const r=null!==this.Je(t);return r||St("WatchChangeAggregator","Detected inactive target",t),r}Je(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Qc),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.Ue(t,r,null)})}it(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function ic(){return new Ni(Fn.comparator)}function Au(){return new Ni(Fn.comparator)}const Fh={asc:"ASCENDING",desc:"DESCENDING"},Vh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wc={and:"AND",or:"OR"};class Du{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Yc(a,t){return a.useProto3Json||Jo(t)?t:{value:t}}function bc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yd(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function Su(a,t){return bc(a,t.toTimestamp())}function tn(a){return In(!!a),_r.fromTimestamp(function(r){const o=Yi(r);return new Ai(o.seconds,o.nanos)}(a))}function ei(a,t){return Ed(a,t).canonicalString()}function Ed(a,t){const r=(u=a,new Jn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===t?r:r.child(t)}function Jc(a){const t=Jn.fromString(a);return In(Zd(t)),t}function Si(a,t){return ei(a.databaseId,t.path)}function Co(a,t){const r=Jc(t);if(r.get(1)!==a.databaseId.projectId)throw new Kt(Vt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new Kt(Vt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Fn(Zc(r))}function el(a,t){return ei(a.databaseId,t)}function ca(a){const t=Jc(a);return 4===t.length?Jn.emptyPath():Zc(t)}function Mo(a){return new Jn(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Zc(a){return In(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function Id(a,t,r){return{name:Si(a,t),fields:r.value.mapValue.fields}}function Ru(a,t,r){const o=Co(a,t.name),u=tn(t.updateTime),m=t.createTime?tn(t.createTime):_r.min(),E=new ds({mapValue:{fields:t.fields}}),P=Oi.newFoundDocument(o,u,m,E);return r&&P.setHasCommittedMutations(),r?P.setHasCommittedMutations():P}function Sl(a,t){let r;if(t instanceof yc)r={update:Id(a,t.key,t.value)};else if(t instanceof Va)r={delete:Si(a,t.key)};else if(t instanceof Hs)r={update:Id(a,t.key,t.data),updateMask:Bf(t.fieldMask)};else{if(!(t instanceof Ia))return Mn();r={verify:Si(a,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(o=>function(m,E){const P=E.transform;if(P instanceof F)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof te)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof Ye)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof Lt)return{fieldPath:E.field.canonicalString(),increment:P.Pe};throw Mn()}(0,o))),t.precondition.isNone||(r.currentDocument=void 0!==(m=t.precondition).updateTime?{updateTime:Su(a,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:Mn()),r;var m}function Td(a,t){const r=t.currentDocument?void 0!==(m=t.currentDocument).updateTime?oi.updateTime(tn(m.updateTime)):void 0!==m.exists?oi.exists(m.exists):oi.none():oi.none(),o=t.updateTransforms?t.updateTransforms.map(u=>function(E,P){let k=null;"setToServerValue"in P?(In("REQUEST_TIME"===P.setToServerValue),k=new F):"appendMissingElements"in P?k=new te(P.appendMissingElements.values||[]):"removeAllFromArray"in P?k=new Ye(P.removeAllFromArray.values||[]):"increment"in P?k=new Lt(E,P.increment):Mn();const q=Ii.fromServerFormat(P.fieldPath);return new Jr(q,k)}(a,u)):[];var m;if(t.update){const u=Co(a,t.update.name),m=new ds({mapValue:{fields:t.update.fields}});if(t.updateMask){const E=new Ps((t.updateMask.fieldPaths||[]).map(ge=>Ii.fromServerFormat(ge)));return new Hs(u,m,E,r,o)}return new yc(u,m,r,o)}if(t.delete){const u=Co(a,t.delete);return new Va(u,r)}if(t.verify){const u=Co(a,t.verify);return new Ia(u,r)}return Mn()}function El(a,t){return{documents:[el(a,t.path)]}}function Ac(a,t){const r={structuredQuery:{}},o=t.path;let u;null!==t.collectionGroup?(u=o,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=el(a,u);const m=function(q){if(0!==q.length)return Dc(ne.create(q,"and"))}(t.filters);m&&(r.structuredQuery.where=m);const E=function(q){if(0!==q.length)return q.map(ge=>{return{field:Ca((Et=ge).field),direction:Pu(Et.dir)};var Et})}(t.orderBy);E&&(r.structuredQuery.orderBy=E);const P=Yc(a,t.limit);return null!==P&&(r.structuredQuery.limit=P),t.startAt&&(r.structuredQuery.startAt={before:(q=t.startAt).inclusive,values:q.position}),t.endAt&&(r.structuredQuery.endAt=function(q){return{before:!q.inclusive,values:q.position}}(t.endAt)),{_t:r,parent:u};var q}function tl(a){let t=ca(a.parent);const r=a.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){In(1===o);const ge=r.from[0];ge.allDescendants?u=ge.collectionId:t=t.child(ge.collectionId)}let m=[];r.where&&(m=function(Be){const Et=Cd(Be);return Et instanceof ne&&yn(Et)?Et.getFilters():[Et]}(r.where));let E=[];r.orderBy&&(E=r.orderBy.map(Et=>{return new La(sc((wn=Et).field),function(Vn){switch(Vn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(wn.direction));var wn}));let P=null;r.limit&&(P=function(Be){let Et;return Et="object"==typeof Be?Be.value:Be,Jo(Et)?null:Et}(r.limit));let k=null;var Be;r.startAt&&(k=new Ds((Be=r.startAt).values||[],!!Be.before));let q=null;return r.endAt&&(q=function(Be){return new Ds(Be.values||[],!Be.before)}(r.endAt)),oo(t,u,E,m,P,"F",k,q)}function Cd(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=sc(r.unaryFilter.field);return B.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=sc(r.unaryFilter.field);return B.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=sc(r.unaryFilter.field);return B.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const E=sc(r.unaryFilter.field);return B.create(E,"!=",{nullValue:"NULL_VALUE"});default:return Mn()}}(a):void 0!==a.fieldFilter?B.create(sc((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mn()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return ne.create(r.compositeFilter.filters.map(o=>Cd(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Mn()}}(r.compositeFilter.op))}(a):Mn();var r}function Pu(a){return Fh[a]}function Uf(a){return Vh[a]}function Mu(a){return wc[a]}function Ca(a){return{fieldPath:a.canonicalString()}}function sc(a){return Ii.fromServerFormat(a.fieldPath)}function Dc(a){return a instanceof B?function(r){if("=="===r.op){if(Xa(r.value))return{unaryFilter:{field:Ca(r.field),op:"IS_NAN"}};if(Ka(r.value))return{unaryFilter:{field:Ca(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Xa(r.value))return{unaryFilter:{field:Ca(r.field),op:"IS_NOT_NAN"}};if(Ka(r.value))return{unaryFilter:{field:Ca(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(r.field),op:Uf(r.op),value:r.value}}}(a):a instanceof ne?function(r){const o=r.getFilters().map(u=>Dc(u));return 1===o.length?o[0]:{compositeFilter:{op:Mu(r.op),filters:o}}}(a):Mn()}function Bf(a){const t=[];return a.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Zd(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class nl{constructor(t,r,o,u,m=_r.min(),E=_r.min(),P=Zr.EMPTY_BYTE_STRING,k=null){this.target=t,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=P,this.expectedCount=k}withSequenceNumber(t){return new nl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class tu{constructor(t){this.ct=t}}function eh(a,t){const r=t.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:xu(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())o.document={name:Si(m=a.ct,(E=t).key),fields:E.data.value.mapValue.fields,updateTime:bc(m,E.version.toTimestamp()),createTime:bc(m,E.createTime.toTimestamp())};else if(t.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:rl(t.version)};else{if(!t.isUnknownDocument())return Mn();o.unknownDocument={path:r.path.toArray(),version:rl(t.version)}}var m,E;return o}function xu(a){const t=a.toTimestamp();return[t.seconds,t.nanoseconds]}function rl(a){const t=a.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function oc(a){const t=new Ai(a.seconds,a.nanoseconds);return _r.fromTimestamp(t)}function bs(a,t){const r=(t.baseMutations||[]).map(m=>Td(a.ct,m));for(let m=0;m<t.mutations.length-1;++m)m+1<t.mutations.length&&void 0!==t.mutations[m+1].transform&&(t.mutations[m].updateTransforms=t.mutations[m+1].transform.fieldTransforms,t.mutations.splice(m+1,1),++m);const o=t.mutations.map(m=>Td(a.ct,m)),u=Ai.fromMillis(t.localWriteTimeMs);return new Ss(t.batchId,u,r,o)}function No(a){const t=oc(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?oc(a.lastLimboFreeSnapshotVersion):_r.min();let o;return o=void 0!==a.query.documents?(In(1===(m=a.query).documents.length),$i(_a(ca(m.documents[0])))):function(m){return $i(tl(m))}(a.query),new nl(o,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,t,r,Zr.fromBase64String(a.resumeToken));var m}function ji(a,t){const r=rl(t.snapshotVersion),o=rl(t.lastLimboFreeSnapshotVersion);let u;u=Ur(t.target)?El(a.ct,t.target):Ac(a.ct,t.target)._t;const m=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Hi(t.target),readTime:r,resumeToken:m,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function th(a){const t=tl({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Yl(t,t.limit,"L"):t}function Nu(a,t){return new Ec(t.largestBatchId,Td(a.ct,t.overlayMutation))}function Ou(a,t){const r=t.path.lastSegment();return[a,ls(t.path.popLast()),r]}function wd(a,t,r,o){return{indexId:a,uid:t,sequenceNumber:r,readTime:rl(o.readTime),documentKey:ls(o.documentKey.path),largestBatchId:o.largestBatchId}}class Rl{getBundleMetadata(t,r){return nh(t).get(r).next(o=>{if(o)return{id:(m=o).bundleId,createTime:oc(m.createTime),version:m.version};var m})}saveBundleMetadata(t,r){return nh(t).put({bundleId:(u=r).id,createTime:rl(tn(u.createTime)),version:u.version});var u}getNamedQuery(t,r){return Pl(t).get(r).next(o=>{if(o)return{name:(m=o).name,query:th(m.bundledQuery),readTime:oc(m.readTime)};var m})}saveNamedQuery(t,r){return Pl(t).put({name:(u=r).name,readTime:rl(tn(u.readTime)),bundledQuery:u.bundledQuery});var u}}function nh(a){return Ui(a,"bundles")}function Pl(a){return Ui(a,"namedQueries")}class ua{constructor(t,r){this.serializer=t,this.userId=r}static lt(t,r){return new ua(t,r.uid||"")}getOverlay(t,r){return Sc(t).get(Ou(this.userId,r)).next(o=>o?Nu(this.serializer,o):null)}getOverlays(t,r){const o=oa();return Qe.forEach(r,u=>this.getOverlay(t,u).next(m=>{null!==m&&o.set(u,m)})).next(()=>o)}saveOverlays(t,r,o){const u=[];return o.forEach((m,E)=>{const P=new Ec(r,E);u.push(this.ht(t,P))}),Qe.waitFor(u)}removeOverlaysForBatchId(t,r,o){const u=new Set;r.forEach(E=>u.add(ls(E.getCollectionPath())));const m=[];return u.forEach(E=>{const P=IDBKeyRange.bound([this.userId,E,o],[this.userId,E,o+1],!1,!0);m.push(Sc(t).j("collectionPathOverlayIndex",P))}),Qe.waitFor(m)}getOverlaysForCollection(t,r,o){const u=oa(),m=ls(r),E=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Sc(t).U("collectionPathOverlayIndex",E).next(P=>{for(const k of P){const q=Nu(this.serializer,k);u.set(q.getKey(),q)}return u})}getOverlaysForCollectionGroup(t,r,o,u){const m=oa();let E;const P=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Sc(t).J({index:"collectionGroupOverlayIndex",range:P},(k,q,ge)=>{const Be=Nu(this.serializer,q);m.size()<u||Be.largestBatchId===E?(m.set(Be.getKey(),Be),E=Be.largestBatchId):ge.done()}).next(()=>m)}ht(t,r){return Sc(t).put(function(u,m,E){const[P,k,q]=Ou(m,E.mutation.key);return{userId:m,collectionPath:k,documentId:q,collectionGroup:E.mutation.key.getCollectionGroup(),largestBatchId:E.largestBatchId,overlayMutation:Sl(u.ct,E.mutation)}}(this.serializer,this.userId,r))}}function Sc(a){return Ui(a,"documentOverlays")}class ac{Pt(t){return Ui(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(r=>{const o=r?.value;return o?Zr.fromUint8Array(o):Zr.EMPTY_BYTE_STRING})}setSessionToken(t,r){return this.Pt(t).put({name:"sessionToken",value:r.toUint8Array()})}}class da{constructor(){}It(t,r){this.Tt(t,r),r.Et()}Tt(t,r){if("nullValue"in t)this.dt(r,5);else if("booleanValue"in t)this.dt(r,10),r.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(r,15),r.At(qi(t.integerValue));else if("doubleValue"in t){const o=qi(t.doubleValue);isNaN(o)?this.dt(r,13):(this.dt(r,15),bo(o)?r.At(0):r.At(o))}else if("timestampValue"in t){let o=t.timestampValue;this.dt(r,20),"string"==typeof o&&(o=Yi(o)),r.Rt(`${o.seconds||""}`),r.At(o.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,r),this.ft(r);else if("bytesValue"in t)this.dt(r,30),r.gt(no(t.bytesValue)),this.ft(r);else if("referenceValue"in t)this.yt(t.referenceValue,r);else if("geoPointValue"in t){const o=t.geoPointValue;this.dt(r,45),r.At(o.latitude||0),r.At(o.longitude||0)}else"mapValue"in t?Ji(t)?this.dt(r,Number.MAX_SAFE_INTEGER):Ro(t)?this.wt(t.mapValue,r):(this.St(t.mapValue,r),this.ft(r)):"arrayValue"in t?(this.bt(t.arrayValue,r),this.ft(r)):Mn()}Vt(t,r){this.dt(r,25),this.Dt(t,r)}Dt(t,r){r.Rt(t)}St(t,r){const o=t.fields||{};this.dt(r,55);for(const u of Object.keys(o))this.Vt(u,r),this.Tt(o[u],r)}wt(t,r){var o,u;const m=t.fields||{};this.dt(r,53);const E="value",P=(null===(u=null===(o=m[E].arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.length)||0;this.dt(r,15),r.At(qi(P)),this.Vt(E,r),this.Tt(m[E],r)}bt(t,r){const o=t.values||[];this.dt(r,50);for(const u of o)this.Tt(u,r)}yt(t,r){this.dt(r,37),Fn.fromName(t).path.forEach(o=>{this.dt(r,60),this.Dt(o,r)})}dt(t,r){t.At(r)}ft(t){t.At(2)}}function nu(a){if(0===a)return 8;let t=0;return!(a>>4)&&(t+=4,a<<=4),!(a>>6)&&(t+=2,a<<=2),!(a>>7)&&(t+=1),t}function rh(a){const t=64-function(o){let u=0;for(let m=0;m<8;++m){const E=nu(255&o[m]);if(u+=E,8!==E)break}return u}(a);return Math.ceil(t/8)}da.vt=new da;class bd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const r=t[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ft(o.value),o=r.next();this.Mt()}xt(t){const r=t[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ot(o.value),o=r.next();this.Nt()}Lt(t){for(const r of t){const o=r.charCodeAt(0);if(o<128)this.Ft(o);else if(o<2048)this.Ft(960|o>>>6),this.Ft(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o);else{const u=r.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(t){for(const r of t){const o=r.charCodeAt(0);if(o<128)this.Ot(o);else if(o<2048)this.Ot(960|o>>>6),this.Ot(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|o>>>12),this.Ot(128|63&o>>>6),this.Ot(128|63&o);else{const u=r.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(t){const r=this.qt(t),o=rh(r);this.Qt(1+o),this.buffer[this.position++]=255&o;for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=255&r[u]}Kt(t){const r=this.qt(t),o=rh(r);this.Qt(1+o),this.buffer[this.position++]=~(255&o);for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const r=function(m){const E=new DataView(new ArrayBuffer(8));return E.setFloat64(0,m,!1),new Uint8Array(E.buffer)}(t),o=!!(128&r[0]);r[0]^=o?255:128;for(let u=1;u<r.length;++u)r[u]^=o?255:0;return r}Ft(t){const r=255&t;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(t){const r=255&t;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const r=t+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class ku{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class Ad{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class Ba{constructor(){this.jt=new bd,this.Ht=new ku(this.jt),this.Jt=new Ad(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class $a{constructor(t,r,o,u){this.indexId=t,this.documentKey=r,this.arrayValue=o,this.directionalValue=u}Zt(){const t=this.directionalValue.length,r=0===t||255===this.directionalValue[t-1]?t+1:t,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==t?o.set([0],this.directionalValue.length):++o[o.length-1],new $a(this.indexId,this.documentKey,this.arrayValue,o)}}function Ml(a,t){let r=a.indexId-t.indexId;return 0!==r?r:(r=Lu(a.arrayValue,t.arrayValue),0!==r?r:(r=Lu(a.directionalValue,t.directionalValue),0!==r?r:Fn.comparator(a.documentKey,t.documentKey)))}function Lu(a,t){for(let r=0;r<a.length&&r<t.length;++r){const o=a[r]-t[r];if(0!==o)return o}return a.length-t.length}class Fu{constructor(t){this.Xt=new hi((r,o)=>Ii.comparator(r.field,o.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const r of t.filters){const o=r;o.isInequality()?this.Xt=this.Xt.add(o):this.tn.push(o)}}get nn(){return this.Xt.size>1}rn(t){if(In(t.collectionGroup===this.collectionId),this.nn)return!1;const r=Js(t);if(void 0!==r&&!this.sn(r))return!1;const o=Cs(t);let u=new Set,m=0,E=0;for(;m<o.length&&this.sn(o[m]);++m)u=u.add(o[m].fieldPath.canonicalString());if(m===o.length)return!0;if(this.Xt.size>0){const P=this.Xt.getIterator().getNext();if(!u.has(P.field.canonicalString())){const k=o[m];if(!this.on(P,k)||!this._n(this.en[E++],k))return!1}++m}for(;m<o.length;++m)if(E>=this.en.length||!this._n(this.en[E++],o[m]))return!1;return!0}an(){if(this.nn)return null;let t=new hi(Ii.comparator);const r=[];for(const o of this.tn)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)r.push(new le(o.field,2));else{if(t.has(o.field))continue;t=t.add(o.field),r.push(new le(o.field,0))}for(const o of this.en)o.field.isKeyField()||t.has(o.field)||(t=t.add(o.field),r.push(new le(o.field,"asc"===o.dir?0:1)));return new as(as.UNKNOWN_ID,this.collectionId,r,A.empty())}sn(t){for(const r of this.tn)if(this.on(r,t))return!0;return!1}on(t,r){return!(void 0===t||!t.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,r){return!!t.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===t.dir||1===r.kind&&"desc"===t.dir)}}function ih(a){var t,r;if(In(a instanceof B||a instanceof ne),a instanceof B){if(a instanceof ys){const u=(null===(r=null===(t=a.value.arrayValue)||void 0===t?void 0:t.values)||void 0===r?void 0:r.map(m=>B.create(a.field,"==",m)))||[];return ne.create(u,"or")}return a}const o=a.filters.map(u=>ih(u));return ne.create(o,a.op)}function ha(a){if(0===a.getFilters().length)return[];const t=Oo(ih(a));return In(sh(t)),Rc(t)||xl(t)?[t]:t.getFilters()}function Rc(a){return a instanceof B}function xl(a){return a instanceof ne&&yn(a)}function sh(a){return Rc(a)||xl(a)||function(r){if(r instanceof ne&&an(r)){for(const o of r.getFilters())if(!Rc(o)&&!xl(o))return!1;return!0}return!1}(a)}function Oo(a){if(In(a instanceof B||a instanceof ne),a instanceof B)return a;if(1===a.filters.length)return Oo(a.filters[0]);const t=a.filters.map(o=>Oo(o));let r=ne.create(t,a.op);return r=Nl(r),sh(r)?r:(In(r instanceof ne),In(et(r)),In(r.filters.length>1),r.filters.reduce((o,u)=>Ws(o,u)))}function Ws(a,t){let r;return In(a instanceof B||a instanceof ne),In(t instanceof B||t instanceof ne),r=a instanceof B?t instanceof B?ne.create([a,t],"and"):Vu(a,t):t instanceof B?Vu(t,a):function(u,m){if(In(u.filters.length>0&&m.filters.length>0),et(u)&&et(m))return Fi(u,m.getFilters());const E=an(u)?u:m,P=an(u)?m:u,k=E.filters.map(q=>Ws(q,P));return ne.create(k,"or")}(a,t),Nl(r)}function Vu(a,t){if(et(t))return Fi(t,a.getFilters());{const r=t.filters.map(o=>Ws(a,o));return ne.create(r,"or")}}function Nl(a){if(In(a instanceof B||a instanceof ne),a instanceof B)return a;const t=a.getFilters();if(1===t.length)return Nl(t[0]);if(fr(a))return a;const r=t.map(u=>Nl(u)),o=[];return r.forEach(u=>{u instanceof B?o.push(u):u instanceof ne&&(u.op===a.op?o.push(...u.filters):o.push(u))}),1===o.length?o[0]:ne.create(o,a.op)}class Ol{constructor(){this.un=new ru}addToCollectionParentIndex(t,r){return this.un.add(r),Qe.resolve()}getCollectionParents(t,r){return Qe.resolve(this.un.getEntries(r))}addFieldIndex(t,r){return Qe.resolve()}deleteFieldIndex(t,r){return Qe.resolve()}deleteAllFieldIndexes(t){return Qe.resolve()}createTargetIndexes(t,r){return Qe.resolve()}getDocumentsMatchingTarget(t,r){return Qe.resolve(null)}getIndexType(t,r){return Qe.resolve(0)}getFieldIndexes(t,r){return Qe.resolve([])}getNextCollectionGroupToUpdate(t){return Qe.resolve(null)}getMinOffset(t,r){return Qe.resolve(zt.min())}getMinOffsetFromCollectionGroup(t,r){return Qe.resolve(zt.min())}updateCollectionGroup(t,r,o){return Qe.resolve()}updateIndexEntries(t,r){return Qe.resolve()}}class ru{constructor(){this.index={}}add(t){const r=t.lastSegment(),o=t.popLast(),u=this.index[r]||new hi(Jn.comparator),m=!u.has(o);return this.index[r]=u.add(o),m}has(t){const r=t.lastSegment(),o=t.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(t){return(this.index[t]||new hi(Jn.comparator)).toArray()}}const iu=new Uint8Array(0);class oh{constructor(t,r){this.databaseId=r,this.cn=new ru,this.ln=new hs(o=>Hi(o),(o,u)=>so(o,u)),this.uid=t.uid||""}addToCollectionParentIndex(t,r){if(!this.cn.has(r)){const o=r.lastSegment(),u=r.popLast();t.addOnCommittedListener(()=>{this.cn.add(r)});const m={collectionId:o,parent:ls(u)};return Pc(t).put(m)}return Qe.resolve()}getCollectionParents(t,r){const o=[],u=IDBKeyRange.bound([r,""],[Lo(r),""],!1,!0);return Pc(t).U(u).next(m=>{for(const E of m){if(E.collectionId!==r)break;o.push($s(E.parent))}return o})}addFieldIndex(t,r){const o=su(t),u={indexId:(P=r).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(k=>[k.fieldPath.canonicalString(),k.kind])};var P;delete u.indexId;const m=o.add(u);if(r.indexState){const E=xc(t);return m.next(P=>{E.put(wd(P,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return m.next()}deleteFieldIndex(t,r){const o=su(t),u=xc(t),m=Mc(t);return o.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const r=su(t),o=Mc(t),u=xc(t);return r.j().next(()=>o.j()).next(()=>u.j())}createTargetIndexes(t,r){return Qe.forEach(this.hn(r),o=>this.getIndexType(t,o).next(u=>{if(0===u||1===u){const m=new Fu(o).an();if(null!=m)return this.addFieldIndex(t,m)}}))}getDocumentsMatchingTarget(t,r){const o=Mc(t);let u=!0;const m=new Map;return Qe.forEach(this.hn(r),E=>this.Pn(t,E).next(P=>{u&&(u=!!P),m.set(E,P)})).next(()=>{if(u){let E=Yr();const P=[];return Qe.forEach(m,(k,q)=>{var Cr;St("IndexedDbIndexManager",`Using index ${Cr=k,`id=${Cr.indexId}|cg=${Cr.collectionGroup}|f=${Cr.fields.map(ti=>`${ti.fieldPath}:${ti.kind}`).join(",")}`} to execute ${Hi(r)}`);const ge=function(Cr,ti){const zi=Js(ti);if(void 0===zi)return null;for(const Ri of $o(Cr,zi.fieldPath))switch(Ri.op){case"array-contains-any":return Ri.value.arrayValue.values||[];case"array-contains":return[Ri.value]}return null}(q,k),Be=function(Cr,ti){const zi=new Map;for(const Ri of Cs(ti))for(const Ft of $o(Cr,Ri.fieldPath))switch(Ft.op){case"==":case"in":zi.set(Ri.fieldPath.canonicalString(),Ft.value);break;case"not-in":case"!=":return zi.set(Ri.fieldPath.canonicalString(),Ft.value),Array.from(zi.values())}return null}(q,k),Et=function(Cr,ti){const zi=[];let Ri=!0;for(const Ft of Cs(ti)){const pt=0===Ft.kind?ql(Cr,Ft.fieldPath,Cr.startAt):Qa(Cr,Ft.fieldPath,Cr.startAt);zi.push(pt.value),Ri&&(Ri=pt.inclusive)}return new Ds(zi,Ri)}(q,k),nn=function(Cr,ti){const zi=[];let Ri=!0;for(const Ft of Cs(ti)){const pt=0===Ft.kind?Qa(Cr,Ft.fieldPath,Cr.endAt):ql(Cr,Ft.fieldPath,Cr.endAt);zi.push(pt.value),Ri&&(Ri=pt.inclusive)}return new Ds(zi,Ri)}(q,k),wn=this.In(k,q,Et),jn=this.In(k,q,nn),Vn=this.Tn(k,q,Be),Sr=this.En(k.indexId,ge,wn,Et.inclusive,jn,nn.inclusive,Vn);return Qe.forEach(Sr,jr=>o.G(jr,r.limit).next(Cr=>{Cr.forEach(ti=>{const zi=Fn.fromSegments(ti.documentKey);E.has(zi)||(E=E.add(zi),P.push(zi))})}))}).next(()=>P)}return Qe.resolve(null)})}hn(t){let r=this.ln.get(t);return r||(r=0===t.filters.length?[t]:ha(ne.create(t.filters,"and")).map(o=>Ci(t.path,t.collectionGroup,t.orderBy,o.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,r),r)}En(t,r,o,u,m,E,P){const k=(null!=r?r.length:1)*Math.max(o.length,m.length),q=k/(null!=r?r.length:1),ge=[];for(let Be=0;Be<k;++Be){const Et=r?this.dn(r[Be/q]):iu,nn=this.An(t,Et,o[Be%q],u),wn=this.Rn(t,Et,m[Be%q],E),jn=P.map(Vn=>this.An(t,Et,Vn,!0));ge.push(...this.createRange(nn,wn,jn))}return ge}An(t,r,o,u){const m=new $a(t,Fn.empty(),r,o);return u?m:m.Zt()}Rn(t,r,o,u){const m=new $a(t,Fn.empty(),r,o);return u?m.Zt():m}Pn(t,r){const o=new Fu(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(t,u).next(m=>{let E=null;for(const P of m)o.rn(P)&&(!E||P.fields.length>E.fields.length)&&(E=P);return E})}getIndexType(t,r){let o=2;const u=this.hn(r);return Qe.forEach(u,m=>this.Pn(t,m).next(E=>{E?0!==o&&E.fields.length<function(k){let q=new hi(Ii.comparator),ge=!1;for(const Be of k.filters)for(const Et of Be.getFlattenedFilters())Et.field.isKeyField()||("array-contains"===Et.op||"array-contains-any"===Et.op?ge=!0:q=q.add(Et.field));for(const Be of k.orderBy)Be.field.isKeyField()||(q=q.add(Be.field));return q.size+(ge?1:0)}(m)&&(o=1):o=0})).next(()=>null!==r.limit&&u.length>1&&2===o?1:o)}Vn(t,r){const o=new Ba;for(const u of Cs(t)){const m=r.data.field(u.fieldPath);if(null==m)return null;const E=o.Yt(u.kind);da.vt.It(m,E)}return o.zt()}dn(t){const r=new Ba;return da.vt.It(t,r.Yt(0)),r.zt()}mn(t,r){const o=new Ba;return da.vt.It(ga(this.databaseId,r),o.Yt(function(m){const E=Cs(m);return 0===E.length?0:E[E.length-1].kind}(t))),o.zt()}Tn(t,r,o){if(null===o)return[];let u=[];u.push(new Ba);let m=0;for(const E of Cs(t)){const P=o[m++];for(const k of u)if(this.fn(r,E.fieldPath)&&ra(P))u=this.gn(u,E,P);else{const q=k.Yt(E.kind);da.vt.It(P,q)}}return this.pn(u)}In(t,r,o){return this.Tn(t,r,o.position)}pn(t){const r=[];for(let o=0;o<t.length;++o)r[o]=t[o].zt();return r}gn(t,r,o){const u=[...t],m=[];for(const E of o.arrayValue.values||[])for(const P of u){const k=new Ba;k.seed(P.zt()),da.vt.It(E,k.Yt(r.kind)),m.push(k)}return m}fn(t,r){return!!t.filters.find(o=>o instanceof B&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(t,r){const o=su(t),u=xc(t);return(r?o.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.U()).next(m=>{const E=[];return Qe.forEach(m,P=>u.get([P.indexId,this.uid]).next(k=>{E.push(function(ge,Be){const Et=Be?new A(Be.sequenceNumber,new zt(oc(Be.readTime),new Fn($s(Be.documentKey)),Be.largestBatchId)):A.empty(),nn=ge.fields.map(([wn,jn])=>new le(Ii.fromServerFormat(wn),jn));return new as(ge.indexId,ge.collectionGroup,nn,Et)}(P,k))})).next(()=>E)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(r=>0===r.length?null:(r.sort((o,u)=>{const m=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==m?m:Wn(o.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(t,r,o){const u=su(t),m=xc(t);return this.yn(t).next(E=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(P=>Qe.forEach(P,k=>m.put(wd(k.indexId,this.uid,E,o)))))}updateIndexEntries(t,r){const o=new Map;return Qe.forEach(r,(u,m)=>{const E=o.get(u.collectionGroup);return(E?Qe.resolve(E):this.getFieldIndexes(t,u.collectionGroup)).next(P=>(o.set(u.collectionGroup,P),Qe.forEach(P,k=>this.wn(t,u,k).next(q=>{const ge=this.Sn(m,k);return q.isEqual(ge)?Qe.resolve():this.bn(t,m,k,q,ge)}))))})}Dn(t,r,o,u){return Mc(t).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(o,r.key),documentKey:r.key.path.toArray()})}vn(t,r,o,u){return Mc(t).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(o,r.key),r.key.path.toArray()])}wn(t,r,o){const u=Mc(t);let m=new hi(Ml);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.mn(o,r)])},(E,P)=>{m=m.add(new $a(o.indexId,r,P.arrayValue,P.directionalValue))}).next(()=>m)}Sn(t,r){let o=new hi(Ml);const u=this.Vn(r,t);if(null==u)return o;const m=Js(r);if(null!=m){const E=t.data.field(m.fieldPath);if(ra(E))for(const P of E.arrayValue.values||[])o=o.add(new $a(r.indexId,t.key,this.dn(P),u))}else o=o.add(new $a(r.indexId,t.key,iu,u));return o}bn(t,r,o,u,m){St("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const E=[];return function(k,q,ge,Be,Et){const nn=k.getIterator(),wn=q.getIterator();let jn=ea(nn),Vn=ea(wn);for(;jn||Vn;){let Sr=!1,jr=!1;if(jn&&Vn){const Cr=ge(jn,Vn);Cr<0?jr=!0:Cr>0&&(Sr=!0)}else null!=jn?jr=!0:Sr=!0;Sr?(Be(Vn),Vn=ea(wn)):jr?(Et(jn),jn=ea(nn)):(jn=ea(nn),Vn=ea(wn))}}(u,m,Ml,P=>{E.push(this.Dn(t,r,o,P))},P=>{E.push(this.vn(t,r,o,P))}),Qe.waitFor(E)}yn(t){let r=1;return xc(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,m)=>{m.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(t,r,o){o=o.sort((E,P)=>Ml(E,P)).filter((E,P,k)=>!P||0!==Ml(E,k[P-1]));const u=[];u.push(t);for(const E of o){const P=Ml(E,t),k=Ml(E,r);if(0===P)u[0]=t.Zt();else if(P>0&&k<0)u.push(E),u.push(E.Zt());else if(k>0)break}u.push(r);const m=[];for(let E=0;E<u.length;E+=2){if(this.Cn(u[E],u[E+1]))return[];m.push(IDBKeyRange.bound([u[E].indexId,this.uid,u[E].arrayValue,u[E].directionalValue,iu,[]],[u[E+1].indexId,this.uid,u[E+1].arrayValue,u[E+1].directionalValue,iu,[]]))}return m}Cn(t,r){return Ml(t,r)>0}getMinOffsetFromCollectionGroup(t,r){return this.getFieldIndexes(t,r).next(Dd)}getMinOffset(t,r){return Qe.mapArray(this.hn(r),o=>this.Pn(t,o).next(u=>u||Mn())).next(Dd)}}function Pc(a){return Ui(a,"collectionParents")}function Mc(a){return Ui(a,"indexEntries")}function su(a){return Ui(a,"indexConfiguration")}function xc(a){return Ui(a,"indexState")}function Dd(a){In(0!==a.length);let t=a[0].indexState.offset,r=t.largestBatchId;for(let o=1;o<a.length;o++){const u=a[o].indexState.offset;dn(u,t)<0&&(t=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new zt(t.readTime,t.documentKey,r)}const Go={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ao{constructor(t,r,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(t){return new ao(t,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function kl(a,t,r){const o=a.store("mutations"),u=a.store("documentMutations"),m=[],E=IDBKeyRange.only(r.batchId);let P=0;const k=o.J({range:E},(ge,Be,Et)=>(P++,Et.delete()));m.push(k.next(()=>{In(1===P)}));const q=[];for(const ge of r.mutations){const Be=Ks(t,ge.key.path,r.batchId);m.push(u.delete(Be)),q.push(ge.key)}return Qe.waitFor(m).next(()=>q)}function lc(a){if(!a)return 0;let t;if(a.document)t=a.document;else if(a.unknownDocument)t=a.unknownDocument;else{if(!a.noDocument)throw Mn();t=a.noDocument}return JSON.stringify(t).length}ao.DEFAULT_COLLECTION_PERCENTILE=10,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ao.DEFAULT=new ao(41943040,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ao.DISABLED=new ao(-1,0,0);class ou{constructor(t,r,o,u){this.userId=t,this.serializer=r,this.indexManager=o,this.referenceDelegate=u,this.Fn={}}static lt(t,r,o,u){In(""!==t.uid);const m=t.isAuthenticated()?t.uid:"";return new ou(m,r,o,u)}checkEmpty(t){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wa(t).J({index:"userMutationsIndex",range:o},(u,m,E)=>{r=!1,E.done()}).next(()=>r)}addMutationBatch(t,r,o,u){const m=Oc(t),E=wa(t);return E.add({}).next(P=>{In("number"==typeof P);const k=new Ss(P,r,o,u),q=function(nn,wn,jn){const Vn=jn.baseMutations.map(jr=>Sl(nn.ct,jr)),Sr=jn.mutations.map(jr=>Sl(nn.ct,jr));return{userId:wn,batchId:jn.batchId,localWriteTimeMs:jn.localWriteTime.toMillis(),baseMutations:Vn,mutations:Sr}}(this.serializer,this.userId,k),ge=[];let Be=new hi((Et,nn)=>Wn(Et.canonicalString(),nn.canonicalString()));for(const Et of u){const nn=Ks(this.userId,Et.key.path,P);Be=Be.add(Et.key.path.popLast()),ge.push(E.put(q)),ge.push(m.put(nn,Wa))}return Be.forEach(Et=>{ge.push(this.indexManager.addToCollectionParentIndex(t,Et))}),t.addOnCommittedListener(()=>{this.Fn[P]=k.keys()}),Qe.waitFor(ge).next(()=>k)})}lookupMutationBatch(t,r){return wa(t).get(r).next(o=>o?(In(o.userId===this.userId),bs(this.serializer,o)):null)}Mn(t,r){return this.Fn[r]?Qe.resolve(this.Fn[r]):this.lookupMutationBatch(t,r).next(o=>{if(o){const u=o.keys();return this.Fn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(t,r){const o=r+1,u=IDBKeyRange.lowerBound([this.userId,o]);let m=null;return wa(t).J({index:"userMutationsIndex",range:u},(E,P,k)=>{P.userId===this.userId&&(In(P.batchId>=o),m=bs(this.serializer,P)),k.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(t){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return wa(t).J({index:"userMutationsIndex",range:r,reverse:!0},(u,m,E)=>{o=m.batchId,E.done()}).next(()=>o)}getAllMutationBatches(t){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wa(t).U("userMutationsIndex",r).next(o=>o.map(u=>bs(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(t,r){const o=Tr(this.userId,r.path),u=IDBKeyRange.lowerBound(o),m=[];return Oc(t).J({range:u},(E,P,k)=>{const[q,ge,Be]=E,Et=$s(ge);if(q===this.userId&&r.path.isEqual(Et))return wa(t).get(Be).next(nn=>{if(!nn)throw Mn();In(nn.userId===this.userId),m.push(bs(this.serializer,nn))});k.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(t,r){let o=new hi(Wn);const u=[];return r.forEach(m=>{const E=Tr(this.userId,m.path),P=IDBKeyRange.lowerBound(E),k=Oc(t).J({range:P},(q,ge,Be)=>{const[Et,nn,wn]=q,jn=$s(nn);Et===this.userId&&m.path.isEqual(jn)?o=o.add(wn):Be.done()});u.push(k)}),Qe.waitFor(u).next(()=>this.xn(t,o))}getAllMutationBatchesAffectingQuery(t,r){const o=r.path,u=o.length+1,m=Tr(this.userId,o),E=IDBKeyRange.lowerBound(m);let P=new hi(Wn);return Oc(t).J({range:E},(k,q,ge)=>{const[Be,Et,nn]=k,wn=$s(Et);Be===this.userId&&o.isPrefixOf(wn)?wn.length===u&&(P=P.add(nn)):ge.done()}).next(()=>this.xn(t,P))}xn(t,r){const o=[],u=[];return r.forEach(m=>{u.push(wa(t).get(m).next(E=>{if(null===E)throw Mn();In(E.userId===this.userId),o.push(bs(this.serializer,E))}))}),Qe.waitFor(u).next(()=>o)}removeMutationBatch(t,r){return kl(t._e,this.userId,r).next(o=>(t.addOnCommittedListener(()=>{this.On(r.batchId)}),Qe.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(t,u))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(r=>{if(!r)return Qe.resolve();const o=IDBKeyRange.lowerBound(function(E){return[E]}(this.userId)),u=[];return Oc(t).J({range:o},(m,E,P)=>{if(m[0]===this.userId){const k=$s(m[1]);u.push(k)}else P.done()}).next(()=>{In(0===u.length)})})}containsKey(t,r){return Nc(t,this.userId,r)}Nn(t){return Sd(t).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Nc(a,t,r){const o=Tr(t,r.path),u=o[1],m=IDBKeyRange.lowerBound(o);let E=!1;return Oc(a).J({range:m,H:!0},(P,k,q)=>{const[ge,Be,Et]=P;ge===t&&Be===u&&(E=!0),q.done()}).next(()=>E)}function wa(a){return Ui(a,"mutations")}function Oc(a){return Ui(a,"documentMutations")}function Sd(a){return Ui(a,"mutationQueues")}class qs{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new qs(0)}static kn(){return new qs(-1)}}class Uu{constructor(t,r){this.referenceDelegate=t,this.serializer=r}allocateTargetId(t){return this.qn(t).next(r=>{const o=new qs(r.highestTargetId);return r.highestTargetId=o.next(),this.Qn(t,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(r=>_r.fromTimestamp(new Ai(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(t,r,o){return this.qn(t).next(u=>(u.highestListenSequenceNumber=r,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.Qn(t,u)))}addTargetData(t,r){return this.Kn(t,r).next(()=>this.qn(t).next(o=>(o.targetCount+=1,this.$n(r,o),this.Qn(t,o))))}updateTargetData(t,r){return this.Kn(t,r)}removeTargetData(t,r){return this.removeMatchingKeysForTargetId(t,r.targetId).next(()=>kc(t).delete(r.targetId)).next(()=>this.qn(t)).next(o=>(In(o.targetCount>0),o.targetCount-=1,this.Qn(t,o)))}removeTargets(t,r,o){let u=0;const m=[];return kc(t).J((E,P)=>{const k=No(P);k.sequenceNumber<=r&&null===o.get(k.targetId)&&(u++,m.push(this.removeTargetData(t,k)))}).next(()=>Qe.waitFor(m)).next(()=>u)}forEachTarget(t,r){return kc(t).J((o,u)=>{const m=No(u);r(m)})}qn(t){return Bh(t).get("targetGlobalKey").next(r=>(In(null!==r),r))}Qn(t,r){return Bh(t).put("targetGlobalKey",r)}Kn(t,r){return kc(t).put(ji(this.serializer,r))}$n(t,r){let o=!1;return t.targetId>r.highestTargetId&&(r.highestTargetId=t.targetId,o=!0),t.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t.sequenceNumber,o=!0),o}getTargetCount(t){return this.qn(t).next(r=>r.targetCount)}getTargetData(t,r){const o=Hi(r),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let m=null;return kc(t).J({range:u,index:"queryTargetsIndex"},(E,P,k)=>{const q=No(P);so(r,q.target)&&(m=q,k.done())}).next(()=>m)}addMatchingKeys(t,r,o){const u=[],m=fa(t);return r.forEach(E=>{const P=ls(E.path);u.push(m.put({targetId:o,path:P})),u.push(this.referenceDelegate.addReference(t,o,E))}),Qe.waitFor(u)}removeMatchingKeys(t,r,o){const u=fa(t);return Qe.forEach(r,m=>{const E=ls(m.path);return Qe.waitFor([u.delete([o,E]),this.referenceDelegate.removeReference(t,o,m)])})}removeMatchingKeysForTargetId(t,r){const o=fa(t),u=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(t,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),u=fa(t);let m=Yr();return u.J({range:o,H:!0},(E,P,k)=>{const q=$s(E[1]),ge=new Fn(q);m=m.add(ge)}).next(()=>m)}containsKey(t,r){const o=ls(r.path),u=IDBKeyRange.bound([o],[Lo(o)],!1,!0);let m=0;return fa(t).J({index:"documentTargetsIndex",H:!0,range:u},([E,P],k,q)=>{0!==E&&(m++,q.done())}).next(()=>m>0)}ot(t,r){return kc(t).get(r).next(o=>o?No(o):null)}}function kc(a){return Ui(a,"targets")}function Bh(a){return Ui(a,"targetGlobal")}function fa(a){return Ui(a,"targetDocuments")}function Ll([a,t],[r,o]){const u=Wn(a,r);return 0===u?Wn(t,o):u}class $f{constructor(t){this.Un=t,this.buffer=new hi(Ll),this.Wn=0}Gn(){return++this.Wn}zn(t){const r=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Ll(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class ah{constructor(t,r,o){this.garbageCollector=t,this.asyncQueue=r,this.localStore=o,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var r=this;St("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Z.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){ni(o)?St("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield $n(o)}yield r.Hn(3e5)}))}}class lh{constructor(t,r){this.Jn=t,this.params=r}calculateTargetCount(t,r){return this.Jn.Yn(t).next(o=>Math.floor(r/100*o))}nthSequenceNumber(t,r){if(0===r)return Qe.resolve(Rs.oe);const o=new $f(r);return this.Jn.forEachTarget(t,u=>o.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(t,u=>o.zn(u))).next(()=>o.maxValue)}removeTargets(t,r,o){return this.Jn.removeTargets(t,r,o)}removeOrphanedDocuments(t,r){return this.Jn.removeOrphanedDocuments(t,r)}collect(t,r){return-1===this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector","Garbage collection skipped; disabled"),Qe.resolve(Go)):this.getCacheSize(t).next(o=>o<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Go):this.Xn(t,r))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,r){let o,u,m,E,P,k,q;const ge=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Be=>(Be>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Be}`),u=this.params.maximumSequenceNumbersToCollect):u=Be,E=Date.now(),this.nthSequenceNumber(t,u))).next(Be=>(o=Be,P=Date.now(),this.removeTargets(t,o,r))).next(Be=>(m=Be,k=Date.now(),this.removeOrphanedDocuments(t,o))).next(Be=>(q=Date.now(),Gt()<=Pi.$b.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-ge}ms\n\tDetermined least recently used ${u} in `+(P-E)+`ms\n\tRemoved ${m} targets in `+(k-P)+`ms\n\tRemoved ${Be} documents in `+(q-k)+`ms\nTotal Duration: ${q-ge}ms`),Qe.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:m,documentsRemoved:Be})))}}class au{constructor(t,r){this.db=t,this.garbageCollector=function Lc(a,t){return new lh(a,t)}(this,r)}Yn(t){const r=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(o=>r.next(u=>o+u))}er(t){let r=0;return this.Zn(t,o=>{r++}).next(()=>r)}forEachTarget(t,r){return this.db.getTargetCache().forEachTarget(t,r)}Zn(t,r){return this.tr(t,(o,u)=>r(u))}addReference(t,r,o){return ks(t,o)}removeReference(t,r,o){return ks(t,o)}removeTargets(t,r,o){return this.db.getTargetCache().removeTargets(t,r,o)}markPotentiallyOrphaned(t,r){return ks(t,r)}nr(t,r){return function(u,m){let E=!1;return Sd(u).Y(P=>Nc(u,P,m).next(k=>(k&&(E=!0),Qe.resolve(!k)))).next(()=>E)}(t,r)}removeOrphanedDocuments(t,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let m=0;return this.tr(t,(E,P)=>{if(P<=r){const k=this.nr(t,E).next(q=>{if(!q)return m++,o.getEntry(t,E).next(()=>(o.removeEntry(E,_r.min()),fa(t).delete([0,ls(E.path)])))});u.push(k)}}).next(()=>Qe.waitFor(u)).next(()=>o.apply(t)).next(()=>m)}removeTarget(t,r){const o=r.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,o)}updateLimboDocument(t,r){return ks(t,r)}tr(t,r){const o=fa(t);let u,m=Rs.oe;return o.J({index:"documentTargetsIndex"},([E,P],{path:k,sequenceNumber:q})=>{0===E?(m!==Rs.oe&&r(new Fn($s(u)),m),m=q,u=k):m=Rs.oe}).next(()=>{m!==Rs.oe&&r(new Fn($s(u)),m)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function ks(a,t){return fa(a).put((u=a.currentSequenceNumber,{targetId:0,path:ls(t.path),sequenceNumber:u}));var u}class $h{constructor(){this.changes=new hs(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Oi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?Qe.resolve(o):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lu{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,r,o){return Il(t).put(o)}removeEntry(t,r,o){return Il(t).delete(function(m,E){const P=m.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],xu(E),P[P.length-1]]}(r,o))}updateMetadata(t,r){return this.getMetadata(t).next(o=>(o.byteSize+=r,this.rr(t,o)))}getEntry(t,r){let o=Oi.newInvalidDocument(r);return Il(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Bu(r))},(u,m)=>{o=this.ir(r,m)}).next(()=>o)}sr(t,r){let o={size:0,document:Oi.newInvalidDocument(r)};return Il(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Bu(r))},(u,m)=>{o={document:this.ir(r,m),size:lc(m)}}).next(()=>o)}getEntries(t,r){let o=fs();return this._r(t,r,(u,m)=>{const E=this.ir(u,m);o=o.insert(u,E)}).next(()=>o)}ar(t,r){let o=fs(),u=new Ni(Fn.comparator);return this._r(t,r,(m,E)=>{const P=this.ir(m,E);o=o.insert(m,P),u=u.insert(m,lc(E))}).next(()=>({documents:o,ur:u}))}_r(t,r,o){if(r.isEmpty())return Qe.resolve();let u=new hi($u);r.forEach(k=>u=u.add(k));const m=IDBKeyRange.bound(Bu(u.first()),Bu(u.last())),E=u.getIterator();let P=E.getNext();return Il(t).J({index:"documentKeyIndex",range:m},(k,q,ge)=>{const Be=Fn.fromSegments([...q.prefixPath,q.collectionGroup,q.documentId]);for(;P&&$u(P,Be)<0;)o(P,null),P=E.getNext();P&&P.isEqual(Be)&&(o(P,q),P=E.hasNext()?E.getNext():null),P?ge.$(Bu(P)):ge.done()}).next(()=>{for(;P;)o(P,null),P=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(t,r,o,u,m){const E=r.path,P=[E.popLast().toArray(),E.lastSegment(),xu(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],k=[E.popLast().toArray(),E.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Il(t).U(IDBKeyRange.bound(P,k,!0)).next(q=>{m?.incrementDocumentReadCount(q.length);let ge=fs();for(const Be of q){const Et=this.ir(Fn.fromSegments(Be.prefixPath.concat(Be.collectionGroup,Be.documentId)),Be);Et.isFoundDocument()&&(Ja(r,Et)||u.has(Et.key))&&(ge=ge.insert(Et.key,Et))}return ge})}getAllFromCollectionGroup(t,r,o,u){let m=fs();const E=uh(r,o),P=uh(r,zt.max());return Il(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,P,!0)},(k,q,ge)=>{const Be=this.ir(Fn.fromSegments(q.prefixPath.concat(q.collectionGroup,q.documentId)),q);m=m.insert(Be.key,Be),m.size===u&&ge.done()}).next(()=>m)}newChangeBuffer(t){return new jh(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(r=>r.byteSize)}getMetadata(t){return ch(t).get("remoteDocumentGlobalKey").next(r=>(In(!!r),r))}rr(t,r){return ch(t).put("remoteDocumentGlobalKey",r)}ir(t,r){if(r){const o=function Uh(a,t){let r;if(t.document)r=Ru(a.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const o=Fn.fromSegments(t.noDocument.path),u=oc(t.noDocument.readTime);r=Oi.newNoDocument(o,u),t.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!t.unknownDocument)return Mn();{const o=Fn.fromSegments(t.unknownDocument.path),u=oc(t.unknownDocument.version);r=Oi.newUnknownDocument(o,u)}}return t.readTime&&r.setReadTime(function(u){const m=new Ai(u[0],u[1]);return _r.fromTimestamp(m)}(t.readTime)),r}(this.serializer,r);if(!o.isNoDocument()||!o.version.isEqual(_r.min()))return o}return Oi.newInvalidDocument(t)}}function Rd(a){return new lu(a)}class jh extends $h{constructor(t,r){super(),this.cr=t,this.trackRemovals=r,this.lr=new hs(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(t){const r=[];let o=0,u=new hi((m,E)=>Wn(m.canonicalString(),E.canonicalString()));return this.changes.forEach((m,E)=>{const P=this.lr.get(m);if(r.push(this.cr.removeEntry(t,m,P.readTime)),E.isValidDocument()){const k=eh(this.cr.serializer,E);u=u.add(m.path.popLast());const q=lc(k);o+=q-P.size,r.push(this.cr.addEntry(t,m,k))}else if(o-=P.size,this.trackRemovals){const k=eh(this.cr.serializer,E.convertToNoDocument(_r.min()));r.push(this.cr.addEntry(t,m,k))}}),u.forEach(m=>{r.push(this.cr.indexManager.addToCollectionParentIndex(t,m))}),r.push(this.cr.updateMetadata(t,o)),Qe.waitFor(r)}getFromCache(t,r){return this.cr.sr(t,r).next(o=>(this.lr.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(t,r){return this.cr.ar(t,r).next(({documents:o,ur:u})=>(u.forEach((m,E)=>{this.lr.set(m,{size:E,readTime:o.get(m).readTime})}),o))}}function ch(a){return Ui(a,"remoteDocumentGlobal")}function Il(a){return Ui(a,"remoteDocumentsV14")}function Bu(a){const t=a.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function uh(a,t){const r=t.documentKey.path.toArray();return[a,xu(t.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function $u(a,t){const r=a.path.toArray(),o=t.path.toArray();let u=0;for(let m=0;m<r.length-2&&m<o.length-2;++m)if(u=Wn(r[m],o[m]),u)return u;return u=Wn(r.length,o.length),u||(u=Wn(r[r.length-2],o[o.length-2]),u||Wn(r[r.length-1],o[o.length-1]))}class cu{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class ju{constructor(t,r,o,u){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=u}getDocument(t,r){let o=null;return this.documentOverlayCache.getOverlay(t,r).next(u=>(o=u,this.remoteDocumentCache.getEntry(t,r))).next(u=>(null!==o&&Ea(o.mutation,u,Ps.empty(),Ai.now()),u))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.getLocalViewOfDocuments(t,o,Yr()).next(()=>o))}getLocalViewOfDocuments(t,r,o=Yr()){const u=oa();return this.populateOverlays(t,u,r).next(()=>this.computeViews(t,r,u,o).next(m=>{let E=Os();return m.forEach((P,k)=>{E=E.insert(P,k.overlayedDocument)}),E}))}getOverlayedDocuments(t,r){const o=oa();return this.populateOverlays(t,o,r).next(()=>this.computeViews(t,r,o,Yr()))}populateOverlays(t,r,o){const u=[];return o.forEach(m=>{r.has(m)||u.push(m)}),this.documentOverlayCache.getOverlays(t,u).next(m=>{m.forEach((E,P)=>{r.set(E,P)})})}computeViews(t,r,o,u){let m=fs();const E=vl(),P=vl();return r.forEach((k,q)=>{const ge=o.get(q.key);u.has(q.key)&&(void 0===ge||ge.mutation instanceof Hs)?m=m.insert(q.key,q):void 0!==ge?(E.set(q.key,ge.mutation.getFieldMask()),Ea(ge.mutation,q,ge.mutation.getFieldMask(),Ai.now())):E.set(q.key,Ps.empty())}),this.recalculateAndSaveOverlays(t,m).next(k=>(k.forEach((q,ge)=>E.set(q,ge)),r.forEach((q,ge)=>{var Be;return P.set(q,new cu(ge,null!==(Be=E.get(q))&&void 0!==Be?Be:null))}),P))}recalculateAndSaveOverlays(t,r){const o=vl();let u=new Ni((E,P)=>E-P),m=Yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(E=>{for(const P of E)P.keys().forEach(k=>{const q=r.get(k);if(null===q)return;let ge=o.get(k)||Ps.empty();ge=P.applyToLocalView(q,ge),o.set(k,ge);const Be=(u.get(P.batchId)||Yr()).add(k);u=u.insert(P.batchId,Be)})}).next(()=>{const E=[],P=u.getReverseIterator();for(;P.hasNext();){const k=P.getNext(),q=k.key,ge=k.value,Be=Gc();ge.forEach(Et=>{if(!m.has(Et)){const nn=Fa(r.get(Et),o.get(Et));null!==nn&&Be.set(Et,nn),m=m.add(Et)}}),E.push(this.documentOverlayCache.saveOverlays(t,q,Be))}return Qe.waitFor(E)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,r,o,u){return Fn.isDocumentKey((E=r).path)&&null===E.collectionGroup&&0===E.filters.length?this.getDocumentsMatchingDocumentQuery(t,r.path):jo(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,o,u):this.getDocumentsMatchingCollectionQuery(t,r,o,u);var E}getNextDocuments(t,r,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,o,u).next(m=>{const E=u-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,o.largestBatchId,u-m.size):Qe.resolve(oa());let P=-1,k=m;return E.next(q=>Qe.forEach(q,(ge,Be)=>(P<Be.largestBatchId&&(P=Be.largestBatchId),m.get(ge)?Qe.resolve():this.remoteDocumentCache.getEntry(t,ge).next(Et=>{k=k.insert(ge,Et)}))).next(()=>this.populateOverlays(t,q,m)).next(()=>this.computeViews(t,k,q,Yr())).next(ge=>({batchId:P,changes:sa(ge)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Fn(r)).next(o=>{let u=Os();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(t,r,o,u){const m=r.collectionGroup;let E=Os();return this.indexManager.getCollectionParents(t,m).next(P=>Qe.forEach(P,k=>{const q=(Be=r,Et=k.child(m),new ki(Et,null,Be.explicitOrderBy.slice(),Be.filters.slice(),Be.limit,Be.limitType,Be.startAt,Be.endAt));var Be,Et;return this.getDocumentsMatchingCollectionQuery(t,q,o,u).next(ge=>{ge.forEach((Be,Et)=>{E=E.insert(Be,Et)})})}).next(()=>E))}getDocumentsMatchingCollectionQuery(t,r,o,u){let m;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,o.largestBatchId).next(E=>(m=E,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,o,m,u))).next(E=>{m.forEach((k,q)=>{const ge=q.getKey();null===E.get(ge)&&(E=E.insert(ge,Oi.newInvalidDocument(ge)))});let P=Os();return E.forEach((k,q)=>{const ge=m.get(k);void 0!==ge&&Ea(ge.mutation,q,Ps.empty(),Ai.now()),Ja(r,q)&&(P=P.insert(k,q))}),P})}}class ja{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,r){return Qe.resolve(this.hr.get(r))}saveBundleMetadata(t,r){return this.hr.set(r.id,{id:(u=r).id,version:u.version,createTime:tn(u.createTime)}),Qe.resolve();var u}getNamedQuery(t,r){return Qe.resolve(this.Pr.get(r))}saveNamedQuery(t,r){return this.Pr.set(r.name,{name:(u=r).name,query:th(u.bundledQuery),readTime:tn(u.readTime)}),Qe.resolve();var u}}class jf{constructor(){this.overlays=new Ni(Fn.comparator),this.Ir=new Map}getOverlay(t,r){return Qe.resolve(this.overlays.get(r))}getOverlays(t,r){const o=oa();return Qe.forEach(r,u=>this.getOverlay(t,u).next(m=>{null!==m&&o.set(u,m)})).next(()=>o)}saveOverlays(t,r,o){return o.forEach((u,m)=>{this.ht(t,r,m)}),Qe.resolve()}removeOverlaysForBatchId(t,r,o){const u=this.Ir.get(o);return void 0!==u&&(u.forEach(m=>this.overlays=this.overlays.remove(m)),this.Ir.delete(o)),Qe.resolve()}getOverlaysForCollection(t,r,o){const u=oa(),m=r.length+1,E=new Fn(r.child("")),P=this.overlays.getIteratorFrom(E);for(;P.hasNext();){const k=P.getNext().value,q=k.getKey();if(!r.isPrefixOf(q.path))break;q.path.length===m&&k.largestBatchId>o&&u.set(k.getKey(),k)}return Qe.resolve(u)}getOverlaysForCollectionGroup(t,r,o,u){let m=new Ni((q,ge)=>q-ge);const E=this.overlays.getIterator();for(;E.hasNext();){const q=E.getNext().value;if(q.getKey().getCollectionGroup()===r&&q.largestBatchId>o){let ge=m.get(q.largestBatchId);null===ge&&(ge=oa(),m=m.insert(q.largestBatchId,ge)),ge.set(q.getKey(),q)}}const P=oa(),k=m.getIterator();for(;k.hasNext()&&(k.getNext().value.forEach((q,ge)=>P.set(q,ge)),!(P.size()>=u)););return Qe.resolve(P)}ht(t,r,o){const u=this.overlays.get(o.key);if(null!==u){const E=this.Ir.get(u.largestBatchId).delete(o.key);this.Ir.set(u.largestBatchId,E)}this.overlays=this.overlays.insert(o.key,new Ec(r,o));let m=this.Ir.get(r);void 0===m&&(m=Yr(),this.Ir.set(r,m)),this.Ir.set(r,m.add(o.key))}}class Hu{constructor(){this.sessionToken=Zr.EMPTY_BYTE_STRING}getSessionToken(t){return Qe.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,Qe.resolve()}}class Wu{constructor(){this.Tr=new hi(Zi.Er),this.dr=new hi(Zi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,r){const o=new Zi(t,r);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(t,r){t.forEach(o=>this.addReference(o,r))}removeReference(t,r){this.Vr(new Zi(t,r))}mr(t,r){t.forEach(o=>this.removeReference(o,r))}gr(t){const r=new Fn(new Jn([])),o=new Zi(r,t),u=new Zi(r,t+1),m=[];return this.dr.forEachInRange([o,u],E=>{this.Vr(E),m.push(E.key)}),m}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const r=new Fn(new Jn([])),o=new Zi(r,t),u=new Zi(r,t+1);let m=Yr();return this.dr.forEachInRange([o,u],E=>{m=m.add(E.key)}),m}containsKey(t){const r=new Zi(t,0),o=this.Tr.firstAfterOrEqual(r);return null!==o&&t.isEqual(o.key)}}class Zi{constructor(t,r){this.key=t,this.wr=r}static Er(t,r){return Fn.comparator(t.key,r.key)||Wn(t.wr,r.wr)}static Ar(t,r){return Wn(t.wr,r.wr)||Fn.comparator(t.key,r.key)}}class cc{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new hi(Zi.Er)}checkEmpty(t){return Qe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,r,o,u){const m=this.Sr;this.Sr++;const E=new Ss(m,r,o,u);this.mutationQueue.push(E);for(const P of u)this.br=this.br.add(new Zi(P.key,m)),this.indexManager.addToCollectionParentIndex(t,P.key.path.popLast());return Qe.resolve(E)}lookupMutationBatch(t,r){return Qe.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(t,r){const u=this.vr(r+1),m=u<0?0:u;return Qe.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Qe.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return Qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const o=new Zi(r,0),u=new Zi(r,Number.POSITIVE_INFINITY),m=[];return this.br.forEachInRange([o,u],E=>{const P=this.Dr(E.wr);m.push(P)}),Qe.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(t,r){let o=new hi(Wn);return r.forEach(u=>{const m=new Zi(u,0),E=new Zi(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([m,E],P=>{o=o.add(P.wr)})}),Qe.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(t,r){const o=r.path,u=o.length+1;let m=o;Fn.isDocumentKey(m)||(m=m.child(""));const E=new Zi(new Fn(m),0);let P=new hi(Wn);return this.br.forEachWhile(k=>{const q=k.key.path;return!!o.isPrefixOf(q)&&(q.length===u&&(P=P.add(k.wr)),!0)},E),Qe.resolve(this.Cr(P))}Cr(t){const r=[];return t.forEach(o=>{const u=this.Dr(o);null!==u&&r.push(u)}),r}removeMutationBatch(t,r){In(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.br;return Qe.forEach(r.mutations,u=>{const m=new Zi(u.key,r.batchId);return o=o.delete(m),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.br=o})}On(t){}containsKey(t,r){const o=new Zi(r,0),u=this.br.firstAfterOrEqual(o);return Qe.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(t){return Qe.resolve()}Fr(t,r){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const r=this.vr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Hh{constructor(t){this.Mr=t,this.docs=new Ni(Fn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const o=r.key,u=this.docs.get(o),m=u?u.size:0,E=this.Mr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:E}),this.size+=E-m,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const o=this.docs.get(r);return Qe.resolve(o?o.document.mutableCopy():Oi.newInvalidDocument(r))}getEntries(t,r){let o=fs();return r.forEach(u=>{const m=this.docs.get(u);o=o.insert(u,m?m.document.mutableCopy():Oi.newInvalidDocument(u))}),Qe.resolve(o)}getDocumentsMatchingQuery(t,r,o,u){let m=fs();const E=r.path,P=new Fn(E.child("")),k=this.docs.getIteratorFrom(P);for(;k.hasNext();){const{key:q,value:{document:ge}}=k.getNext();if(!E.isPrefixOf(q.path))break;q.path.length>E.length+1||dn(Ue(ge),o)<=0||(u.has(ge.key)||Ja(r,ge))&&(m=m.insert(ge.key,ge.mutableCopy()))}return Qe.resolve(m)}getAllFromCollectionGroup(t,r,o,u){Mn()}Or(t,r){return Qe.forEach(this.docs,o=>r(o))}newChangeBuffer(t){return new Hf(this)}getSize(t){return Qe.resolve(this.size)}}class Hf extends $h{constructor(t){super(),this.cr=t}applyChanges(t){const r=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?r.push(this.cr.addEntry(t,u)):this.cr.removeEntry(o)}),Qe.waitFor(r)}getFromCache(t,r){return this.cr.getEntry(t,r)}getAllFromCache(t,r){return this.cr.getEntries(t,r)}}class Wh{constructor(t){this.persistence=t,this.Nr=new hs(r=>Hi(r),so),this.lastRemoteSnapshotVersion=_r.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wu,this.targetCount=0,this.kr=qs.Bn()}forEachTarget(t,r){return this.Nr.forEach((o,u)=>r(u)),Qe.resolve()}getLastRemoteSnapshotVersion(t){return Qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Qe.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Qe.resolve(this.highestTargetId)}setTargetsMetadata(t,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Lr&&(this.Lr=r),Qe.resolve()}Kn(t){this.Nr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.kr=new qs(r),this.highestTargetId=r),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,r){return this.Kn(r),this.targetCount+=1,Qe.resolve()}updateTargetData(t,r){return this.Kn(r),Qe.resolve()}removeTargetData(t,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Qe.resolve()}removeTargets(t,r,o){let u=0;const m=[];return this.Nr.forEach((E,P)=>{P.sequenceNumber<=r&&null===o.get(P.targetId)&&(this.Nr.delete(E),m.push(this.removeMatchingKeysForTargetId(t,P.targetId)),u++)}),Qe.waitFor(m).next(()=>u)}getTargetCount(t){return Qe.resolve(this.targetCount)}getTargetData(t,r){const o=this.Nr.get(r)||null;return Qe.resolve(o)}addMatchingKeys(t,r,o){return this.Br.Rr(r,o),Qe.resolve()}removeMatchingKeys(t,r,o){this.Br.mr(r,o);const u=this.persistence.referenceDelegate,m=[];return u&&r.forEach(E=>{m.push(u.markPotentiallyOrphaned(t,E))}),Qe.waitFor(m)}removeMatchingKeysForTargetId(t,r){return this.Br.gr(r),Qe.resolve()}getMatchingKeysForTargetId(t,r){const o=this.Br.yr(r);return Qe.resolve(o)}containsKey(t,r){return Qe.resolve(this.Br.containsKey(r))}}class uu{constructor(t,r){this.qr={},this.overlays={},this.Qr=new Rs(0),this.Kr=!1,this.Kr=!0,this.$r=new Hu,this.referenceDelegate=t(this),this.Ur=new Wh(this),this.indexManager=new Ol,this.remoteDocumentCache=new Hh(o=>this.referenceDelegate.Wr(o)),this.serializer=new tu(r),this.Gr=new ja(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new jf,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let o=this.qr[t.toKey()];return o||(o=new cc(r,this.referenceDelegate),this.qr[t.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,r,o){St("MemoryPersistence","Starting transaction:",t);const u=new dh(this.Qr.next());return this.referenceDelegate.zr(),o(u).next(m=>this.referenceDelegate.jr(u).next(()=>m)).toPromise().then(m=>(u.raiseOnCommittedEvent(),m))}Hr(t,r){return Qe.or(Object.values(this.qr).map(o=>()=>o.containsKey(t,r)))}}class dh extends mn{constructor(t){super(),this.currentSequenceNumber=t}}class Qs{constructor(t){this.persistence=t,this.Jr=new Wu,this.Yr=null}static Zr(t){return new Qs(t)}get Xr(){if(this.Yr)return this.Yr;throw Mn()}addReference(t,r,o){return this.Jr.addReference(o,r),this.Xr.delete(o.toString()),Qe.resolve()}removeReference(t,r,o){return this.Jr.removeReference(o,r),this.Xr.add(o.toString()),Qe.resolve()}markPotentiallyOrphaned(t,r){return this.Xr.add(r.toString()),Qe.resolve()}removeTarget(t,r){this.Jr.gr(r.targetId).forEach(u=>this.Xr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,r.targetId).next(u=>{u.forEach(m=>this.Xr.add(m.toString()))}).next(()=>o.removeTargetData(t,r))}zr(){this.Yr=new Set}jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qe.forEach(this.Xr,o=>{const u=Fn.fromPath(o);return this.ei(t,u).next(m=>{m||r.removeEntry(u,_r.min())})}).next(()=>(this.Yr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ei(t,r).next(o=>{o?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(t){return 0}ei(t,r){return Qe.or([()=>Qe.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Hr(t,r)])}}class Fc{constructor(t){this.serializer=t}O(t,r,o,u){const m=new pr("createOrUpgrade",r);var k;o<1&&u>=1&&(t.createObjectStore("owner"),(k=t).createObjectStore("mutationQueues",{keyPath:"userId"}),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eo,{unique:!0}),k.createObjectStore("documentMutations"),fh(t),function(k){k.createObjectStore("remoteDocuments")}(t));let E=Qe.resolve();return o<3&&u>=3&&(0!==o&&(function(k){k.deleteObjectStore("targetDocuments"),k.deleteObjectStore("targets"),k.deleteObjectStore("targetGlobal")}(t),fh(t)),E=E.next(()=>function(k){const q=k.store("targetGlobal"),ge={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_r.min().toTimestamp(),targetCount:0};return q.put("targetGlobalKey",ge)}(m))),o<4&&u>=4&&(0!==o&&(E=E.next(()=>function(k,q){return q.store("mutations").U().next(ge=>{k.deleteObjectStore("mutations"),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eo,{unique:!0});const Be=q.store("mutations"),Et=ge.map(nn=>Be.put(nn));return Qe.waitFor(Et)})}(t,m))),E=E.next(()=>{!function(k){k.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),o<5&&u>=5&&(E=E.next(()=>this.ni(m))),o<6&&u>=6&&(E=E.next(()=>(function(k){k.createObjectStore("remoteDocumentGlobal")}(t),this.ri(m)))),o<7&&u>=7&&(E=E.next(()=>this.ii(m))),o<8&&u>=8&&(E=E.next(()=>this.si(t,m))),o<9&&u>=9&&(E=E.next(()=>{!function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")}(t)})),o<10&&u>=10&&(E=E.next(()=>this.oi(m))),o<11&&u>=11&&(E=E.next(()=>{(function(k){k.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(k){k.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),o<12&&u>=12&&(E=E.next(()=>{!function(k){const q=k.createObjectStore("documentOverlays",{keyPath:Gl});q.createIndex("collectionPathOverlayIndex",Kl,{unique:!1}),q.createIndex("collectionGroupOverlayIndex",Ga,{unique:!1})}(t)})),o<13&&u>=13&&(E=E.next(()=>function(k){const q=k.createObjectStore("remoteDocumentsV14",{keyPath:to});q.createIndex("documentKeyIndex",za),q.createIndex("collectionGroupIndex",js)}(t)).next(()=>this._i(t,m)).next(()=>t.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(E=E.next(()=>this.ai(t,m))),o<15&&u>=15&&(E=E.next(()=>function(k){k.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),k.createObjectStore("indexState",{keyPath:Fo}).createIndex("sequenceNumberIndex",Wc,{unique:!1}),k.createObjectStore("indexEntries",{keyPath:Vi}).createIndex("documentKeyIndex",Na,{unique:!1})}(t))),o<16&&u>=16&&(E=E.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),o<17&&u>=17&&(E=E.next(()=>{!function(k){k.createObjectStore("globals",{keyPath:"name"})}(t)})),E}ri(t){let r=0;return t.store("remoteDocuments").J((o,u)=>{r+=lc(u)}).next(()=>{const o={byteSize:r};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}ni(t){const r=t.store("mutationQueues"),o=t.store("mutations");return r.U().next(u=>Qe.forEach(u,m=>{const E=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return o.U("userMutationsIndex",E).next(P=>Qe.forEach(P,k=>{In(k.userId===m.userId);const q=bs(this.serializer,k);return kl(t,m.userId,q).next(()=>{})}))}))}ii(t){const r=t.store("targetDocuments"),o=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(u=>{const m=[];return o.J((E,P)=>{const k=new Jn(E),q=[0,ls(k)];m.push(r.get(q).next(ge=>ge?Qe.resolve():r.put({targetId:0,path:ls(k),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Qe.waitFor(m))})}si(t,r){t.createObjectStore("collectionParents",{keyPath:As});const o=r.store("collectionParents"),u=new ru,m=E=>{if(u.add(E)){const P=E.lastSegment(),k=E.popLast();return o.put({collectionId:P,parent:ls(k)})}};return r.store("remoteDocuments").J({H:!0},(E,P)=>{const k=new Jn(E);return m(k.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([E,P,k],q)=>{const ge=$s(P);return m(ge.popLast())}))}oi(t){const r=t.store("targets");return r.J((o,u)=>{const m=No(u),E=ji(this.serializer,m);return r.put(E)})}_i(t,r){const o=r.store("remoteDocuments"),u=[];return o.J((m,E)=>{const P=r.store("remoteDocumentsV14"),k=(Be=E,Be.document?new Fn(Jn.fromString(Be.document.name).popFirst(5)):Be.noDocument?Fn.fromSegments(Be.noDocument.path):Be.unknownDocument?Fn.fromSegments(Be.unknownDocument.path):Mn()).path.toArray(),q={prefixPath:k.slice(0,k.length-2),collectionGroup:k[k.length-2],documentId:k[k.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};var Be;u.push(P.put(q))}).next(()=>Qe.waitFor(u))}ai(t,r){const o=r.store("mutations"),u=Rd(this.serializer),m=new uu(Qs.Zr,this.serializer.ct);return o.U().next(E=>{const P=new Map;return E.forEach(k=>{var q;let ge=null!==(q=P.get(k.userId))&&void 0!==q?q:Yr();bs(this.serializer,k).keys().forEach(Be=>ge=ge.add(Be)),P.set(k.userId,ge)}),Qe.forEach(P,(k,q)=>{const ge=new Oe(q),Be=ua.lt(this.serializer,ge),Et=m.getIndexManager(ge),nn=ou.lt(ge,this.serializer,Et,m.referenceDelegate);return new ju(u,nn,Be,Et).recalculateAndSaveOverlaysForDocumentKeys(new Qr(r,Rs.oe),k).next()})})}}function fh(a){a.createObjectStore("targetDocuments",{keyPath:Xs}).createIndex("documentTargetsIndex",zr,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vs,{unique:!0}),a.createObjectStore("targetGlobal")}const Pd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zh{constructor(t,r,o,u,m,E,P,k,q,ge,Be=17){if(this.allowTabSynchronization=t,this.persistenceKey=r,this.clientId=o,this.ui=m,this.window=E,this.document=P,this.ci=q,this.li=ge,this.hi=Be,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Et=>Promise.resolve(),!zh.D())throw new Kt(Vt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new au(this,u),this.Ai=r+"main",this.serializer=new tu(k),this.Ri=new Pr(this.Ai,this.hi,new Fc(this.serializer)),this.$r=new ac,this.Ur=new Uu(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Rd(this.serializer),this.Gr=new Rl,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ge&&Gn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Kt(Vt.FAILED_PRECONDITION,Pd);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new Rs(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var r=this;return this.di=function(){var o=(0,Z.A)(function*(u){if(r.started)return t(u)});return function(u){return o.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var r=(0,Z.A)(function*(o){null===o.newVersion&&(yield t())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(t){var r=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,Z.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>du(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(r=>this.isPrimary&&!r?this.bi(t).next(()=>!1):!!r&&this.Di(t).next(()=>!0))).catch(t=>{if(ni(t))return St("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return St("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return Vc(t).get("owner").next(r=>Qe.resolve(this.vi(r)))}Ci(t){return du(t).delete(this.clientId)}Fi(){var t=this;return(0,Z.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const r=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Ui(o,"clientMetadata");return u.U().next(m=>{const E=t.xi(m,18e5),P=m.filter(k=>-1===E.indexOf(k));return Qe.forEach(P,k=>u.delete(k.clientId)).next(()=>P)})}).catch(()=>[]);if(t.Vi)for(const o of r)t.Vi.removeItem(t.Oi(o.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?Qe.resolve(!0):Vc(t).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new Kt(Vt.FAILED_PRECONDITION,Pd);return!1}}return!(!this.networkEnabled||!this.inForeground)||du(t).U().next(o=>void 0===this.xi(o,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&St("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var t=this;return(0,Z.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new Qr(r,Rs.oe);return t.bi(o).next(()=>t.Ci(o))}),t.Ri.close(),t.qi()})()}xi(t,r){return t.filter(o=>this.Mi(o.updateTimeMs,r)&&!this.Ni(o.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>du(t).U().next(r=>this.xi(r,18e5).map(o=>o.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,r){return ou.lt(t,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new oh(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return ua.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,r,o){St("IndexedDbPersistence","Starting transaction:",t);const u="readonly"===r?"readonly":"readwrite",m=17===(k=this.hi)?Nr:16===k?_t:15===k?Ce:14===k?$:13===k?ee:12===k?Q:11===k?Ao:void Mn();var k;let E;return this.Ri.runTransaction(t,u,m,P=>(E=new Qr(P,this.Qr?this.Qr.next():Rs.oe),"readwrite-primary"===r?this.wi(E).next(k=>!!k||this.Si(E)).next(k=>{if(!k)throw Gn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Kt(Vt.FAILED_PRECONDITION,pn);return o(E)}).next(k=>this.Di(E).next(()=>k)):this.Ki(E).next(()=>o(E)))).then(P=>(E.raiseOnCommittedEvent(),P))}Ki(t){return Vc(t).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Kt(Vt.FAILED_PRECONDITION,Pd)})}Di(t){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vc(t).put("owner",r)}static D(){return Pr.D()}bi(t){const r=Vc(t);return r.get("owner").next(o=>this.vi(o)?(St("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Qe.resolve())}Mi(t,r){const o=Date.now();return!(t<o-r||t>o&&(Gn(`Detected an update time that is in the future: ${t} > ${o}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,wr.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var r;try{const o=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(t)));return St("IndexedDbPersistence",`Client '${t}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Gn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){Gn("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Vc(a){return Ui(a,"owner")}function du(a){return Ui(a,"clientMetadata")}function Ys(a,t){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+t+"/"+r+"/"}class zu{constructor(t,r,o,u){this.targetId=t,this.fromCache=r,this.$i=o,this.Ui=u}static Wi(t,r){let o=Yr(),u=Yr();for(const m of r.docChanges)switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:u=u.add(m.doc.key)}return new zu(t,r.fromCache,o,u)}}class ph{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class uc{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,wr.nr)()?8:xi((0,wr.ZQ)())>0?6:4}initialize(t,r){this.Ji=t,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(t,r,o,u){const m={result:null};return this.Yi(t,r).next(E=>{m.result=E}).next(()=>{if(!m.result)return this.Zi(t,r,u,o).next(E=>{m.result=E})}).next(()=>{if(m.result)return;const E=new ph;return this.Xi(t,r,E).next(P=>{if(m.result=P,this.zi)return this.es(t,r,E,P.size)})}).next(()=>m.result)}es(t,r,o,u){return o.documentReadCount<this.ji?(Gt()<=Pi.$b.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",ya(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Qe.resolve()):(Gt()<=Pi.$b.DEBUG&&St("QueryEngine","Query:",ya(r),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Hi*u?(Gt()<=Pi.$b.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",ya(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$i(r))):Qe.resolve())}Yi(t,r){if(Ya(r))return Qe.resolve(null);let o=$i(r);return this.indexManager.getIndexType(t,o).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=Yl(r,null,"F"),o=$i(r)),this.indexManager.getDocumentsMatchingTarget(t,o).next(m=>{const E=Yr(...m);return this.Ji.getDocuments(t,E).next(P=>this.indexManager.getMinOffset(t,o).next(k=>{const q=this.ts(r,P);return this.ns(r,q,E,k.readTime)?this.Yi(t,Yl(r,null,"F")):this.rs(t,q,r,k)}))})))}Zi(t,r,o,u){return Ya(r)||u.isEqual(_r.min())?Qe.resolve(null):this.Ji.getDocuments(t,o).next(m=>{const E=this.ts(r,m);return this.ns(r,E,o,u)?Qe.resolve(null):(Gt()<=Pi.$b.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ya(r)),this.rs(t,E,r,K(u,-1)).next(P=>P))})}ts(t,r){let o=new hi(zc(t));return r.forEach((u,m)=>{Ja(t,m)&&(o=o.add(m))}),o}ns(t,r,o,u){if(null===t.limit)return!1;if(o.size!==r.size)return!0;const m="F"===t.limitType?r.last():r.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(u)>0)}Xi(t,r,o){return Gt()<=Pi.$b.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",ya(r)),this.Ji.getDocumentsMatchingQuery(t,r,zt.min(),o)}rs(t,r,o,u){return this.Ji.getDocumentsMatchingQuery(t,o,u).next(m=>(r.forEach(E=>{m=m.insert(E.key,E)}),m))}}class dc{constructor(t,r,o,u){this.persistence=t,this.ss=r,this.serializer=u,this.os=new Ni(Wn),this._s=new hs(m=>Hi(m),so),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(o)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ju(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.os))}}function Gu(a,t,r,o){return new dc(a,t,r,o)}function il(a,t){return hu.apply(this,arguments)}function hu(){return(hu=(0,Z.A)(function*(a,t){const r=Tn(a);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let u;return r.mutationQueue.getAllMutationBatches(o).next(m=>(u=m,r.ls(t),r.mutationQueue.getAllMutationBatches(o))).next(m=>{const E=[],P=[];let k=Yr();for(const q of u){E.push(q.batchId);for(const ge of q.mutations)k=k.add(ge.key)}for(const q of m){P.push(q.batchId);for(const ge of q.mutations)k=k.add(ge.key)}return r.localDocuments.getDocuments(o,k).next(q=>({hs:q,removedBatchIds:E,addedBatchIds:P}))})})})).apply(this,arguments)}function Ku(a){const t=Tn(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Ur.getLastRemoteSnapshotVersion(r))}function Xu(a,t,r){let o=Yr(),u=Yr();return r.forEach(m=>o=o.add(m)),t.getEntries(a,o).next(m=>{let E=fs();return r.forEach((P,k)=>{const q=m.get(P);k.isFoundDocument()!==q.isFoundDocument()&&(u=u.add(P)),k.isNoDocument()&&k.version.isEqual(_r.min())?(t.removeEntry(P,k.readTime),E=E.insert(P,k)):!q.isValidDocument()||k.version.compareTo(q.version)>0||0===k.version.compareTo(q.version)&&q.hasPendingWrites?(t.addEntry(k),E=E.insert(P,k)):St("LocalStore","Ignoring outdated watch update for ",P,". Current version:",q.version," Watch version:",k.version)}),{Ps:E,Is:u}})}function Md(a,t){const r=Tn(a);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===t&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,t)))}function fu(a,t){const r=Tn(a);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.Ur.getTargetData(o,t).next(m=>m?(u=m,Qe.resolve(u)):r.Ur.allocateTargetId(o).next(E=>(u=new nl(t,E,"TargetPurposeListen",o.currentSequenceNumber),r.Ur.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.os.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.os=r.os.insert(o.targetId,o),r._s.set(t,o.targetId)),o})}function T(a,t,r){return g.apply(this,arguments)}function g(){return(g=(0,Z.A)(function*(a,t,r){const o=Tn(a),u=o.os.get(t),m=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",m,E=>o.persistence.referenceDelegate.removeTarget(E,u)))}catch(E){if(!ni(E))throw E;St("LocalStore",`Failed to update sequence numbers for target ${t}: ${E}`)}o.os=o.os.remove(t),o._s.delete(u.target)})).apply(this,arguments)}function v(a,t,r){const o=Tn(a);let u=_r.min(),m=Yr();return o.persistence.runTransaction("Execute query","readwrite",E=>function(k,q,ge){const Be=Tn(k),Et=Be._s.get(ge);return void 0!==Et?Qe.resolve(Be.os.get(Et)):Be.Ur.getTargetData(q,ge)}(o,E,$i(t)).next(P=>{if(P)return u=P.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(E,P.targetId).next(k=>{m=k})}).next(()=>o.ss.getDocumentsMatchingQuery(E,t,r?u:_r.min(),r?m:Yr())).next(P=>(me(o,Es(t),P),{documents:P,Ts:m})))}function b(a,t){const r=Tn(a),o=Tn(r.Ur),u=r.os.get(t);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",m=>o.ot(m,t).next(E=>E?E.target:null))}function z(a,t){const r=Tn(a),o=r.us.get(t)||_r.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.cs.getAllFromCollectionGroup(u,t,K(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(me(r,t,u),u))}function me(a,t,r){let o=a.us.get(t)||_r.min();r.forEach((u,m)=>{m.readTime.compareTo(o)>0&&(o=m.readTime)}),a.us.set(t,o)}function Ut(){return(Ut=(0,Z.A)(function*(a,t,r,o){const u=Tn(a);let m=Yr(),E=fs();for(const q of r){const ge=t.Es(q.metadata.name);q.document&&(m=m.add(ge));const Be=t.ds(q);Be.setReadTime(t.As(q.metadata.readTime)),E=E.insert(ge,Be)}const P=u.cs.newChangeBuffer({trackRemovals:!0}),k=yield fu(u,(ge=o,$i(_a(Jn.fromString(`__bundle__/docs/${ge}`)))));var ge;return u.persistence.runTransaction("Apply bundle documents","readwrite",q=>Xu(q,P,E).next(ge=>(P.apply(q),ge)).next(ge=>u.Ur.removeMatchingKeysForTargetId(q,k.targetId).next(()=>u.Ur.addMatchingKeys(q,m,k.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(q,ge.Ps,ge.Is)).next(()=>ge.Ps)))})).apply(this,arguments)}function vn(a,t){return ir.apply(this,arguments)}function ir(){return(ir=(0,Z.A)(function*(a,t,r=Yr()){const o=yield fu(a,$i(th(t.bundledQuery))),u=Tn(a);return u.persistence.runTransaction("Save named query","readwrite",m=>{const E=tn(t.readTime);if(o.snapshotVersion.compareTo(E)>=0)return u.Gr.saveNamedQuery(m,t);const P=o.withResumeToken(Zr.EMPTY_BYTE_STRING,E);return u.os=u.os.insert(P.targetId,P),u.Ur.updateTargetData(m,P).next(()=>u.Ur.removeMatchingKeysForTargetId(m,o.targetId)).next(()=>u.Ur.addMatchingKeys(m,r,o.targetId)).next(()=>u.Gr.saveNamedQuery(m,t))})})).apply(this,arguments)}function Er(a,t){return`firestore_clients_${a}_${t}`}function hr(a,t,r){let o=`firestore_mutations_${a}_${r}`;return t.isAuthenticated()&&(o+=`_${t.uid}`),o}function Is(a,t){return`firestore_targets_${a}_${t}`}class Ls{constructor(t,r,o,u){this.user=t,this.batchId=r,this.state=o,this.error=u}static Rs(t,r,o){const u=JSON.parse(o);let m,E="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return E&&u.error&&(E="string"==typeof u.error.message&&"string"==typeof u.error.code,E&&(m=new Kt(u.error.code,u.error.message))),E?new Ls(t,r,u.state,m):(Gn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Fl{constructor(t,r,o){this.targetId=t,this.state=r,this.error=o}static Rs(t,r){const o=JSON.parse(r);let u,m="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return m&&o.error&&(m="string"==typeof o.error.message&&"string"==typeof o.error.code,m&&(u=new Kt(o.error.code,o.error.message))),m?new Fl(t,o.state,u):(Gn("SharedClientState",`Failed to parse target state for ID '${t}': ${r}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Uc{constructor(t,r){this.clientId=t,this.activeTargetIds=r}static Rs(t,r){const o=JSON.parse(r);let u="object"==typeof o&&o.activeTargetIds instanceof Array,m=Yd();for(let E=0;u&&E<o.activeTargetIds.length;++E)u=is(o.activeTargetIds[E]),m=m.add(o.activeTargetIds[E]);return u?new Uc(t,m):(Gn("SharedClientState",`Failed to parse client data for instance '${t}': ${r}`),null)}}class qu{constructor(t,r){this.clientId=t,this.onlineState=r}static Rs(t){const r=JSON.parse(t);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new qu(r.clientId,r.onlineState):(Gn("SharedClientState",`Failed to parse online state: ${t}`),null)}}class xd{constructor(){this.activeTargetIds=Yd()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Nd{constructor(t,r,o,u,m){this.window=t,this.ui=r,this.persistenceKey=o,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Ni(Wn),this.started=!1,this.bs=[];const E=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.Ds=Er(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new xd),this.Cs=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(k){return`firestore_bundle_loaded_v2_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Z.A)(function*(){const r=yield t.syncEngine.Qi();for(const u of r){if(u===t.ps)continue;const m=t.getItem(Er(t.persistenceKey,u));if(m){const E=Uc.Rs(u,m);E&&(t.Ss=t.Ss.insert(E.clientId,E))}}t.Ns();const o=t.storage.getItem(t.xs);if(o){const u=t.Ls(o);u&&t.Bs(u)}for(const u of t.bs)t.ws(u);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let r=!1;return this.Ss.forEach((o,u)=>{u.activeTargetIds.has(t)&&(r=!0)}),r}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,r,o){this.qs(t,r,o),this.Qs(t)}addLocalQueryTarget(t,r=!0){let o="not-current";if(this.isActiveQueryTarget(t)){const u=this.storage.getItem(Is(this.persistenceKey,t));if(u){const m=Fl.Rs(t,u);m&&(o=m.state)}}return r&&this.Ks.fs(t),this.Ns(),o}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Is(this.persistenceKey,t))}updateQueryState(t,r,o){this.$s(t,r,o)}handleUserChange(t,r,o){r.forEach(u=>{this.Qs(u)}),this.currentUser=t,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const r=this.storage.getItem(t);return St("SharedClientState","READ",t,r),r}setItem(t,r){St("SharedClientState","SET",t,r),this.storage.setItem(t,r)}removeItem(t){St("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var r=this;const o=t;if(o.storageArea===this.storage){if(St("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Ds)return void Gn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,Z.A)(function*(){if(r.started){if(null!==o.key)if(r.Cs.test(o.key)){if(null==o.newValue){const u=r.Gs(o.key);return r.zs(u,null)}{const u=r.js(o.key,o.newValue);if(u)return r.zs(u.clientId,u)}}else if(r.Fs.test(o.key)){if(null!==o.newValue){const u=r.Hs(o.key,o.newValue);if(u)return r.Js(u)}}else if(r.Ms.test(o.key)){if(null!==o.newValue){const u=r.Ys(o.key,o.newValue);if(u)return r.Zs(u)}}else if(o.key===r.xs){if(null!==o.newValue){const u=r.Ls(o.newValue);if(u)return r.Bs(u)}}else if(o.key===r.vs){const u=function(E){let P=Rs.oe;if(null!=E)try{const k=JSON.parse(E);In("number"==typeof k),P=k}catch(k){Gn("SharedClientState","Failed to read sequence number from WebStorage",k)}return P}(o.newValue);u!==Rs.oe&&r.sequenceNumberHandler(u)}else if(o.key===r.Os){const u=r.Xs(o.newValue);yield Promise.all(u.map(m=>r.syncEngine.eo(m)))}}else r.bs.push(o)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,r,o){const u=new Ls(this.currentUser,t,r,o),m=hr(this.persistenceKey,this.currentUser,t);this.setItem(m,u.Vs())}Qs(t){const r=hr(this.persistenceKey,this.currentUser,t);this.removeItem(r)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,r,o){const u=Is(this.persistenceKey,t),m=new Fl(t,r,o);this.setItem(u,m.Vs())}Ws(t){const r=JSON.stringify(Array.from(t));this.setItem(this.Os,r)}Gs(t){const r=this.Cs.exec(t);return r?r[1]:null}js(t,r){const o=this.Gs(t);return Uc.Rs(o,r)}Hs(t,r){const o=this.Fs.exec(t),u=Number(o[1]);return Ls.Rs(new Oe(void 0!==o[2]?o[2]:null),u,r)}Ys(t,r){const o=this.Ms.exec(t),u=Number(o[1]);return Fl.Rs(u,r)}Ls(t){return qu.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var r=this;return(0,Z.A)(function*(){if(t.user.uid===r.currentUser.uid)return r.syncEngine.no(t.batchId,t.state,t.error);St("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,r){const o=r?this.Ss.insert(t,r):this.Ss.remove(t),u=this.ks(this.Ss),m=this.ks(o),E=[],P=[];return m.forEach(k=>{u.has(k)||E.push(k)}),u.forEach(k=>{m.has(k)||P.push(k)}),this.syncEngine.io(E,P).then(()=>{this.Ss=o})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let r=Yd();return t.forEach((o,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class Od{constructor(){this.so=new xd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,o){}addLocalQueryTarget(t,r=!0){return r&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,r,o){this.oo[t]=r}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new xd,Promise.resolve()}handleUserChange(t,r,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Wf{_o(t){}shutdown(){}}class gh{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){St("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){St("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sl=null;function Vl(){return null===sl?sl=268435456+Math.round(2147483648*Math.random()):sl++,"0x"+sl.toString(16)}const Kh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mh{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const lo="WebChannelConnection";class vh extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),m=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+r.host,this.vo=`projects/${u}/databases/${m}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${m}`}get Fo(){return!1}Mo(r,o,u,m,E){const P=Vl(),k=this.xo(r,o.toUriEncodedString());St("RestConnection",`Sending RPC '${r}' ${P}:`,k,u);const q={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(q,m,E),this.No(r,k,q,u).then(ge=>(St("RestConnection",`Received RPC '${r}' ${P}: `,ge),ge),ge=>{throw Hn("RestConnection",`RPC '${r}' ${P} failed with error: `,ge,"url: ",k,"request:",u),ge})}Lo(r,o,u,m,E,P){return this.Mo(r,o,u,m,E)}Oo(r,o,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Je,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((m,E)=>r[E]=m),u&&u.headers.forEach((m,E)=>r[E]=m)}xo(r,o){return`${this.Do}/v1/${o}:${Kh[r]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,r,o,u){const m=Vl();return new Promise((E,P)=>{const k=new Wt;k.setWithCredentials(!0),k.listenOnce(ie.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case Y.NO_ERROR:const ge=k.getResponseJson();St(lo,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(ge)),E(ge);break;case Y.TIMEOUT:St(lo,`RPC '${t}' ${m} timed out`),P(new Kt(Vt.DEADLINE_EXCEEDED,"Request time out"));break;case Y.HTTP_ERROR:const Be=k.getStatus();if(St(lo,`RPC '${t}' ${m} failed with status:`,Be,"response text:",k.getResponseText()),Be>0){let Et=k.getResponseJson();Array.isArray(Et)&&(Et=Et[0]);const nn=Et?.error;if(nn&&nn.status&&nn.message){const wn=function(Vn){const Sr=Vn.toLowerCase().replace(/_/g,"-");return Object.values(Vt).indexOf(Sr)>=0?Sr:Vt.UNKNOWN}(nn.status);P(new Kt(wn,nn.message))}else P(new Kt(Vt.UNKNOWN,"Server responded with status "+k.getStatus()))}else P(new Kt(Vt.UNAVAILABLE,"Connection failed."));break;default:Mn()}}finally{St(lo,`RPC '${t}' ${m} completed.`)}});const q=JSON.stringify(u);St(lo,`RPC '${t}' ${m} sending request:`,u),k.send(r,"POST",q,o,15)})}Bo(t,r,o){const u=Vl(),m=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],E=Yt(),P=ln(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},q=this.longPollingOptions.timeoutSeconds;void 0!==q&&(k.longPollingTimeout=Math.round(1e3*q)),this.useFetchStreams&&(k.useFetchStreams=!0),this.Oo(k.initMessageHeaders,r,o),k.encodeInitMessageHeaders=!0;const ge=m.join("");St(lo,`Creating RPC '${t}' stream ${u}: ${ge}`,k);const Be=E.createWebChannel(ge,k);let Et=!1,nn=!1;const wn=new mh({Io:Vn=>{nn?St(lo,`Not sending because RPC '${t}' stream ${u} is closed:`,Vn):(Et||(St(lo,`Opening RPC '${t}' stream ${u} transport.`),Be.open(),Et=!0),St(lo,`RPC '${t}' stream ${u} sending:`,Vn),Be.send(Vn))},To:()=>Be.close()}),jn=(Vn,Sr,jr)=>{Vn.listen(Sr,Cr=>{try{jr(Cr)}catch(ti){setTimeout(()=>{throw ti},0)}})};return jn(Be,_e.EventType.OPEN,()=>{nn||(St(lo,`RPC '${t}' stream ${u} transport opened.`),wn.yo())}),jn(Be,_e.EventType.CLOSE,()=>{nn||(nn=!0,St(lo,`RPC '${t}' stream ${u} transport closed`),wn.So())}),jn(Be,_e.EventType.ERROR,Vn=>{nn||(nn=!0,Hn(lo,`RPC '${t}' stream ${u} transport errored:`,Vn),wn.So(new Kt(Vt.UNAVAILABLE,"The operation could not be completed")))}),jn(Be,_e.EventType.MESSAGE,Vn=>{var Sr;if(!nn){const jr=Vn.data[0];In(!!jr);const ti=jr.error||(null===(Sr=jr[0])||void 0===Sr?void 0:Sr.error);if(ti){St(lo,`RPC '${t}' stream ${u} received error:`,ti);const zi=ti.status;let Ri=function(Rt){const Bt=ws[Rt];if(void 0!==Bt)return la(Bt)}(zi),Ft=ti.message;void 0===Ri&&(Ri=Vt.INTERNAL,Ft="Unknown error status: "+zi+" with message "+ti.message),nn=!0,wn.So(new Kt(Ri,Ft)),Be.close()}else St(lo,`RPC '${t}' stream ${u} received:`,jr),wn.bo(jr)}}),jn(P,gt.STAT_EVENT,Vn=>{Vn.stat===Ve.PROXY?St(lo,`RPC '${t}' stream ${u} detected buffering proxy`):Vn.stat===Ve.NOPROXY&&St(lo,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{wn.wo()},0),wn}}function tg(){return typeof window<"u"?window:null}function Qu(){return typeof document<"u"?document:null}function kd(a){return new Du(a,!0)}class pu{constructor(t,r,o=1e3,u=1.5,m=6e4){this.ui=t,this.timerId=r,this.ko=o,this.qo=u,this.Qo=m,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const r=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),u=Math.max(0,r-o);u>0&&St("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Ld{constructor(t,r,o,u,m,E,P,k){this.ui=t,this.Ho=o,this.Jo=u,this.connection=m,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=P,this.listener=k,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pu(t,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,Z.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,Z.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,r){var o=this;return(0,Z.A)(function*(){o.u_(),o.c_(),o.t_.cancel(),o.Yo++,4!==t?o.t_.reset():r&&r.code===Vt.RESOURCE_EXHAUSTED?(Gn(r.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),o.t_.Wo()):r&&r.code===Vt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.l_(),o.stream.close(),o.stream=null),o.state=t,yield o.listener.mo(r)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Yo===r&&this.P_(o,u)},o=>{t(()=>{const u=new Kt(Vt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(u)})})}P_(t,r){const o=this.h_(this.Yo);this.stream=this.T_(t,r),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{o(()=>this.I_(u))}),this.stream.onMessage(u=>{o(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var t=this;this.state=5,this.t_.Go((0,Z.A)(function*(){t.state=0,t.start()}))}I_(t){return St("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return r=>{this.ui.enqueueAndForget(()=>this.Yo===t?r():(St("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ng extends Ld{constructor(t,r,o,u,m,E){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,E),this.serializer=m}T_(t,r){return this.connection.Bo("Listen",t,r)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const r=function zo(a,t){let r;if("targetChange"in t){const o="NO_CHANGE"===(q=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:Mn(),u=t.targetChange.targetIds||[],m=function(q,ge){return q.useProto3Json?(In(void 0===ge||"string"==typeof ge),Zr.fromBase64String(ge||"")):(In(void 0===ge||ge instanceof Buffer||ge instanceof Uint8Array),Zr.fromUint8Array(ge||new Uint8Array))}(a,t.targetChange.resumeToken),E=t.targetChange.cause,P=E&&function(q){const ge=void 0===q.code?Vt.UNKNOWN:la(q.code);return new Kt(ge,q.message||"")}(E);r=new Dl(o,u,m,P||null)}else if("documentChange"in t){const o=t.documentChange,u=Co(a,o.document.name),m=tn(o.document.updateTime),E=o.document.createTime?tn(o.document.createTime):_r.min(),P=new ds({mapValue:{fields:o.document.fields}}),k=Oi.newFoundDocument(u,m,E,P);r=new Wr(o.targetIds||[],o.removedTargetIds||[],k.key,k)}else if("documentDelete"in t){const o=t.documentDelete,u=Co(a,o.document),m=o.readTime?tn(o.readTime):_r.min(),E=Oi.newNoDocument(u,m);r=new Wr([],o.removedTargetIds||[],E.key,E)}else if("documentRemove"in t){const o=t.documentRemove,u=Co(a,o.document);r=new Wr([],o.removedTargetIds||[],u,null)}else{if(!("filter"in t))return Mn();{const o=t.filter,{count:u=0,unchangedNames:m}=o,E=new Ta(u,m);r=new Cc(o.targetId,E)}}var q;return r}(this.serializer,t),o=function(m){if(!("targetChange"in m))return _r.min();const E=m.targetChange;return E.targetIds&&E.targetIds.length?_r.min():E.readTime?tn(E.readTime):_r.min()}(t);return this.listener.d_(r,o)}A_(t){const r={};r.database=Mo(this.serializer),r.addTarget=function(m,E){let P;const k=E.target;if(P=Ur(k)?{documents:El(m,k)}:{query:Ac(m,k)._t},P.targetId=E.targetId,E.resumeToken.approximateByteSize()>0){P.resumeToken=yd(m,E.resumeToken);const q=Yc(m,E.expectedCount);null!==q&&(P.expectedCount=q)}else if(E.snapshotVersion.compareTo(_r.min())>0){P.readTime=bc(m,E.snapshotVersion.toTimestamp());const q=Yc(m,E.expectedCount);null!==q&&(P.expectedCount=q)}return P}(this.serializer,t);const o=function eu(a,t){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mn()}}(t.purpose);return null==r?null:{"goog-listen-tags":r}}(0,t);o&&(r.labels=o),this.a_(r)}R_(t){const r={};r.database=Mo(this.serializer),r.removeTarget=t,this.a_(r)}}class zf extends Ld{constructor(t,r,o,u,m,E){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,u,E),this.serializer=m}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,r){return this.connection.Bo("Write",t,r)}E_(t){return In(!!t.streamToken),this.lastStreamToken=t.streamToken,In(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){In(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const r=function xo(a,t){return a&&a.length>0?(In(void 0!==t),a.map(r=>function(u,m){let E=tn(u.updateTime?u.updateTime:m);return E.isEqual(_r.min())&&(E=tn(m)),new aa(E,u.transformResults||[])}(r,t))):[]}(t.writeResults,t.commitTime),o=tn(t.commitTime);return this.listener.g_(o,r)}p_(){const t={};t.database=Mo(this.serializer),this.a_(t)}m_(t){const r={streamToken:this.lastStreamToken,writes:t.map(o=>Sl(this.serializer,o))};this.a_(r)}}class rg extends class{}{constructor(t,r,o,u){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=o,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new Kt(Vt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,r,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,E])=>this.connection.Mo(t,Ed(r,o),u,m,E)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Kt(Vt.UNKNOWN,m.toString())})}Lo(t,r,o,u,m){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([E,P])=>this.connection.Lo(t,Ed(r,o),u,E,P,m)).catch(E=>{throw"FirebaseError"===E.name?(E.code===Vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),E):new Kt(Vt.UNKNOWN,E.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Vm{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const r=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Gn(r),this.D_=!1):St("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class p{constructor(t,r,o,u,m){var E=this;this.localStore=t,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=m,this.k_._o(P=>{o.enqueueAndForget((0,Z.A)(function*(){var k;cn(E)&&(St("RemoteStore","Restarting streams for network reachability change."),yield(k=(0,Z.A)(function*(ge){const Be=Tn(ge);Be.L_.add(4),yield _(Be),Be.q_.set("Unknown"),Be.L_.delete(4),yield d(Be)}),function q(ge){return k.apply(this,arguments)})(E))}))}),this.q_=new Vm(o,u)}}function d(a){return h.apply(this,arguments)}function h(){return(h=(0,Z.A)(function*(a){if(cn(a))for(const t of a.B_)yield t(!0)})).apply(this,arguments)}function _(a){return D.apply(this,arguments)}function D(){return(D=(0,Z.A)(function*(a){for(const t of a.B_)yield t(!1)})).apply(this,arguments)}function V(a,t){const r=Tn(a);r.N_.has(t.targetId)||(r.N_.set(t.targetId,t),sn(r)?dt(r):Xh(r).r_()&&Ee(r,t))}function X(a,t){const r=Tn(a),o=Xh(r);r.N_.delete(t),o.r_()&&je(r,t),0===r.N_.size&&(o.r_()?o.o_():cn(r)&&r.q_.set("Unknown"))}function Ee(a,t){if(a.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_r.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Xh(a).A_(t)}function je(a,t){a.Q_.xe(t),Xh(a).R_(t)}function dt(a){a.Q_=new Zp({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>a.N_.get(t)||null,tt:()=>a.datastore.serializer.databaseId}),Xh(a).start(),a.q_.v_()}function sn(a){return cn(a)&&!Xh(a).n_()&&a.N_.size>0}function cn(a){return 0===Tn(a).L_.size}function Sn(a){a.Q_=void 0}function mr(a){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,Z.A)(function*(a){a.q_.set("Online")})).apply(this,arguments)}function Ki(a){return po.apply(this,arguments)}function po(){return(po=(0,Z.A)(function*(a){a.N_.forEach((t,r)=>{Ee(a,t)})})).apply(this,arguments)}function Ul(a,t){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,Z.A)(function*(a,t){Sn(a),sn(a)?(a.q_.M_(t),dt(a)):a.q_.set("Unknown")})).apply(this,arguments)}function Yu(a,t,r){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,Z.A)(function*(a,t,r){if(a.q_.set("Online"),t instanceof Dl&&2===t.state&&t.cause)try{yield(o=(0,Z.A)(function*(m,E){const P=E.cause;for(const k of E.targetIds)m.N_.has(k)&&(yield m.remoteSyncer.rejectListen(k,P),m.N_.delete(k),m.Q_.removeTarget(k))}),function u(m,E){return o.apply(this,arguments)})(a,t)}catch(o){St("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),yield ig(a,o)}else if(t instanceof Wr?a.Q_.Ke(t):t instanceof Cc?a.Q_.He(t):a.Q_.We(t),!r.isEqual(_r.min()))try{const o=yield Ku(a.localStore);r.compareTo(o)>=0&&(yield function(m,E){const P=m.Q_.rt(E);return P.targetChanges.forEach((k,q)=>{if(k.resumeToken.approximateByteSize()>0){const ge=m.N_.get(q);ge&&m.N_.set(q,ge.withResumeToken(k.resumeToken,E))}}),P.targetMismatches.forEach((k,q)=>{const ge=m.N_.get(k);if(!ge)return;m.N_.set(k,ge.withResumeToken(Zr.EMPTY_BYTE_STRING,ge.snapshotVersion)),je(m,k);const Be=new nl(ge.target,k,q,ge.sequenceNumber);Ee(m,Be)}),m.remoteSyncer.applyRemoteEvent(P)}(a,r))}catch(o){St("RemoteStore","Failed to raise snapshot:",o),yield ig(a,o)}var o}),Gf.apply(this,arguments)}function ig(a,t,r){return Um.apply(this,arguments)}function Um(){return(Um=(0,Z.A)(function*(a,t,r){if(!ni(t))throw t;a.L_.add(1),yield _(a),a.q_.set("Offline"),r||(r=()=>Ku(a.localStore)),a.asyncQueue.enqueueRetryable((0,Z.A)(function*(){St("RemoteStore","Retrying IndexedDB access"),yield r(),a.L_.delete(1),yield d(a)}))})).apply(this,arguments)}function ey(a,t){return t().catch(r=>ig(a,r,t))}function _h(a){return sg.apply(this,arguments)}function sg(){return(sg=(0,Z.A)(function*(a){const t=Tn(a),r=Ju(t);let o=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;ty(t);)try{const u=yield Md(t.localStore,o);if(null===u){0===t.O_.length&&r.o_();break}o=u.batchId,og(t,u)}catch(u){yield ig(t,u)}Bm(t)&&$m(t)})).apply(this,arguments)}function ty(a){return cn(a)&&a.O_.length<10}function og(a,t){a.O_.push(t);const r=Ju(a);r.r_()&&r.V_&&r.m_(t.mutations)}function Bm(a){return cn(a)&&!Ju(a).n_()&&a.O_.length>0}function $m(a){Ju(a).start()}function ny(a){return ag.apply(this,arguments)}function ag(){return(ag=(0,Z.A)(function*(a){Ju(a).p_()})).apply(this,arguments)}function PI(a){return jm.apply(this,arguments)}function jm(){return(jm=(0,Z.A)(function*(a){const t=Ju(a);for(const r of a.O_)t.m_(r.mutations)})).apply(this,arguments)}function MI(a,t,r){return Hm.apply(this,arguments)}function Hm(){return(Hm=(0,Z.A)(function*(a,t,r){const o=a.O_.shift(),u=Al.from(o,t,r);yield ey(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield _h(a)})).apply(this,arguments)}function ry(a,t){return iy.apply(this,arguments)}function iy(){return iy=(0,Z.A)(function*(a,t){var r;t&&Ju(a).V_&&(yield(r=(0,Z.A)(function*(u,m){if(Lh(P=m.code)&&P!==Vt.ABORTED){const E=u.O_.shift();Ju(u).s_(),yield ey(u,()=>u.remoteSyncer.rejectFailedWrite(E.batchId,m)),yield _h(u)}var P}),function o(u,m){return r.apply(this,arguments)})(a,t)),Bm(a)&&$m(a)}),iy.apply(this,arguments)}function Wm(a,t){return zm.apply(this,arguments)}function zm(){return(zm=(0,Z.A)(function*(a,t){const r=Tn(a);r.asyncQueue.verifyOperationInProgress(),St("RemoteStore","RemoteStore received new credentials");const o=cn(r);r.L_.add(3),yield _(r),o&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(t),r.L_.delete(3),yield d(r)})).apply(this,arguments)}function Gm(a,t){return sy.apply(this,arguments)}function sy(){return(sy=(0,Z.A)(function*(a,t){const r=Tn(a);t?(r.L_.delete(2),yield d(r)):t||(r.L_.add(2),yield _(r),r.q_.set("Unknown"))})).apply(this,arguments)}function Xh(a){return a.K_||(a.K_=function(r,o,u){const m=Tn(r);return m.w_(),new ng(o,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,u)}(a.datastore,a.asyncQueue,{Eo:mr.bind(null,a),Ro:Ki.bind(null,a),mo:Ul.bind(null,a),d_:Yu.bind(null,a)}),a.B_.push(function(){var t=(0,Z.A)(function*(r){r?(a.K_.s_(),sn(a)?dt(a):a.q_.set("Unknown")):(yield a.K_.stop(),Sn(a))});return function(r){return t.apply(this,arguments)}}())),a.K_}function Ju(a){return a.U_||(a.U_=function(r,o,u){const m=Tn(r);return m.w_(),new zf(o,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,u)}(a.datastore,a.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ny.bind(null,a),mo:ry.bind(null,a),f_:PI.bind(null,a),g_:MI.bind(null,a)}),a.B_.push(function(){var t=(0,Z.A)(function*(r){r?(a.U_.s_(),yield _h(a)):(yield a.U_.stop(),a.O_.length>0&&(St("RemoteStore",`Stopping write stream with ${a.O_.length} pending writes`),a.O_=[]))});return function(r){return t.apply(this,arguments)}}())),a.U_}class Kf{constructor(t,r,o,u,m){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=m,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,o,u,m){const E=Date.now()+o,P=new Kf(t,r,E,u,m);return P.start(o),P}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Kt(Vt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qh(a,t){if(Gn("AsyncQueue",`${t}: ${a}`),ni(a))return new Kt(Vt.UNAVAILABLE,`${t}: ${a}`);throw a}class $l{constructor(t){this.comparator=t?(r,o)=>t(r,o)||Fn.comparator(r.key,o.key):(r,o)=>Fn.comparator(r.key,o.key),this.keyedMap=Os(),this.sortedSet=new Ni(this.comparator)}static emptySet(t){return new $l(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,o)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof $l)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,m=o.getNext().key;if(!u.isEqual(m))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,r){const o=new $l;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=r,o}}class Xf{constructor(){this.W_=new Ni(Fn.comparator)}track(t){const r=t.doc.key,o=this.W_.get(r);o?0!==t.type&&3===o.type?this.W_=this.W_.insert(r,t):3===t.type&&1!==o.type?this.W_=this.W_.insert(r,{type:o.type,doc:t.doc}):2===t.type&&2===o.type?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):2===t.type&&0===o.type?this.W_=this.W_.insert(r,{type:0,doc:t.doc}):1===t.type&&0===o.type?this.W_=this.W_.remove(r):1===t.type&&2===o.type?this.W_=this.W_.insert(r,{type:1,doc:o.doc}):0===t.type&&1===o.type?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):Mn():this.W_=this.W_.insert(r,t)}G_(){const t=[];return this.W_.inorderTraversal((r,o)=>{t.push(o)}),t}}class Qh{constructor(t,r,o,u,m,E,P,k,q){this.query=t,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=m,this.fromCache=E,this.syncStateChanged=P,this.excludesMetadataChanges=k,this.hasCachedResults=q}static fromInitialDocuments(t,r,o,u,m){const E=[];return r.forEach(P=>{E.push({type:0,doc:P})}),new Qh(t,r,$l.emptySet(r),E,o,u,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&os(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,o=t.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}class oy{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class lg{constructor(){this.queries=xI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,o){const u=Tn(r),m=u.queries;u.queries=xI(),m.forEach((E,P)=>{for(const k of P.j_)k.onError(o)})}(this,new Kt(Vt.ABORTED,"Firestore shutting down"))}}function xI(){return new hs(a=>ia(a),os)}function ay(a,t){return Km.apply(this,arguments)}function Km(){return(Km=(0,Z.A)(function*(a,t){const r=Tn(a);let o=3;const u=t.query;let m=r.queries.get(u);m?!m.H_()&&t.J_()&&(o=2):(m=new oy,o=t.J_()?0:1);try{switch(o){case 0:m.z_=yield r.onListen(u,!0);break;case 1:m.z_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(E){const P=qh(E,`Initialization of query '${ya(t.query)}' failed`);return void t.onError(P)}r.queries.set(u,m),m.j_.push(t),t.Z_(r.onlineState),m.z_&&t.X_(m.z_)&&Yh(r)})).apply(this,arguments)}function Xm(a,t){return qm.apply(this,arguments)}function qm(){return(qm=(0,Z.A)(function*(a,t){const r=Tn(a),o=t.query;let u=3;const m=r.queries.get(o);if(m){const E=m.j_.indexOf(t);E>=0&&(m.j_.splice(E,1),0===m.j_.length?u=t.J_()?0:1:!m.H_()&&t.J_()&&(u=2))}switch(u){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function Jw(a,t){const r=Tn(a);let o=!1;for(const u of t){const E=r.queries.get(u.query);if(E){for(const P of E.j_)P.X_(u)&&(o=!0);E.z_=u}}o&&Yh(r)}function Zw(a,t,r){const o=Tn(a),u=o.queries.get(t);if(u)for(const m of u.j_)m.onError(r);o.queries.delete(t)}function Yh(a){a.Y_.forEach(t=>{t.next()})}var Qm,cg;(cg=Qm||(Qm={})).ea="default",cg.Cache="cache";class qf{constructor(t,r,o){this.query=t,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(t){if(!this.options.includeMetadataChanges){const o=[];for(const u of t.docChanges)3!==u.type&&o.push(u);t=new Qh(t.query,t.docs,t.oldDocs,o,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.na?this.ia(t)&&(this.ta.next(t),r=!0):this.sa(t,this.onlineState)&&(this.oa(t),r=!0),this.ra=t,r}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),r=!0),r}sa(t,r){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===r)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=Qh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Qm.Cache}}class Jh{constructor(t,r){this.aa=t,this.byteLength=r}ua(){return"metadata"in this.aa}}class Qf{constructor(t){this.serializer=t}Es(t){return Co(this.serializer,t)}ds(t){return t.metadata.exists?Ru(this.serializer,t.document,!1):Oi.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return tn(t)}}class Ym{constructor(t,r,o){this.ca=t,this.localStore=r,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Zh(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let r=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++r;const o=Jn.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(t){const r=new Map,o=new Qf(this.serializer);for(const u of t)if(u.metadata.queries){const m=o.Es(u.metadata.name);for(const E of u.metadata.queries){const P=(r.get(E)||Yr()).add(m);r.set(E,P)}}return r}complete(){var t=this;return(0,Z.A)(function*(){const r=yield function mt(a,t,r,o){return Ut.apply(this,arguments)}(t.localStore,new Qf(t.serializer),t.documents,t.ca.id),o=t.ha(t.documents);for(const u of t.queries)yield vn(t.localStore,u,o.get(u.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:r}})()}}function Zh(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class Yf{constructor(t){this.key=t}}class yh{constructor(t){this.key=t}}class ug{constructor(t,r){this.query=t,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Yr(),this.mutatedKeys=Yr(),this.Aa=zc(t),this.Ra=new $l(this.Aa)}get Va(){return this.Ta}ma(t,r){const o=r?r.fa:new Xf,u=r?r.Ra:this.Ra;let m=r?r.mutatedKeys:this.mutatedKeys,E=u,P=!1;const k="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,q="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((ge,Be)=>{const Et=u.get(ge),nn=Ja(this.query,Be)?Be:null,wn=!!Et&&this.mutatedKeys.has(Et.key),jn=!!nn&&(nn.hasLocalMutations||this.mutatedKeys.has(nn.key)&&nn.hasCommittedMutations);let Vn=!1;Et&&nn?Et.data.isEqual(nn.data)?wn!==jn&&(o.track({type:3,doc:nn}),Vn=!0):this.ga(Et,nn)||(o.track({type:2,doc:nn}),Vn=!0,(k&&this.Aa(nn,k)>0||q&&this.Aa(nn,q)<0)&&(P=!0)):!Et&&nn?(o.track({type:0,doc:nn}),Vn=!0):Et&&!nn&&(o.track({type:1,doc:Et}),Vn=!0,(k||q)&&(P=!0)),Vn&&(nn?(E=E.add(nn),m=jn?m.add(ge):m.delete(ge)):(E=E.delete(ge),m=m.delete(ge)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const ge="F"===this.query.limitType?E.last():E.first();E=E.delete(ge.key),m=m.delete(ge.key),o.track({type:1,doc:ge})}return{Ra:E,fa:o,ns:P,mutatedKeys:m}}ga(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,o,u){const m=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const E=t.fa.G_();E.sort((ge,Be)=>function(nn,wn){const jn=Vn=>{switch(Vn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mn()}};return jn(nn)-jn(wn)}(ge.type,Be.type)||this.Aa(ge.doc,Be.doc)),this.pa(o),u=null!=u&&u;const P=r&&!u?this.ya():[],k=0===this.da.size&&this.current&&!u?1:0,q=k!==this.Ea;return this.Ea=k,0!==E.length||q?{snapshot:new Qh(this.query,t.Ra,m,E,t.mutatedKeys,0===k,q,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:P}:{wa:P}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Xf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Yr(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const r=[];return t.forEach(o=>{this.da.has(o)||r.push(new yh(o))}),this.da.forEach(o=>{t.has(o)||r.push(new Yf(o))}),r}ba(t){this.Ta=t.Ts,this.da=Yr();const r=this.ma(t.documents);return this.applyChanges(r,!0)}Da(){return Qh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class dg{constructor(t,r,o){this.query=t,this.targetId=r,this.view=o}}class Jf{constructor(t){this.key=t,this.va=!1}}class Jm{constructor(t,r,o,u,m,E){this.localStore=t,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=m,this.maxConcurrentLimboResolutions=E,this.Ca={},this.Fa=new hs(P=>ia(P),os),this.Ma=new Map,this.xa=new Set,this.Oa=new Ni(Fn.comparator),this.Na=new Map,this.La=new Wu,this.Ba={},this.ka=new Map,this.qa=qs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function eb(a,t){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,Z.A)(function*(a,t,r=!0){const o=Eg(a);let u;const m=o.Fa.get(t);return m?(o.sharedClientState.addLocalQueryTarget(m.targetId),u=m.view.Da()):u=yield ev(o,t,r,!0),u})).apply(this,arguments)}function ep(a,t){return Zm.apply(this,arguments)}function Zm(){return(Zm=(0,Z.A)(function*(a,t){const r=Eg(a);yield ev(r,t,!0,!1)})).apply(this,arguments)}function ev(a,t,r,o){return tv.apply(this,arguments)}function tv(){return(tv=(0,Z.A)(function*(a,t,r,o){const u=yield fu(a.localStore,$i(t)),m=u.targetId,E=a.sharedClientState.addLocalQueryTarget(m,r);let P;return o&&(P=yield nv(a,t,m,"current"===E,u.resumeToken)),a.isPrimaryClient&&r&&V(a.remoteStore,u),P})).apply(this,arguments)}function nv(a,t,r,o,u){return tp.apply(this,arguments)}function tp(){return tp=(0,Z.A)(function*(a,t,r,o,u){a.Ka=(Be,Et,nn)=>{return(wn=(0,Z.A)(function*(Vn,Sr,jr,Cr){let ti=Sr.view.ma(jr);ti.ns&&(ti=yield v(Vn.localStore,Sr.query,!1).then(({documents:pt})=>Sr.view.ma(pt,ti)));const zi=Cr&&Cr.targetChanges.get(Sr.targetId),Ri=Cr&&null!=Cr.targetMismatches.get(Sr.targetId),Ft=Sr.view.applyChanges(ti,Vn.isPrimaryClient,zi,Ri);return pg(Vn,Sr.targetId,Ft.wa),Ft.snapshot}),function jn(Vn,Sr,jr,Cr){return wn.apply(this,arguments)})(a,Be,Et,nn);var wn};const m=yield v(a.localStore,t,!0),E=new ug(t,m.Ts),P=E.ma(m.documents),k=Wo.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==a.onlineState,u),q=E.applyChanges(P,a.isPrimaryClient,k);pg(a,r,q.wa);const ge=new dg(t,r,E);return a.Fa.set(t,ge),a.Ma.has(r)?a.Ma.get(r).push(t):a.Ma.set(r,[t]),q.snapshot}),tp.apply(this,arguments)}function ly(a,t,r){return rv.apply(this,arguments)}function rv(){return(rv=(0,Z.A)(function*(a,t,r){const o=Tn(a),u=o.Fa.get(t),m=o.Ma.get(u.targetId);if(m.length>1)return o.Ma.set(u.targetId,m.filter(E=>!os(E,t))),void o.Fa.delete(t);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield T(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),r&&X(o.remoteStore,u.targetId),Ih(o,u.targetId)}).catch($n))):(Ih(o,u.targetId),yield T(o.localStore,u.targetId,!0))})).apply(this,arguments)}function NI(a,t){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,Z.A)(function*(a,t){const r=Tn(a),o=r.Fa.get(t),u=r.Ma.get(o.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),X(r.remoteStore,o.targetId))})).apply(this,arguments)}function np(){return(np=(0,Z.A)(function*(a,t,r){const o=vy(a);try{const u=yield function(E,P){const k=Tn(E),q=Ai.now(),ge=P.reduce((nn,wn)=>nn.add(wn.key),Yr());let Be,Et;return k.persistence.runTransaction("Locally write mutations","readwrite",nn=>{let wn=fs(),jn=Yr();return k.cs.getEntries(nn,ge).next(Vn=>{wn=Vn,wn.forEach((Sr,jr)=>{jr.isValidDocument()||(jn=jn.add(Sr))})}).next(()=>k.localDocuments.getOverlayedDocuments(nn,wn)).next(Vn=>{Be=Vn;const Sr=[];for(const jr of P){const Cr=qc(jr,Be.get(jr.key).overlayedDocument);null!=Cr&&Sr.push(new Hs(jr.key,Cr,va(Cr.value.mapValue),oi.exists(!0)))}return k.mutationQueue.addMutationBatch(nn,q,Sr,P)}).next(Vn=>{Et=Vn;const Sr=Vn.applyToLocalDocumentSet(Be,jn);return k.documentOverlayCache.saveOverlays(nn,Vn.batchId,Sr)})}).then(()=>({batchId:Et.batchId,changes:sa(Be)}))}(o.localStore,t);o.sharedClientState.addPendingMutation(u.batchId),function(E,P,k){let q=E.Ba[E.currentUser.toKey()];q||(q=new Ni(Wn)),q=q.insert(P,k),E.Ba[E.currentUser.toKey()]=q}(o,u.batchId,r),yield Bc(o,u.changes),yield _h(o.remoteStore)}catch(u){const m=qh(u,"Failed to persist write");r.reject(m)}})).apply(this,arguments)}function uy(a,t){return dy.apply(this,arguments)}function dy(){return(dy=(0,Z.A)(function*(a,t){const r=Tn(a);try{const o=yield function eg(a,t){const r=Tn(a),o=t.snapshotVersion;let u=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const E=r.cs.newChangeBuffer({trackRemovals:!0});u=r.os;const P=[];t.targetChanges.forEach((ge,Be)=>{const Et=u.get(Be);if(!Et)return;P.push(r.Ur.removeMatchingKeys(m,ge.removedDocuments,Be).next(()=>r.Ur.addMatchingKeys(m,ge.addedDocuments,Be)));let nn=Et.withSequenceNumber(m.currentSequenceNumber);var jn,Vn,Sr;null!==t.targetMismatches.get(Be)?nn=nn.withResumeToken(Zr.EMPTY_BYTE_STRING,_r.min()).withLastLimboFreeSnapshotVersion(_r.min()):ge.resumeToken.approximateByteSize()>0&&(nn=nn.withResumeToken(ge.resumeToken,o)),u=u.insert(Be,nn),Vn=nn,Sr=ge,(0===(jn=Et).resumeToken.approximateByteSize()||Vn.snapshotVersion.toMicroseconds()-jn.snapshotVersion.toMicroseconds()>=3e8||Sr.addedDocuments.size+Sr.modifiedDocuments.size+Sr.removedDocuments.size>0)&&P.push(r.Ur.updateTargetData(m,nn))});let k=fs(),q=Yr();if(t.documentUpdates.forEach(ge=>{t.resolvedLimboDocuments.has(ge)&&P.push(r.persistence.referenceDelegate.updateLimboDocument(m,ge))}),P.push(Xu(m,E,t.documentUpdates).next(ge=>{k=ge.Ps,q=ge.Is})),!o.isEqual(_r.min())){const ge=r.Ur.getLastRemoteSnapshotVersion(m).next(Be=>r.Ur.setTargetsMetadata(m,m.currentSequenceNumber,o));P.push(ge)}return Qe.waitFor(P).next(()=>E.apply(m)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,k,q)).next(()=>k)}).then(m=>(r.os=u,m))}(r.localStore,t);t.targetChanges.forEach((u,m)=>{const E=r.Na.get(m);E&&(In(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?E.va=!0:u.modifiedDocuments.size>0?In(E.va):u.removedDocuments.size>0&&(In(E.va),E.va=!1))}),yield Bc(r,o,t)}catch(o){yield $n(o)}})).apply(this,arguments)}function OI(a,t,r){const o=Tn(a);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const u=[];o.Fa.forEach((m,E)=>{const P=E.view.Z_(t);P.snapshot&&u.push(P.snapshot)}),function(E,P){const k=Tn(E);k.onlineState=P;let q=!1;k.queries.forEach((ge,Be)=>{for(const Et of Be.j_)Et.Z_(P)&&(q=!0)}),q&&Yh(k)}(o.eventManager,t),u.length&&o.Ca.d_(u),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}function rp(a,t,r){return iv.apply(this,arguments)}function iv(){return(iv=(0,Z.A)(function*(a,t,r){const o=Tn(a);o.sharedClientState.updateQueryState(t,"rejected",r);const u=o.Na.get(t),m=u&&u.key;if(m){let E=new Ni(Fn.comparator);E=E.insert(m,Oi.newNoDocument(m,_r.min()));const P=Yr().add(m),k=new To(_r.min(),new Map,new Ni(Wn),E,P);yield uy(o,k),o.Oa=o.Oa.remove(m),o.Na.delete(t),gg(o)}else yield T(o.localStore,t,!1).then(()=>Ih(o,t,r)).catch($n)})).apply(this,arguments)}function hg(a,t){return ip.apply(this,arguments)}function ip(){return(ip=(0,Z.A)(function*(a,t){const r=Tn(a),o=t.batch.batchId;try{const u=yield function Gh(a,t){const r=Tn(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=t.batch.keys(),m=r.cs.newChangeBuffer({trackRemovals:!0});return function(P,k,q,ge){const Be=q.batch,Et=Be.keys();let nn=Qe.resolve();return Et.forEach(wn=>{nn=nn.next(()=>ge.getEntry(k,wn)).next(jn=>{const Vn=q.docVersions.get(wn);In(null!==Vn),jn.version.compareTo(Vn)<0&&(Be.applyToRemoteDocument(jn,q),jn.isValidDocument()&&(jn.setReadTime(q.commitVersion),ge.addEntry(jn)))})}),nn.next(()=>P.mutationQueue.removeMutationBatch(k,Be))}(r,o,t,m).next(()=>m.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,u,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(P){let k=Yr();for(let q=0;q<P.mutationResults.length;++q)P.mutationResults[q].transformResults.length>0&&(k=k.add(P.batch.mutations[q].key));return k}(t))).next(()=>r.localDocuments.getDocuments(o,u))})}(r.localStore,t);Zu(r,o,null),fg(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield Bc(r,u)}catch(u){yield $n(u)}})).apply(this,arguments)}function hy(a,t,r){return sv.apply(this,arguments)}function sv(){return(sv=(0,Z.A)(function*(a,t,r){const o=Tn(a);try{const u=yield function(E,P){const k=Tn(E);return k.persistence.runTransaction("Reject batch","readwrite-primary",q=>{let ge;return k.mutationQueue.lookupMutationBatch(q,P).next(Be=>(In(null!==Be),ge=Be.keys(),k.mutationQueue.removeMutationBatch(q,Be))).next(()=>k.mutationQueue.performConsistencyCheck(q)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(q,ge,P)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(q,ge)).next(()=>k.localDocuments.getDocuments(q,ge))})}(o.localStore,t);Zu(o,t,r),fg(o,t),o.sharedClientState.updateMutationState(t,"rejected",r),yield Bc(o,u)}catch(u){yield $n(u)}})).apply(this,arguments)}function sp(){return(sp=(0,Z.A)(function*(a,t){const r=Tn(a);cn(r.remoteStore)||St("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(E){const P=Tn(E);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>P.mutationQueue.getHighestUnacknowledgedBatchId(k))}(r.localStore);if(-1===o)return void t.resolve();const u=r.ka.get(o)||[];u.push(t),r.ka.set(o,u)}catch(o){const u=qh(o,"Initialization of waitForPendingWrites() operation failed");t.reject(u)}})).apply(this,arguments)}function fg(a,t){(a.ka.get(t)||[]).forEach(r=>{r.resolve()}),a.ka.delete(t)}function Zu(a,t,r){const o=Tn(a);let u=o.Ba[o.currentUser.toKey()];if(u){const m=u.get(t);m&&(r?m.reject(r):m.resolve(),u=u.remove(t)),o.Ba[o.currentUser.toKey()]=u}}function Ih(a,t,r=null){a.sharedClientState.removeLocalQueryTarget(t);for(const o of a.Ma.get(t))a.Fa.delete(o),r&&a.Ca.$a(o,r);a.Ma.delete(t),a.isPrimaryClient&&a.La.gr(t).forEach(o=>{a.La.containsKey(o)||op(a,o)})}function op(a,t){a.xa.delete(t.path.canonicalString());const r=a.Oa.get(t);null!==r&&(X(a.remoteStore,r),a.Oa=a.Oa.remove(t),a.Na.delete(r),gg(a))}function pg(a,t,r){for(const o of r)o instanceof Yf?(a.La.addReference(o.key,t),py(a,o)):o instanceof yh?(St("SyncEngine","Document no longer in limbo: "+o.key),a.La.removeReference(o.key,t),a.La.containsKey(o.key)||op(a,o.key)):Mn()}function py(a,t){const r=t.key,o=r.path.canonicalString();a.Oa.get(r)||a.xa.has(o)||(St("SyncEngine","New document in limbo: "+r),a.xa.add(o),gg(a))}function gg(a){for(;a.xa.size>0&&a.Oa.size<a.maxConcurrentLimboResolutions;){const t=a.xa.values().next().value;a.xa.delete(t);const r=new Fn(Jn.fromString(t)),o=a.qa.next();a.Na.set(o,new Jf(r)),a.Oa=a.Oa.insert(r,o),V(a.remoteStore,new nl($i(_a(r.path)),o,"TargetPurposeLimboResolution",Rs.oe))}}function Bc(a,t,r){return mg.apply(this,arguments)}function mg(){return mg=(0,Z.A)(function*(a,t,r){const o=Tn(a),u=[],m=[],E=[];var P;o.Fa.isEmpty()||(o.Fa.forEach((P,k)=>{E.push(o.Ka(k,t,r).then(q=>{var ge;if((q||r)&&o.isPrimaryClient){const Be=q?!q.fromCache:null===(ge=r?.targetChanges.get(k.targetId))||void 0===ge?void 0:ge.current;o.sharedClientState.updateQueryState(k.targetId,Be?"current":"not-current")}if(q){u.push(q);const Be=zu.Wi(k.targetId,q);m.push(Be)}}))}),yield Promise.all(E),o.Ca.d_(u),yield(P=(0,Z.A)(function*(q,ge){const Be=Tn(q);try{yield Be.persistence.runTransaction("notifyLocalViewChanges","readwrite",Et=>Qe.forEach(ge,nn=>Qe.forEach(nn.$i,wn=>Be.persistence.referenceDelegate.addReference(Et,nn.targetId,wn)).next(()=>Qe.forEach(nn.Ui,wn=>Be.persistence.referenceDelegate.removeReference(Et,nn.targetId,wn)))))}catch(Et){if(!ni(Et))throw Et;St("LocalStore","Failed to update sequence numbers: "+Et)}for(const Et of ge){const nn=Et.targetId;if(!Et.fromCache){const wn=Be.os.get(nn),Vn=wn.withLastLimboFreeSnapshotVersion(wn.snapshotVersion);Be.os=Be.os.insert(nn,Vn)}}}),function k(q,ge){return P.apply(this,arguments)})(o.localStore,m))}),mg.apply(this,arguments)}function vg(a,t){return ap.apply(this,arguments)}function ap(){return(ap=(0,Z.A)(function*(a,t){const r=Tn(a);if(!r.currentUser.isEqual(t)){St("SyncEngine","User change. New user:",t.toKey());const o=yield il(r.localStore,t);r.currentUser=t,(m=r).ka.forEach(P=>{P.forEach(k=>{k.reject(new Kt(Vt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.ka.clear(),r.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),yield Bc(r,o.hs)}var m})).apply(this,arguments)}function ef(a,t){const r=Tn(a),o=r.Na.get(t);if(o&&o.va)return Yr().add(o.key);{let u=Yr();const m=r.Ma.get(t);if(!m)return u;for(const E of m){const P=r.Fa.get(E);u=u.unionWith(P.view.Va)}return u}}function kI(a,t){return ov.apply(this,arguments)}function ov(){return(ov=(0,Z.A)(function*(a,t){const r=Tn(a),o=yield v(r.localStore,t.query,!0),u=t.view.ba(o);return r.isPrimaryClient&&pg(r,t.targetId,u.wa),u})).apply(this,arguments)}function tb(a,t){return tf.apply(this,arguments)}function tf(){return(tf=(0,Z.A)(function*(a,t){const r=Tn(a);return z(r.localStore,t).then(o=>Bc(r,o))})).apply(this,arguments)}function av(a,t,r,o){return _g.apply(this,arguments)}function _g(){return(_g=(0,Z.A)(function*(a,t,r,o){const u=Tn(a),m=yield function(P,k){const q=Tn(P),ge=Tn(q.mutationQueue);return q.persistence.runTransaction("Lookup mutation documents","readonly",Be=>ge.Mn(Be,k).next(Et=>Et?q.localDocuments.getDocuments(Be,Et):Qe.resolve(null)))}(u.localStore,t);var k;null!==m?("pending"===r?yield _h(u.remoteStore):"acknowledged"===r||"rejected"===r?(Zu(u,t,o||null),fg(u,t),k=t,Tn(Tn(u.localStore).mutationQueue).On(k)):Mn(),yield Bc(u,m)):St("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function yg(){return(yg=(0,Z.A)(function*(a,t){const r=Tn(a);if(Eg(r),vy(r),!0===t&&!0!==r.Qa){const o=r.sharedClientState.getAllActiveQueryTargets(),u=yield lv(r,o.toArray());r.Qa=!0,yield Gm(r.remoteStore,!0);for(const m of u)V(r.remoteStore,m)}else if(!1===t&&!1!==r.Qa){const o=[];let u=Promise.resolve();r.Ma.forEach((m,E)=>{r.sharedClientState.isLocalQueryTarget(E)?o.push(E):u=u.then(()=>(Ih(r,E),T(r.localStore,E,!0))),X(r.remoteStore,E)}),yield u,yield lv(r,o),function(E){const P=Tn(E);P.Na.forEach((k,q)=>{X(P.remoteStore,q)}),P.La.pr(),P.Na=new Map,P.Oa=new Ni(Fn.comparator)}(r),r.Qa=!1,yield Gm(r.remoteStore,!1)}})).apply(this,arguments)}function lv(a,t,r){return cv.apply(this,arguments)}function cv(){return(cv=(0,Z.A)(function*(a,t,r){const o=Tn(a),u=[],m=[];for(const E of t){let P;const k=o.Ma.get(E);if(k&&0!==k.length){P=yield fu(o.localStore,$i(k[0]));for(const q of k){const ge=o.Fa.get(q),Be=yield kI(o,ge);Be.snapshot&&m.push(Be.snapshot)}}else{const q=yield b(o.localStore,E);P=yield fu(o.localStore,q),yield nv(o,my(q),E,!1,P.resumeToken)}u.push(P)}return o.Ca.d_(m),u})).apply(this,arguments)}function my(a){return oo(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function LI(a){return r=Tn(a).localStore,Tn(Tn(r).persistence).Qi();var r}function FI(a,t,r,o){return uv.apply(this,arguments)}function uv(){return(uv=(0,Z.A)(function*(a,t,r,o){const u=Tn(a);if(u.Qa)return void St("SyncEngine","Ignoring unexpected query state notification.");const m=u.Ma.get(t);if(m&&m.length>0)switch(r){case"current":case"not-current":{const E=yield z(u.localStore,Es(m[0])),P=To.createSynthesizedRemoteEventForCurrentChange(t,"current"===r,Zr.EMPTY_BYTE_STRING);yield Bc(u,E,P);break}case"rejected":yield T(u.localStore,t,!0),Ih(u,t,o);break;default:Mn()}})).apply(this,arguments)}function Fd(a,t,r){return Th.apply(this,arguments)}function Th(){return(Th=(0,Z.A)(function*(a,t,r){const o=Eg(a);if(o.Qa){for(const u of t){if(o.Ma.has(u)&&o.sharedClientState.isActiveQueryTarget(u)){St("SyncEngine","Adding an already active target "+u);continue}const m=yield b(o.localStore,u),E=yield fu(o.localStore,m);yield nv(o,my(m),E.targetId,!1,E.resumeToken),V(o.remoteStore,E)}for(const u of r)o.Ma.has(u)&&(yield T(o.localStore,u,!1).then(()=>{X(o.remoteStore,u),Ih(o,u)}).catch($n))}})).apply(this,arguments)}function Eg(a){const t=Tn(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=uy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ef.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rp.bind(null,t),t.Ca.d_=Jw.bind(null,t.eventManager),t.Ca.$a=Zw.bind(null,t.eventManager),t}function vy(a){const t=Tn(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hy.bind(null,t),t}let lp=(()=>{class a{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var o=this;return(0,Z.A)(function*(){o.serializer=kd(r.databaseInfo.databaseId),o.sharedClientState=o.Wa(r),o.persistence=o.Ga(r),yield o.persistence.start(),o.localStore=o.za(r),o.gcScheduler=o.ja(r,o.localStore),o.indexBackfillerScheduler=o.Ha(r,o.localStore)})()}ja(r,o){return null}Ha(r,o){return null}za(r){return Gu(this.persistence,new uc,r.initialUser,this.serializer)}Ga(r){return new uu(Qs.Zr,this.serializer)}Wa(r){return new Od}terminate(){var r=this;return(0,Z.A)(function*(){var o,u;null===(o=r.gcScheduler)||void 0===o||o.stop(),null===(u=r.indexBackfillerScheduler)||void 0===u||u.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return a.provider={build:()=>new a},a})();class _y extends lp{constructor(t,r,o){super(),this.Ja=t,this.cacheSizeBytes=r,this.forceOwnership=o,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var r=()=>super.initialize,o=this;return(0,Z.A)(function*(){yield r().call(o,t),yield o.Ja.initialize(o,t),yield vy(o.Ja.syncEngine),yield _h(o.Ja.remoteStore),yield o.persistence.yi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return Gu(this.persistence,new uc,t.initialUser,this.serializer)}ja(t,r){return new ah(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,r)}Ha(t,r){const o=new Zs(r,this.persistence);return new zs(t.asyncQueue,o)}Ga(t){const r=Ys(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ao.withCacheSize(this.cacheSizeBytes):ao.DEFAULT;return new zh(this.synchronizeTabs,r,t.clientId,o,t.asyncQueue,tg(),Qu(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new Od}}class dv extends _y{constructor(t,r){super(t,r,!1),this.Ja=t,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(t){var r=()=>super.initialize,o=this;return(0,Z.A)(function*(){yield r().call(o,t);const u=o.Ja.syncEngine;o.sharedClientState instanceof Nd&&(o.sharedClientState.syncEngine={no:av.bind(null,u),ro:FI.bind(null,u),io:Fd.bind(null,u),Qi:LI.bind(null,u),eo:tb.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.yi(function(){var m=(0,Z.A)(function*(E){yield function gy(a,t){return yg.apply(this,arguments)}(o.Ja.syncEngine,E),o.gcScheduler&&(E&&!o.gcScheduler.started?o.gcScheduler.start():E||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(E&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():E||o.indexBackfillerScheduler.stop())});return function(E){return m.apply(this,arguments)}}())})()}Wa(t){const r=tg();if(!Nd.D(r))throw new Kt(Vt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Ys(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Nd(r,t.asyncQueue,o,t.clientId,t.initialUser)}}let nf=(()=>{class a{initialize(r,o){var u=this;return(0,Z.A)(function*(){u.localStore||(u.localStore=r.localStore,u.sharedClientState=r.sharedClientState,u.datastore=u.createDatastore(o),u.remoteStore=u.createRemoteStore(o),u.eventManager=u.createEventManager(o),u.syncEngine=u.createSyncEngine(o,!r.synchronizeTabs),u.sharedClientState.onlineStateHandler=m=>OI(u.syncEngine,m,1),u.remoteStore.remoteSyncer.handleCredentialChange=vg.bind(null,u.syncEngine),yield Gm(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(r){return new lg}createDatastore(r){const o=kd(r.databaseInfo.databaseId),u=new vh(r.databaseInfo);return new rg(r.authCredentials,r.appCheckCredentials,u,o)}createRemoteStore(r){return u=this.localStore,m=this.datastore,E=r.asyncQueue,P=o=>OI(this.syncEngine,o,0),k=gh.D()?new gh:new Wf,new p(u,m,E,P,k);var u,m,E,P,k}createSyncEngine(r,o){return function(m,E,P,k,q,ge,Be){const Et=new Jm(m,E,P,k,q,ge);return Be&&(Et.Qa=!0),Et}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,o)}terminate(){var r=this;return(0,Z.A)(function*(){var o,u,m;yield(m=(0,Z.A)(function*(P){const k=Tn(P);St("RemoteStore","RemoteStore shutting down."),k.L_.add(5),yield _(k),k.k_.shutdown(),k.q_.set("Unknown")}),function E(P){return m.apply(this,arguments)})(r.remoteStore),null===(o=r.datastore)||void 0===o||o.terminate(),null===(u=r.eventManager)||void 0===u||u.terminate()})()}}return a.provider={build:()=>new a},a})();function yy(a,t=10240){let r=0;return{read:()=>(0,Z.A)(function*(){if(r<a.byteLength){const o={value:a.slice(r,r+t),done:!1};return r+=t,o}return{done:!0}})(),cancel:()=>(0,Z.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ig{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Gn("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,r){setTimeout(()=>{this.muted||t(r)},0)}}class VI{constructor(t,r){this.Xa=t,this.serializer=r,this.metadata=new xr,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(o=>{o&&o.ua()?this.metadata.resolve(o.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.aa)}`))},o=>this.metadata.reject(o))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,Z.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,Z.A)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,Z.A)(function*(){const r=yield t.nu();if(null===r)return null;const o=t.eu.decode(r),u=Number(o);isNaN(u)&&t.ru(`length string (${o}) is not valid number`);const m=yield t.iu(u);return new Jh(JSON.parse(m),r.length+u)})()}su(){return this.buffer.findIndex(t=>123===t)}nu(){var t=this;return(0,Z.A)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const r=t.su();r<0&&t.ru("Reached the end of bundle when a length string is expected.");const o=t.buffer.slice(0,r);return t.buffer=t.buffer.slice(r),o})()}iu(t){var r=this;return(0,Z.A)(function*(){for(;r.buffer.length<t;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const o=r.eu.decode(r.buffer.slice(0,t));return r.buffer=r.buffer.slice(t),o})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,Z.A)(function*(){const r=yield t.Xa.read();if(!r.done){const o=new Uint8Array(t.buffer.length+r.value.length);o.set(t.buffer),o.set(r.value,t.buffer.length),t.buffer=o}return r.done})()}}class hv{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var r=this;return(0,Z.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new Kt(Vt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const o=yield(u=(0,Z.A)(function*(E,P){const k=Tn(E),q={documents:P.map(nn=>Si(k.serializer,nn))},ge=yield k.Lo("BatchGetDocuments",k.serializer.databaseId,Jn.emptyPath(),q,P.length),Be=new Map;ge.forEach(nn=>{const wn=function Vf(a,t){return"found"in t?function(o,u){In(!!u.found);const m=Co(o,u.found.name),E=tn(u.found.updateTime),P=u.found.createTime?tn(u.found.createTime):_r.min(),k=new ds({mapValue:{fields:u.found.fields}});return Oi.newFoundDocument(m,E,P,k)}(a,t):"missing"in t?function(o,u){In(!!u.missing),In(!!u.readTime);const m=Co(o,u.missing),E=tn(u.readTime);return Oi.newNoDocument(m,E)}(a,t):Mn()}(k.serializer,nn);Be.set(wn.key.toString(),wn)});const Et=[];return P.forEach(nn=>{const wn=Be.get(nn.toString());In(!!wn),Et.push(wn)}),Et}),function m(E,P){return u.apply(this,arguments)})(r.datastore,t);var u;return o.forEach(u=>r.recordVersion(u)),o})()}set(t,r){this.write(r.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,r){try{this.write(r.toMutation(t,this.preconditionForUpdate(t)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(t.toString())}delete(t){this.write(new Va(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Z.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const r=t.readVersions;var o;t.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,u)=>{const m=Fn.fromPath(u);t.mutations.push(new Ia(m,t.precondition(m)))}),yield(o=(0,Z.A)(function*(m,E){const P=Tn(m),k={writes:E.map(q=>Sl(P.serializer,q))};yield P.Mo("Commit",P.serializer.databaseId,Jn.emptyPath(),k)}),function u(m,E){return o.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let r;if(t.isFoundDocument())r=t.version;else{if(!t.isNoDocument())throw Mn();r=_r.min()}const o=this.readVersions.get(t.key.toString());if(o){if(!r.isEqual(o))throw new Kt(Vt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),r)}precondition(t){const r=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&r?r.isEqual(_r.min())?oi.exists(!1):oi.updateTime(r):oi.none()}preconditionForUpdate(t){const r=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&r){if(r.isEqual(_r.min()))throw new Kt(Vt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return oi.updateTime(r)}return oi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class ed{constructor(t,r,o,u,m){this.asyncQueue=t,this.datastore=r,this.options=o,this.updateFunction=u,this.deferred=m,this._u=o.maxAttempts,this.t_=new pu(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,Z.A)(function*(){const r=new hv(t.datastore),o=t.cu(r);o&&o.then(u=>{t.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{t.deferred.resolve(u)}).catch(m=>{t.lu(m)}))}).catch(u=>{t.lu(u)})}))}cu(t){try{const r=this.updateFunction(t);return!Jo(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const r=t.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Lh(r)}return!1}}class cp{constructor(t,r,o,u,m){var E=this;this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=Oe.UNAUTHENTICATED,this.clientId=Ei.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=m,this.authCredentials.start(o,function(){var P=(0,Z.A)(function*(k){St("FirestoreClient","Received user=",k.uid),yield E.authCredentialListener(k),E.user=k});return function(k){return P.apply(this,arguments)}}()),this.appCheckCredentials.start(o,P=>(St("FirestoreClient","Received new app check token=",P),this.appCheckCredentialListener(P,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const r=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Z.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),r.resolve()}catch(o){const u=qh(o,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function Tg(a,t){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,Z.A)(function*(a,t){a.asyncQueue.verifyOperationInProgress(),St("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield t.initialize(r);let o=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,Z.A)(function*(m){o.isEqual(m)||(yield il(t.localStore,m),o=m)});return function(m){return u.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}),Cg.apply(this,arguments)}function fv(a,t){return Ey.apply(this,arguments)}function Ey(){return(Ey=(0,Z.A)(function*(a,t){a.asyncQueue.verifyOperationInProgress();const r=yield Iy(a);St("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(r,a.configuration),a.setCredentialChangeListener(o=>Wm(t.remoteStore,o)),a.setAppCheckTokenChangeListener((o,u)=>Wm(t.remoteStore,u)),a._onlineComponents=t})).apply(this,arguments)}function Iy(a){return Ty.apply(this,arguments)}function Ty(){return(Ty=(0,Z.A)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){St("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Tg(a,a._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(u=t).name?u.code===Vt.FAILED_PRECONDITION||u.code===Vt.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw t;Hn("Error using user provided cache. Falling back to memory cache: "+t),yield Tg(a,new lp)}}else St("FirestoreClient","Using default OfflineComponentProvider"),yield Tg(a,new lp);var u;return a._offlineComponents})).apply(this,arguments)}function rf(a){return up.apply(this,arguments)}function up(){return(up=(0,Z.A)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(St("FirestoreClient","Using user provided OnlineComponentProvider"),yield fv(a,a._uninitializedComponentsProvider._online)):(St("FirestoreClient","Using default OnlineComponentProvider"),yield fv(a,new nf))),a._onlineComponents})).apply(this,arguments)}function UI(a){return Iy(a).then(t=>t.persistence)}function dp(a){return Iy(a).then(t=>t.localStore)}function pv(a){return rf(a).then(t=>t.remoteStore)}function gv(a){return rf(a).then(t=>t.syncEngine)}function sf(a){return mv.apply(this,arguments)}function mv(){return(mv=(0,Z.A)(function*(a){const t=yield rf(a),r=t.eventManager;return r.onListen=eb.bind(null,t.syncEngine),r.onUnlisten=ly.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=ep.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=NI.bind(null,t.syncEngine),r})).apply(this,arguments)}function Ay(a,t,r={}){const o=new xr;return a.asyncQueue.enqueueAndForget((0,Z.A)(function*(){return function(m,E,P,k,q){const ge=new Ig({next:Et=>{ge.Za(),E.enqueueAndForget(()=>Xm(m,Be));const nn=Et.docs.has(P);!nn&&Et.fromCache?q.reject(new Kt(Vt.UNAVAILABLE,"Failed to get document because the client is offline.")):nn&&Et.fromCache&&k&&"server"===k.source?q.reject(new Kt(Vt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):q.resolve(Et)},error:Et=>q.reject(Et)}),Be=new qf(_a(P.path),ge,{includeMetadataChanges:!0,_a:!0});return ay(m,Be)}(yield sf(a),a.asyncQueue,t,r,o)})),o.promise}function vv(a,t,r={}){const o=new xr;return a.asyncQueue.enqueueAndForget((0,Z.A)(function*(){return function(m,E,P,k,q){const ge=new Ig({next:Et=>{ge.Za(),E.enqueueAndForget(()=>Xm(m,Be)),Et.fromCache&&"server"===k.source?q.reject(new Kt(Vt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):q.resolve(Et)},error:Et=>q.reject(Et)}),Be=new qf(P,ge,{includeMetadataChanges:!0,_a:!0});return ay(m,Be)}(yield sf(a),a.asyncQueue,t,r,o)})),o.promise}function yv(a){const t={};return void 0!==a.timeoutSeconds&&(t.timeoutSeconds=a.timeoutSeconds),t}const Ev=new Map;function Iv(a,t,r){if(!r)throw new Kt(Vt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function Dy(a,t,r,o){if(!0===t&&!0===o)throw new Kt(Vt.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function Sy(a){if(!Fn.isDocumentKey(a))throw new Kt(Vt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Ry(a){if(Fn.isDocumentKey(a))throw new Kt(Vt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function hp(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const t=(o=a).constructor?o.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var o;return"function"==typeof a?"a function":Mn()}function Wi(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new Kt(Vt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=hp(a);throw new Kt(Vt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return a}function GI(a,t){if(t<=0)throw new Kt(Vt.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${t}.`)}class lf{constructor(t){var r,o;if(void 0===t.host){if(void 0!==t.ssl)throw new Kt(Vt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(r=t.ssl)||void 0===r||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Kt(Vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Dy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=yv(null!==(o=t.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(m){if(void 0!==m.timeoutSeconds){if(isNaN(m.timeoutSeconds))throw new Kt(Vt.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new Kt(Vt.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new Kt(Vt.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fp{constructor(t,r,o,u){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Kt(Vt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Kt(Vt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lf(t),void 0!==t.credentials&&(this._authCredentials=function(o){if(!o)return new de;switch(o.type){case"firstParty":return new bn(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Kt(Vt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,Z.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=Ev.get(r);o&&(St("ComponentProvider","Removing Datastore"),Ev.delete(r),o.terminate())}(this),Promise.resolve()}}class ba{constructor(t,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new ba(this.firestore,t,this._query)}}class Fs{constructor(t,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fs(this.firestore,t,this._key)}}class gu extends ba{constructor(t,r,o){super(t,r,_a(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fs(this.firestore,null,new Fn(t))}withConverter(t){return new gu(this.firestore,t,this._path)}}function My(a,t,...r){if(a=(0,wr.Ku)(a),Iv("collection","path",t),a instanceof fp){const o=Jn.fromString(t,...r);return Ry(o),new gu(a,null,o)}{if(!(a instanceof Fs||a instanceof gu))throw new Kt(Vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(Jn.fromString(t,...r));return Ry(o),new gu(a.firestore,null,o)}}function bg(a,t,...r){if(a=(0,wr.Ku)(a),1===arguments.length&&(t=Ei.newId()),Iv("doc","path",t),a instanceof fp){const o=Jn.fromString(t,...r);return Sy(o),new Fs(a,null,new Fn(o))}{if(!(a instanceof Fs||a instanceof gu))throw new Kt(Vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(Jn.fromString(t,...r));return Sy(o),new Fs(a.firestore,a instanceof gu?a.converter:null,new Fn(o))}}function xy(a,t){return a=(0,wr.Ku)(a),t=(0,wr.Ku)(t),(a instanceof Fs||a instanceof gu)&&(t instanceof Fs||t instanceof gu)&&a.firestore===t.firestore&&a.path===t.path&&a.converter===t.converter}function Tv(a,t){return a=(0,wr.Ku)(a),t=(0,wr.Ku)(t),a instanceof ba&&t instanceof ba&&a.firestore===t.firestore&&os(a._query,t._query)&&a.converter===t.converter}class Ag{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new pu(this,"async_queue_retry"),this.Vu=()=>{const o=Qu();o&&St("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=t;const r=Qu();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const r=Qu();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new xr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,Z.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(r){if(!ni(r))throw r;St("AsyncQueue","Operation failed with retryable error: "+r)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const r=this.mu.then(()=>(this.du=!0,t().catch(o=>{throw this.Eu=o,this.du=!1,Gn("INTERNAL UNHANDLED ERROR: ",function(E){let P=E.message||"";return E.stack&&(P=E.stack.includes(E.message)?E.stack:E.message+"\n"+E.stack),P}(o)),o}).then(o=>(this.du=!1,o))));return this.mu=r,r}enqueueAfterDelay(t,r,o){this.fu(),this.Ru.indexOf(t)>-1&&(r=0);const u=Kf.createAndSchedule(this,t,r,o,m=>this.yu(m));return this.Tu.push(u),u}fu(){this.Eu&&Mn()}verifyOperationInProgress(){}wu(){var t=this;return(0,Z.A)(function*(){let r;do{r=t.mu,yield r}while(r!==t.mu)})()}Su(t){for(const r of this.Tu)if(r.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==t&&r.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const r=this.Tu.indexOf(t);this.Tu.splice(r,1)}}function Ny(a){return function(r){if("object"!=typeof r||null===r)return!1;const u=r;for(const m of["next","error","complete"])if(m in u&&"function"==typeof u[m])return!0;return!1}(a)}class ib{constructor(){this._progressObserver={},this._taskCompletionResolver=new xr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,r,o){this._progressObserver={next:t,error:r,complete:o}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,r){return this._taskCompletionResolver.promise.then(t,r)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Vs extends fp{constructor(t,r,o,u){super(t,r,o,u),this.type="firestore",this._queue=new Ag,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var t=this;return(0,Z.A)(function*(){if(t._firestoreClient){const r=t._firestoreClient.terminate();t._queue=new Ag(r),t._firestoreClient=void 0,yield r}})()}}function co(a){if(a._terminated)throw new Kt(Vt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||XI(a),a._firestoreClient}function XI(a){var t,r,o;const u=a._freezeSettings(),m=(k=(null===(t=a._app)||void 0===t?void 0:t.options.appId)||"",new _s(a._databaseId,k,a._persistenceKey,(ge=u).host,ge.ssl,ge.experimentalForceLongPolling,ge.experimentalAutoDetectLongPolling,yv(ge.experimentalLongPollingOptions),ge.useFetchStreams));var k,ge;a._componentsProvider||!(null===(r=u.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(o=u.localCache)||void 0===o)&&o._onlineComponentProvider&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new cp(a._authCredentials,a._appCheckCredentials,a._queue,m,a._componentsProvider&&function(P){const k=P?._online.build();return{_offline:P?._offline.build(k),_online:k}}(a._componentsProvider))}function cf(){return(cf=(0,Z.A)(function*(a){Hn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=a._freezeSettings();wv(a,nf.provider,{build:r=>new dv(r,t.cacheSizeBytes)})})).apply(this,arguments)}function wv(a,t,r){if((a=Wi(a,Vs))._firestoreClient||a._terminated)throw new Kt(Vt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(a._componentsProvider||a._getSettings().localCache)throw new Kt(Vt.FAILED_PRECONDITION,"SDK cache is already specified.");a._componentsProvider={_online:t,_offline:r},XI(a)}class td{constructor(t){this._byteString=t}static fromBase64String(t){try{return new td(Zr.fromBase64String(t))}catch(r){throw new Kt(Vt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new td(Zr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class nd{constructor(...t){for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Kt(Vt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ii(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class df{constructor(t){this._methodName=t}}class pp{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Kt(Vt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Kt(Vt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Wn(this._lat,t._lat)||Wn(this._long,t._long)}}class gp{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(o,u){if(o.length!==u.length)return!1;for(let m=0;m<o.length;++m)if(o[m]!==u[m])return!1;return!0}(this._values,t._values)}}const sb=/^__.*__$/;class Sg{constructor(t,r,o){this.data=t,this.fieldMask=r,this.fieldTransforms=o}toMutation(t,r){return null!==this.fieldMask?new Hs(t,this.data,this.fieldMask,r,this.fieldTransforms):new yc(t,this.data,r,this.fieldTransforms)}}class Rg{constructor(t,r,o){this.data=t,this.fieldMask=r,this.fieldTransforms=o}toMutation(t,r){return new Hs(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function Pg(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mn()}}class Mg{constructor(t,r,o,u,m,E){this.settings=t,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===m&&this.vu(),this.fieldTransforms=m||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Mg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(t),u=this.Fu({path:o,xu:!1});return u.Ou(t),u}Nu(t){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(t),u=this.Fu({path:o,xu:!1});return u.vu(),u}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return mu(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(r=>t.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>t.isPrefixOf(r.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(Pg(this.Cu)&&sb.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class hf{constructor(t,r,o){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=o||kd(t)}Qu(t,r,o,u=!1){return new Mg({Cu:t,methodName:r,qu:o,path:Ii.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rd(a){const t=a._freezeSettings(),r=kd(a._databaseId);return new hf(a._databaseId,!!t.ignoreUndefinedProperties,r)}function mp(a,t,r,o,u,m={}){const E=a.Qu(m.merge||m.mergeFields?2:0,t,r,u);Rv("Data must be an object, but it was:",E,o);const P=_p(o,E);let k,q;if(m.merge)k=new Ps(E.fieldMask),q=E.fieldTransforms;else if(m.mergeFields){const ge=[];for(const Be of m.mergeFields){const Et=yp(t,Be,r);if(!E.contains(Et))throw new Kt(Vt.INVALID_ARGUMENT,`Field '${Et}' is specified in your field mask but missing from your input data.`);Mv(ge,Et)||ge.push(Et)}k=new Ps(ge),q=E.fieldTransforms.filter(Be=>k.covers(Be.field))}else k=null,q=E.fieldTransforms;return new Sg(new ds(P),k,q)}class Ch extends df{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ch}}function vp(a,t,r){return new Mg({Cu:3,qu:t.settings.qu,methodName:a._methodName,xu:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class bv extends df{_toFieldTransform(t){return new Jr(t.path,new F)}isEqual(t){return t instanceof bv}}class Av extends df{constructor(t,r){super(t),this.Ku=r}_toFieldTransform(t){const r=vp(this,t,!0),o=this.Ku.map(m=>$c(m,r)),u=new te(o);return new Jr(t.path,u)}isEqual(t){return t instanceof Av&&(0,wr.bD)(this.Ku,t.Ku)}}class xg extends df{constructor(t,r){super(t),this.Ku=r}_toFieldTransform(t){const r=vp(this,t,!0),o=this.Ku.map(m=>$c(m,r)),u=new Ye(o);return new Jr(t.path,u)}isEqual(t){return t instanceof xg&&(0,wr.bD)(this.Ku,t.Ku)}}class Dv extends df{constructor(t,r){super(t),this.$u=r}_toFieldTransform(t){const r=new Lt(t.serializer,ec(t.serializer,this.$u));return new Jr(t.path,r)}isEqual(t){return t instanceof Dv&&this.$u===t.$u}}function Sv(a,t,r,o){const u=a.Qu(1,t,r);Rv("Data must be an object, but it was:",u,o);const m=[],E=ds.empty();vo(o,(k,q)=>{const ge=Ep(t,k,r);q=(0,wr.Ku)(q);const Be=u.Nu(ge);if(q instanceof Ch)m.push(ge);else{const Et=$c(q,Be);null!=Et&&(m.push(ge),E.set(ge,Et))}});const P=new Ps(m);return new Rg(E,P,u.fieldTransforms)}function Ng(a,t,r,o,u,m){const E=a.Qu(1,t,r),P=[yp(t,o,r)],k=[u];if(m.length%2!=0)throw new Kt(Vt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Et=0;Et<m.length;Et+=2)P.push(yp(t,m[Et])),k.push(m[Et+1]);const q=[],ge=ds.empty();for(let Et=P.length-1;Et>=0;--Et)if(!Mv(q,P[Et])){const nn=P[Et];let wn=k[Et];wn=(0,wr.Ku)(wn);const jn=E.Nu(nn);if(wn instanceof Ch)q.push(nn);else{const Vn=$c(wn,jn);null!=Vn&&(q.push(nn),ge.set(nn,Vn))}}const Be=new Ps(q);return new Rg(ge,Be,E.fieldTransforms)}function Og(a,t,r,o=!1){return $c(r,a.Qu(o?4:3,t))}function $c(a,t){if(kg(a=(0,wr.Ku)(a)))return Rv("Unsupported field value:",t,a),_p(a,t);if(a instanceof df)return function(o,u){if(!Pg(u.Cu))throw u.Bu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${o._methodName}() is not currently supported inside arrays`);const m=o._toFieldTransform(u);m&&u.fieldTransforms.push(m)}(a,t),null;if(void 0===a&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(o,u){const m=[];let E=0;for(const P of o){let k=$c(P,u.Lu(E));null==k&&(k={nullValue:"NULL_VALUE"}),m.push(k),E++}return{arrayValue:{values:m}}}(a,t)}return function(o,u){if(null===(o=(0,wr.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return ec(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const m=Ai.fromDate(o);return{timestampValue:bc(u.serializer,m)}}if(o instanceof Ai){const m=new Ai(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:bc(u.serializer,m)}}if(o instanceof pp)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof td)return{bytesValue:yd(u.serializer,o._byteString)};if(o instanceof Fs){const m=u.databaseId,E=o.firestore._databaseId;if(!E.isEqual(m))throw u.Bu(`Document reference is for database ${E.projectId}/${E.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:ei(o.firestore._databaseId||u.databaseId,o._key.path)}}if(o instanceof gp)return P=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(k=>{if("number"!=typeof k)throw P.Bu("VectorValues must only contain numeric values.");return _d(P.serializer,k)})}}}}};var P;throw u.Bu(`Unsupported field value: ${hp(o)}`)}(a,t)}function _p(a,t){const r={};return mc(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vo(a,(o,u)=>{const m=$c(u,t.Mu(o));null!=m&&(r[o]=m)}),{mapValue:{fields:r}}}function kg(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Ai||a instanceof pp||a instanceof td||a instanceof Fs||a instanceof df||a instanceof gp)}function Rv(a,t,r){if(!kg(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=hp(r);throw t.Bu("an object"===o?a+" a custom object":a+" "+o)}var u}function yp(a,t,r){if((t=(0,wr.Ku)(t))instanceof nd)return t._internalPath;if("string"==typeof t)return Ep(a,t);throw mu("Field path arguments must be of type string or ",a,!1,void 0,r)}const Pv=new RegExp("[~\\*/\\[\\]]");function Ep(a,t,r){if(t.search(Pv)>=0)throw mu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new nd(...t.split("."))._internalPath}catch{throw mu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function mu(a,t,r,o,u){const m=o&&!o.isEmpty(),E=void 0!==u;let P=`Function ${t}() called with invalid data`;r&&(P+=" (via `toFirestore()`)"),P+=". ";let k="";return(m||E)&&(k+=" (found",m&&(k+=` in field ${o}`),E&&(k+=` in document ${u}`),k+=")"),new Kt(Vt.INVALID_ARGUMENT,P+a+k)}function Mv(a,t){return a.some(r=>r.isEqual(t))}class ff{constructor(t,r,o,u,m){this._firestore=t,this._userDataWriter=r,this._key=o,this._document=u,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Fs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new xv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Lg("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r)}}}class xv extends ff{data(){return super.data()}}function Lg(a,t){return"string"==typeof t?Ep(a,t):t instanceof nd?t._internalPath:t._delegate._internalPath}function Nv(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new Kt(Vt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fg{}class pf extends Fg{}function vu(a,t,...r){let o=[];t instanceof Fg&&o.push(t),o=o.concat(r),function(m){const E=m.filter(k=>k instanceof hc).length,P=m.filter(k=>k instanceof gf).length;if(E>1||E>0&&P>0)throw new Kt(Vt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)a=u._apply(a);return a}class gf extends pf{constructor(t,r,o){super(),this._field=t,this._op=r,this._value=o,this.type="where"}static _create(t,r,o){return new gf(t,r,o)}_apply(t){const r=this._parse(t);return bh(t._query,r),new ba(t.firestore,t.converter,gr(t._query,r))}_parse(t){const r=rd(t.firestore);return function(m,E,P,k,q,ge,Be){let Et;if(q.isKeyField()){if("array-contains"===ge||"array-contains-any"===ge)throw new Kt(Vt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ge}' queries on documentId().`);if("in"===ge||"not-in"===ge){kv(Be,ge);const nn=[];for(const wn of Be)nn.push(Ov(k,m,wn));Et={arrayValue:{values:nn}}}else Et=Ov(k,m,Be)}else"in"!==ge&&"not-in"!==ge&&"array-contains-any"!==ge||kv(Be,ge),Et=Og(P,"where",Be,"in"===ge||"not-in"===ge);return B.create(q,ge,Et)}(t._query,0,r,t.firestore._databaseId,this._field,this._op,this._value)}}class hc extends Fg{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new hc(t,r)}_parse(t){const r=this._queryConstraints.map(o=>o._parse(t)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:ne.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return 0===r.getFilters().length?t:(function(u,m){let E=u;const P=m.getFlattenedFilters();for(const k of P)bh(E,k),E=gr(E,k)}(t._query,r),new ba(t.firestore,t.converter,gr(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class wh extends pf{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new wh(t,r)}_apply(t){const r=function(u,m,E){if(null!==u.startAt)throw new Kt(Vt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Kt(Vt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new La(m,E)}(t._query,this._field,this._direction);return new ba(t.firestore,t.converter,function(u,m){const E=u.explicitOrderBy.concat([m]);return new ki(u.path,u.collectionGroup,E,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t._query,r))}}class mf extends pf{constructor(t,r,o){super(),this.type=t,this._limit=r,this._limitType=o}static _create(t,r,o){return new mf(t,r,o)}_apply(t){return new ba(t.firestore,t.converter,Yl(t._query,this._limit,this._limitType))}}class Ip extends pf{constructor(t,r,o){super(),this.type=t,this._docOrFields=r,this._inclusive=o}static _create(t,r,o){return new Ip(t,r,o)}_apply(t){const r=pi(t,this.type,this._docOrFields,this._inclusive);return new ba(t.firestore,t.converter,(m=r,new ki((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,m,u.endAt)));var u,m}}class Bg extends pf{constructor(t,r,o){super(),this.type=t,this._docOrFields=r,this._inclusive=o}static _create(t,r,o){return new Bg(t,r,o)}_apply(t){const r=pi(t,this.type,this._docOrFields,this._inclusive);return new ba(t.firestore,t.converter,(m=r,new ki((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,m)));var u,m}}function pi(a,t,r,o){if(r[0]=(0,wr.Ku)(r[0]),r[0]instanceof ff)return function(m,E,P,k,q){if(!k)throw new Kt(Vt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const ge=[];for(const Be of bl(m))if(Be.field.isKeyField())ge.push(ga(E,k.key));else{const Et=k.data.field(Be.field);if(Oa(Et))throw new Kt(Vt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Be.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Et){const nn=Be.field.canonicalString();throw new Kt(Vt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${nn}' (used as the orderBy) does not exist.`)}ge.push(Et)}return new Ds(ge,q)}(a._query,a.firestore._databaseId,t,r[0]._document,o);{const u=rd(a.firestore);return function(E,P,k,q,ge,Be){const Et=E.explicitOrderBy;if(ge.length>Et.length)throw new Kt(Vt.INVALID_ARGUMENT,`Too many arguments provided to ${q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const nn=[];for(let wn=0;wn<ge.length;wn++){const jn=ge[wn];if(Et[wn].field.isKeyField()){if("string"!=typeof jn)throw new Kt(Vt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${q}(), but got a ${typeof jn}`);if(!jo(E)&&-1!==jn.indexOf("/"))throw new Kt(Vt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${q}() must be a plain document ID, but '${jn}' contains a slash.`);const Vn=E.path.child(Jn.fromString(jn));if(!Fn.isDocumentKey(Vn))throw new Kt(Vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${q}() must result in a valid document path, but '${Vn}' is not because it contains an odd number of segments.`);const Sr=new Fn(Vn);nn.push(ga(P,Sr))}else{const Vn=Og(k,q,jn);nn.push(Vn)}}return new Ds(nn,Be)}(a._query,a.firestore._databaseId,u,t,r,o)}}function Ov(a,t,r){if("string"==typeof(r=(0,wr.Ku)(r))){if(""===r)throw new Kt(Vt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jo(t)&&-1!==r.indexOf("/"))throw new Kt(Vt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=t.path.child(Jn.fromString(r));if(!Fn.isDocumentKey(o))throw new Kt(Vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ga(a,new Fn(o))}if(r instanceof Fs)return ga(a,r._key);throw new Kt(Vt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hp(r)}.`)}function kv(a,t){if(!Array.isArray(a)||0===a.length)throw new Kt(Vt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function bh(a,t){const r=function(u,m){for(const E of u)for(const P of E.getFlattenedFilters())if(m.indexOf(P.op)>=0)return P.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw new Kt(Vt.INVALID_ARGUMENT,r===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class $g{convertValue(t,r="none"){switch(ro(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(no(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Mn()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const o={};return vo(t,(u,m)=>{o[u]=this.convertValue(m,r)}),o}convertVectorValue(t){var r,o,u;const m=null===(u=null===(o=null===(r=t.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.map(E=>qi(E.doubleValue));return new gp(m)}convertGeoPoint(t){return new pp(qi(t.latitude),qi(t.longitude))}convertArray(t,r){return(t.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(t,r){switch(r){case"previous":const o=ul(t);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(dl(t));default:return null}}convertTimestamp(t){const r=Yi(t);return new Ai(r.seconds,r.nanos)}convertDocumentKey(t,r){const o=Jn.fromString(t);In(Zd(o));const u=new yo(o.get(1),o.get(3)),m=new Fn(o.popFirst(5));return u.isEqual(r)||Gn(`Document ${m} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),m}}function jg(a,t,r){let o;return o=a?r&&(r.merge||r.mergeFields)?a.toFirestore(t,r):a.toFirestore(t):t,o}class Hg extends $g{constructor(t){super(),this.firestore=t}convertBytes(t){return new td(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Fs(this.firestore,null,r)}}class id{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jc extends ff{constructor(t,r,o,u,m,E){super(t,r,o,u,E),this._firestore=t,this._firestoreImpl=t,this.metadata=m}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const o=this._document.data.field(Lg("DocumentSnapshot.get",t));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class _f extends jc{data(t={}){return super.data(t)}}class _u{constructor(t,r,o,u){this._firestore=t,this._userDataWriter=r,this._snapshot=u,this.metadata=new id(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,r){this._snapshot.docs.forEach(o=>{t.call(r,new _f(this._firestore,this._userDataWriter,o.key,o,new id(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Kt(Vt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,m){if(u._snapshot.oldDocs.isEmpty()){let E=0;return u._snapshot.docChanges.map(P=>({type:"added",doc:new _f(u._firestore,u._userDataWriter,P.doc.key,P.doc,new id(u._snapshot.mutatedKeys.has(P.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:E++}))}{let E=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(P=>m||3!==P.type).map(P=>{const k=new _f(u._firestore,u._userDataWriter,P.doc.key,P.doc,new id(u._snapshot.mutatedKeys.has(P.doc.key),u._snapshot.fromCache),u.query.converter);let q=-1,ge=-1;return 0!==P.type&&(q=E.indexOf(P.doc.key),E=E.delete(P.doc.key)),1!==P.type&&(E=E.add(P.doc),ge=E.indexOf(P.doc.key)),{type:r0(P.type),doc:k,oldIndex:q,newIndex:ge}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function r0(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mn()}}function Wy(a,t){return a instanceof jc&&t instanceof jc?a._firestore===t._firestore&&a._key.isEqual(t._key)&&(null===a._document?null===t._document:a._document.isEqual(t._document))&&a._converter===t._converter:a instanceof _u&&t instanceof _u&&a._firestore===t._firestore&&Tv(a.query,t.query)&&a.metadata.isEqual(t.metadata)&&a._snapshot.isEqual(t._snapshot)}class sd extends $g{constructor(t){super(),this.firestore=t}convertBytes(t){return new td(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Fs(this.firestore,null,r)}}function Fv(a,t,r){a=Wi(a,Fs);const o=Wi(a.firestore,Vs),u=jg(a.converter,t,r);return Cp(o,[mp(rd(o),"setDoc",a._key,u,null!==a.converter,r).toMutation(a._key,oi.none())])}function Gy(a,t,r,...o){a=Wi(a,Fs);const u=Wi(a.firestore,Vs),m=rd(u);let E;return E="string"==typeof(t=(0,wr.Ku)(t))||t instanceof nd?Ng(m,"updateDoc",a._key,t,r,o):Sv(m,"updateDoc",a._key,t),Cp(u,[E.toMutation(a._key,oi.exists(!0))])}function Ky(a,...t){var r,o,u;a=(0,wr.Ku)(a);let m={includeMetadataChanges:!1,source:"default"},E=0;"object"!=typeof t[E]||Ny(t[E])||(m=t[E],E++);const P={includeMetadataChanges:m.includeMetadataChanges,source:m.source};if(Ny(t[E])){const Be=t[E];t[E]=null===(r=Be.next)||void 0===r?void 0:r.bind(Be),t[E+1]=null===(o=Be.error)||void 0===o?void 0:o.bind(Be),t[E+2]=null===(u=Be.complete)||void 0===u?void 0:u.bind(Be)}let k,q,ge;if(a instanceof Fs)q=Wi(a.firestore,Vs),ge=_a(a._key.path),k={next:Be=>{t[E]&&t[E](wp(q,a,Be))},error:t[E+1],complete:t[E+2]};else{const Be=Wi(a,ba);q=Wi(Be.firestore,Vs),ge=Be._query;const Et=new sd(q);k={next:nn=>{t[E]&&t[E](new _u(q,Et,Be,nn))},error:t[E+1],complete:t[E+2]},Nv(a._query)}return function(Et,nn,wn,jn){const Vn=new Ig(jn),Sr=new qf(nn,Vn,wn);return Et.asyncQueue.enqueueAndForget((0,Z.A)(function*(){return ay(yield sf(Et),Sr)})),()=>{Vn.Za(),Et.asyncQueue.enqueueAndForget((0,Z.A)(function*(){return Xm(yield sf(Et),Sr)}))}}(co(q),ge,P,k)}function Cp(a,t){return function(o,u){const m=new xr;return o.asyncQueue.enqueueAndForget((0,Z.A)(function*(){return function cy(a,t,r){return np.apply(this,arguments)}(yield gv(o),u,m)})),m.promise}(co(a),t)}function wp(a,t,r){const o=r.docs.get(t._key),u=new sd(a);return new jc(a,u,t._key,o,new id(r.hasPendingWrites,r.fromCache),t.converter)}const Vv={maxAttempts:5};class Qy{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=rd(t)}set(t,r,o){this._verifyNotCommitted();const u=Vd(t,this._firestore),m=jg(u.converter,r,o),E=mp(this._dataReader,"WriteBatch.set",u._key,m,null!==u.converter,o);return this._mutations.push(E.toMutation(u._key,oi.none())),this}update(t,r,o,...u){this._verifyNotCommitted();const m=Vd(t,this._firestore);let E;return E="string"==typeof(r=(0,wr.Ku)(r))||r instanceof nd?Ng(this._dataReader,"WriteBatch.update",m._key,r,o,u):Sv(this._dataReader,"WriteBatch.update",m._key,r),this._mutations.push(E.toMutation(m._key,oi.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=Vd(t,this._firestore);return this._mutations=this._mutations.concat(new Va(r._key,oi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Kt(Vt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vd(a,t){if((a=(0,wr.Ku)(a)).firestore!==t)throw new Kt(Vt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class Yy extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=rd(r)}get(r){const o=Vd(r,this._firestore),u=new Hg(this._firestore);return this._transaction.lookup([o._key]).then(m=>{if(!m||1!==m.length)return Mn();const E=m[0];if(E.isFoundDocument())return new ff(this._firestore,u,E.key,E,o.converter);if(E.isNoDocument())return new ff(this._firestore,u,o._key,null,o.converter);throw Mn()})}set(r,o,u){const m=Vd(r,this._firestore),E=jg(m.converter,o,u),P=mp(this._dataReader,"Transaction.set",m._key,E,null!==m.converter,u);return this._transaction.set(m._key,P),this}update(r,o,u,...m){const E=Vd(r,this._firestore);let P;return P="string"==typeof(o=(0,wr.Ku)(o))||o instanceof nd?Ng(this._dataReader,"Transaction.update",E._key,o,u,m):Sv(this._dataReader,"Transaction.update",E._key,o),this._transaction.update(E._key,P),this}delete(r){const o=Vd(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(t,r){super(t,r),this._firestore=t}get(t){const r=Vd(t,this._firestore),o=new sd(this._firestore);return super.get(t).then(u=>new jc(this._firestore,o,r._key,u._document,new id(!1,!1),r.converter))}}function jv(a,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Kt("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return t}function iE(){if(typeof Uint8Array>"u")throw new Kt("unimplemented","Uint8Arrays are not available in this environment.")}function sE(){if(!function Xi(){return typeof atob<"u"}())throw new Kt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,r=!0){Je=Dn.SDK_VERSION,(0,Dn._registerComponent)(new ri.uA("firestore",(o,{instanceIdentifier:u,options:m})=>{const E=o.getProvider("app").getImmediate(),P=new Vs(new ut(o.getProvider("auth-internal")),new rr(o.getProvider("app-check-internal")),function(q,ge){if(!Object.prototype.hasOwnProperty.apply(q.options,["projectId"]))throw new Kt(Vt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(q.options.projectId,ge)}(E,u),E);return m=Object.assign({useFetchStreams:r},m),P._setSettings(m),P},"PUBLIC").setMultipleInstances(!0)),(0,Dn.registerVersion)(pe,"4.7.3",t),(0,Dn.registerVersion)(pe,"4.7.3","esm2017")}();class Sp{constructor(t){this._delegate=t}static fromBase64String(t){return sE(),new Sp(td.fromBase64String(t))}static fromUint8Array(t){return iE(),new Sp(td.fromUint8Array(t))}toBase64(){return sE(),this._delegate.toBase64()}toUint8Array(){return iE(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Kg(a){return function w0(a,t){if("object"!=typeof a||null===a)return!1;const r=a;for(const o of t)if(o in r&&"function"==typeof r[o])return!0;return!1}(a,["next","error","complete"])}class Xg{enableIndexedDbPersistence(t,r){return function qI(a,t){Hn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings();return wv(a,nf.provider,{build:o=>new _y(o,r.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(t){return function Dg(a){return cf.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function Oy(a){if(a._initialized&&!a._terminated)throw new Kt(Vt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new xr;return a._queue.enqueueAndForgetEvenWhileRestricted((0,Z.A)(function*(){try{yield(r=(0,Z.A)(function*(u){if(!Pr.D())return Promise.resolve();const m=u+"main";yield Pr.delete(m)}),function o(u){return r.apply(this,arguments)})(Ys(a._databaseId,a._persistenceKey)),t.resolve()}catch(r){t.reject(r)}var r})),t.promise}(t._delegate)}}class oE{constructor(t,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},t instanceof yo||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const r=this._delegate._getSettings();!t.merge&&r.host!==t.host&&Hn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},r),t)).merge,this._delegate._setSettings(t)}useEmulator(t,r,o={}){!function Py(a,t,r,o={}){var u;const m=(a=Wi(a,fp))._getSettings(),E=`${t}:${r}`;if("firestore.googleapis.com"!==m.host&&m.host!==E&&Hn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},m),{host:E,ssl:!1})),o.mockUserToken){let P,k;if("string"==typeof o.mockUserToken)P=o.mockUserToken,k=Oe.MOCK_USER;else{P=(0,wr.Fy)(o.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const q=o.mockUserToken.sub||o.mockUserToken.user_id;if(!q)throw new Kt(Vt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new Oe(q)}a._authCredentials=new ye(new Qi(P,k))}}(this._delegate,t,r,o)}enableNetwork(){return function Ly(a){return function BI(a){return a.asyncQueue.enqueue((0,Z.A)(function*(){const t=yield UI(a),r=yield pv(a);return t.setNetworkEnabled(!0),function(u){const m=Tn(u);return m.L_.delete(0),d(m)}(r)}))}(co(a=Wi(a,Vs)))}(this._delegate)}disableNetwork(){return function QI(a){return function wy(a){return a.asyncQueue.enqueue((0,Z.A)(function*(){const t=yield UI(a),r=yield pv(a);return t.setNetworkEnabled(!1),(o=(0,Z.A)(function*(m){const E=Tn(m);E.L_.add(0),yield _(E),E.q_.set("Offline")}),function u(m){return o.apply(this,arguments)})(r);var o}))}(co(a=Wi(a,Vs)))}(this._delegate)}enablePersistence(t){let r=!1,o=!1;return t&&(r=!!t.synchronizeTabs,o=!!t.experimentalForceOwningTab,Dy("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ky(a){return function(r){const o=new xr;return r.asyncQueue.enqueueAndForget((0,Z.A)(function*(){return function fy(a,t){return sp.apply(this,arguments)}(yield gv(r),o)})),o.promise}(co(a=Wi(a,Vs)))}(this._delegate)}onSnapshotsInSync(t){return function d0(a,t){return function jI(a,t){const r=new Ig(t);return a.asyncQueue.enqueueAndForget((0,Z.A)(function*(){return u=yield sf(a),m=r,Tn(u).Y_.add(m),void m.next();var u,m})),()=>{r.Za(),a.asyncQueue.enqueueAndForget((0,Z.A)(function*(){return u=yield sf(a),m=r,void Tn(u).Y_.delete(m);var u,m}))}}(co(a=Wi(a,Vs)),Ny(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Kt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new cd(this,My(this._delegate,t))}catch(r){throw Da(r,"collection()","Firestore.collection()")}}doc(t){try{return new Hl(this,bg(this._delegate,t))}catch(r){throw Da(r,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ol(this,function KI(a,t){if(a=Wi(a,fp),Iv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Kt(Vt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ba(a,null,(o=t,new ki(Jn.emptyPath(),o)));var o}(this._delegate,t))}catch(r){throw Da(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function Jy(a,t,r){a=Wi(a,Vs);const o=Object.assign(Object.assign({},Vv),r);return function(m){if(m.maxAttempts<1)throw new Kt(Vt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(m,E,P){const k=new xr;return m.asyncQueue.enqueueAndForget((0,Z.A)(function*(){const q=yield function Cy(a){return rf(a).then(t=>t.datastore)}(m);new ed(m.asyncQueue,q,P,E,k).au()})),k.promise}(co(a),u=>t(new Yy(a,u)),o)}(this._delegate,r=>t(new Hv(this,r)))}batch(){return co(this._delegate),new aE(new Qy(this._delegate,t=>Cp(this._delegate,t)))}loadBundle(t){return function uf(a,t){const r=co(a=Wi(a,Vs)),o=new ib;return function _v(a,t,r,o){const u=function(E,P){let k;return k="string"==typeof E?Jd().encode(E):E,ge=function(ge){if(ge instanceof Uint8Array)return yy(ge,void 0);if(ge instanceof ArrayBuffer)return yy(new Uint8Array(ge),void 0);if(ge instanceof ReadableStream)return ge.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new VI(ge,P);var ge}(r,kd(t));a.asyncQueue.enqueueAndForget((0,Z.A)(function*(){!function nb(a,t,r){const o=Tn(a);var u;(u=(0,Z.A)(function*(E,P,k){try{const q=yield P.getMetadata();if(yield function(wn,jn){const Vn=Tn(wn),Sr=tn(jn.createTime);return Vn.persistence.runTransaction("hasNewerBundle","readonly",jr=>Vn.Gr.getBundleMetadata(jr,jn.id)).then(jr=>!!jr&&jr.createTime.compareTo(Sr)>=0)}(E.localStore,q))return yield P.close(),k._completeWith({taskState:"Success",documentsLoaded:(wn=q).totalDocuments,bytesLoaded:wn.totalBytes,totalDocuments:wn.totalDocuments,totalBytes:wn.totalBytes}),Promise.resolve(new Set);k._updateProgress(Zh(q));const ge=new Ym(q,E.localStore,P.serializer);let Be=yield P.Ua();for(;Be;){const nn=yield ge.la(Be);nn&&k._updateProgress(nn),Be=yield P.Ua()}const Et=yield ge.complete();return yield Bc(E,Et.Ia,void 0),yield function(wn,jn){const Vn=Tn(wn);return Vn.persistence.runTransaction("Save bundle","readwrite",Sr=>Vn.Gr.saveBundleMetadata(Sr,jn))}(E.localStore,q),k._completeWith(Et.progress),Promise.resolve(Et.Pa)}catch(q){return Hn("SyncEngine",`Loading bundle failed with ${q}`),k._failWith(q),Promise.resolve(new Set)}var wn}),function m(E,P,k){return u.apply(this,arguments)})(o,t,r).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield gv(a),u,o)}))}(r,a._databaseId,t,o),o}(this._delegate,t)}namedQuery(t){return function jl(a,t){return function HI(a,t){return a.asyncQueue.enqueue((0,Z.A)(function*(){return function(o,u){const m=Tn(o);return m.persistence.runTransaction("Get named query","readonly",E=>m.Gr.getNamedQuery(E,u))}(yield dp(a),t)}))}(co(a=Wi(a,Vs)),t).then(r=>r?new ba(a,null,r.query):null)}(this._delegate,t).then(r=>r?new ol(this,r):null)}}class Rp extends $g{constructor(t){super(),this.firestore=t}convertBytes(t){return new Sp(new td(t))}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return Hl.forKey(r,this.firestore,null)}}class Hv{constructor(t,r){this._firestore=t,this._delegate=r,this._userDataWriter=new Rp(t)}get(t){const r=ud(t);return this._delegate.get(r).then(o=>new ad(this._firestore,new jc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(t,r,o){const u=ud(t);return o?(jv("Transaction.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(t,r,o,...u){const m=ud(t);return 2===arguments.length?this._delegate.update(m,r):this._delegate.update(m,r,o,...u),this}delete(t){const r=ud(t);return this._delegate.delete(r),this}}class aE{constructor(t){this._delegate=t}set(t,r,o){const u=ud(t);return o?(jv("WriteBatch.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(t,r,o,...u){const m=ud(t);return 2===arguments.length?this._delegate.update(m,r):this._delegate.update(m,r,o,...u),this}delete(t){const r=ud(t);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Ah{constructor(t,r,o){this._firestore=t,this._userDataWriter=r,this._delegate=o}fromFirestore(t,r){const o=new _f(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ld(this._firestore,o),r??{})}toFirestore(t,r){return r?this._delegate.toFirestore(t,r):this._delegate.toFirestore(t)}static getInstance(t,r){const o=Ah.INSTANCES;let u=o.get(t);u||(u=new WeakMap,o.set(t,u));let m=u.get(r);return m||(m=new Ah(t,new Rp(t),r),u.set(r,m)),m}}Ah.INSTANCES=new WeakMap;class Hl{constructor(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new Rp(t)}static forPath(t,r,o){if(t.length%2!=0)throw new Kt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Hl(r,new Fs(r._delegate,o,new Fn(t)))}static forKey(t,r,o){return new Hl(r,new Fs(r._delegate,o,t))}get id(){return this._delegate.id}get parent(){return new cd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new cd(this.firestore,My(this._delegate,t))}catch(r){throw Da(r,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,wr.Ku)(t))instanceof Fs&&xy(this._delegate,t)}set(t,r){r=jv("DocumentReference.set",r);try{return r?Fv(this._delegate,t,r):Fv(this._delegate,t)}catch(o){throw Da(o,"setDoc()","DocumentReference.set()")}}update(t,r,...o){try{return 1===arguments.length?Gy(this._delegate,t):Gy(this._delegate,t,r,...o)}catch(u){throw Da(u,"updateDoc()","DocumentReference.update()")}}delete(){return function u0(a){return Cp(Wi(a.firestore,Vs),[new Va(a._key,oi.none())])}(this._delegate)}onSnapshot(...t){const r=Wv(t),o=yf(t,u=>new ad(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return Ky(this._delegate,r,o)}get(t){let r;return r="cache"===t?.source?function o0(a){a=Wi(a,Fs);const t=Wi(a.firestore,Vs),r=co(t),o=new sd(t);return function by(a,t){const r=new xr;return a.asyncQueue.enqueueAndForget((0,Z.A)(function*(){return(o=(0,Z.A)(function*(m,E,P){try{const k=yield function(ge,Be){const Et=Tn(ge);return Et.persistence.runTransaction("read document","readonly",nn=>Et.localDocuments.getDocument(nn,Be))}(m,E);k.isFoundDocument()?P.resolve(k):k.isNoDocument()?P.resolve(null):P.reject(new Kt(Vt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const q=qh(k,`Failed to get document '${E} from cache`);P.reject(q)}}),function u(m,E,P){return o.apply(this,arguments)})(yield dp(a),t,r);var o})),r.promise}(r,a._key).then(u=>new jc(t,o,a._key,u,new id(null!==u&&u.hasLocalMutations,!0),a.converter))}(this._delegate):"server"===t?.source?function a0(a){a=Wi(a,Fs);const t=Wi(a.firestore,Vs);return Ay(co(t),a._key,{source:"server"}).then(r=>wp(t,a,r))}(this._delegate):function s0(a){a=Wi(a,Fs);const t=Wi(a.firestore,Vs);return Ay(co(t),a._key).then(r=>wp(t,a,r))}(this._delegate),r.then(o=>new ad(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(t){return new Hl(this.firestore,this._delegate.withConverter(t?Ah.getInstance(this.firestore,t):null))}}function Da(a,t,r){return a.message=a.message.replace(t,r),a}function Wv(a){for(const t of a)if("object"==typeof t&&!Kg(t))return t;return{}}function yf(a,t){var r,o;let u;return u=Kg(a[0])?a[0]:Kg(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:m=>{u.next&&u.next(t(m))},error:null===(r=u.error)||void 0===r?void 0:r.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class ad{constructor(t,r){this._firestore=t,this._delegate=r}get ref(){return new Hl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,r){return this._delegate.get(t,r)}isEqual(t){return Wy(this._delegate,t._delegate)}}class ld extends ad{data(t){const r=this._delegate.data(t);return this._delegate._converter||function _i(a){a||Mn()}(void 0!==r),r}}class ol{constructor(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new Rp(t)}where(t,r,o){try{return new ol(this.firestore,vu(this._delegate,function Vg(a,t,r){const o=t,u=Lg("where",a);return gf._create(u,o,r)}(t,r,o)))}catch(u){throw Da(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,r){try{return new ol(this.firestore,vu(this._delegate,function Uy(a,t="asc"){const r=t,o=Lg("orderBy",a);return wh._create(o,r)}(t,r)))}catch(o){throw Da(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ol(this.firestore,vu(this._delegate,function Ug(a){return GI("limit",a),mf._create("limit",a,"F")}(t)))}catch(r){throw Da(r,"limit()","Query.limit()")}}limitToLast(t){try{return new ol(this.firestore,vu(this._delegate,function ZI(a){return GI("limitToLast",a),mf._create("limitToLast",a,"L")}(t)))}catch(r){throw Da(r,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ol(this.firestore,vu(this._delegate,function e0(...a){return Ip._create("startAt",a,!0)}(...t)))}catch(r){throw Da(r,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ol(this.firestore,vu(this._delegate,function t0(...a){return Ip._create("startAfter",a,!1)}(...t)))}catch(r){throw Da(r,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ol(this.firestore,vu(this._delegate,function By(...a){return Bg._create("endBefore",a,!1)}(...t)))}catch(r){throw Da(r,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ol(this.firestore,vu(this._delegate,function $y(...a){return Bg._create("endAt",a,!0)}(...t)))}catch(r){throw Da(r,"endAt()","Query.endAt()")}}isEqual(t){return Tv(this._delegate,t._delegate)}get(t){let r;return r="cache"===t?.source?function c0(a){a=Wi(a,ba);const t=Wi(a.firestore,Vs),r=co(t),o=new sd(t);return function $I(a,t){const r=new xr;return a.asyncQueue.enqueueAndForget((0,Z.A)(function*(){return(o=(0,Z.A)(function*(m,E,P){try{const k=yield v(m,E,!0),q=new ug(E,k.Ts),ge=q.ma(k.documents),Be=q.applyChanges(ge,!1);P.resolve(Be.snapshot)}catch(k){const q=qh(k,`Failed to execute query '${E} against cache`);P.reject(q)}}),function u(m,E,P){return o.apply(this,arguments)})(yield dp(a),t,r);var o})),r.promise}(r,a._query).then(u=>new _u(t,o,a,u))}(this._delegate):"server"===t?.source?function zy(a){a=Wi(a,ba);const t=Wi(a.firestore,Vs),r=co(t),o=new sd(t);return vv(r,a._query,{source:"server"}).then(u=>new _u(t,o,a,u))}(this._delegate):function l0(a){a=Wi(a,ba);const t=Wi(a.firestore,Vs),r=co(t),o=new sd(t);return Nv(a._query),vv(r,a._query).then(u=>new _u(t,o,a,u))}(this._delegate),r.then(o=>new zv(this.firestore,new _u(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...t){const r=Wv(t),o=yf(t,u=>new zv(this.firestore,new _u(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return Ky(this._delegate,r,o)}withConverter(t){return new ol(this.firestore,this._delegate.withConverter(t?Ah.getInstance(this.firestore,t):null))}}class A0{constructor(t,r){this._firestore=t,this._delegate=r}get type(){return this._delegate.type}get doc(){return new ld(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zv{constructor(t,r){this._firestore=t,this._delegate=r}get query(){return new ol(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new ld(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(r=>new A0(this._firestore,r))}forEach(t,r){this._delegate.forEach(o=>{t.call(r,new ld(this._firestore,o))})}isEqual(t){return Wy(this._delegate,t._delegate)}}class cd extends ol{constructor(t,r){super(t,r),this.firestore=t,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Hl(this.firestore,t):null}doc(t){try{return new Hl(this.firestore,void 0===t?bg(this._delegate):bg(this._delegate,t))}catch(r){throw Da(r,"doc()","CollectionReference.doc()")}}add(t){return function Tl(a,t){const r=Wi(a.firestore,Vs),o=bg(a),u=jg(a.converter,t);return Cp(r,[mp(rd(a.firestore),"addDoc",o._key,u,null!==a.converter,{}).toMutation(o._key,oi.exists(!1))]).then(()=>o)}(this._delegate,t).then(r=>new Hl(this.firestore,r))}isEqual(t){return xy(this._delegate,t._delegate)}withConverter(t){return new cd(this.firestore,this._delegate.withConverter(t?Ah.getInstance(this.firestore,t):null))}}function ud(a){return Wi(a,Fs)}class Gv{constructor(...t){this._delegate=new nd(...t)}static documentId(){return new Gv(Ii.keyField().canonicalString())}isEqual(t){return(t=(0,wr.Ku)(t))instanceof nd&&this._delegate._internalPath.isEqual(t._internalPath)}}class Ef{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Uv(){return new bv("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Ef(t)}static delete(){const t=function Wg(){return new Ch("deleteField")}();return t._methodName="FieldValue.delete",new Ef(t)}static arrayUnion(...t){const r=function cb(...a){return new Av("arrayUnion",a)}(...t);return r._methodName="FieldValue.arrayUnion",new Ef(r)}static arrayRemove(...t){const r=function Zy(...a){return new xg("arrayRemove",a)}(...t);return r._methodName="FieldValue.arrayRemove",new Ef(r)}static increment(t){const r=function eE(a){return new Dv("increment",a)}(t);return r._methodName="FieldValue.increment",new Ef(r)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const hb={Firestore:oE,GeoPoint:pp,Timestamp:Ai,Blob:Sp,Transaction:Hv,WriteBatch:aE,DocumentReference:Hl,DocumentSnapshot:ad,Query:ol,QueryDocumentSnapshot:ld,QuerySnapshot:zv,CollectionReference:cd,FieldPath:Gv,FieldValue:Ef,setLogLevel:function b0(a){!function _n(a){Ht.setLogLevel(a)}(a)},CACHE_SIZE_UNLIMITED:-1};!function S0(a){(function D0(a,t){a.INTERNAL.registerComponent(new ri.uA("firestore-compat",r=>{const o=r.getProvider("app-compat").getImmediate(),u=r.getProvider("firestore").getImmediate();return t(o,u)},"PUBLIC").setServiceProps(Object.assign({},hb)))})(a,(t,r)=>new oE(t,r,new Xg)),a.registerVersion("@firebase/firestore-compat","0.3.38")}($r.A);var fb=N(762);function P0(a,t){return function R0(a,t=It.E){return new fn.c(r=>{let o;return null!=t?t.schedule(()=>{o=a.onSnapshot({includeMetadataChanges:!0},r)}):o=a.onSnapshot({includeMetadataChanges:!0},r),()=>{o?.()}})}(a,t)}function Kv(a,t){return P0(a,t).pipe((0,Pn.T)(r=>({payload:r,type:"query"})))}class lE{ref;afs;constructor(t,r){this.ref=t,this.afs=r}set(t,r){return this.ref.set(t,r)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,r){const o=this.ref.collection(t),{ref:u,query:m}=Yv(o,r);return new qv(u,m,this.afs)}snapshotChanges(){return function M0(a,t){return P0(a,t).pipe((0,$e.Z)(void 0),Ot(),(0,Pn.T)(r=>{const[o,u]=r;return u.exists?o?.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ct.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Pn.T)(({payload:r})=>t.idField?{...r.data(),[t.idField]:r.id}:r.data()))}get(t){return(0,Bn.H)(this.ref.get(t)).pipe(ct.U0)}}function If(a,t){return Kv(a,t).pipe((0,$e.Z)(void 0),Ot(),(0,Pn.T)(r=>{const[o,u]=r,m=u.payload.docChanges(),E=m.map(P=>({type:P.type,payload:P}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((P,k)=>{const q=m.find(Be=>Be.doc.ref.isEqual(P.ref)),ge=o?.payload.docs.find(Be=>Be.ref.isEqual(P.ref));q&&JSON.stringify(q.doc.metadata)===JSON.stringify(P.metadata)||!q&&ge&&JSON.stringify(ge.metadata)===JSON.stringify(P.metadata)||E.push({type:"modified",payload:{oldIndex:k,newIndex:k,type:"modified",doc:P}})}),E}))}function Tf(a,t,r){return If(a,r).pipe((0,Qn.S)((o,u)=>function Xv(a,t,r){return t.forEach(o=>{r.indexOf(o.type)>-1&&(a=function cE(a,t){switch(t.type){case"added":if(!a[t.newIndex]||!a[t.newIndex].doc.ref.isEqual(t.doc.ref))return Cf(a,t.newIndex,0,t);break;case"modified":if(null==a[t.oldIndex]||a[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const r=a.slice();return r.splice(t.oldIndex,1),r.splice(t.newIndex,0,t),r}return Cf(a,t.newIndex,1,t)}break;case"removed":if(a[t.oldIndex]&&a[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Cf(a,t.oldIndex,1)}return a}(a,o))}),a}(o,u.map(m=>m.payload),t),[]),(0,Gr.F)(),(0,Pn.T)(o=>o.map(u=>({type:u.type,payload:u}))))}function Cf(a,t,r,...o){const u=a.slice();return u.splice(t,r,...o),u}function wf(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}class qv{ref;query;afs;constructor(t,r,o){this.ref=t,this.query=r,this.afs=o}stateChanges(t){let r=If(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(r=r.pipe((0,Pn.T)(o=>o.filter(u=>t.indexOf(u.type)>-1)))),r.pipe((0,$e.Z)(void 0),Ot(),(0,ai.p)(([o,u])=>u.length>0||!o),(0,Pn.T)(([,o])=>o),ct.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,Qn.S)((r,o)=>[...r,...o],[]))}snapshotChanges(t){const r=wf(t);return Tf(this.query,r,this.afs.schedulers.outsideAngular).pipe(ct.U0)}valueChanges(t={}){return Kv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pn.T)(r=>r.payload.docs.map(o=>t.idField?{...o.data(),[t.idField]:o.id}:o.data())),ct.U0)}get(t){return(0,Bn.H)(this.query.get(t)).pipe(ct.U0)}add(t){return this.ref.add(t)}doc(t){return new lE(this.ref.doc(t),this.afs)}}class x0{query;afs;constructor(t,r){this.query=t,this.afs=r}stateChanges(t){return t&&0!==t.length?If(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pn.T)(r=>r.filter(o=>t.indexOf(o.type)>-1)),(0,ai.p)(r=>r.length>0),ct.U0):If(this.query,this.afs.schedulers.outsideAngular).pipe(ct.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,Qn.S)((r,o)=>[...r,...o],[]))}snapshotChanges(t){const r=wf(t);return Tf(this.query,r,this.afs.schedulers.outsideAngular).pipe(ct.U0)}valueChanges(t={}){return Kv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pn.T)(o=>o.payload.docs.map(u=>t.idField?{[t.idField]:u.id,...u.data()}:u.data())),ct.U0)}get(t){return(0,Bn.H)(this.query.get(t)).pipe(ct.U0)}}const bf=new fe.nKC("angularfire2.enableFirestorePersistence"),Qv=new fe.nKC("angularfire2.firestore.persistenceSettings"),uE=new fe.nKC("angularfire2.firestore.settings"),dE=new fe.nKC("angularfire2.firestore.use-emulator");function Yv(a,t=r=>r){return{query:t(a),ref:a}}let N0=(()=>{class a{schedulers;firestore;persistenceEnabled$;constructor(r,o,u,m,E,P,k,q,ge,Be,Et,nn,wn,jn,Vn,Sr,jr){this.schedulers=k;const Cr=(0,di.iB)(r,P,o),ti=ge;Be&&(0,Ze.gF)(Cr,P,Et,wn,jn,Vn,nn,Sr),[this.firestore,this.persistenceEnabled$]=(0,di.BM)(`${Cr.name}.firestore`,"AngularFirestore",Cr.name,()=>{const zi=P.runOutsideAngular(()=>Cr.firestore());if(m&&zi.settings(m),ti&&zi.useEmulator(...ti),u&&!(0,Zt.Vy)(E)){const Ri=()=>{try{return(0,Bn.H)(zi.enablePersistence(q||void 0).then(()=>!0,()=>!1))}catch(Ft){return typeof console<"u"&&console.warn(Ft),(0,Ge.of)(!1)}};return[zi,P.runOutsideAngular(Ri)]}return[zi,(0,Ge.of)(!1)]},[m,ti,u])}collection(r,o){let u;u="string"==typeof r?this.firestore.collection(r):r;const{ref:m,query:E}=Yv(u,o),P=this.schedulers.ngZone.run(()=>m);return new qv(P,E,this)}collectionGroup(r,o){const u=o||(E=>E),m=this.firestore.collectionGroup(r);return new x0(u(m),this)}doc(r){let o;o="string"==typeof r?this.firestore.doc(r):r;const u=this.schedulers.ngZone.run(()=>o);return new lE(u,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(o){return new(o||a)(fe.KVO(di.rx),fe.KVO(di.uP,8),fe.KVO(bf,8),fe.KVO(uE,8),fe.KVO(fe.Agw),fe.KVO(fe.SKi),fe.KVO(ct.u0),fe.KVO(Qv,8),fe.KVO(dE,8),fe.KVO(Ze.DS,8),fe.KVO(Ze.CP,8),fe.KVO(Ze.yy,8),fe.KVO(Ze.ZP,8),fe.KVO(Ze.$z,8),fe.KVO(Ze.AU,8),fe.KVO(Ze.UB,8),fe.KVO(ct.Jv,8))};static \u0275prov=fe.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})}return a})(),O0=(()=>{class a{constructor(){fb.A.registerVersion("angularfire",ct.xv.full,"fst-compat")}static enablePersistence(r){return{ngModule:a,providers:[{provide:bf,useValue:!0},{provide:Qv,useValue:r}]}}static \u0275fac=function(o){return new(o||a)};static \u0275mod=fe.$C({type:a});static \u0275inj=fe.G2t({providers:[N0]})}return a})();const k0_firebase={apiKey:"AIzaSyAQNE018rxxppr8LQwp7ZWGjkhP_ty8xHM",authDomain:"fuel-app-aa8ef.firebaseapp.com",databaseURL:"https://fuel-app-aa8ef-default-rtdb.asia-southeast1.firebasedatabase.app/",projectId:"fuel-app-aa8ef",storageBucket:"fuel-app-aa8ef.appspot.com",messagingSenderId:"484477729417",appId:"1:484477729417:android:aa9170259cda189b20a458"};var Pp=N(4009),L0=N(49);function F0(a){return new bi(a,"./assets/i18n/",".json")}let V0=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=fe.$C({type:a,bootstrap:[cr]})}static{this.\u0275inj=fe.G2t({providers:[{provide:J.b,useClass:G.jM},(0,ur.$R)(),yi.Y,ci,kn,Nn.g,zn.p,sr,Rr.A,Pp.u],imports:[l.Bb,Re.bv.forRoot(),vr,ui.G,ur.q1,we.YN,di.bf.initializeApp(k0_firebase),O0,Ze.X8,L0.wd,dr.h.forRoot({loader:{provide:dr.Wr,useFactory:F0,deps:[ur.Qq]}})]})}}return a})();l.sG().bootstrapModule(V0).catch(a=>console.log(a))},4511:(En,ht,N)=>{var l;!function(U,J,G,Re){"use strict";var yt,we=["","webkit","Moz","MS","ms","o"],Z=J.createElement("div"),be="function",ve=Math.round,Te=Math.abs,ue=Date.now;function ke(de,ye,ut){return setTimeout(Pt(de,ut),ye)}function xe(de,ye,ut){return!!Array.isArray(de)&&(fe(de,ut[ye],ut),!0)}function fe(de,ye,ut){var Qt;if(de)if(de.forEach)de.forEach(ye,ut);else if(de.length!==Re)for(Qt=0;Qt<de.length;)ye.call(ut,de[Qt],Qt,de),Qt++;else for(Qt in de)de.hasOwnProperty(Qt)&&ye.call(ut,de[Qt],Qt,de)}function rt(de,ye,ut){var Qt="DEPRECATED METHOD: "+ye+"\n"+ut+" AT \n";return function(){var bn=new Error("get-stack-trace"),nr=bn&&bn.stack?bn.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",rr=U.console&&(U.console.warn||U.console.log);return rr&&rr.call(U.console,Qt,nr),de.apply(this,arguments)}}yt="function"!=typeof Object.assign?function(ye){if(ye===Re||null===ye)throw new TypeError("Cannot convert undefined or null to object");for(var ut=Object(ye),Qt=1;Qt<arguments.length;Qt++){var bn=arguments[Qt];if(bn!==Re&&null!==bn)for(var nr in bn)bn.hasOwnProperty(nr)&&(ut[nr]=bn[nr])}return ut}:Object.assign;var it=rt(function(ye,ut,Qt){for(var bn=Object.keys(ut),nr=0;nr<bn.length;)(!Qt||Qt&&ye[bn[nr]]===Re)&&(ye[bn[nr]]=ut[bn[nr]]),nr++;return ye},"extend","Use `assign`."),We=rt(function(ye,ut){return it(ye,ut,!0)},"merge","Use `assign`.");function At(de,ye,ut){var bn,Qt=ye.prototype;(bn=de.prototype=Object.create(Qt)).constructor=de,bn._super=Qt,ut&&yt(bn,ut)}function Pt(de,ye){return function(){return de.apply(ye,arguments)}}function ze(de,ye){return typeof de==be?de.apply(ye&&ye[0]||Re,ye):de}function Fe(de,ye){return de===Re?ye:de}function ot(de,ye,ut){fe(H(ye),function(Qt){de.addEventListener(Qt,ut,!1)})}function qe(de,ye,ut){fe(H(ye),function(Qt){de.removeEventListener(Qt,ut,!1)})}function nt(de,ye){for(;de;){if(de==ye)return!0;de=de.parentNode}return!1}function bt(de,ye){return de.indexOf(ye)>-1}function H(de){return de.trim().split(/\s+/g)}function He(de,ye,ut){if(de.indexOf&&!ut)return de.indexOf(ye);for(var Qt=0;Qt<de.length;){if(ut&&de[Qt][ut]==ye||!ut&&de[Qt]===ye)return Qt;Qt++}return-1}function wt(de){return Array.prototype.slice.call(de,0)}function Ke(de,ye,ut){for(var Qt=[],bn=[],nr=0;nr<de.length;){var rr=ye?de[nr][ye]:de[nr];He(bn,rr)<0&&Qt.push(de[nr]),bn[nr]=rr,nr++}return ut&&(Qt=ye?Qt.sort(function(xn,Ei){return xn[ye]>Ei[ye]}):Qt.sort()),Qt}function Mt(de,ye){for(var ut,Qt,bn=ye[0].toUpperCase()+ye.slice(1),nr=0;nr<we.length;){if((Qt=(ut=we[nr])?ut+bn:ye)in de)return Qt;nr++}return Re}var kt=1;function tt(de){var ye=de.ownerDocument||de;return ye.defaultView||ye.parentWindow||U}var Ie="ontouchstart"in U,Me=Mt(U,"PointerEvent")!==Re,ce=Ie&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Pe="touch",Xe="mouse",Tt=25,he=1,Nt=4,xt=8,hn=1,Ln=2,qn=4,kn=8,Nn=16,zn=Ln|qn,Yn=kn|Nn,ft=zn|Yn,Xt=["x","y"],jt=["clientX","clientY"];function On(de,ye){var ut=this;this.manager=de,this.callback=ye,this.element=de.element,this.target=de.options.inputTarget,this.domHandler=function(Qt){ze(de.options.enable,[de])&&ut.handler(Qt)},this.init()}function er(de,ye,ut){var Qt=ut.pointers.length,bn=ut.changedPointers.length,nr=ye&he&&Qt-bn==0,rr=ye&(Nt|xt)&&Qt-bn==0;ut.isFirst=!!nr,ut.isFinal=!!rr,nr&&(de.session={}),ut.eventType=ye,function tr(de,ye){var ut=de.session,Qt=ye.pointers,bn=Qt.length;ut.firstInput||(ut.firstInput=Mr(ye)),bn>1&&!ut.firstMultiple?ut.firstMultiple=Mr(ye):1===bn&&(ut.firstMultiple=!1);var nr=ut.firstInput,rr=ut.firstMultiple,Ar=rr?rr.center:nr.center,xn=ye.center=sr(Qt);ye.timeStamp=ue(),ye.deltaTime=ye.timeStamp-nr.timeStamp,ye.angle=Ir(Ar,xn),ye.distance=Hr(Ar,xn),function Xn(de,ye){var ut=ye.center,Qt=de.offsetDelta||{},bn=de.prevDelta||{},nr=de.prevInput||{};(ye.eventType===he||nr.eventType===Nt)&&(bn=de.prevDelta={x:nr.deltaX||0,y:nr.deltaY||0},Qt=de.offsetDelta={x:ut.x,y:ut.y}),ye.deltaX=bn.x+(ut.x-Qt.x),ye.deltaY=bn.y+(ut.y-Qt.y)}(ut,ye),ye.offsetDirection=Or(ye.deltaX,ye.deltaY);var Ei=cr(ye.deltaTime,ye.deltaX,ye.deltaY);ye.overallVelocityX=Ei.x,ye.overallVelocityY=Ei.y,ye.overallVelocity=Te(Ei.x)>Te(Ei.y)?Ei.x:Ei.y,ye.scale=rr?function ur(de,ye){return Hr(ye[0],ye[1],jt)/Hr(de[0],de[1],jt)}(rr.pointers,Qt):1,ye.rotation=rr?function vr(de,ye){return Ir(ye[1],ye[0],jt)+Ir(de[1],de[0],jt)}(rr.pointers,Qt):0,ye.maxPointers=ut.prevInput?ye.pointers.length>ut.prevInput.maxPointers?ye.pointers.length:ut.prevInput.maxPointers:ye.pointers.length,function Dr(de,ye){var bn,nr,rr,Ar,ut=de.lastInterval||ye,Qt=ye.timeStamp-ut.timeStamp;if(ye.eventType!=xt&&(Qt>Tt||ut.velocity===Re)){var xn=ye.deltaX-ut.deltaX,Ei=ye.deltaY-ut.deltaY,Wn=cr(Qt,xn,Ei);nr=Wn.x,rr=Wn.y,bn=Te(Wn.x)>Te(Wn.y)?Wn.x:Wn.y,Ar=Or(xn,Ei),de.lastInterval=ye}else bn=ut.velocity,nr=ut.velocityX,rr=ut.velocityY,Ar=ut.direction;ye.velocity=bn,ye.velocityX=nr,ye.velocityY=rr,ye.direction=Ar}(ut,ye);var Wn=de.element;nt(ye.srcEvent.target,Wn)&&(Wn=ye.srcEvent.target),ye.target=Wn}(de,ut),de.emit("hammer.input",ut),de.recognize(ut),de.session.prevInput=ut}function Mr(de){for(var ye=[],ut=0;ut<de.pointers.length;)ye[ut]={clientX:ve(de.pointers[ut].clientX),clientY:ve(de.pointers[ut].clientY)},ut++;return{timeStamp:ue(),pointers:ye,center:sr(ye),deltaX:de.deltaX,deltaY:de.deltaY}}function sr(de){var ye=de.length;if(1===ye)return{x:ve(de[0].clientX),y:ve(de[0].clientY)};for(var ut=0,Qt=0,bn=0;bn<ye;)ut+=de[bn].clientX,Qt+=de[bn].clientY,bn++;return{x:ve(ut/ye),y:ve(Qt/ye)}}function cr(de,ye,ut){return{x:ye/de||0,y:ut/de||0}}function Or(de,ye){return de===ye?hn:Te(de)>=Te(ye)?de<0?Ln:qn:ye<0?kn:Nn}function Hr(de,ye,ut){ut||(ut=Xt);var Qt=ye[ut[0]]-de[ut[0]],bn=ye[ut[1]]-de[ut[1]];return Math.sqrt(Qt*Qt+bn*bn)}function Ir(de,ye,ut){return ut||(ut=Xt),180*Math.atan2(ye[ut[1]]-de[ut[1]],ye[ut[0]]-de[ut[0]])/Math.PI}On.prototype={handler:function(){},init:function(){this.evEl&&ot(this.element,this.evEl,this.domHandler),this.evTarget&&ot(this.target,this.evTarget,this.domHandler),this.evWin&&ot(tt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&qe(this.element,this.evEl,this.domHandler),this.evTarget&&qe(this.target,this.evTarget,this.domHandler),this.evWin&&qe(tt(this.element),this.evWin,this.domHandler)}};var ci={mousedown:he,mousemove:2,mouseup:Nt},Rr="mousedown",ui="mousemove mouseup";function dr(){this.evEl=Rr,this.evWin=ui,this.pressed=!1,On.apply(this,arguments)}At(dr,On,{handler:function(ye){var ut=ci[ye.type];ut&he&&0===ye.button&&(this.pressed=!0),2&ut&&1!==ye.which&&(ut=Nt),this.pressed&&(ut&Nt&&(this.pressed=!1),this.callback(this.manager,ut,{pointers:[ye],changedPointers:[ye],pointerType:Xe,srcEvent:ye}))}});var bi={pointerdown:he,pointermove:2,pointerup:Nt,pointercancel:xt,pointerout:xt},yi={2:Pe,3:"pen",4:Xe,5:"kinect"},di="pointerdown",Zt="pointermove pointerup pointercancel";function ct(){this.evEl=di,this.evWin=Zt,On.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}U.MSPointerEvent&&!U.PointerEvent&&(di="MSPointerDown",Zt="MSPointerMove MSPointerUp MSPointerCancel"),At(ct,On,{handler:function(ye){var ut=this.store,Qt=!1,bn=ye.type.toLowerCase().replace("ms",""),nr=bi[bn],rr=yi[ye.pointerType]||ye.pointerType,Ar=rr==Pe,xn=He(ut,ye.pointerId,"pointerId");nr&he&&(0===ye.button||Ar)?xn<0&&(ut.push(ye),xn=ut.length-1):nr&(Nt|xt)&&(Qt=!0),!(xn<0)&&(ut[xn]=ye,this.callback(this.manager,nr,{pointers:ut,changedPointers:[ye],pointerType:rr,srcEvent:ye}),Qt&&ut.splice(xn,1))}});var Ze={touchstart:he,touchmove:2,touchend:Nt,touchcancel:xt};function Bn(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,On.apply(this,arguments)}function Ge(de,ye){var ut=wt(de.touches),Qt=wt(de.changedTouches);return ye&(Nt|xt)&&(ut=Ke(ut.concat(Qt),"identifier",!0)),[ut,Qt]}At(Bn,On,{handler:function(ye){var ut=Ze[ye.type];if(ut===he&&(this.started=!0),this.started){var Qt=Ge.call(this,ye,ut);ut&(Nt|xt)&&Qt[0].length-Qt[1].length==0&&(this.started=!1),this.callback(this.manager,ut,{pointers:Qt[0],changedPointers:Qt[1],pointerType:Pe,srcEvent:ye})}}});var $e={touchstart:he,touchmove:2,touchend:Nt,touchcancel:xt},vt="touchstart touchmove touchend touchcancel";function en(){this.evTarget=vt,this.targetIds={},On.apply(this,arguments)}function Ot(de,ye){var ut=wt(de.touches),Qt=this.targetIds;if(ye&(2|he)&&1===ut.length)return Qt[ut[0].identifier]=!0,[ut,ut];var bn,nr,rr=wt(de.changedTouches),Ar=[],xn=this.target;if(nr=ut.filter(function(Ei){return nt(Ei.target,xn)}),ye===he)for(bn=0;bn<nr.length;)Qt[nr[bn].identifier]=!0,bn++;for(bn=0;bn<rr.length;)Qt[rr[bn].identifier]&&Ar.push(rr[bn]),ye&(Nt|xt)&&delete Qt[rr[bn].identifier],bn++;return Ar.length?[Ke(nr.concat(Ar),"identifier",!0),Ar]:void 0}At(en,On,{handler:function(ye){var ut=$e[ye.type],Qt=Ot.call(this,ye,ut);Qt&&this.callback(this.manager,ut,{pointers:Qt[0],changedPointers:Qt[1],pointerType:Pe,srcEvent:ye})}});var Pn=2500;function Gr(){On.apply(this,arguments);var de=Pt(this.handler,this);this.touch=new en(this.manager,de),this.mouse=new dr(this.manager,de),this.primaryTouch=null,this.lastTouches=[]}function ai(de,ye){de&he?(this.primaryTouch=ye.changedPointers[0].identifier,kr.call(this,ye)):de&(Nt|xt)&&kr.call(this,ye)}function kr(de){var ye=de.changedPointers[0];if(ye.identifier===this.primaryTouch){var ut={x:ye.clientX,y:ye.clientY};this.lastTouches.push(ut);var Qt=this.lastTouches;setTimeout(function(){var nr=Qt.indexOf(ut);nr>-1&&Qt.splice(nr,1)},Pn)}}function $r(de){for(var ye=de.srcEvent.clientX,ut=de.srcEvent.clientY,Qt=0;Qt<this.lastTouches.length;Qt++){var bn=this.lastTouches[Qt],nr=Math.abs(ye-bn.x),rr=Math.abs(ut-bn.y);if(nr<=25&&rr<=25)return!0}return!1}At(Gr,On,{handler:function(ye,ut,Qt){var nr=Qt.pointerType==Xe;if(!(nr&&Qt.sourceCapabilities&&Qt.sourceCapabilities.firesTouchEvents)){if(Qt.pointerType==Pe)ai.call(this,ut,Qt);else if(nr&&$r.call(this,Qt))return;this.callback(ye,ut,Qt)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Dn=Mt(Z.style,"touchAction"),ri=Dn!==Re,Pi="compute",Gi="manipulation",Kr="none",yr="pan-x",Mi="pan-y",li=function ae(){if(!ri)return!1;var de={},ye=U.CSS&&U.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(ut){de[ut]=!ye||U.CSS.supports("touch-action",ut)}),de}();function mi(de,ye){this.manager=de,this.set(ye)}mi.prototype={set:function(de){de==Pi&&(de=this.compute()),ri&&this.manager.element.style&&li[de]&&(this.manager.element.style[Dn]=de),this.actions=de.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var de=[];return fe(this.manager.recognizers,function(ye){ze(ye.options.enable,[ye])&&(de=de.concat(ye.getTouchAction()))}),function Wt(de){if(bt(de,Kr))return Kr;var ye=bt(de,yr),ut=bt(de,Mi);return ye&&ut?Kr:ye||ut?ye?yr:Mi:bt(de,Gi)?Gi:"auto"}(de.join(" "))},preventDefaults:function(de){var ye=de.srcEvent,ut=de.offsetDirection;if(!this.manager.session.prevented){var Qt=this.actions,bn=bt(Qt,Kr)&&!li[Kr],nr=bt(Qt,Mi)&&!li[Mi],rr=bt(Qt,yr)&&!li[yr];if(bn&&1===de.pointers.length&&de.distance<2&&de.deltaTime<250)return;return rr&&nr||!(bn||nr&&ut&zn||rr&&ut&Yn)?void 0:this.preventSrc(ye)}ye.preventDefault()},preventSrc:function(de){this.manager.session.prevented=!0,de.preventDefault()}};var _e=1;function pe(de){this.options=yt({},this.defaults,de||{}),this.id=function un(){return kt++}(),this.manager=null,this.options.enable=Fe(this.options.enable,!0),this.state=_e,this.simultaneous={},this.requireFail=[]}function Oe(de){return 16&de?"cancel":8&de?"end":4&de?"move":2&de?"start":""}function Je(de){return de==Nn?"down":de==kn?"up":de==Ln?"left":de==qn?"right":""}function Ht(de,ye){var ut=ye.manager;return ut?ut.get(de):de}function Gt(){pe.apply(this,arguments)}function _n(){Gt.apply(this,arguments),this.pX=null,this.pY=null}function St(){Gt.apply(this,arguments)}function Gn(){pe.apply(this,arguments),this._timer=null,this._input=null}function Hn(){Gt.apply(this,arguments)}function Lr(){Gt.apply(this,arguments)}function Mn(){pe.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function In(de,ye){return(ye=ye||{}).recognizers=Fe(ye.recognizers,In.defaults.preset),new Vt(de,ye)}function Vt(de,ye){this.options=yt({},In.defaults,ye||{}),this.options.inputTarget=this.options.inputTarget||de,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=de,this.input=function br(de){return new(de.options.inputClass||(Me?ct:ce?en:Ie?Gr:dr))(de,er)}(this),this.touchAction=new mi(this,this.options.touchAction),Kt(this,!0),fe(this.options.recognizers,function(ut){var Qt=this.add(new ut[0](ut[1]));ut[2]&&Qt.recognizeWith(ut[2]),ut[3]&&Qt.requireFailure(ut[3])},this)}function Kt(de,ye){var Qt,ut=de.element;ut.style&&(fe(de.options.cssProps,function(bn,nr){Qt=Mt(ut.style,nr),ye?(de.oldCssProps[Qt]=ut.style[Qt],ut.style[Qt]=bn):ut.style[Qt]=de.oldCssProps[Qt]||""}),ye||(de.oldCssProps={}))}pe.prototype={defaults:{},set:function(de){return yt(this.options,de),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(de){if(xe(de,"recognizeWith",this))return this;var ye=this.simultaneous;return ye[(de=Ht(de,this)).id]||(ye[de.id]=de,de.recognizeWith(this)),this},dropRecognizeWith:function(de){return xe(de,"dropRecognizeWith",this)||(de=Ht(de,this),delete this.simultaneous[de.id]),this},requireFailure:function(de){if(xe(de,"requireFailure",this))return this;var ye=this.requireFail;return-1===He(ye,de=Ht(de,this))&&(ye.push(de),de.requireFailure(this)),this},dropRequireFailure:function(de){if(xe(de,"dropRequireFailure",this))return this;de=Ht(de,this);var ye=He(this.requireFail,de);return ye>-1&&this.requireFail.splice(ye,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(de){return!!this.simultaneous[de.id]},emit:function(de){var ye=this,ut=this.state;function Qt(bn){ye.manager.emit(bn,de)}ut<8&&Qt(ye.options.event+Oe(ut)),Qt(ye.options.event),de.additionalEvent&&Qt(de.additionalEvent),ut>=8&&Qt(ye.options.event+Oe(ut))},tryEmit:function(de){if(this.canEmit())return this.emit(de);this.state=32},canEmit:function(){for(var de=0;de<this.requireFail.length;){if(!(this.requireFail[de].state&(32|_e)))return!1;de++}return!0},recognize:function(de){var ye=yt({},de);if(!ze(this.options.enable,[this,ye]))return this.reset(),void(this.state=32);56&this.state&&(this.state=_e),this.state=this.process(ye),30&this.state&&this.tryEmit(ye)},process:function(de){},getTouchAction:function(){},reset:function(){}},At(Gt,pe,{defaults:{pointers:1},attrTest:function(de){var ye=this.options.pointers;return 0===ye||de.pointers.length===ye},process:function(de){var ye=this.state,ut=de.eventType,Qt=6&ye,bn=this.attrTest(de);return Qt&&(ut&xt||!bn)?16|ye:Qt||bn?ut&Nt?8|ye:2&ye?4|ye:2:32}}),At(_n,Gt,{defaults:{event:"pan",threshold:10,pointers:1,direction:ft},getTouchAction:function(){var de=this.options.direction,ye=[];return de&zn&&ye.push(Mi),de&Yn&&ye.push(yr),ye},directionTest:function(de){var ye=this.options,ut=!0,Qt=de.distance,bn=de.direction,nr=de.deltaX,rr=de.deltaY;return bn&ye.direction||(ye.direction&zn?(bn=0===nr?hn:nr<0?Ln:qn,ut=nr!=this.pX,Qt=Math.abs(de.deltaX)):(bn=0===rr?hn:rr<0?kn:Nn,ut=rr!=this.pY,Qt=Math.abs(de.deltaY))),de.direction=bn,ut&&Qt>ye.threshold&&bn&ye.direction},attrTest:function(de){return Gt.prototype.attrTest.call(this,de)&&(2&this.state||!(2&this.state)&&this.directionTest(de))},emit:function(de){this.pX=de.deltaX,this.pY=de.deltaY;var ye=Je(de.direction);ye&&(de.additionalEvent=this.options.event+ye),this._super.emit.call(this,de)}}),At(St,Gt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Kr]},attrTest:function(de){return this._super.attrTest.call(this,de)&&(Math.abs(de.scale-1)>this.options.threshold||2&this.state)},emit:function(de){1!==de.scale&&(de.additionalEvent=this.options.event+(de.scale<1?"in":"out")),this._super.emit.call(this,de)}}),At(Gn,pe,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(de){var ye=this.options,ut=de.pointers.length===ye.pointers,Qt=de.distance<ye.threshold,bn=de.deltaTime>ye.time;if(this._input=de,!Qt||!ut||de.eventType&(Nt|xt)&&!bn)this.reset();else if(de.eventType&he)this.reset(),this._timer=ke(function(){this.state=8,this.tryEmit()},ye.time,this);else if(de.eventType&Nt)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(de){8===this.state&&(de&&de.eventType&Nt?this.manager.emit(this.options.event+"up",de):(this._input.timeStamp=ue(),this.manager.emit(this.options.event,this._input)))}}),At(Hn,Gt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Kr]},attrTest:function(de){return this._super.attrTest.call(this,de)&&(Math.abs(de.rotation)>this.options.threshold||2&this.state)}}),At(Lr,Gt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:zn|Yn,pointers:1},getTouchAction:function(){return _n.prototype.getTouchAction.call(this)},attrTest:function(de){var ut,ye=this.options.direction;return ye&(zn|Yn)?ut=de.overallVelocity:ye&zn?ut=de.overallVelocityX:ye&Yn&&(ut=de.overallVelocityY),this._super.attrTest.call(this,de)&&ye&de.offsetDirection&&de.distance>this.options.threshold&&de.maxPointers==this.options.pointers&&Te(ut)>this.options.velocity&&de.eventType&Nt},emit:function(de){var ye=Je(de.offsetDirection);ye&&this.manager.emit(this.options.event+ye,de),this.manager.emit(this.options.event,de)}}),At(Mn,pe,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Gi]},process:function(de){var ye=this.options,ut=de.pointers.length===ye.pointers,Qt=de.distance<ye.threshold,bn=de.deltaTime<ye.time;if(this.reset(),de.eventType&he&&0===this.count)return this.failTimeout();if(Qt&&bn&&ut){if(de.eventType!=Nt)return this.failTimeout();var nr=!this.pTime||de.timeStamp-this.pTime<ye.interval,rr=!this.pCenter||Hr(this.pCenter,de.center)<ye.posThreshold;if(this.pTime=de.timeStamp,this.pCenter=de.center,rr&&nr?this.count+=1:this.count=1,this._input=de,0==this.count%ye.taps)return this.hasRequireFailures()?(this._timer=ke(function(){this.state=8,this.tryEmit()},ye.interval,this),2):8}return 32},failTimeout:function(){return this._timer=ke(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),In.VERSION="2.0.7",In.defaults={domEvents:!1,touchAction:Pi,enable:!0,inputTarget:null,inputClass:null,preset:[[Hn,{enable:!1}],[St,{enable:!1},["rotate"]],[Lr,{direction:zn}],[_n,{direction:zn},["swipe"]],[Mn],[Mn,{event:"doubletap",taps:2},["tap"]],[Gn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Vt.prototype={set:function(de){return yt(this.options,de),de.touchAction&&this.touchAction.update(),de.inputTarget&&(this.input.destroy(),this.input.target=de.inputTarget,this.input.init()),this},stop:function(de){this.session.stopped=de?2:1},recognize:function(de){var ye=this.session;if(!ye.stopped){this.touchAction.preventDefaults(de);var ut,Qt=this.recognizers,bn=ye.curRecognizer;(!bn||bn&&8&bn.state)&&(bn=ye.curRecognizer=null);for(var nr=0;nr<Qt.length;)ut=Qt[nr],2===ye.stopped||bn&&ut!=bn&&!ut.canRecognizeWith(bn)?ut.reset():ut.recognize(de),!bn&&14&ut.state&&(bn=ye.curRecognizer=ut),nr++}},get:function(de){if(de instanceof pe)return de;for(var ye=this.recognizers,ut=0;ut<ye.length;ut++)if(ye[ut].options.event==de)return ye[ut];return null},add:function(de){if(xe(de,"add",this))return this;var ye=this.get(de.options.event);return ye&&this.remove(ye),this.recognizers.push(de),de.manager=this,this.touchAction.update(),de},remove:function(de){if(xe(de,"remove",this))return this;if(de=this.get(de)){var ye=this.recognizers,ut=He(ye,de);-1!==ut&&(ye.splice(ut,1),this.touchAction.update())}return this},on:function(de,ye){if(de!==Re&&ye!==Re){var ut=this.handlers;return fe(H(de),function(Qt){ut[Qt]=ut[Qt]||[],ut[Qt].push(ye)}),this}},off:function(de,ye){if(de!==Re){var ut=this.handlers;return fe(H(de),function(Qt){ye?ut[Qt]&&ut[Qt].splice(He(ut[Qt],ye),1):delete ut[Qt]}),this}},emit:function(de,ye){this.options.domEvents&&function xr(de,ye){var ut=J.createEvent("Event");ut.initEvent(de,!0,!0),ut.gesture=ye,ye.target.dispatchEvent(ut)}(de,ye);var ut=this.handlers[de]&&this.handlers[de].slice();if(ut&&ut.length){ye.type=de,ye.preventDefault=function(){ye.srcEvent.preventDefault()};for(var Qt=0;Qt<ut.length;)ut[Qt](ye),Qt++}},destroy:function(){this.element&&Kt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},yt(In,{INPUT_START:he,INPUT_MOVE:2,INPUT_END:Nt,INPUT_CANCEL:xt,STATE_POSSIBLE:_e,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:hn,DIRECTION_LEFT:Ln,DIRECTION_RIGHT:qn,DIRECTION_UP:kn,DIRECTION_DOWN:Nn,DIRECTION_HORIZONTAL:zn,DIRECTION_VERTICAL:Yn,DIRECTION_ALL:ft,Manager:Vt,Input:On,TouchAction:mi,TouchInput:en,MouseInput:dr,PointerEventInput:ct,TouchMouseInput:Gr,SingleTouchInput:Bn,Recognizer:pe,AttrRecognizer:Gt,Tap:Mn,Pan:_n,Swipe:Lr,Pinch:St,Rotate:Hn,Press:Gn,on:ot,off:qe,each:fe,merge:We,extend:it,assign:yt,inherit:At,bindFn:Pt,prefixed:Mt}),(typeof U<"u"?U:typeof self<"u"?self:{}).Hammer=In,(l=function(){return In}.call(ht,N,ht,En))!==Re&&(En.exports=l)}(window,document)},4412:(En,ht,N)=>{"use strict";N.d(ht,{t:()=>U});var l=N(1413);class U extends l.B{constructor(G){super(),this._value=G}get value(){return this.getValue()}_subscribe(G){const Re=super._subscribe(G);return!Re.closed&&G.next(this._value),Re}getValue(){const{hasError:G,thrownError:Re,_value:we}=this;if(G)throw Re;return this._throwIfClosed(),we}next(G){super.next(this._value=G)}}},1985:(En,ht,N)=>{"use strict";N.d(ht,{c:()=>be});var l=N(7707),U=N(8359),J=N(3494),G=N(1203),Re=N(1026),we=N(8071),Z=N(9786);let be=(()=>{class ke{constructor(fe){fe&&(this._subscribe=fe)}lift(fe){const rt=new ke;return rt.source=this,rt.operator=fe,rt}subscribe(fe,rt,yt){const it=function ue(ke){return ke&&ke instanceof l.vU||function Te(ke){return ke&&(0,we.T)(ke.next)&&(0,we.T)(ke.error)&&(0,we.T)(ke.complete)}(ke)&&(0,U.Uv)(ke)}(fe)?fe:new l.Ms(fe,rt,yt);return(0,Z.Y)(()=>{const{operator:We,source:At}=this;it.add(We?We.call(it,At):At?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(fe){try{return this._subscribe(fe)}catch(rt){fe.error(rt)}}forEach(fe,rt){return new(rt=ve(rt))((yt,it)=>{const We=new l.Ms({next:At=>{try{fe(At)}catch(Pt){it(Pt),We.unsubscribe()}},error:it,complete:yt});this.subscribe(We)})}_subscribe(fe){var rt;return null===(rt=this.source)||void 0===rt?void 0:rt.subscribe(fe)}[J.s](){return this}pipe(...fe){return(0,G.m)(fe)(this)}toPromise(fe){return new(fe=ve(fe))((rt,yt)=>{let it;this.subscribe(We=>it=We,We=>yt(We),()=>rt(it))})}}return ke.create=xe=>new ke(xe),ke})();function ve(ke){var xe;return null!==(xe=ke??Re.$.Promise)&&void 0!==xe?xe:Promise}},1413:(En,ht,N)=>{"use strict";N.d(ht,{B:()=>Z});var l=N(1985),U=N(8359);const G=(0,N(1853).L)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=N(7908),we=N(9786);let Z=(()=>{class ve extends l.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const ke=new be(this,this);return ke.operator=ue,ke}_throwIfClosed(){if(this.closed)throw new G}next(ue){(0,we.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ke of this.currentObservers)ke.next(ue)}})}error(ue){(0,we.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:ke}=this;for(;ke.length;)ke.shift().error(ue)}})}complete(){(0,we.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:ke,isStopped:xe,observers:fe}=this;return ke||xe?U.Kn:(this.currentObservers=null,fe.push(ue),new U.yU(()=>{this.currentObservers=null,(0,Re.o)(fe,ue)}))}_checkFinalizedStatuses(ue){const{hasError:ke,thrownError:xe,isStopped:fe}=this;ke?ue.error(xe):fe&&ue.complete()}asObservable(){const ue=new l.c;return ue.source=this,ue}}return ve.create=(Te,ue)=>new be(Te,ue),ve})();class be extends Z{constructor(Te,ue){super(),this.destination=Te,this.source=ue}next(Te){var ue,ke;null===(ke=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===ke||ke.call(ue,Te)}error(Te){var ue,ke;null===(ke=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===ke||ke.call(ue,Te)}complete(){var Te,ue;null===(ue=null===(Te=this.destination)||void 0===Te?void 0:Te.complete)||void 0===ue||ue.call(Te)}_subscribe(Te){var ue,ke;return null!==(ke=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(Te))&&void 0!==ke?ke:U.Kn}}},7707:(En,ht,N)=>{"use strict";N.d(ht,{Ms:()=>yt,vU:()=>ke});var l=N(8071),U=N(8359),J=N(1026),G=N(5334),Re=N(5343);const we=ve("C",void 0,void 0);function ve(ze,Fe,ot){return{kind:ze,value:Fe,error:ot}}var Te=N(9270),ue=N(9786);class ke extends U.yU{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,U.Uv)(Fe)&&Fe.add(this)):this.destination=Pt}static create(Fe,ot,qe){return new yt(Fe,ot,qe)}next(Fe){this.isStopped?At(function be(ze){return ve("N",ze,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?At(function Z(ze){return ve("E",void 0,ze)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?At(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xe=Function.prototype.bind;function fe(ze,Fe){return xe.call(ze,Fe)}class rt{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:ot}=this;if(ot.next)try{ot.next(Fe)}catch(qe){it(qe)}}error(Fe){const{partialObserver:ot}=this;if(ot.error)try{ot.error(Fe)}catch(qe){it(qe)}else it(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(ot){it(ot)}}}class yt extends ke{constructor(Fe,ot,qe){let nt;if(super(),(0,l.T)(Fe)||!Fe)nt={next:Fe??void 0,error:ot??void 0,complete:qe??void 0};else{let bt;this&&J.$.useDeprecatedNextContext?(bt=Object.create(Fe),bt.unsubscribe=()=>this.unsubscribe(),nt={next:Fe.next&&fe(Fe.next,bt),error:Fe.error&&fe(Fe.error,bt),complete:Fe.complete&&fe(Fe.complete,bt)}):nt=Fe}this.destination=new rt(nt)}}function it(ze){J.$.useDeprecatedSynchronousErrorHandling?(0,ue.l)(ze):(0,G.m)(ze)}function At(ze,Fe){const{onStoppedNotification:ot}=J.$;ot&&Te.f.setTimeout(()=>ot(ze,Fe))}const Pt={closed:!0,next:Re.l,error:function We(ze){throw ze},complete:Re.l}},8359:(En,ht,N)=>{"use strict";N.d(ht,{Kn:()=>we,yU:()=>Re,Uv:()=>Z});var l=N(8071);const J=(0,N(1853).L)(ve=>function(ue){ve(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((ke,xe)=>`${xe+1}) ${ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var G=N(7908);class Re{constructor(Te){this.initialTeardown=Te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Te;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const fe of ue)fe.remove(this);else ue.remove(this);const{initialTeardown:ke}=this;if((0,l.T)(ke))try{ke()}catch(fe){Te=fe instanceof J?fe.errors:[fe]}const{_finalizers:xe}=this;if(xe){this._finalizers=null;for(const fe of xe)try{be(fe)}catch(rt){Te=Te??[],rt instanceof J?Te=[...Te,...rt.errors]:Te.push(rt)}}if(Te)throw new J(Te)}}add(Te){var ue;if(Te&&Te!==this)if(this.closed)be(Te);else{if(Te instanceof Re){if(Te.closed||Te._hasParent(this))return;Te._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(Te)}}_hasParent(Te){const{_parentage:ue}=this;return ue===Te||Array.isArray(ue)&&ue.includes(Te)}_addParent(Te){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(Te),ue):ue?[ue,Te]:Te}_removeParent(Te){const{_parentage:ue}=this;ue===Te?this._parentage=null:Array.isArray(ue)&&(0,G.o)(ue,Te)}remove(Te){const{_finalizers:ue}=this;ue&&(0,G.o)(ue,Te),Te instanceof Re&&Te._removeParent(this)}}Re.EMPTY=(()=>{const ve=new Re;return ve.closed=!0,ve})();const we=Re.EMPTY;function Z(ve){return ve instanceof Re||ve&&"closed"in ve&&(0,l.T)(ve.remove)&&(0,l.T)(ve.add)&&(0,l.T)(ve.unsubscribe)}function be(ve){(0,l.T)(ve)?ve():ve.unsubscribe()}},1026:(En,ht,N)=>{"use strict";N.d(ht,{$:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(En,ht,N)=>{"use strict";N.d(ht,{z:()=>Te});var l=N(1985),U=N(3073),J=N(8455),G=N(3669),Re=N(6450),we=N(3794),Z=N(8496),be=N(4360),ve=N(5225);function Te(...xe){const fe=(0,we.lI)(xe),rt=(0,we.ms)(xe),{args:yt,keys:it}=(0,U.D)(xe);if(0===yt.length)return(0,J.H)([],fe);const We=new l.c(function ue(xe,fe,rt=G.D){return yt=>{ke(fe,()=>{const{length:it}=xe,We=new Array(it);let At=it,Pt=it;for(let ze=0;ze<it;ze++)ke(fe,()=>{const Fe=(0,J.H)(xe[ze],fe);let ot=!1;Fe.subscribe((0,be._)(yt,qe=>{We[ze]=qe,ot||(ot=!0,Pt--),Pt||yt.next(rt(We.slice()))},()=>{--At||yt.complete()}))},yt)},yt)}}(yt,fe,it?At=>(0,Z.e)(it,At):G.D));return rt?We.pipe((0,Re.I)(rt)):We}function ke(xe,fe,rt){xe?(0,ve.N)(rt,xe,fe):fe()}},8793:(En,ht,N)=>{"use strict";N.d(ht,{x:()=>Re});var l=N(6365),J=N(3794),G=N(8455);function Re(...we){return function U(){return(0,l.U)(1)}()((0,G.H)(we,(0,J.lI)(we)))}},9030:(En,ht,N)=>{"use strict";N.d(ht,{v:()=>J});var l=N(1985),U=N(8750);function J(G){return new l.c(Re=>{(0,U.Tg)(G()).subscribe(Re)})}},983:(En,ht,N)=>{"use strict";N.d(ht,{w:()=>U});const U=new(N(1985).c)(Re=>Re.complete())},7468:(En,ht,N)=>{"use strict";N.d(ht,{p:()=>be});var l=N(1985),U=N(3073),J=N(8750),G=N(3794),Re=N(4360),we=N(6450),Z=N(8496);function be(...ve){const Te=(0,G.ms)(ve),{args:ue,keys:ke}=(0,U.D)(ve),xe=new l.c(fe=>{const{length:rt}=ue;if(!rt)return void fe.complete();const yt=new Array(rt);let it=rt,We=rt;for(let At=0;At<rt;At++){let Pt=!1;(0,J.Tg)(ue[At]).subscribe((0,Re._)(fe,ze=>{Pt||(Pt=!0,We--),yt[At]=ze},()=>it--,void 0,()=>{(!it||!Pt)&&(We||fe.next(ke?(0,Z.e)(ke,yt):yt),fe.complete())}))}});return Te?xe.pipe((0,we.I)(Te)):xe}},8455:(En,ht,N)=>{"use strict";N.d(ht,{H:()=>Fe});var l=N(8750),U=N(941),J=N(6745),we=N(1985),be=N(4761),ve=N(8071),Te=N(5225);function ke(ot,qe){if(!ot)throw new Error("Iterable cannot be null");return new we.c(nt=>{(0,Te.N)(nt,qe,()=>{const bt=ot[Symbol.asyncIterator]();(0,Te.N)(nt,qe,()=>{bt.next().then(H=>{H.done?nt.complete():nt.next(H.value)})},0,!0)})})}var xe=N(5055),fe=N(9858),rt=N(7441),yt=N(5397),it=N(7953),We=N(591),At=N(5196);function Fe(ot,qe){return qe?function ze(ot,qe){if(null!=ot){if((0,xe.l)(ot))return function G(ot,qe){return(0,l.Tg)(ot).pipe((0,J._)(qe),(0,U.Q)(qe))}(ot,qe);if((0,rt.X)(ot))return function Z(ot,qe){return new we.c(nt=>{let bt=0;return qe.schedule(function(){bt===ot.length?nt.complete():(nt.next(ot[bt++]),nt.closed||this.schedule())})})}(ot,qe);if((0,fe.y)(ot))return function Re(ot,qe){return(0,l.Tg)(ot).pipe((0,J._)(qe),(0,U.Q)(qe))}(ot,qe);if((0,it.T)(ot))return ke(ot,qe);if((0,yt.x)(ot))return function ue(ot,qe){return new we.c(nt=>{let bt;return(0,Te.N)(nt,qe,()=>{bt=ot[be.l](),(0,Te.N)(nt,qe,()=>{let H,He;try{({value:H,done:He}=bt.next())}catch(wt){return void nt.error(wt)}He?nt.complete():nt.next(H)},0,!0)}),()=>(0,ve.T)(bt?.return)&&bt.return()})}(ot,qe);if((0,At.U)(ot))return function Pt(ot,qe){return ke((0,At.C)(ot),qe)}(ot,qe)}throw(0,We.L)(ot)}(ot,qe):(0,l.Tg)(ot)}},3726:(En,ht,N)=>{"use strict";N.d(ht,{R:()=>Te});var l=N(8750),U=N(1985),J=N(1397),G=N(7441),Re=N(8071),we=N(6450);const Z=["addListener","removeListener"],be=["addEventListener","removeEventListener"],ve=["on","off"];function Te(rt,yt,it,We){if((0,Re.T)(it)&&(We=it,it=void 0),We)return Te(rt,yt,it).pipe((0,we.I)(We));const[At,Pt]=function fe(rt){return(0,Re.T)(rt.addEventListener)&&(0,Re.T)(rt.removeEventListener)}(rt)?be.map(ze=>Fe=>rt[ze](yt,Fe,it)):function ke(rt){return(0,Re.T)(rt.addListener)&&(0,Re.T)(rt.removeListener)}(rt)?Z.map(ue(rt,yt)):function xe(rt){return(0,Re.T)(rt.on)&&(0,Re.T)(rt.off)}(rt)?ve.map(ue(rt,yt)):[];if(!At&&(0,G.X)(rt))return(0,J.Z)(ze=>Te(ze,yt,it))((0,l.Tg)(rt));if(!At)throw new TypeError("Invalid event target");return new U.c(ze=>{const Fe=(...ot)=>ze.next(1<ot.length?ot:ot[0]);return At(Fe),()=>Pt(Fe)})}function ue(rt,yt){return it=>We=>rt[it](yt,We)}},8750:(En,ht,N)=>{"use strict";N.d(ht,{Tg:()=>xe});var l=N(1635),U=N(7441),J=N(9858),G=N(1985),Re=N(5055),we=N(7953),Z=N(591),be=N(5397),ve=N(5196),Te=N(8071),ue=N(5334),ke=N(3494);function xe(ze){if(ze instanceof G.c)return ze;if(null!=ze){if((0,Re.l)(ze))return function fe(ze){return new G.c(Fe=>{const ot=ze[ke.s]();if((0,Te.T)(ot.subscribe))return ot.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,U.X)(ze))return function rt(ze){return new G.c(Fe=>{for(let ot=0;ot<ze.length&&!Fe.closed;ot++)Fe.next(ze[ot]);Fe.complete()})}(ze);if((0,J.y)(ze))return function yt(ze){return new G.c(Fe=>{ze.then(ot=>{Fe.closed||(Fe.next(ot),Fe.complete())},ot=>Fe.error(ot)).then(null,ue.m)})}(ze);if((0,we.T)(ze))return We(ze);if((0,be.x)(ze))return function it(ze){return new G.c(Fe=>{for(const ot of ze)if(Fe.next(ot),Fe.closed)return;Fe.complete()})}(ze);if((0,ve.U)(ze))return function At(ze){return We((0,ve.C)(ze))}(ze)}throw(0,Z.L)(ze)}function We(ze){return new G.c(Fe=>{(function Pt(ze,Fe){var ot,qe,nt,bt;return(0,l.sH)(this,void 0,void 0,function*(){try{for(ot=(0,l.xN)(ze);!(qe=yield ot.next()).done;)if(Fe.next(qe.value),Fe.closed)return}catch(H){nt={error:H}}finally{try{qe&&!qe.done&&(bt=ot.return)&&(yield bt.call(ot))}finally{if(nt)throw nt.error}}Fe.complete()})})(ze,Fe).catch(ot=>Fe.error(ot))})}},7786:(En,ht,N)=>{"use strict";N.d(ht,{h:()=>we});var l=N(6365),U=N(8750),J=N(983),G=N(3794),Re=N(8455);function we(...Z){const be=(0,G.lI)(Z),ve=(0,G.R0)(Z,1/0),Te=Z;return Te.length?1===Te.length?(0,U.Tg)(Te[0]):(0,l.U)(ve)((0,Re.H)(Te,be)):J.w}},7673:(En,ht,N)=>{"use strict";N.d(ht,{of:()=>J});var l=N(3794),U=N(8455);function J(...G){const Re=(0,l.lI)(G);return(0,U.H)(G,Re)}},4360:(En,ht,N)=>{"use strict";N.d(ht,{_:()=>U});var l=N(7707);function U(G,Re,we,Z,be){return new J(G,Re,we,Z,be)}class J extends l.vU{constructor(Re,we,Z,be,ve,Te){super(Re),this.onFinalize=ve,this.shouldUnsubscribe=Te,this._next=we?function(ue){try{we(ue)}catch(ke){Re.error(ke)}}:super._next,this._error=be?function(ue){try{be(ue)}catch(ke){Re.error(ke)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(ue){Re.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(Re=this.onFinalize)||void 0===Re||Re.call(this))}}}},274:(En,ht,N)=>{"use strict";N.d(ht,{H:()=>J});var l=N(1397),U=N(8071);function J(G,Re){return(0,U.T)(Re)?(0,l.Z)(G,Re,1):(0,l.Z)(G,1)}},9901:(En,ht,N)=>{"use strict";N.d(ht,{U:()=>J});var l=N(9974),U=N(4360);function J(G){return(0,l.N)((Re,we)=>{let Z=!1;Re.subscribe((0,U._)(we,be=>{Z=!0,we.next(be)},()=>{Z||we.next(G),we.complete()}))})}},3294:(En,ht,N)=>{"use strict";N.d(ht,{F:()=>G});var l=N(3669),U=N(9974),J=N(4360);function G(we,Z=l.D){return we=we??Re,(0,U.N)((be,ve)=>{let Te,ue=!0;be.subscribe((0,J._)(ve,ke=>{const xe=Z(ke);(ue||!we(Te,xe))&&(ue=!1,Te=xe,ve.next(ke))}))})}function Re(we,Z){return we===Z}},5964:(En,ht,N)=>{"use strict";N.d(ht,{p:()=>J});var l=N(9974),U=N(4360);function J(G,Re){return(0,l.N)((we,Z)=>{let be=0;we.subscribe((0,U._)(Z,ve=>G.call(Re,ve,be++)&&Z.next(ve)))})}},980:(En,ht,N)=>{"use strict";N.d(ht,{j:()=>U});var l=N(9974);function U(J){return(0,l.N)((G,Re)=>{try{G.subscribe(Re)}finally{Re.add(J)}})}},1594:(En,ht,N)=>{"use strict";N.d(ht,{$:()=>Z});var l=N(9350),U=N(5964),J=N(6697),G=N(9901),Re=N(3774),we=N(3669);function Z(be,ve){const Te=arguments.length>=2;return ue=>ue.pipe(be?(0,U.p)((ke,xe)=>be(ke,xe,ue)):we.D,(0,J.s)(1),Te?(0,G.U)(ve):(0,Re.v)(()=>new l.G))}},6354:(En,ht,N)=>{"use strict";N.d(ht,{T:()=>J});var l=N(9974),U=N(4360);function J(G,Re){return(0,l.N)((we,Z)=>{let be=0;we.subscribe((0,U._)(Z,ve=>{Z.next(G.call(Re,ve,be++))}))})}},6365:(En,ht,N)=>{"use strict";N.d(ht,{U:()=>J});var l=N(1397),U=N(3669);function J(G=1/0){return(0,l.Z)(U.D,G)}},1397:(En,ht,N)=>{"use strict";N.d(ht,{Z:()=>be});var l=N(6354),U=N(8750),J=N(9974),G=N(5225),Re=N(4360),Z=N(8071);function be(ve,Te,ue=1/0){return(0,Z.T)(Te)?be((ke,xe)=>(0,l.T)((fe,rt)=>Te(ke,fe,xe,rt))((0,U.Tg)(ve(ke,xe))),ue):("number"==typeof Te&&(ue=Te),(0,J.N)((ke,xe)=>function we(ve,Te,ue,ke,xe,fe,rt,yt){const it=[];let We=0,At=0,Pt=!1;const ze=()=>{Pt&&!it.length&&!We&&Te.complete()},Fe=qe=>We<ke?ot(qe):it.push(qe),ot=qe=>{fe&&Te.next(qe),We++;let nt=!1;(0,U.Tg)(ue(qe,At++)).subscribe((0,Re._)(Te,bt=>{xe?.(bt),fe?Fe(bt):Te.next(bt)},()=>{nt=!0},void 0,()=>{if(nt)try{for(We--;it.length&&We<ke;){const bt=it.shift();rt?(0,G.N)(Te,rt,()=>ot(bt)):ot(bt)}ze()}catch(bt){Te.error(bt)}}))};return ve.subscribe((0,Re._)(Te,Fe,()=>{Pt=!0,ze()})),()=>{yt?.()}}(ke,xe,ve,ue)))}},941:(En,ht,N)=>{"use strict";N.d(ht,{Q:()=>G});var l=N(5225),U=N(9974),J=N(4360);function G(Re,we=0){return(0,U.N)((Z,be)=>{Z.subscribe((0,J._)(be,ve=>(0,l.N)(be,Re,()=>be.next(ve),we),()=>(0,l.N)(be,Re,()=>be.complete(),we),ve=>(0,l.N)(be,Re,()=>be.error(ve),we)))})}},2816:(En,ht,N)=>{"use strict";N.d(ht,{S:()=>G});var l=N(9974),U=N(4360);function G(Re,we){return(0,l.N)(function J(Re,we,Z,be,ve){return(Te,ue)=>{let ke=Z,xe=we,fe=0;Te.subscribe((0,U._)(ue,rt=>{const yt=fe++;xe=ke?Re(xe,rt,yt):(ke=!0,rt),be&&ue.next(xe)},ve&&(()=>{ke&&ue.next(xe),ue.complete()})))}}(Re,we,arguments.length>=2,!0))}},7647:(En,ht,N)=>{"use strict";N.d(ht,{u:()=>Re});var l=N(8750),U=N(1413),J=N(7707),G=N(9974);function Re(Z={}){const{connector:be=()=>new U.B,resetOnError:ve=!0,resetOnComplete:Te=!0,resetOnRefCountZero:ue=!0}=Z;return ke=>{let xe,fe,rt,yt=0,it=!1,We=!1;const At=()=>{fe?.unsubscribe(),fe=void 0},Pt=()=>{At(),xe=rt=void 0,it=We=!1},ze=()=>{const Fe=xe;Pt(),Fe?.unsubscribe()};return(0,G.N)((Fe,ot)=>{yt++,!We&&!it&&At();const qe=rt=rt??be();ot.add(()=>{yt--,0===yt&&!We&&!it&&(fe=we(ze,ue))}),qe.subscribe(ot),!xe&&yt>0&&(xe=new J.Ms({next:nt=>qe.next(nt),error:nt=>{We=!0,At(),fe=we(Pt,ve,nt),qe.error(nt)},complete:()=>{it=!0,At(),fe=we(Pt,Te),qe.complete()}}),(0,l.Tg)(Fe).subscribe(xe))})(ke)}}function we(Z,be,...ve){if(!0===be)return void Z();if(!1===be)return;const Te=new J.Ms({next:()=>{Te.unsubscribe(),Z()}});return(0,l.Tg)(be(...ve)).subscribe(Te)}},6496:(En,ht,N)=>{"use strict";N.d(ht,{t:()=>Re});var l=N(1413),U=N(6129);class J extends l.B{constructor(Z=1/0,be=1/0,ve=U.U){super(),this._bufferSize=Z,this._windowTime=be,this._timestampProvider=ve,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=be===1/0,this._bufferSize=Math.max(1,Z),this._windowTime=Math.max(1,be)}next(Z){const{isStopped:be,_buffer:ve,_infiniteTimeWindow:Te,_timestampProvider:ue,_windowTime:ke}=this;be||(ve.push(Z),!Te&&ve.push(ue.now()+ke)),this._trimBuffer(),super.next(Z)}_subscribe(Z){this._throwIfClosed(),this._trimBuffer();const be=this._innerSubscribe(Z),{_infiniteTimeWindow:ve,_buffer:Te}=this,ue=Te.slice();for(let ke=0;ke<ue.length&&!Z.closed;ke+=ve?1:2)Z.next(ue[ke]);return this._checkFinalizedStatuses(Z),be}_trimBuffer(){const{_bufferSize:Z,_timestampProvider:be,_buffer:ve,_infiniteTimeWindow:Te}=this,ue=(Te?1:2)*Z;if(Z<1/0&&ue<ve.length&&ve.splice(0,ve.length-ue),!Te){const ke=be.now();let xe=0;for(let fe=1;fe<ve.length&&ve[fe]<=ke;fe+=2)xe=fe;xe&&ve.splice(0,xe+1)}}}var G=N(7647);function Re(we,Z,be){let ve,Te=!1;return we&&"object"==typeof we?({bufferSize:ve=1/0,windowTime:Z=1/0,refCount:Te=!1,scheduler:be}=we):ve=we??1/0,(0,G.u)({connector:()=>new J(ve,Z,be),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Te})}},9172:(En,ht,N)=>{"use strict";N.d(ht,{Z:()=>G});var l=N(8793),U=N(3794),J=N(9974);function G(...Re){const we=(0,U.lI)(Re);return(0,J.N)((Z,be)=>{(we?(0,l.x)(Re,Z,we):(0,l.x)(Re,Z)).subscribe(be)})}},6745:(En,ht,N)=>{"use strict";N.d(ht,{_:()=>U});var l=N(9974);function U(J,G=0){return(0,l.N)((Re,we)=>{we.add(J.schedule(()=>Re.subscribe(we),G))})}},5558:(En,ht,N)=>{"use strict";N.d(ht,{n:()=>G});var l=N(8750),U=N(9974),J=N(4360);function G(Re,we){return(0,U.N)((Z,be)=>{let ve=null,Te=0,ue=!1;const ke=()=>ue&&!ve&&be.complete();Z.subscribe((0,J._)(be,xe=>{ve?.unsubscribe();let fe=0;const rt=Te++;(0,l.Tg)(Re(xe,rt)).subscribe(ve=(0,J._)(be,yt=>be.next(we?we(xe,yt,rt,fe++):yt),()=>{ve=null,ke()}))},()=>{ue=!0,ke()}))})}},6697:(En,ht,N)=>{"use strict";N.d(ht,{s:()=>G});var l=N(983),U=N(9974),J=N(4360);function G(Re){return Re<=0?()=>l.w:(0,U.N)((we,Z)=>{let be=0;we.subscribe((0,J._)(Z,ve=>{++be<=Re&&(Z.next(ve),Re<=be&&Z.complete())}))})}},8141:(En,ht,N)=>{"use strict";N.d(ht,{M:()=>Re});var l=N(8071),U=N(9974),J=N(4360),G=N(3669);function Re(we,Z,be){const ve=(0,l.T)(we)||Z||be?{next:we,error:Z,complete:be}:we;return ve?(0,U.N)((Te,ue)=>{var ke;null===(ke=ve.subscribe)||void 0===ke||ke.call(ve);let xe=!0;Te.subscribe((0,J._)(ue,fe=>{var rt;null===(rt=ve.next)||void 0===rt||rt.call(ve,fe),ue.next(fe)},()=>{var fe;xe=!1,null===(fe=ve.complete)||void 0===fe||fe.call(ve),ue.complete()},fe=>{var rt;xe=!1,null===(rt=ve.error)||void 0===rt||rt.call(ve,fe),ue.error(fe)},()=>{var fe,rt;xe&&(null===(fe=ve.unsubscribe)||void 0===fe||fe.call(ve)),null===(rt=ve.finalize)||void 0===rt||rt.call(ve)}))}):G.D}},3774:(En,ht,N)=>{"use strict";N.d(ht,{v:()=>G});var l=N(9350),U=N(9974),J=N(4360);function G(we=Re){return(0,U.N)((Z,be)=>{let ve=!1;Z.subscribe((0,J._)(be,Te=>{ve=!0,be.next(Te)},()=>ve?be.complete():be.error(we())))})}function Re(){return new l.G}},6780:(En,ht,N)=>{"use strict";N.d(ht,{R:()=>Re});var l=N(8359);class U extends l.yU{constructor(Z,be){super()}schedule(Z,be=0){return this}}const J={setInterval(we,Z,...be){const{delegate:ve}=J;return ve?.setInterval?ve.setInterval(we,Z,...be):setInterval(we,Z,...be)},clearInterval(we){const{delegate:Z}=J;return(Z?.clearInterval||clearInterval)(we)},delegate:void 0};var G=N(7908);class Re extends U{constructor(Z,be){super(Z,be),this.scheduler=Z,this.work=be,this.pending=!1}schedule(Z,be=0){var ve;if(this.closed)return this;this.state=Z;const Te=this.id,ue=this.scheduler;return null!=Te&&(this.id=this.recycleAsyncId(ue,Te,be)),this.pending=!0,this.delay=be,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(ue,this.id,be),this}requestAsyncId(Z,be,ve=0){return J.setInterval(Z.flush.bind(Z,this),ve)}recycleAsyncId(Z,be,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return be;null!=be&&J.clearInterval(be)}execute(Z,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(Z,be);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Z,be){let Te,ve=!1;try{this.work(Z)}catch(ue){ve=!0,Te=ue||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),Te}unsubscribe(){if(!this.closed){const{id:Z,scheduler:be}=this,{actions:ve}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.o)(ve,this),null!=Z&&(this.id=this.recycleAsyncId(be,Z,null)),this.delay=null,super.unsubscribe()}}}},9687:(En,ht,N)=>{"use strict";N.d(ht,{q:()=>J});var l=N(6129);class U{constructor(Re,we=U.now){this.schedulerActionCtor=Re,this.now=we}schedule(Re,we=0,Z){return new this.schedulerActionCtor(this,Re).schedule(Z,we)}}U.now=l.U.now;class J extends U{constructor(Re,we=U.now){super(Re,we),this.actions=[],this._active=!1}flush(Re){const{actions:we}=this;if(this._active)return void we.push(Re);let Z;this._active=!0;do{if(Z=Re.execute(Re.state,Re.delay))break}while(Re=we.shift());if(this._active=!1,Z){for(;Re=we.shift();)Re.unsubscribe();throw Z}}}},3236:(En,ht,N)=>{"use strict";N.d(ht,{E:()=>J});var l=N(6780);const J=new(N(9687).q)(l.R)},6129:(En,ht,N)=>{"use strict";N.d(ht,{U:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},9270:(En,ht,N)=>{"use strict";N.d(ht,{f:()=>l});const l={setTimeout(U,J,...G){const{delegate:Re}=l;return Re?.setTimeout?Re.setTimeout(U,J,...G):setTimeout(U,J,...G)},clearTimeout(U){const{delegate:J}=l;return(J?.clearTimeout||clearTimeout)(U)},delegate:void 0}},4761:(En,ht,N)=>{"use strict";N.d(ht,{l:()=>U});const U=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(En,ht,N)=>{"use strict";N.d(ht,{s:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(En,ht,N)=>{"use strict";N.d(ht,{G:()=>U});const U=(0,N(1853).L)(J=>function(){J(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(En,ht,N)=>{"use strict";N.d(ht,{R0:()=>we,ms:()=>G,lI:()=>Re});var l=N(8071);function J(Z){return Z[Z.length-1]}function G(Z){return(0,l.T)(J(Z))?Z.pop():void 0}function Re(Z){return function U(Z){return Z&&(0,l.T)(Z.schedule)}(J(Z))?Z.pop():void 0}function we(Z,be){return"number"==typeof J(Z)?Z.pop():be}},3073:(En,ht,N)=>{"use strict";N.d(ht,{D:()=>Re});const{isArray:l}=Array,{getPrototypeOf:U,prototype:J,keys:G}=Object;function Re(Z){if(1===Z.length){const be=Z[0];if(l(be))return{args:be,keys:null};if(function we(Z){return Z&&"object"==typeof Z&&U(Z)===J}(be)){const ve=G(be);return{args:ve.map(Te=>be[Te]),keys:ve}}}return{args:Z,keys:null}}},7908:(En,ht,N)=>{"use strict";function l(U,J){if(U){const G=U.indexOf(J);0<=G&&U.splice(G,1)}}N.d(ht,{o:()=>l})},1853:(En,ht,N)=>{"use strict";function l(U){const G=U(Re=>{Error.call(Re),Re.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}N.d(ht,{L:()=>l})},8496:(En,ht,N)=>{"use strict";function l(U,J){return U.reduce((G,Re,we)=>(G[Re]=J[we],G),{})}N.d(ht,{e:()=>l})},9786:(En,ht,N)=>{"use strict";N.d(ht,{Y:()=>J,l:()=>G});var l=N(1026);let U=null;function J(Re){if(l.$.useDeprecatedSynchronousErrorHandling){const we=!U;if(we&&(U={errorThrown:!1,error:null}),Re(),we){const{errorThrown:Z,error:be}=U;if(U=null,Z)throw be}}else Re()}function G(Re){l.$.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=Re)}},5225:(En,ht,N)=>{"use strict";function l(U,J,G,Re=0,we=!1){const Z=J.schedule(function(){G(),we?U.add(this.schedule(null,Re)):this.unsubscribe()},Re);if(U.add(Z),!we)return Z}N.d(ht,{N:()=>l})},3669:(En,ht,N)=>{"use strict";function l(U){return U}N.d(ht,{D:()=>l})},7441:(En,ht,N)=>{"use strict";N.d(ht,{X:()=>l});const l=U=>U&&"number"==typeof U.length&&"function"!=typeof U},7953:(En,ht,N)=>{"use strict";N.d(ht,{T:()=>U});var l=N(8071);function U(J){return Symbol.asyncIterator&&(0,l.T)(J?.[Symbol.asyncIterator])}},8071:(En,ht,N)=>{"use strict";function l(U){return"function"==typeof U}N.d(ht,{T:()=>l})},5055:(En,ht,N)=>{"use strict";N.d(ht,{l:()=>J});var l=N(3494),U=N(8071);function J(G){return(0,U.T)(G[l.s])}},5397:(En,ht,N)=>{"use strict";N.d(ht,{x:()=>J});var l=N(4761),U=N(8071);function J(G){return(0,U.T)(G?.[l.l])}},4402:(En,ht,N)=>{"use strict";N.d(ht,{A:()=>J});var l=N(1985),U=N(8071);function J(G){return!!G&&(G instanceof l.c||(0,U.T)(G.lift)&&(0,U.T)(G.subscribe))}},9858:(En,ht,N)=>{"use strict";N.d(ht,{y:()=>U});var l=N(8071);function U(J){return(0,l.T)(J?.then)}},5196:(En,ht,N)=>{"use strict";N.d(ht,{C:()=>J,U:()=>G});var l=N(1635),U=N(8071);function J(Re){return(0,l.AQ)(this,arguments,function*(){const Z=Re.getReader();try{for(;;){const{value:be,done:ve}=yield(0,l.N3)(Z.read());if(ve)return yield(0,l.N3)(void 0);yield yield(0,l.N3)(be)}}finally{Z.releaseLock()}})}function G(Re){return(0,U.T)(Re?.getReader)}},9974:(En,ht,N)=>{"use strict";N.d(ht,{N:()=>J,S:()=>U});var l=N(8071);function U(G){return(0,l.T)(G?.lift)}function J(G){return Re=>{if(U(Re))return Re.lift(function(we){try{return G(we,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(En,ht,N)=>{"use strict";N.d(ht,{I:()=>G});var l=N(6354);const{isArray:U}=Array;function G(Re){return(0,l.T)(we=>function J(Re,we){return U(we)?Re(...we):Re(we)}(Re,we))}},5343:(En,ht,N)=>{"use strict";function l(){}N.d(ht,{l:()=>l})},1203:(En,ht,N)=>{"use strict";N.d(ht,{F:()=>U,m:()=>J});var l=N(3669);function U(...G){return J(G)}function J(G){return 0===G.length?l.D:1===G.length?G[0]:function(we){return G.reduce((Z,be)=>be(Z),we)}}},5334:(En,ht,N)=>{"use strict";N.d(ht,{m:()=>J});var l=N(1026),U=N(9270);function J(G){U.f.setTimeout(()=>{const{onUnhandledError:Re}=l.$;if(!Re)throw G;Re(G)})}},591:(En,ht,N)=>{"use strict";function l(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(ht,{L:()=>l})},8996:(En,ht,N)=>{var l={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,6647,7428],"./ion-datetime_3.entry.js":[2885,6647,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment-content.entry.js":[9073,9073],"./ion-segment-view.entry.js":[323,323],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select-modal.entry.js":[770,770],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function U(J){if(!N.o(l,J))return Promise.resolve().then(()=>{var we=new Error("Cannot find module '"+J+"'");throw we.code="MODULE_NOT_FOUND",we});var G=l[J],Re=G[0];return Promise.all(G.slice(1).map(N.e)).then(()=>N(Re))}U.keys=()=>Object.keys(l),U.id=8996,En.exports=U},177:(En,ht,N)=>{"use strict";N.d(ht,{AJ:()=>dn,MD:()=>zt,N0:()=>Di,QT:()=>J,QX:()=>Cs,Sm:()=>yt,Sq:()=>Je,T3:()=>Qi,VF:()=>Re,Vy:()=>$n,Xr:()=>Qe,ZD:()=>G,_b:()=>Y,aZ:()=>We,bT:()=>_n,fw:()=>it,hb:()=>fe,hj:()=>ve,qQ:()=>Z,vh:()=>_r});var l=N(4438);let U=null;function J(){return U}function G(M){U??=M}class Re{}const Z=new l.nKC("");let be=(()=>{class M{historyGo(B){throw new Error("")}static{this.\u0275fac=function(ne){return new(ne||M)}}static{this.\u0275prov=l.jDH({token:M,factory:()=>(0,l.WQX)(Te),providedIn:"platform"})}}return M})();const ve=new l.nKC("");let Te=(()=>{class M extends be{constructor(){super(),this._doc=(0,l.WQX)(Z),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(B){const ne=J().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("popstate",B,!1),()=>ne.removeEventListener("popstate",B)}onHashChange(B){const ne=J().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("hashchange",B,!1),()=>ne.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,ne,et){this._history.pushState(B,ne,et)}replaceState(B,ne,et){this._history.replaceState(B,ne,et)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}static{this.\u0275fac=function(ne){return new(ne||M)}}static{this.\u0275prov=l.jDH({token:M,factory:()=>new M,providedIn:"platform"})}}return M})();function ue(M,oe){if(0==M.length)return oe;if(0==oe.length)return M;let B=0;return M.endsWith("/")&&B++,oe.startsWith("/")&&B++,2==B?M+oe.substring(1):1==B?M+oe:M+"/"+oe}function ke(M){const oe=M.match(/#|\?|$/),B=oe&&oe.index||M.length;return M.slice(0,B-("/"===M[B-1]?1:0))+M.slice(B)}function xe(M){return M&&"?"!==M[0]?"?"+M:M}let fe=(()=>{class M{historyGo(B){throw new Error("")}static{this.\u0275fac=function(ne){return new(ne||M)}}static{this.\u0275prov=l.jDH({token:M,factory:()=>(0,l.WQX)(yt),providedIn:"root"})}}return M})();const rt=new l.nKC("");let yt=(()=>{class M extends fe{constructor(B,ne){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=ne??this._platformLocation.getBaseHrefFromDOM()??(0,l.WQX)(Z).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return ue(this._baseHref,B)}path(B=!1){const ne=this._platformLocation.pathname+xe(this._platformLocation.search),et=this._platformLocation.hash;return et&&B?`${ne}${et}`:ne}pushState(B,ne,et,an){const yn=this.prepareExternalUrl(et+xe(an));this._platformLocation.pushState(B,ne,yn)}replaceState(B,ne,et,an){const yn=this.prepareExternalUrl(et+xe(an));this._platformLocation.replaceState(B,ne,yn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(ne){return new(ne||M)(l.KVO(be),l.KVO(rt,8))}}static{this.\u0275prov=l.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),it=(()=>{class M extends fe{constructor(B,ne){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=ne&&(this._baseHref=ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){const ne=this._platformLocation.hash??"#";return ne.length>0?ne.substring(1):ne}prepareExternalUrl(B){const ne=ue(this._baseHref,B);return ne.length>0?"#"+ne:ne}pushState(B,ne,et,an){let yn=this.prepareExternalUrl(et+xe(an));0==yn.length&&(yn=this._platformLocation.pathname),this._platformLocation.pushState(B,ne,yn)}replaceState(B,ne,et,an){let yn=this.prepareExternalUrl(et+xe(an));0==yn.length&&(yn=this._platformLocation.pathname),this._platformLocation.replaceState(B,ne,yn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(ne){return new(ne||M)(l.KVO(be),l.KVO(rt,8))}}static{this.\u0275prov=l.jDH({token:M,factory:M.\u0275fac})}}return M})(),We=(()=>{class M{constructor(B){this._subject=new l.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const ne=this._locationStrategy.getBaseHref();this._basePath=function Fe(M){if(new RegExp("^(https?:)?//").test(M)){const[,B]=M.split(/\/\/[^\/]+/);return B}return M}(ke(ze(ne))),this._locationStrategy.onPopState(et=>{this._subject.emit({url:this.path(!0),pop:!0,state:et.state,type:et.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,ne=""){return this.path()==this.normalize(B+xe(ne))}normalize(B){return M.stripTrailingSlash(function Pt(M,oe){if(!M||!oe.startsWith(M))return oe;const B=oe.substring(M.length);return""===B||["/",";","?","#"].includes(B[0])?B:oe}(this._basePath,ze(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,ne="",et=null){this._locationStrategy.pushState(et,"",B,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+xe(ne)),et)}replaceState(B,ne="",et=null){this._locationStrategy.replaceState(et,"",B,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+xe(ne)),et)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription??=this.subscribe(ne=>{this._notifyUrlChangeListeners(ne.url,ne.state)}),()=>{const ne=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(ne,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",ne){this._urlChangeListeners.forEach(et=>et(B,ne))}subscribe(B,ne,et){return this._subject.subscribe({next:B,error:ne,complete:et})}static{this.normalizeQueryParams=xe}static{this.joinWithSlash=ue}static{this.stripTrailingSlash=ke}static{this.\u0275fac=function(ne){return new(ne||M)(l.KVO(fe))}}static{this.\u0275prov=l.jDH({token:M,factory:()=>function At(){return new We((0,l.KVO)(fe))}(),providedIn:"root"})}}return M})();function ze(M){return M.replace(/\/index.html$/,"")}var qe=function(M){return M[M.Decimal=0]="Decimal",M[M.Percent=1]="Percent",M[M.Currency=2]="Currency",M[M.Scientific=3]="Scientific",M}(qe||{}),bt=function(M){return M[M.Format=0]="Format",M[M.Standalone=1]="Standalone",M}(bt||{}),H=function(M){return M[M.Narrow=0]="Narrow",M[M.Abbreviated=1]="Abbreviated",M[M.Wide=2]="Wide",M[M.Short=3]="Short",M}(H||{}),He=function(M){return M[M.Short=0]="Short",M[M.Medium=1]="Medium",M[M.Long=2]="Long",M[M.Full=3]="Full",M}(He||{});const wt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ce(M,oe){return Nn((0,l.H5H)(M)[l.KH2.DateFormat],oe)}function Pe(M,oe){return Nn((0,l.H5H)(M)[l.KH2.TimeFormat],oe)}function at(M,oe){return Nn((0,l.H5H)(M)[l.KH2.DateTimeFormat],oe)}function Xe(M,oe){const B=(0,l.H5H)(M),ne=B[l.KH2.NumberSymbols][oe];if(typeof ne>"u"){if(oe===wt.CurrencyDecimal)return B[l.KH2.NumberSymbols][wt.Decimal];if(oe===wt.CurrencyGroup)return B[l.KH2.NumberSymbols][wt.Group]}return ne}function hn(M){if(!M[l.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${M[l.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Nn(M,oe){for(let B=oe;B>-1;B--)if(typeof M[B]<"u")return M[B];throw new Error("Locale data API: locale data undefined")}function zn(M){const[oe,B]=M.split(":");return{hours:+oe,minutes:+B}}const jt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,On={},br=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var er=function(M){return M[M.Short=0]="Short",M[M.ShortGMT=1]="ShortGMT",M[M.Long=2]="Long",M[M.Extended=3]="Extended",M}(er||{}),tr=function(M){return M[M.FullYear=0]="FullYear",M[M.Month=1]="Month",M[M.Date=2]="Date",M[M.Hours=3]="Hours",M[M.Minutes=4]="Minutes",M[M.Seconds=5]="Seconds",M[M.FractionalSeconds=6]="FractionalSeconds",M[M.Day=7]="Day",M}(tr||{}),Xn=function(M){return M[M.DayPeriods=0]="DayPeriods",M[M.Days=1]="Days",M[M.Months=2]="Months",M[M.Eras=3]="Eras",M}(Xn||{});function Dr(M,oe,B,ne){let et=function Ge(M){if(vt(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[et,an=1,yn=1]=M.split("-").map(fr=>+fr);return Mr(et,an-1,yn)}const B=parseFloat(M);if(!isNaN(M-B))return new Date(B);let ne;if(ne=M.match(jt))return function $e(M){const oe=new Date(0);let B=0,ne=0;const et=M[8]?oe.setUTCFullYear:oe.setFullYear,an=M[8]?oe.setUTCHours:oe.setHours;M[9]&&(B=Number(M[9]+M[10]),ne=Number(M[9]+M[11])),et.call(oe,Number(M[1]),Number(M[2])-1,Number(M[3]));const yn=Number(M[4]||0)-B,fr=Number(M[5]||0)-ne,Ti=Number(M[6]||0),ss=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return an.call(oe,yn,fr,Ti,ss),oe}(ne)}const oe=new Date(M);if(!vt(oe))throw new Error(`Unable to convert "${M}" into a date`);return oe}(M);oe=sr(B,oe)||oe;let fr,yn=[];for(;oe;){if(fr=br.exec(oe),!fr){yn.push(oe);break}{yn=yn.concat(fr.slice(1));const Fi=yn.pop();if(!Fi)break;oe=Fi}}let Ti=et.getTimezoneOffset();ne&&(Ti=It(ne,Ti),et=function Bn(M,oe,B){const ne=B?-1:1,et=M.getTimezoneOffset();return function fn(M,oe){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+oe),M}(M,ne*(It(oe,et)-et))}(et,ne,!0));let ss="";return yn.forEach(Fi=>{const fi=function Ze(M){if(ct[M])return ct[M];let oe;switch(M){case"G":case"GG":case"GGG":oe=ur(Xn.Eras,H.Abbreviated);break;case"GGGG":oe=ur(Xn.Eras,H.Wide);break;case"GGGGG":oe=ur(Xn.Eras,H.Narrow);break;case"y":oe=Ir(tr.FullYear,1,0,!1,!0);break;case"yy":oe=Ir(tr.FullYear,2,0,!0,!0);break;case"yyy":oe=Ir(tr.FullYear,3,0,!1,!0);break;case"yyyy":oe=Ir(tr.FullYear,4,0,!1,!0);break;case"Y":oe=Zt(1);break;case"YY":oe=Zt(2,!0);break;case"YYY":oe=Zt(3);break;case"YYYY":oe=Zt(4);break;case"M":case"L":oe=Ir(tr.Month,1,1);break;case"MM":case"LL":oe=Ir(tr.Month,2,1);break;case"MMM":oe=ur(Xn.Months,H.Abbreviated);break;case"MMMM":oe=ur(Xn.Months,H.Wide);break;case"MMMMM":oe=ur(Xn.Months,H.Narrow);break;case"LLL":oe=ur(Xn.Months,H.Abbreviated,bt.Standalone);break;case"LLLL":oe=ur(Xn.Months,H.Wide,bt.Standalone);break;case"LLLLL":oe=ur(Xn.Months,H.Narrow,bt.Standalone);break;case"w":oe=di(1);break;case"ww":oe=di(2);break;case"W":oe=di(1,!0);break;case"d":oe=Ir(tr.Date,1);break;case"dd":oe=Ir(tr.Date,2);break;case"c":case"cc":oe=Ir(tr.Day,1);break;case"ccc":oe=ur(Xn.Days,H.Abbreviated,bt.Standalone);break;case"cccc":oe=ur(Xn.Days,H.Wide,bt.Standalone);break;case"ccccc":oe=ur(Xn.Days,H.Narrow,bt.Standalone);break;case"cccccc":oe=ur(Xn.Days,H.Short,bt.Standalone);break;case"E":case"EE":case"EEE":oe=ur(Xn.Days,H.Abbreviated);break;case"EEEE":oe=ur(Xn.Days,H.Wide);break;case"EEEEE":oe=ur(Xn.Days,H.Narrow);break;case"EEEEEE":oe=ur(Xn.Days,H.Short);break;case"a":case"aa":case"aaa":oe=ur(Xn.DayPeriods,H.Abbreviated);break;case"aaaa":oe=ur(Xn.DayPeriods,H.Wide);break;case"aaaaa":oe=ur(Xn.DayPeriods,H.Narrow);break;case"b":case"bb":case"bbb":oe=ur(Xn.DayPeriods,H.Abbreviated,bt.Standalone,!0);break;case"bbbb":oe=ur(Xn.DayPeriods,H.Wide,bt.Standalone,!0);break;case"bbbbb":oe=ur(Xn.DayPeriods,H.Narrow,bt.Standalone,!0);break;case"B":case"BB":case"BBB":oe=ur(Xn.DayPeriods,H.Abbreviated,bt.Format,!0);break;case"BBBB":oe=ur(Xn.DayPeriods,H.Wide,bt.Format,!0);break;case"BBBBB":oe=ur(Xn.DayPeriods,H.Narrow,bt.Format,!0);break;case"h":oe=Ir(tr.Hours,1,-12);break;case"hh":oe=Ir(tr.Hours,2,-12);break;case"H":oe=Ir(tr.Hours,1);break;case"HH":oe=Ir(tr.Hours,2);break;case"m":oe=Ir(tr.Minutes,1);break;case"mm":oe=Ir(tr.Minutes,2);break;case"s":oe=Ir(tr.Seconds,1);break;case"ss":oe=Ir(tr.Seconds,2);break;case"S":oe=Ir(tr.FractionalSeconds,1);break;case"SS":oe=Ir(tr.FractionalSeconds,2);break;case"SSS":oe=Ir(tr.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":oe=Rr(er.Short);break;case"ZZZZZ":oe=Rr(er.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":oe=Rr(er.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":oe=Rr(er.Long);break;default:return null}return ct[M]=oe,oe}(Fi);ss+=fi?fi(et,B,Ti):"''"===Fi?"'":Fi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ss}function Mr(M,oe,B){const ne=new Date(0);return ne.setFullYear(M,oe,B),ne.setHours(0,0,0),ne}function sr(M,oe){const B=function Mt(M){return(0,l.H5H)(M)[l.KH2.LocaleId]}(M);if(On[B]??={},On[B][oe])return On[B][oe];let ne="";switch(oe){case"shortDate":ne=ce(M,He.Short);break;case"mediumDate":ne=ce(M,He.Medium);break;case"longDate":ne=ce(M,He.Long);break;case"fullDate":ne=ce(M,He.Full);break;case"shortTime":ne=Pe(M,He.Short);break;case"mediumTime":ne=Pe(M,He.Medium);break;case"longTime":ne=Pe(M,He.Long);break;case"fullTime":ne=Pe(M,He.Full);break;case"short":const et=sr(M,"shortTime"),an=sr(M,"shortDate");ne=cr(at(M,He.Short),[et,an]);break;case"medium":const yn=sr(M,"mediumTime"),fr=sr(M,"mediumDate");ne=cr(at(M,He.Medium),[yn,fr]);break;case"long":const Ti=sr(M,"longTime"),ss=sr(M,"longDate");ne=cr(at(M,He.Long),[Ti,ss]);break;case"full":const Fi=sr(M,"fullTime"),fi=sr(M,"fullDate");ne=cr(at(M,He.Full),[Fi,fi])}return ne&&(On[B][oe]=ne),ne}function cr(M,oe){return oe&&(M=M.replace(/\{([^}]+)}/g,function(B,ne){return null!=oe&&ne in oe?oe[ne]:B})),M}function Or(M,oe,B="-",ne,et){let an="";(M<0||et&&M<=0)&&(et?M=1-M:(M=-M,an=B));let yn=String(M);for(;yn.length<oe;)yn="0"+yn;return ne&&(yn=yn.slice(yn.length-oe)),an+yn}function Ir(M,oe,B=0,ne=!1,et=!1){return function(an,yn){let fr=function vr(M,oe){switch(M){case tr.FullYear:return oe.getFullYear();case tr.Month:return oe.getMonth();case tr.Date:return oe.getDate();case tr.Hours:return oe.getHours();case tr.Minutes:return oe.getMinutes();case tr.Seconds:return oe.getSeconds();case tr.FractionalSeconds:return oe.getMilliseconds();case tr.Day:return oe.getDay();default:throw new Error(`Unknown DateType value "${M}".`)}}(M,an);if((B>0||fr>-B)&&(fr+=B),M===tr.Hours)0===fr&&-12===B&&(fr=12);else if(M===tr.FractionalSeconds)return function Hr(M,oe){return Or(M,3).substring(0,oe)}(fr,oe);const Ti=Xe(yn,wt.MinusSign);return Or(fr,oe,Ti,ne,et)}}function ur(M,oe,B=bt.Format,ne=!1){return function(et,an){return function ci(M,oe,B,ne,et,an){switch(B){case Xn.Months:return function tt(M,oe,B){const ne=(0,l.H5H)(M),an=Nn([ne[l.KH2.MonthsFormat],ne[l.KH2.MonthsStandalone]],oe);return Nn(an,B)}(oe,et,ne)[M.getMonth()];case Xn.Days:return function un(M,oe,B){const ne=(0,l.H5H)(M),an=Nn([ne[l.KH2.DaysFormat],ne[l.KH2.DaysStandalone]],oe);return Nn(an,B)}(oe,et,ne)[M.getDay()];case Xn.DayPeriods:const yn=M.getHours(),fr=M.getMinutes();if(an){const ss=function Ln(M){const oe=(0,l.H5H)(M);return hn(oe),(oe[l.KH2.ExtraData][2]||[]).map(ne=>"string"==typeof ne?zn(ne):[zn(ne[0]),zn(ne[1])])}(oe),Fi=function qn(M,oe,B){const ne=(0,l.H5H)(M);hn(ne);const an=Nn([ne[l.KH2.ExtraData][0],ne[l.KH2.ExtraData][1]],oe)||[];return Nn(an,B)||[]}(oe,et,ne),fi=ss.findIndex(cs=>{if(Array.isArray(cs)){const[Vr,Rn]=cs,or=yn>=Vr.hours&&fr>=Vr.minutes,vi=yn<Rn.hours||yn===Rn.hours&&fr<Rn.minutes;if(Vr.hours<Rn.hours){if(or&&vi)return!0}else if(or||vi)return!0}else if(cs.hours===yn&&cs.minutes===fr)return!0;return!1});if(-1!==fi)return Fi[fi]}return function kt(M,oe,B){const ne=(0,l.H5H)(M),an=Nn([ne[l.KH2.DayPeriodsFormat],ne[l.KH2.DayPeriodsStandalone]],oe);return Nn(an,B)}(oe,et,ne)[yn<12?0:1];case Xn.Eras:return function De(M,oe){return Nn((0,l.H5H)(M)[l.KH2.Eras],oe)}(oe,ne)[M.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(et,an,M,oe,B,ne)}}function Rr(M){return function(oe,B,ne){const et=-1*ne,an=Xe(B,wt.MinusSign),yn=et>0?Math.floor(et/60):Math.ceil(et/60);switch(M){case er.Short:return(et>=0?"+":"")+Or(yn,2,an)+Or(Math.abs(et%60),2,an);case er.ShortGMT:return"GMT"+(et>=0?"+":"")+Or(yn,1,an);case er.Long:return"GMT"+(et>=0?"+":"")+Or(yn,2,an)+":"+Or(Math.abs(et%60),2,an);case er.Extended:return 0===ne?"Z":(et>=0?"+":"")+Or(yn,2,an)+":"+Or(Math.abs(et%60),2,an);default:throw new Error(`Unknown zone width "${M}"`)}}}const ui=0,dr=4;function yi(M){const oe=M.getDay(),B=0===oe?-3:dr-oe;return Mr(M.getFullYear(),M.getMonth(),M.getDate()+B)}function di(M,oe=!1){return function(B,ne){let et;if(oe){const an=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,yn=B.getDate();et=1+Math.floor((yn+an)/7)}else{const an=yi(B),yn=function bi(M){const oe=Mr(M,ui,1).getDay();return Mr(M,0,1+(oe<=dr?dr:dr+7)-oe)}(an.getFullYear()),fr=an.getTime()-yn.getTime();et=1+Math.round(fr/6048e5)}return Or(et,M,Xe(ne,wt.MinusSign))}}function Zt(M,oe=!1){return function(B,ne){return Or(yi(B).getFullYear(),M,Xe(ne,wt.MinusSign),oe)}}const ct={};function It(M,oe){M=M.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN(B)?oe:B}function vt(M){return M instanceof Date&&!isNaN(M.valueOf())}const en=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function mi(M){const oe=parseInt(M);if(isNaN(oe))throw new Error("Invalid integer literal when parsing "+M);return oe}function Y(M,oe){oe=encodeURIComponent(oe);for(const B of M.split(";")){const ne=B.indexOf("="),[et,an]=-1==ne?[B,""]:[B.slice(0,ne),B.slice(ne+1)];if(et.trim()===oe)return decodeURIComponent(an)}return null}class Oe{constructor(oe,B,ne,et){this.$implicit=oe,this.ngForOf=B,this.index=ne,this.count=et}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Je=(()=>{class M{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,ne,et){this._viewContainer=B,this._template=ne,this._differs=et,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const ne=this._viewContainer;B.forEachOperation((et,an,yn)=>{if(null==et.previousIndex)ne.createEmbeddedView(this._template,new Oe(et.item,this._ngForOf,-1,-1),null===yn?void 0:yn);else if(null==yn)ne.remove(null===an?void 0:an);else if(null!==an){const fr=ne.get(an);ne.move(fr,yn),Ht(fr,et)}});for(let et=0,an=ne.length;et<an;et++){const fr=ne.get(et).context;fr.index=et,fr.count=an,fr.ngForOf=this._ngForOf}B.forEachIdentityChange(et=>{Ht(ne.get(et.currentIndex),et)})}static ngTemplateContextGuard(B,ne){return!0}static{this.\u0275fac=function(ne){return new(ne||M)(l.rXU(l.c1b),l.rXU(l.C4Q),l.rXU(l._q3))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return M})();function Ht(M,oe){M.context.$implicit=oe.item}let _n=(()=>{class M{constructor(B,ne){this._viewContainer=B,this._context=new St,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ne}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Gn("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Gn("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,ne){return!0}static{this.\u0275fac=function(ne){return new(ne||M)(l.rXU(l.c1b),l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return M})();class St{constructor(){this.$implicit=null,this.ngIf=null}}function Gn(M,oe){if(oe&&!oe.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,l.Tbb)(oe)}'.`)}let Qi=(()=>{class M{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(this._shouldRecreateView(B)){const ne=this._viewContainerRef;if(this._viewRef&&ne.remove(ne.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const et=this._createContextForwardProxy();this._viewRef=ne.createEmbeddedView(this.ngTemplateOutlet,et,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(B){return!!B.ngTemplateOutlet||!!B.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(B,ne,et)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ne,et),get:(B,ne,et)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ne,et)}})}static{this.\u0275fac=function(ne){return new(ne||M)(l.rXU(l.c1b))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.OA$]})}}return M})();function ye(M,oe){return new l.wOt(2100,!1)}const Lo=new l.nKC(""),Ai=new l.nKC("");let _r=(()=>{class M{constructor(B,ne,et){this.locale=B,this.defaultTimezone=ne,this.defaultOptions=et}transform(B,ne,et,an){if(null==B||""===B||B!=B)return null;try{return Dr(B,ne??this.defaultOptions?.dateFormat??"mediumDate",an||this.locale,et??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(yn){throw ye()}}static{this.\u0275fac=function(ne){return new(ne||M)(l.rXU(l.xe9,16),l.rXU(Lo,24),l.rXU(Ai,24))}}static{this.\u0275pipe=l.EJ8({name:"date",type:M,pure:!0,standalone:!0})}}return M})(),Cs=(()=>{class M{constructor(B){this._locale=B}transform(B,ne,et){if(!function O(M){return!(null==M||""===M||M!=M)}(B))return null;et||=this._locale;try{return function Gi(M,oe,B){return function ri(M,oe,B,ne,et,an,yn=!1){let fr="",Ti=!1;if(isFinite(M)){let ss=function Mi(M){let ne,et,an,yn,fr,oe=Math.abs(M)+"",B=0;for((et=oe.indexOf("."))>-1&&(oe=oe.replace(".","")),(an=oe.search(/e/i))>0?(et<0&&(et=an),et+=+oe.slice(an+1),oe=oe.substring(0,an)):et<0&&(et=oe.length),an=0;"0"===oe.charAt(an);an++);if(an===(fr=oe.length))ne=[0],et=1;else{for(fr--;"0"===oe.charAt(fr);)fr--;for(et-=an,ne=[],yn=0;an<=fr;an++,yn++)ne[yn]=Number(oe.charAt(an))}return et>22&&(ne=ne.splice(0,21),B=et-1,et=1),{digits:ne,exponent:B,integerLen:et}}(M);yn&&(ss=function yr(M){if(0===M.digits[0])return M;const oe=M.digits.length-M.integerLen;return M.exponent?M.exponent+=2:(0===oe?M.digits.push(0,0):1===oe&&M.digits.push(0),M.integerLen+=2),M}(ss));let Fi=oe.minInt,fi=oe.minFrac,cs=oe.maxFrac;if(an){const Bi=an.match(en);if(null===Bi)throw new Error(`${an} is not a valid digit info`);const xs=Bi[1],io=Bi[3],Ci=Bi[5];null!=xs&&(Fi=mi(xs)),null!=io&&(fi=mi(io)),null!=Ci?cs=mi(Ci):null!=io&&fi>cs&&(cs=fi)}!function li(M,oe,B){if(oe>B)throw new Error(`The minimum number of digits after fraction (${oe}) is higher than the maximum (${B}).`);let ne=M.digits,et=ne.length-M.integerLen;const an=Math.min(Math.max(oe,et),B);let yn=an+M.integerLen,fr=ne[yn];if(yn>0){ne.splice(Math.max(M.integerLen,yn));for(let fi=yn;fi<ne.length;fi++)ne[fi]=0}else{et=Math.max(0,et),M.integerLen=1,ne.length=Math.max(1,yn=an+1),ne[0]=0;for(let fi=1;fi<yn;fi++)ne[fi]=0}if(fr>=5)if(yn-1<0){for(let fi=0;fi>yn;fi--)ne.unshift(0),M.integerLen++;ne.unshift(1),M.integerLen++}else ne[yn-1]++;for(;et<Math.max(0,an);et++)ne.push(0);let Ti=0!==an;const ss=oe+M.integerLen,Fi=ne.reduceRight(function(fi,cs,Vr,Rn){return Rn[Vr]=(cs+=fi)<10?cs:cs-10,Ti&&(0===Rn[Vr]&&Vr>=ss?Rn.pop():Ti=!1),cs>=10?1:0},0);Fi&&(ne.unshift(Fi),M.integerLen++)}(ss,fi,cs);let Vr=ss.digits,Rn=ss.integerLen;const or=ss.exponent;let vi=[];for(Ti=Vr.every(Bi=>!Bi);Rn<Fi;Rn++)Vr.unshift(0);for(;Rn<0;Rn++)Vr.unshift(0);Rn>0?vi=Vr.splice(Rn,Vr.length):(vi=Vr,Vr=[0]);const ys=[];for(Vr.length>=oe.lgSize&&ys.unshift(Vr.splice(-oe.lgSize,Vr.length).join(""));Vr.length>oe.gSize;)ys.unshift(Vr.splice(-oe.gSize,Vr.length).join(""));Vr.length&&ys.unshift(Vr.join("")),fr=ys.join(Xe(B,ne)),vi.length&&(fr+=Xe(B,et)+vi.join("")),or&&(fr+=Xe(B,wt.Exponential)+"+"+or)}else fr=Xe(B,wt.Infinity);return fr=M<0&&!Ti?oe.negPre+fr+oe.negSuf:oe.posPre+fr+oe.posSuf,fr}(M,function Kr(M,oe="-"){const B={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ne=M.split(";"),et=ne[0],an=ne[1],yn=-1!==et.indexOf(".")?et.split("."):[et.substring(0,et.lastIndexOf("0")+1),et.substring(et.lastIndexOf("0")+1)],fr=yn[0],Ti=yn[1]||"";B.posPre=fr.substring(0,fr.indexOf("#"));for(let Fi=0;Fi<Ti.length;Fi++){const fi=Ti.charAt(Fi);"0"===fi?B.minFrac=B.maxFrac=Fi+1:"#"===fi?B.maxFrac=Fi+1:B.posSuf+=fi}const ss=fr.split(",");if(B.gSize=ss[1]?ss[1].length:0,B.lgSize=ss[2]||ss[1]?(ss[2]||ss[1]).length:0,an){const Fi=et.length-B.posPre.length-B.posSuf.length,fi=an.indexOf("#");B.negPre=an.substring(0,fi).replace(/'/g,""),B.negSuf=an.slice(fi+Fi).replace(/'/g,"")}else B.negPre=oe+B.posPre,B.negSuf=B.posSuf;return B}(function Se(M,oe){return(0,l.H5H)(M)[l.KH2.NumberFormats][oe]}(oe,qe.Decimal),Xe(oe,wt.MinusSign)),oe,wt.Group,wt.Decimal,B)}(function A(M){if("string"==typeof M&&!isNaN(Number(M)-parseFloat(M)))return Number(M);if("number"!=typeof M)throw new Error(`${M} is not a number`);return M}(B),et,ne)}catch(an){throw ye()}}static{this.\u0275fac=function(ne){return new(ne||M)(l.rXU(l.xe9,16))}}static{this.\u0275pipe=l.EJ8({name:"number",type:M,pure:!0,standalone:!0})}}return M})();let zt=(()=>{class M{static{this.\u0275fac=function(ne){return new(ne||M)}}static{this.\u0275mod=l.$C({type:M})}static{this.\u0275inj=l.G2t({})}}return M})();const dn="browser",pn="server";function $n(M){return M===pn}let Qe=(()=>{class M{static{this.\u0275prov=(0,l.jDH)({token:M,providedIn:"root",factory:()=>function mn(M){return M===dn}((0,l.WQX)(l.Agw))?new pr((0,l.WQX)(Z),window):new xi})}}return M})();class pr{constructor(oe,B){this.document=oe,this.window=B,this.offset=()=>[0,0]}setOffset(oe){this.offset=Array.isArray(oe)?()=>oe:oe}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(oe){this.window.scrollTo(oe[0],oe[1])}scrollToAnchor(oe){const B=function Pr(M,oe){const B=M.getElementById(oe)||M.getElementsByName(oe)[0];if(B)return B;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const ne=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let et=ne.currentNode;for(;et;){const an=et.shadowRoot;if(an){const yn=an.getElementById(oe)||an.querySelector(`[name="${oe}"]`);if(yn)return yn}et=ne.nextNode()}}return null}(this.document,oe);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(oe){this.window.history.scrollRestoration=oe}scrollToElement(oe){const B=oe.getBoundingClientRect(),ne=B.left+this.window.pageXOffset,et=B.top+this.window.pageYOffset,an=this.offset();this.window.scrollTo(ne-an[0],et-an[1])}}class xi{setOffset(oe){}getScrollPosition(){return[0,0]}scrollToPosition(oe){}scrollToAnchor(oe){}setHistoryScrollRestoration(oe){}}class Di{}},1626:(En,ht,N)=>{"use strict";N.d(ht,{$R:()=>Bn,Qq:()=>at,q1:()=>kr});var l=N(467),U=N(4438),J=N(7673),G=N(1985),Re=N(8455),we=N(274),Z=N(5964),be=N(6354),ve=N(980),Te=N(5558),ue=N(177);class ke{}class xe{}class fe{constructor(Oe){this.normalizedNames=new Map,this.lazyUpdate=null,Oe?"string"==typeof Oe?this.lazyInit=()=>{this.headers=new Map,Oe.split("\n").forEach(Je=>{const Ht=Je.indexOf(":");if(Ht>0){const Gt=Je.slice(0,Ht),_n=Gt.toLowerCase(),St=Je.slice(Ht+1).trim();this.maybeSetNormalizedName(Gt,_n),this.headers.has(_n)?this.headers.get(_n).push(St):this.headers.set(_n,[St])}})}:typeof Headers<"u"&&Oe instanceof Headers?(this.headers=new Map,Oe.forEach((Je,Ht)=>{this.setHeaderEntries(Ht,Je)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Oe).forEach(([Je,Ht])=>{this.setHeaderEntries(Je,Ht)})}:this.headers=new Map}has(Oe){return this.init(),this.headers.has(Oe.toLowerCase())}get(Oe){this.init();const Je=this.headers.get(Oe.toLowerCase());return Je&&Je.length>0?Je[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Oe){return this.init(),this.headers.get(Oe.toLowerCase())||null}append(Oe,Je){return this.clone({name:Oe,value:Je,op:"a"})}set(Oe,Je){return this.clone({name:Oe,value:Je,op:"s"})}delete(Oe,Je){return this.clone({name:Oe,value:Je,op:"d"})}maybeSetNormalizedName(Oe,Je){this.normalizedNames.has(Je)||this.normalizedNames.set(Je,Oe)}init(){this.lazyInit&&(this.lazyInit instanceof fe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Oe=>this.applyUpdate(Oe)),this.lazyUpdate=null))}copyFrom(Oe){Oe.init(),Array.from(Oe.headers.keys()).forEach(Je=>{this.headers.set(Je,Oe.headers.get(Je)),this.normalizedNames.set(Je,Oe.normalizedNames.get(Je))})}clone(Oe){const Je=new fe;return Je.lazyInit=this.lazyInit&&this.lazyInit instanceof fe?this.lazyInit:this,Je.lazyUpdate=(this.lazyUpdate||[]).concat([Oe]),Je}applyUpdate(Oe){const Je=Oe.name.toLowerCase();switch(Oe.op){case"a":case"s":let Ht=Oe.value;if("string"==typeof Ht&&(Ht=[Ht]),0===Ht.length)return;this.maybeSetNormalizedName(Oe.name,Je);const Gt=("a"===Oe.op?this.headers.get(Je):void 0)||[];Gt.push(...Ht),this.headers.set(Je,Gt);break;case"d":const _n=Oe.value;if(_n){let St=this.headers.get(Je);if(!St)return;St=St.filter(Gn=>-1===_n.indexOf(Gn)),0===St.length?(this.headers.delete(Je),this.normalizedNames.delete(Je)):this.headers.set(Je,St)}else this.headers.delete(Je),this.normalizedNames.delete(Je)}}setHeaderEntries(Oe,Je){const Ht=(Array.isArray(Je)?Je:[Je]).map(_n=>_n.toString()),Gt=Oe.toLowerCase();this.headers.set(Gt,Ht),this.maybeSetNormalizedName(Oe,Gt)}forEach(Oe){this.init(),Array.from(this.normalizedNames.keys()).forEach(Je=>Oe(this.normalizedNames.get(Je),this.headers.get(Je)))}}class yt{encodeKey(Oe){return Pt(Oe)}encodeValue(Oe){return Pt(Oe)}decodeKey(Oe){return decodeURIComponent(Oe)}decodeValue(Oe){return decodeURIComponent(Oe)}}const We=/%(\d[a-f0-9])/gi,At={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Pt(pe){return encodeURIComponent(pe).replace(We,(Oe,Je)=>At[Je]??Oe)}function ze(pe){return`${pe}`}class Fe{constructor(Oe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Oe.encoder||new yt,Oe.fromString){if(Oe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function it(pe,Oe){const Je=new Map;return pe.length>0&&pe.replace(/^\?/,"").split("&").forEach(Gt=>{const _n=Gt.indexOf("="),[St,Gn]=-1==_n?[Oe.decodeKey(Gt),""]:[Oe.decodeKey(Gt.slice(0,_n)),Oe.decodeValue(Gt.slice(_n+1))],Hn=Je.get(St)||[];Hn.push(Gn),Je.set(St,Hn)}),Je}(Oe.fromString,this.encoder)}else Oe.fromObject?(this.map=new Map,Object.keys(Oe.fromObject).forEach(Je=>{const Ht=Oe.fromObject[Je],Gt=Array.isArray(Ht)?Ht.map(ze):[ze(Ht)];this.map.set(Je,Gt)})):this.map=null}has(Oe){return this.init(),this.map.has(Oe)}get(Oe){this.init();const Je=this.map.get(Oe);return Je?Je[0]:null}getAll(Oe){return this.init(),this.map.get(Oe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Oe,Je){return this.clone({param:Oe,value:Je,op:"a"})}appendAll(Oe){const Je=[];return Object.keys(Oe).forEach(Ht=>{const Gt=Oe[Ht];Array.isArray(Gt)?Gt.forEach(_n=>{Je.push({param:Ht,value:_n,op:"a"})}):Je.push({param:Ht,value:Gt,op:"a"})}),this.clone(Je)}set(Oe,Je){return this.clone({param:Oe,value:Je,op:"s"})}delete(Oe,Je){return this.clone({param:Oe,value:Je,op:"d"})}toString(){return this.init(),this.keys().map(Oe=>{const Je=this.encoder.encodeKey(Oe);return this.map.get(Oe).map(Ht=>Je+"="+this.encoder.encodeValue(Ht)).join("&")}).filter(Oe=>""!==Oe).join("&")}clone(Oe){const Je=new Fe({encoder:this.encoder});return Je.cloneFrom=this.cloneFrom||this,Je.updates=(this.updates||[]).concat(Oe),Je}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Oe=>this.map.set(Oe,this.cloneFrom.map.get(Oe))),this.updates.forEach(Oe=>{switch(Oe.op){case"a":case"s":const Je=("a"===Oe.op?this.map.get(Oe.param):void 0)||[];Je.push(ze(Oe.value)),this.map.set(Oe.param,Je);break;case"d":if(void 0===Oe.value){this.map.delete(Oe.param);break}{let Ht=this.map.get(Oe.param)||[];const Gt=Ht.indexOf(ze(Oe.value));-1!==Gt&&Ht.splice(Gt,1),Ht.length>0?this.map.set(Oe.param,Ht):this.map.delete(Oe.param)}}}),this.cloneFrom=this.updates=null)}}class qe{constructor(){this.map=new Map}set(Oe,Je){return this.map.set(Oe,Je),this}get(Oe){return this.map.has(Oe)||this.map.set(Oe,Oe.defaultValue()),this.map.get(Oe)}delete(Oe){return this.map.delete(Oe),this}has(Oe){return this.map.has(Oe)}keys(){return this.map.keys()}}function bt(pe){return typeof ArrayBuffer<"u"&&pe instanceof ArrayBuffer}function H(pe){return typeof Blob<"u"&&pe instanceof Blob}function He(pe){return typeof FormData<"u"&&pe instanceof FormData}class Ke{constructor(Oe,Je,Ht,Gt){let _n;if(this.url=Je,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Oe.toUpperCase(),function nt(pe){switch(pe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Gt?(this.body=void 0!==Ht?Ht:null,_n=Gt):_n=Ht,_n&&(this.reportProgress=!!_n.reportProgress,this.withCredentials=!!_n.withCredentials,_n.responseType&&(this.responseType=_n.responseType),_n.headers&&(this.headers=_n.headers),_n.context&&(this.context=_n.context),_n.params&&(this.params=_n.params),this.transferCache=_n.transferCache),this.headers??=new fe,this.context??=new qe,this.params){const St=this.params.toString();if(0===St.length)this.urlWithParams=Je;else{const Gn=Je.indexOf("?");this.urlWithParams=Je+(-1===Gn?"?":Gn<Je.length-1?"&":"")+St}}else this.params=new Fe,this.urlWithParams=Je}serializeBody(){return null===this.body?null:"string"==typeof this.body||bt(this.body)||H(this.body)||He(this.body)||function wt(pe){return typeof URLSearchParams<"u"&&pe instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||He(this.body)?null:H(this.body)?this.body.type||null:bt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Oe={}){const Je=Oe.method||this.method,Ht=Oe.url||this.url,Gt=Oe.responseType||this.responseType,_n=Oe.transferCache??this.transferCache,St=void 0!==Oe.body?Oe.body:this.body,Gn=Oe.withCredentials??this.withCredentials,Hn=Oe.reportProgress??this.reportProgress;let Lr=Oe.headers||this.headers,Mn=Oe.params||this.params;const In=Oe.context??this.context;return void 0!==Oe.setHeaders&&(Lr=Object.keys(Oe.setHeaders).reduce((_i,Tn)=>_i.set(Tn,Oe.setHeaders[Tn]),Lr)),Oe.setParams&&(Mn=Object.keys(Oe.setParams).reduce((_i,Tn)=>_i.set(Tn,Oe.setParams[Tn]),Mn)),new Ke(Je,Ht,St,{params:Mn,headers:Lr,context:In,reportProgress:Hn,responseType:Gt,withCredentials:Gn,transferCache:_n})}}var Mt=function(pe){return pe[pe.Sent=0]="Sent",pe[pe.UploadProgress=1]="UploadProgress",pe[pe.ResponseHeader=2]="ResponseHeader",pe[pe.DownloadProgress=3]="DownloadProgress",pe[pe.Response=4]="Response",pe[pe.User=5]="User",pe}(Mt||{});class kt{constructor(Oe,Je=200,Ht="OK"){this.headers=Oe.headers||new fe,this.status=void 0!==Oe.status?Oe.status:Je,this.statusText=Oe.statusText||Ht,this.url=Oe.url||null,this.ok=this.status>=200&&this.status<300}}class un extends kt{constructor(Oe={}){super(Oe),this.type=Mt.ResponseHeader}clone(Oe={}){return new un({headers:Oe.headers||this.headers,status:void 0!==Oe.status?Oe.status:this.status,statusText:Oe.statusText||this.statusText,url:Oe.url||this.url||void 0})}}class tt extends kt{constructor(Oe={}){super(Oe),this.type=Mt.Response,this.body=void 0!==Oe.body?Oe.body:null}clone(Oe={}){return new tt({body:void 0!==Oe.body?Oe.body:this.body,headers:Oe.headers||this.headers,status:void 0!==Oe.status?Oe.status:this.status,statusText:Oe.statusText||this.statusText,url:Oe.url||this.url||void 0})}}class De extends kt{constructor(Oe){super(Oe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Oe.url||"(unknown url)"}`:`Http failure response for ${Oe.url||"(unknown url)"}: ${Oe.status} ${Oe.statusText}`,this.error=Oe.error||null}}function Pe(pe,Oe){return{body:Oe,headers:pe.headers,context:pe.context,observe:pe.observe,params:pe.params,reportProgress:pe.reportProgress,responseType:pe.responseType,withCredentials:pe.withCredentials,transferCache:pe.transferCache}}let at=(()=>{class pe{constructor(Je){this.handler=Je}request(Je,Ht,Gt={}){let _n;if(Je instanceof Ke)_n=Je;else{let Hn,Lr;Hn=Gt.headers instanceof fe?Gt.headers:new fe(Gt.headers),Gt.params&&(Lr=Gt.params instanceof Fe?Gt.params:new Fe({fromObject:Gt.params})),_n=new Ke(Je,Ht,void 0!==Gt.body?Gt.body:null,{headers:Hn,context:Gt.context,params:Lr,reportProgress:Gt.reportProgress,responseType:Gt.responseType||"json",withCredentials:Gt.withCredentials,transferCache:Gt.transferCache})}const St=(0,J.of)(_n).pipe((0,we.H)(Hn=>this.handler.handle(Hn)));if(Je instanceof Ke||"events"===Gt.observe)return St;const Gn=St.pipe((0,Z.p)(Hn=>Hn instanceof tt));switch(Gt.observe||"body"){case"body":switch(_n.responseType){case"arraybuffer":return Gn.pipe((0,be.T)(Hn=>{if(null!==Hn.body&&!(Hn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Hn.body}));case"blob":return Gn.pipe((0,be.T)(Hn=>{if(null!==Hn.body&&!(Hn.body instanceof Blob))throw new Error("Response is not a Blob.");return Hn.body}));case"text":return Gn.pipe((0,be.T)(Hn=>{if(null!==Hn.body&&"string"!=typeof Hn.body)throw new Error("Response is not a string.");return Hn.body}));default:return Gn.pipe((0,be.T)(Hn=>Hn.body))}case"response":return Gn;default:throw new Error(`Unreachable: unhandled observe type ${Gt.observe}}`)}}delete(Je,Ht={}){return this.request("DELETE",Je,Ht)}get(Je,Ht={}){return this.request("GET",Je,Ht)}head(Je,Ht={}){return this.request("HEAD",Je,Ht)}jsonp(Je,Ht){return this.request("JSONP",Je,{params:(new Fe).append(Ht,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Je,Ht={}){return this.request("OPTIONS",Je,Ht)}patch(Je,Ht,Gt={}){return this.request("PATCH",Je,Pe(Gt,Ht))}post(Je,Ht,Gt={}){return this.request("POST",Je,Pe(Gt,Ht))}put(Je,Ht,Gt={}){return this.request("PUT",Je,Pe(Gt,Ht))}static{this.\u0275fac=function(Ht){return new(Ht||pe)(U.KVO(ke))}}static{this.\u0275prov=U.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();const Xe=/^\)\]\}',?\n/;function Tt(pe){if(pe.url)return pe.url;const Oe="X-Request-URL".toLocaleLowerCase();return pe.headers.get(Oe)}let he=(()=>{class pe{constructor(){this.fetchImpl=(0,U.WQX)(st,{optional:!0})?.fetch??((...Je)=>globalThis.fetch(...Je)),this.ngZone=(0,U.WQX)(U.SKi)}handle(Je){return new G.c(Ht=>{const Gt=new AbortController;return this.doRequest(Je,Gt.signal,Ht).then(Nt,_n=>Ht.error(new De({error:_n}))),()=>Gt.abort()})}doRequest(Je,Ht,Gt){var _n=this;return(0,l.A)(function*(){const St=_n.createRequestInit(Je);let Gn;try{const Vt=_n.ngZone.runOutsideAngular(()=>_n.fetchImpl(Je.urlWithParams,{signal:Ht,...St}));(function xt(pe){pe.then(Nt,Nt)})(Vt),Gt.next({type:Mt.Sent}),Gn=yield Vt}catch(Vt){return void Gt.error(new De({error:Vt,status:Vt.status??0,statusText:Vt.statusText,url:Je.urlWithParams,headers:Vt.headers}))}const Hn=new fe(Gn.headers),Lr=Gn.statusText,Mn=Tt(Gn)??Je.urlWithParams;let In=Gn.status,_i=null;if(Je.reportProgress&&Gt.next(new un({headers:Hn,status:In,statusText:Lr,url:Mn})),Gn.body){const Vt=Gn.headers.get("content-length"),Kt=[],xr=Gn.body.getReader();let de,ye,Qi=0;const ut=typeof Zone<"u"&&Zone.current;yield _n.ngZone.runOutsideAngular((0,l.A)(function*(){for(;;){const{done:bn,value:nr}=yield xr.read();if(bn)break;if(Kt.push(nr),Qi+=nr.length,Je.reportProgress){ye="text"===Je.responseType?(ye??"")+(de??=new TextDecoder).decode(nr,{stream:!0}):void 0;const rr=()=>Gt.next({type:Mt.DownloadProgress,total:Vt?+Vt:void 0,loaded:Qi,partialText:ye});ut?ut.run(rr):rr()}}}));const Qt=_n.concatChunks(Kt,Qi);try{const bn=Gn.headers.get("Content-Type")??"";_i=_n.parseBody(Je,Qt,bn)}catch(bn){return void Gt.error(new De({error:bn,headers:new fe(Gn.headers),status:Gn.status,statusText:Gn.statusText,url:Tt(Gn)??Je.urlWithParams}))}}0===In&&(In=_i?200:0),In>=200&&In<300?(Gt.next(new tt({body:_i,headers:Hn,status:In,statusText:Lr,url:Mn})),Gt.complete()):Gt.error(new De({error:_i,headers:Hn,status:In,statusText:Lr,url:Mn}))})()}parseBody(Je,Ht,Gt){switch(Je.responseType){case"json":const _n=(new TextDecoder).decode(Ht).replace(Xe,"");return""===_n?null:JSON.parse(_n);case"text":return(new TextDecoder).decode(Ht);case"blob":return new Blob([Ht],{type:Gt});case"arraybuffer":return Ht.buffer}}createRequestInit(Je){const Ht={},Gt=Je.withCredentials?"include":void 0;if(Je.headers.forEach((_n,St)=>Ht[_n]=St.join(",")),Je.headers.has("Accept")||(Ht.Accept="application/json, text/plain, */*"),!Je.headers.has("Content-Type")){const _n=Je.detectContentTypeHeader();null!==_n&&(Ht["Content-Type"]=_n)}return{body:Je.serializeBody(),method:Je.method,headers:Ht,credentials:Gt}}concatChunks(Je,Ht){const Gt=new Uint8Array(Ht);let _n=0;for(const St of Je)Gt.set(St,_n),_n+=St.length;return Gt}static{this.\u0275fac=function(Ht){return new(Ht||pe)}}static{this.\u0275prov=U.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();class st{}function Nt(){}function hn(pe,Oe){return Oe(pe)}function Ln(pe,Oe){return(Je,Ht)=>Oe.intercept(Je,{handle:Gt=>pe(Gt,Ht)})}const kn=new U.nKC(""),Nn=new U.nKC(""),zn=new U.nKC(""),Yn=new U.nKC("",{providedIn:"root",factory:()=>!0});function ft(){let pe=null;return(Oe,Je)=>{null===pe&&(pe=((0,U.WQX)(kn,{optional:!0})??[]).reduceRight(Ln,hn));const Ht=(0,U.WQX)(U.TgB);if((0,U.WQX)(Yn)){const _n=Ht.add();return pe(Oe,Je).pipe((0,ve.j)(()=>Ht.remove(_n)))}return pe(Oe,Je)}}let On=(()=>{class pe extends ke{constructor(Je,Ht){super(),this.backend=Je,this.injector=Ht,this.chain=null,this.pendingTasks=(0,U.WQX)(U.TgB),this.contributeToStability=(0,U.WQX)(Yn)}handle(Je){if(null===this.chain){const Ht=Array.from(new Set([...this.injector.get(Nn),...this.injector.get(zn,[])]));this.chain=Ht.reduceRight((Gt,_n)=>function qn(pe,Oe,Je){return(Ht,Gt)=>(0,U.N4e)(Je,()=>Oe(Ht,_n=>pe(_n,Gt)))}(Gt,_n,this.injector),hn)}if(this.contributeToStability){const Ht=this.pendingTasks.add();return this.chain(Je,Gt=>this.backend.handle(Gt)).pipe((0,ve.j)(()=>this.pendingTasks.remove(Ht)))}return this.chain(Je,Ht=>this.backend.handle(Ht))}static{this.\u0275fac=function(Ht){return new(Ht||pe)(U.KVO(xe),U.KVO(U.uvJ))}}static{this.\u0275prov=U.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();const vr=/^\)\]\}',?\n/;let ci=(()=>{class pe{constructor(Je){this.xhrFactory=Je}handle(Je){if("JSONP"===Je.method)throw new U.wOt(-2800,!1);const Ht=this.xhrFactory;return(Ht.\u0275loadImpl?(0,Re.H)(Ht.\u0275loadImpl()):(0,J.of)(null)).pipe((0,Te.n)(()=>new G.c(_n=>{const St=Ht.build();if(St.open(Je.method,Je.urlWithParams),Je.withCredentials&&(St.withCredentials=!0),Je.headers.forEach((Kt,xr)=>St.setRequestHeader(Kt,xr.join(","))),Je.headers.has("Accept")||St.setRequestHeader("Accept","application/json, text/plain, */*"),!Je.headers.has("Content-Type")){const Kt=Je.detectContentTypeHeader();null!==Kt&&St.setRequestHeader("Content-Type",Kt)}if(Je.responseType){const Kt=Je.responseType.toLowerCase();St.responseType="json"!==Kt?Kt:"text"}const Gn=Je.serializeBody();let Hn=null;const Lr=()=>{if(null!==Hn)return Hn;const Kt=St.statusText||"OK",xr=new fe(St.getAllResponseHeaders()),Qi=function ur(pe){return"responseURL"in pe&&pe.responseURL?pe.responseURL:/^X-Request-URL:/m.test(pe.getAllResponseHeaders())?pe.getResponseHeader("X-Request-URL"):null}(St)||Je.url;return Hn=new un({headers:xr,status:St.status,statusText:Kt,url:Qi}),Hn},Mn=()=>{let{headers:Kt,status:xr,statusText:Qi,url:de}=Lr(),ye=null;204!==xr&&(ye=typeof St.response>"u"?St.responseText:St.response),0===xr&&(xr=ye?200:0);let ut=xr>=200&&xr<300;if("json"===Je.responseType&&"string"==typeof ye){const Qt=ye;ye=ye.replace(vr,"");try{ye=""!==ye?JSON.parse(ye):null}catch(bn){ye=Qt,ut&&(ut=!1,ye={error:bn,text:ye})}}ut?(_n.next(new tt({body:ye,headers:Kt,status:xr,statusText:Qi,url:de||void 0})),_n.complete()):_n.error(new De({error:ye,headers:Kt,status:xr,statusText:Qi,url:de||void 0}))},In=Kt=>{const{url:xr}=Lr(),Qi=new De({error:Kt,status:St.status||0,statusText:St.statusText||"Unknown Error",url:xr||void 0});_n.error(Qi)};let _i=!1;const Tn=Kt=>{_i||(_n.next(Lr()),_i=!0);let xr={type:Mt.DownloadProgress,loaded:Kt.loaded};Kt.lengthComputable&&(xr.total=Kt.total),"text"===Je.responseType&&St.responseText&&(xr.partialText=St.responseText),_n.next(xr)},Vt=Kt=>{let xr={type:Mt.UploadProgress,loaded:Kt.loaded};Kt.lengthComputable&&(xr.total=Kt.total),_n.next(xr)};return St.addEventListener("load",Mn),St.addEventListener("error",In),St.addEventListener("timeout",In),St.addEventListener("abort",In),Je.reportProgress&&(St.addEventListener("progress",Tn),null!==Gn&&St.upload&&St.upload.addEventListener("progress",Vt)),St.send(Gn),_n.next({type:Mt.Sent}),()=>{St.removeEventListener("error",In),St.removeEventListener("abort",In),St.removeEventListener("load",Mn),St.removeEventListener("timeout",In),Je.reportProgress&&(St.removeEventListener("progress",Tn),null!==Gn&&St.upload&&St.upload.removeEventListener("progress",Vt)),St.readyState!==St.DONE&&St.abort()}})))}static{this.\u0275fac=function(Ht){return new(Ht||pe)(U.KVO(ue.N0))}}static{this.\u0275prov=U.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();const Rr=new U.nKC(""),dr=new U.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),yi=new U.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class di{}let Zt=(()=>{class pe{constructor(Je,Ht,Gt){this.doc=Je,this.platform=Ht,this.cookieName=Gt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Je=this.doc.cookie||"";return Je!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ue._b)(Je,this.cookieName),this.lastCookieString=Je),this.lastToken}static{this.\u0275fac=function(Ht){return new(Ht||pe)(U.KVO(ue.qQ),U.KVO(U.Agw),U.KVO(dr))}}static{this.\u0275prov=U.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();function ct(pe,Oe){const Je=pe.url.toLowerCase();if(!(0,U.WQX)(Rr)||"GET"===pe.method||"HEAD"===pe.method||Je.startsWith("http://")||Je.startsWith("https://"))return Oe(pe);const Ht=(0,U.WQX)(di).getToken(),Gt=(0,U.WQX)(yi);return null!=Ht&&!pe.headers.has(Gt)&&(pe=pe.clone({headers:pe.headers.set(Gt,Ht)})),Oe(pe)}var It=function(pe){return pe[pe.Interceptors=0]="Interceptors",pe[pe.LegacyInterceptors=1]="LegacyInterceptors",pe[pe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",pe[pe.NoXsrfProtection=3]="NoXsrfProtection",pe[pe.JsonpSupport=4]="JsonpSupport",pe[pe.RequestsMadeViaParent=5]="RequestsMadeViaParent",pe[pe.Fetch=6]="Fetch",pe}(It||{});function fn(pe,Oe){return{\u0275kind:pe,\u0275providers:Oe}}function Bn(...pe){const Oe=[at,ci,On,{provide:ke,useExisting:On},{provide:xe,useFactory:()=>(0,U.WQX)(he,{optional:!0})??(0,U.WQX)(ci)},{provide:Nn,useValue:ct,multi:!0},{provide:Rr,useValue:!0},{provide:di,useClass:Zt}];for(const Je of pe)Oe.push(...Je.\u0275providers);return(0,U.EmA)(Oe)}const $e=new U.nKC("");let kr=(()=>{class pe{static{this.\u0275fac=function(Ht){return new(Ht||pe)}}static{this.\u0275mod=U.$C({type:pe})}static{this.\u0275inj=U.G2t({providers:[Bn(fn(It.LegacyInterceptors,[{provide:$e,useFactory:ft},{provide:Nn,useExisting:$e,multi:!0}]))]})}}return pe})()},4438:(En,ht,N)=>{"use strict";function l(e,n){return Object.is(e,n)}N.d(ht,{iLQ:()=>vI,sZ2:()=>Xf,hnV:()=>dS,Hbi:()=>nO,o8S:()=>Qd,BIS:()=>Km,gRc:()=>DS,Ql9:()=>bN,Ocv:()=>xN,Z63:()=>Ks,aKT:()=>Vl,uvJ:()=>ms,zcH:()=>Ls,bkB:()=>il,$GK:()=>xn,nKC:()=>Yt,zZn:()=>Qs,_q3:()=>fC,MKu:()=>pC,xe9:()=>aC,Co$:()=>Kp,Vns:()=>Pa,SKi:()=>T,Xx1:()=>pr,Agw:()=>lg,PLl:()=>oy,sFG:()=>yE,_9s:()=>Zg,czy:()=>Sg,kdw:()=>xi,C4Q:()=>ld,NYb:()=>_N,giA:()=>cS,xvI:()=>Gx,RxE:()=>tS,c1b:()=>Bp,gXe:()=>vs,mal:()=>JE,L39:()=>NO,EWP:()=>kO,a0P:()=>jO,Ol2:()=>aT,w6W:()=>N_,oH4:()=>CS,Rfq:()=>Zt,WQX:()=>Ue,naY:()=>$N,QuC:()=>Uo,EmA:()=>_s,fpN:()=>tO,HJs:()=>HO,N4e:()=>Oi,vPA:()=>C_,O8t:()=>LO,H3F:()=>nS,H8p:()=>ga,KH2:()=>Om,TgB:()=>uc,wOt:()=>ft,WHO:()=>aS,e01:()=>lS,H5H:()=>OT,Zy3:()=>Xt,mq5:()=>IA,JZv:()=>vr,LfX:()=>Wt,plB:()=>Cl,jNT:()=>rC,zjR:()=>uS,TL$:()=>qh,Tbb:()=>dr,Vt3:()=>fm,GFd:()=>Oh,OA$:()=>oi,Jv_:()=>SD,aNF:()=>RD,R7$:()=>Ov,BMQ:()=>ET,HbH:()=>oA,AVh:()=>DT,wni:()=>iD,VBU:()=>Ni,FsC:()=>ea,jDH:()=>yr,G2t:()=>li,$C:()=>hi,EJ8:()=>Ps,rXU:()=>bh,nrm:()=>xT,eu8:()=>NT,bVm:()=>aI,qex:()=>oI,k0s:()=>sI,j41:()=>iI,RV6:()=>_A,xGo:()=>lu,KVO:()=>A,kS0:()=>Il,QTQ:()=>Lv,bIt:()=>FT,lsd:()=>aD,XpG:()=>GA,nI1:()=>FD,bMT:()=>VD,i5U:()=>UD,SdG:()=>XA,NAR:()=>KA,Y8G:()=>wT,mGM:()=>oD,Njj:()=>Jc,tSv:()=>Ly,eBV:()=>Ed,n$t:()=>hp,xc7:()=>AT,DNE:()=>cT,EFF:()=>vD,JRh:()=>$T,SpI:()=>hI,Lme:()=>jT,E5c:()=>HT,LHq:()=>WT,DH7:()=>wD,mxI:()=>GT,R50:()=>zT,GBs:()=>sD});let U=null,J=!1,G=1;const Re=Symbol("SIGNAL");function we(e){const n=U;return U=e,n}const Te={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ue(e){if(J)throw new Error("");if(null===U)return;U.consumerOnSignalRead(e);const n=U.nextProducerIndex++;qe(U),n<U.producerNode.length&&U.producerNode[n]!==e&&ot(U)&&Fe(U.producerNode[n],U.producerIndexOfThis[n]),U.producerNode[n]!==e&&(U.producerNode[n]=e,U.producerIndexOfThis[n]=ot(U)?ze(e,U,n):0),U.producerLastReadVersion[n]=e.version}function xe(e){if((!ot(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==G)){if(!e.producerMustRecompute(e)&&!At(e))return e.dirty=!1,void(e.lastCleanEpoch=G);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=G}}function fe(e){if(void 0===e.liveConsumerNode)return;const n=J;J=!0;try{for(const i of e.liveConsumerNode)i.dirty||yt(i)}finally{J=n}}function rt(){return!1!==U?.consumerAllowSignalWrites}function yt(e){e.dirty=!0,fe(e),e.consumerMarkedDirty?.(e)}function it(e){return e&&(e.nextProducerIndex=0),we(e)}function We(e,n){if(we(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ot(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)Fe(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function At(e){qe(e);for(let n=0;n<e.producerNode.length;n++){const i=e.producerNode[n],s=e.producerLastReadVersion[n];if(s!==i.version||(xe(i),s!==i.version))return!0}return!1}function Pt(e){if(qe(e),ot(e))for(let n=0;n<e.producerNode.length;n++)Fe(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ze(e,n,i){if(nt(e),0===e.liveConsumerNode.length&&bt(e))for(let s=0;s<e.producerNode.length;s++)e.producerIndexOfThis[s]=ze(e.producerNode[s],e,s);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(n)-1}function Fe(e,n){if(nt(e),1===e.liveConsumerNode.length&&bt(e))for(let s=0;s<e.producerNode.length;s++)Fe(e.producerNode[s],e.producerIndexOfThis[s]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const s=e.liveConsumerIndexOfThis[n],c=e.liveConsumerNode[n];qe(c),c.producerIndexOfThis[s]=n}}function ot(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function qe(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function nt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function bt(e){return void 0!==e.producerNode}const He=Symbol("UNSET"),wt=Symbol("COMPUTING"),Ke=Symbol("ERRORED"),Mt={...Te,value:He,dirty:!0,error:null,equal:l,producerMustRecompute:e=>e.value===He||e.value===wt,producerRecomputeValue(e){if(e.value===wt)throw new Error("Detected cycle in computations.");const n=e.value;e.value=wt;const i=it(e);let s;try{s=e.computation()}catch(c){s=Ke,e.error=c}finally{We(e,i)}n!==He&&n!==Ke&&s!==Ke&&e.equal(n,s)?e.value=n:(e.value=s,e.version++)}};let un=function kt(){throw new Error};function tt(){un()}let Ie=null;function at(e,n){rt()||tt(),e.equal(e.value,n)||(e.value=n,function he(e){e.version++,function ke(){G++}(),fe(e),Ie?.()}(e))}const Tt={...Te,equal:l,value:void 0};var Ln=N(4412),qn=N(1413),kn=N(8359),Nn=N(6354);const Yn="https://g.co/ng/security#xss";class ft extends Error{constructor(n,i){super(Xt(n,i)),this.code=n}}function Xt(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}function Xn(e){return{toString:e}.toString()}const Mr="__parameters__";function Hr(e,n,i){return Xn(()=>{const s=function Or(e){return function(...i){if(e){const s=e(...i);for(const c in s)this[c]=s[c]}}}(n);function c(...f){if(this instanceof c)return s.apply(this,f),this;const y=new c(...f);return w.annotation=y,w;function w(x,W,re){const Ne=x.hasOwnProperty(Mr)?x[Mr]:Object.defineProperty(x,Mr,{value:[]})[Mr];for(;Ne.length<=re;)Ne.push(null);return(Ne[re]=Ne[re]||[]).push(y),x}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=e,c.annotationCls=c,c})}const vr=globalThis;function Rr(e){for(let n in e)if(e[n]===Rr)return n;throw Error("Could not find renamed property on target object.")}function ui(e,n){for(const i in n)n.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=n[i])}function dr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(dr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function bi(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const di=Rr({__forward_ref__:Rr});function Zt(e){return e.__forward_ref__=Zt,e.toString=function(){return dr(this())},e}function ct(e){return Ze(e)?e():e}function Ze(e){return"function"==typeof e&&e.hasOwnProperty(di)&&e.__forward_ref__===Zt}function yr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function li(e){return{providers:e.providers||[],imports:e.imports||[]}}function mi(e){return ae(e,Y)||ae(e,gt)}function Wt(e){return null!==mi(e)}function ae(e,n){return e.hasOwnProperty(n)?e[n]:null}function ie(e){return e&&(e.hasOwnProperty(Ve)||e.hasOwnProperty(ln))?e[Ve]:null}const Y=Rr({\u0275prov:Rr}),Ve=Rr({\u0275inj:Rr}),gt=Rr({ngInjectableDef:Rr}),ln=Rr({ngInjectorDef:Rr});class Yt{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=yr({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Mn(e){return e&&!!e.\u0275providers}const In=Rr({\u0275cmp:Rr}),_i=Rr({\u0275dir:Rr}),Tn=Rr({\u0275pipe:Rr}),Vt=Rr({\u0275mod:Rr}),Kt=Rr({\u0275fac:Rr}),xr=Rr({__NG_ELEMENT_ID__:Rr}),Qi=Rr({__NG_ENV_ID__:Rr});function de(e){return"string"==typeof e?e:null==e?"":String(e)}function Ar(e,n){throw new ft(-201,!1)}var xn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(xn||{});let Ei;function Wn(){return Ei}function ts(e){const n=Ei;return Ei=e,n}function Lo(e,n,i){const s=mi(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&xn.Optional?null:void 0!==n?n:void Ar()}const ii={},Jn="__NG_DI_FLAG__",ns="ngTempTokenPath",Fn=/\n/gm,Js="__source";let Cs;function le(e){const n=Cs;return Cs=e,n}function O(e,n=xn.Default){if(void 0===Cs)throw new ft(-203,!1);return null===Cs?Lo(e,void 0,n):Cs.get(e,n&xn.Optional?null:void 0,n)}function A(e,n=xn.Default){return(Wn()||O)(ct(e),n)}function Ue(e,n=xn.Default){return A(e,zt(n))}function zt(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function dn(e){const n=[];for(let i=0;i<e.length;i++){const s=ct(e[i]);if(Array.isArray(s)){if(0===s.length)throw new ft(900,!1);let c,f=xn.Default;for(let y=0;y<s.length;y++){const w=s[y],x=mn(w);"number"==typeof x?-1===x?c=w.token:f|=x:c=w}n.push(A(c,f))}else n.push(A(s))}return n}function pn(e,n){return e[Jn]=n,e.prototype[Jn]=n,e}function mn(e){return e[Jn]}const pr=pn(Hr("Optional"),8),xi=pn(Hr("SkipSelf"),4);function Xr(e,n){return e.hasOwnProperty(Kt)?e[Kt]:null}function si(e,n){e.forEach(i=>Array.isArray(i)?si(i,n):n(i))}function mo(e,n,i){n>=e.length?e.push(i):e.splice(n,0,i)}function Yo(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function is(e,n,i){let s=Gs(e,n);return s>=0?e[1|s]=i:(s=~s,function Jo(e,n,i,s){let c=e.length;if(c==n)e.push(i,s);else if(1===c)e.push(s,e[0]),e[0]=i;else{for(c--,e.push(e[c-1],e[c]);c>n;)e[c]=e[c-2],c--;e[n]=i,e[n+1]=s}}(e,s,n,i)),s}function ls(e,n){const i=Gs(e,n);if(i>=0)return e[1|i]}function Gs(e,n){return function $s(e,n,i){let s=0,c=e.length>>i;for(;c!==s;){const f=s+(c-s>>1),y=e[f<<i];if(n===y)return f<<i;y>n?c=f:s=f+1}return~(c<<i)}(e,n,1)}const eo={},Tr=[],Ks=new Yt(""),Wa=new Yt("",-1),to=new Yt("");class za{get(n,i=ii){if(i===ii){const s=new Error(`NullInjectorError: No provider for ${dr(n)}!`);throw s.name="NullInjectorError",s}return i}}var js=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(js||{}),vs=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(vs||{}),Xs=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Xs||{});function zr(e,n,i){let s=e.length;for(;;){const c=e.indexOf(n,i);if(-1===c)return c;if(0===c||e.charCodeAt(c-1)<=32){const f=n.length;if(c+f===s||e.charCodeAt(c+f)<=32)return c}i=c+1}}function As(e,n,i){let s=0;for(;s<i.length;){const c=i[s];if("number"==typeof c){if(0!==c)break;s++;const f=i[s++],y=i[s++],w=i[s++];e.setAttribute(n,y,w,f)}else{const f=c,y=i[++s];Wc(f)?e.setProperty(n,f,y):e.setAttribute(n,f,y),s++}}return s}function Fo(e){return 3===e||4===e||6===e}function Wc(e){return 64===e.charCodeAt(0)}function Vi(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const c=n[s];"number"==typeof c?i=c:0===i||Na(e,i,c,null,-1===i||2===i?n[++s]:null)}}return e}function Na(e,n,i,s,c){let f=0,y=e.length;if(-1===n)y=-1;else for(;f<e.length;){const w=e[f++];if("number"==typeof w){if(w===n){y=-1;break}if(w>n){y=f-1;break}}}for(;f<e.length;){const w=e[f];if("number"==typeof w)break;if(w===i){if(null===s)return void(null!==c&&(e[f+1]=c));if(s===e[f+1])return void(e[f+2]=c)}f++,null!==s&&f++,null!==c&&f++}-1!==y&&(e.splice(y,0,n),f=y+1),e.splice(f++,0,i),null!==s&&e.splice(f++,0,s),null!==c&&e.splice(f++,0,c)}const Gl="ng-template";function Kl(e,n,i,s){let c=0;if(s){for(;c<n.length&&"string"==typeof n[c];c+=2)if("class"===n[c]&&-1!==zr(n[c+1].toLowerCase(),i,0))return!0}else if(Ga(e))return!1;if(c=n.indexOf(1,c),c>-1){let f;for(;++c<n.length&&"string"==typeof(f=n[c]);)if(f.toLowerCase()===i)return!0}return!1}function Ga(e){return 4===e.type&&e.value!==Gl}function Ao(e,n,i){return n===(4!==e.type||i?e.value:Gl)}function Q(e,n,i){let s=4;const c=e.attrs,f=null!==c?function Nr(e){for(let n=0;n<e.length;n++)if(Fo(e[n]))return n;return e.length}(c):0;let y=!1;for(let w=0;w<n.length;w++){const x=n[w];if("number"!=typeof x){if(!y)if(4&s){if(s=2|1&s,""!==x&&!Ao(e,x,i)||""===x&&1===n.length){if(ee(s))return!1;y=!0}}else if(8&s){if(null===c||!Kl(e,c,x,i)){if(ee(s))return!1;y=!0}}else{const W=n[++w],re=$(x,c,Ga(e),i);if(-1===re){if(ee(s))return!1;y=!0;continue}if(""!==W){let Ne;if(Ne=re>f?"":c[re+1].toLowerCase(),2&s&&W!==Ne){if(ee(s))return!1;y=!0}}}}else{if(!y&&!ee(s)&&!ee(x))return!1;if(y&&ee(x))continue;y=!1,s=x|1&s}}return ee(s)||y}function ee(e){return!(1&e)}function $(e,n,i,s){if(null===n)return-1;let c=0;if(s||!i){let f=!1;for(;c<n.length;){const y=n[c];if(y===e)return c;if(3===y||6===y)f=!0;else{if(1===y||2===y){let w=n[++c];for(;"string"==typeof w;)w=n[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=f?1:2}return-1}return function Qr(e,n){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const s=e[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,e)}function Ce(e,n,i=!1){for(let s=0;s<n.length;s++)if(Q(e,n[s],i))return!0;return!1}function Ui(e,n){e:for(let i=0;i<n.length;i++){const s=n[i];if(e.length===s.length){for(let c=0;c<e.length;c++)if(e[c]!==s[c])continue e;return!0}}return!1}function Vo(e,n){return e?":not("+n.trim()+")":n}function vo(e){let n=e[0],i=1,s=2,c="",f=!1;for(;i<e.length;){let y=e[i];if("string"==typeof y)if(2&s){const w=e[++i];c+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&s?c+="."+y:4&s&&(c+=" "+y);else""!==c&&!ee(y)&&(n+=Vo(f,c),c=""),s=y,f=f||!ee(s);i++}return""!==c&&(n+=Vo(f,c)),n}function Ni(e){return Xn(()=>{const n=qi(e),i={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===js.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||vs.Emulated,styles:e.styles||Tr,_:null,schemas:e.schemas||null,tView:null,id:""};no(i);const s=e.dependencies;return i.directiveDefs=Oa(s,!1),i.pipeDefs=Oa(s,!0),i.id=function dl(e){let n=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const c of i)n=Math.imul(31,n)+c.charCodeAt(0)|0;return n+=2147483648,"c"+n}(i),i})}function cl(e){return qr(e)||Xi(e)}function gs(e){return null!==e}function hi(e){return Xn(()=>({type:e.type,bootstrap:e.bootstrap||Tr,declarations:e.declarations||Tr,imports:e.imports||Tr,exports:e.exports||Tr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function _o(e,n){if(null==e)return eo;const i={};for(const s in e)if(e.hasOwnProperty(s)){const c=e[s];let f,y,w=Xs.None;Array.isArray(c)?(w=c[0],f=c[1],y=c[2]??f):(f=c,y=c),n?(i[f]=w!==Xs.None?[s,w]:s,n[f]=y):i[f]=s}return i}function ea(e){return Xn(()=>{const n=qi(e);return no(n),n})}function Ps(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function qr(e){return e[In]||null}function Xi(e){return e[_i]||null}function Zr(e){return e[Tn]||null}function Uo(e){const n=qr(e)||Xi(e)||Zr(e);return null!==n&&n.standalone}function Yi(e,n){const i=e[Vt]||null;if(!i&&!0===n)throw new Error(`Type ${dr(e)} does not have '\u0275mod' property.`);return i}function qi(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||eo,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Tr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_o(e.inputs,n),outputs:_o(e.outputs),debugInfo:null}}function no(e){e.features?.forEach(n=>n(e))}function Oa(e,n){if(!e)return null;const i=n?Zr:cl;return()=>("function"==typeof e?e():e).map(s=>i(s)).filter(gs)}function _s(e){return{\u0275providers:e}}function yo(...e){return{\u0275providers:Eo(0,e),\u0275fromNgModule:!0}}function Eo(e,...n){const i=[],s=new Set;let c;const f=y=>{i.push(y)};return si(n,y=>{const w=y;ro(w,f,[],s)&&(c||=[],c.push(w))}),void 0!==c&&hl(c,f),i}function hl(e,n){for(let i=0;i<e.length;i++){const{ngModule:s,providers:c}=e[i];uo(c,f=>{n(f,s)})}}function ro(e,n,i,s){if(!(e=ct(e)))return!1;let c=null,f=ie(e);const y=!f&&qr(e);if(f||y){if(y&&!y.standalone)return!1;c=e}else{const x=e.ngModule;if(f=ie(x),!f)return!1;c=x}const w=s.has(c);if(y){if(w)return!1;if(s.add(c),y.dependencies){const x="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const W of x)ro(W,n,i,s)}}else{if(!f)return!1;{if(null!=f.imports&&!w){let W;s.add(c);try{si(f.imports,re=>{ro(re,n,i,s)&&(W||=[],W.push(re))})}finally{}void 0!==W&&hl(W,n)}if(!w){const W=Xr(c)||(()=>new c);n({provide:c,useFactory:W,deps:Tr},c),n({provide:to,useValue:c,multi:!0},c),n({provide:Ks,useValue:()=>A(c),multi:!0},c)}const x=f.providers;if(null!=x&&!w){const W=e;uo(x,re=>{n(re,W)})}}}return c!==e&&void 0!==e.providers}function uo(e,n){for(let i of e)Mn(i)&&(i=i.\u0275providers),Array.isArray(i)?uo(i,n):n(i)}const So=Rr({provide:String,useValue:Rr});function ta(e){return null!==e&&"object"==typeof e&&So in e}function ho(e){return"function"==typeof e}const ga=new Yt(""),na={},ra={};let Ka;function Xa(){return void 0===Ka&&(Ka=new za),Ka}class ms{}class Ro extends ms{get destroyed(){return this._destroyed}constructor(n,i,s,c){super(),this.parent=i,this.source=s,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,va(n,y=>this.processProvider(y)),this.records.set(Wa,Bo(void 0,this)),c.has("environment")&&this.records.set(ms,Bo(void 0,this));const f=this.records.get(ga);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(to,Tr,xn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=we(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),we(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=le(this),s=ts(void 0);try{return n()}finally{le(i),ts(s)}}get(n,i=ii,s=xn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Qi))return n[Qi](this);s=zt(s);const f=le(this),y=ts(void 0);try{if(!(s&xn.SkipSelf)){let x=this.records.get(n);if(void 0===x){const W=function ds(e){return"function"==typeof e||"object"==typeof e&&e instanceof Yt}(n)&&mi(n);x=W&&this.injectableDefInScope(W)?Bo(ma(n),na):null,this.records.set(n,x)}if(null!=x)return this.hydrate(n,x)}return(s&xn.Self?Xa():this.parent).get(n,i=s&xn.Optional&&i===ii?null:i)}catch(w){if("NullInjectorError"===w.name){if((w[ns]=w[ns]||[]).unshift(dr(n)),f)throw w;return function $n(e,n,i,s){const c=e[ns];throw n[Js]&&c.unshift(n[Js]),e.message=function Un(e,n,i,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let c=dr(n);if(Array.isArray(n))c=n.map(dr).join(" -> ");else if("object"==typeof n){let f=[];for(let y in n)if(n.hasOwnProperty(y)){let w=n[y];f.push(y+":"+("string"==typeof w?JSON.stringify(w):dr(w)))}c=`{${f.join(", ")}}`}return`${i}${s?"("+s+")":""}[${c}]: ${e.replace(Fn,"\n  ")}`}("\n"+e.message,c,i,s),e.ngTokenPath=c,e[ns]=null,e}(w,n,"R3InjectorError",this.source)}throw w}finally{ts(y),le(f)}}resolveInjectorInitializers(){const n=we(null),i=le(this),s=ts(void 0);try{const f=this.get(Ks,Tr,xn.Self);for(const y of f)y()}finally{le(i),ts(s),we(n)}}toString(){const n=[],i=this.records;for(const s of i.keys())n.push(dr(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ft(205,!1)}processProvider(n){let i=ho(n=ct(n))?n:ct(n&&n.provide);const s=function Ms(e){return ta(e)?Bo(void 0,e.useValue):Bo(ml(e),na)}(n);if(!ho(n)&&!0===n.multi){let c=this.records.get(i);c||(c=Bo(void 0,na,!0),c.factory=()=>dn(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,s)}hydrate(n,i){const s=we(null);try{return i.value===na&&(i.value=ra,i.value=i.factory()),"object"==typeof i.value&&i.value&&function wl(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{we(s)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=ct(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function ma(e){const n=mi(e),i=null!==n?n.factory:Xr(e);if(null!==i)return i;if(e instanceof Yt)throw new ft(204,!1);if(e instanceof Function)return function Ji(e){if(e.length>0)throw new ft(204,!1);const i=function _e(e){return e&&(e[Y]||e[gt])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new ft(204,!1)}function ml(e,n,i){let s;if(ho(e)){const c=ct(e);return Xr(c)||ma(c)}if(ta(e))s=()=>ct(e.useValue);else if(function pl(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...dn(e.deps||[]));else if(function fl(e){return!(!e||!e.useExisting)}(e))s=()=>A(ct(e.useExisting));else{const c=ct(e&&(e.useClass||e.provide));if(!function qa(e){return!!e.deps}(e))return Xr(c)||ma(c);s=()=>new c(...dn(e.deps))}return s}function Bo(e,n,i=!1){return{factory:e,value:n,multi:i?[]:void 0}}function va(e,n){for(const i of e)Array.isArray(i)?va(i,n):i&&Mn(i)?va(i.\u0275providers,n):n(i)}function Oi(e,n){e instanceof Ro&&e.assertNotDestroyed();const s=le(e),c=ts(void 0);try{return n()}finally{le(s),ts(c)}}function Ds(){return void 0!==Wn()||null!=function C(){return Cs}()}const Vr=0,Rn=1,or=2,vi=3,ys=4,Bi=5,xs=6,io=7,Ci=8,Hi=9,so=10,Ur=11,$o=12,ql=13,Qa=14,ki=15,oo=16,_a=17,Ya=18,jo=19,bl=20,$i=21,Ql=22,fo=23,gr=25,Yl=1,ia=7,Ja=9,Es=10;var zc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(zc||{});function Ns(e){return Array.isArray(e)&&"object"==typeof e[Yl]}function hs(e){return Array.isArray(e)&&!0===e[Yl]}function Cu(e){return!!(4&e.flags)}function fs(e){return e.componentOffset>-1}function Jl(e){return!(1&~e.flags)}function Os(e){return!!e.template}function sa(e){return!!(512&e[or])}class ps{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function aa(e,n,i,s){null!==n?n.applyValueToInputSignal(n,s):e[i]=s}function oi(){return Ho}function Ho(e){return e.type.prototype.ngOnChanges&&(e.setInput=Fa),Po}function Po(){const e=Ea(this),n=e?.current;if(n){const i=e.previous;if(i===eo)e.previous=n;else for(let s in n)i[s]=n[s];e.current=null,this.ngOnChanges(n)}}function Fa(e,n,i,s,c){const f=this.declaredInputs[s],y=Ea(e)||function qc(e,n){return e[vc]=n}(e,{previous:eo,current:null}),w=y.current||(y.current={}),x=y.previous,W=x[f];w[f]=new ps(W&&W.currentValue,i,x===eo),aa(e,n,c,i)}oi.ngInherit=!0;const vc="__ngSimpleChanges__";function Ea(e){return e[vc]||null}const Hs=function(e,n,i){};function Li(e){for(;Array.isArray(e);)e=e[Vr];return e}function Ia(e,n){return Li(n[e])}function Ss(e,n){return Li(n[e.index])}function Ec(e,n){return e.data[n]}function nc(e,n){return e[n]}function Ta(e,n){const i=n[e];return Ns(i)?i:i[Vr]}function wi(e){return!(128&~e[or])}function la(e,n){return null==n?null:e[n]}function Ic(e){e[_a]=0}function Jd(e){1024&e[or]||(e[or]|=1024,wi(e)&&yl(e))}function Tc(e){return!!(9216&e[or]||e[fo]?.dirty)}function rc(e){e[so].changeDetectionScheduler?.notify(8),64&e[or]&&(e[or]|=1024),Tc(e)&&yl(e)}function yl(e){e[so].changeDetectionScheduler?.notify(0);let n=Wo(e);for(;null!==n&&!(8192&n[or])&&(n[or]|=8192,wi(n));)n=Wo(n)}function Za(e,n){if(!(256&~e[or]))throw new ft(911,!1);null===e[$i]&&(e[$i]=[]),e[$i].push(n)}function Wo(e){const n=e[vi];return hs(n)?n[vi]:n}const Wr={lFrame:Uh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Qc=!1;function Vh(){return Wr.bindingsEnabled}function wc(){return null!==Wr.skipHydrationRootTNode}function tn(){return Wr.lFrame.lView}function ei(){return Wr.lFrame.tView}function Ed(e){return Wr.lFrame.contextLView=e,e[Ci]}function Jc(e){return Wr.lFrame.contextLView=null,e}function Si(){let e=Co();for(;null!==e&&64===e.type;)e=e.parent;return e}function Co(){return Wr.lFrame.currentTNode}function ca(e,n){const i=Wr.lFrame;i.currentTNode=e,i.isParent=n}function Mo(){return Wr.lFrame.isParent}function Zc(){Wr.lFrame.isParent=!1}function Sl(){return Qc}function Td(e){Qc=e}function xo(){const e=Wr.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function El(){return Wr.lFrame.bindingIndex}function Ua(){return Wr.lFrame.bindingIndex++}function tl(e){const n=Wr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,i}function Pu(e,n){const i=Wr.lFrame;i.bindingIndex=i.bindingRootIndex=e,Mu(n)}function Mu(e){Wr.lFrame.currentDirectiveIndex=e}function sc(){return Wr.lFrame.currentQueryIndex}function Dc(e){Wr.lFrame.currentQueryIndex=e}function Bf(e){const n=e[Rn];return 2===n.type?n.declTNode:1===n.type?e[Bi]:null}function Zd(e,n,i){if(i&xn.SkipSelf){let c=n,f=e;for(;!(c=c.parent,null!==c||i&xn.Host||(c=Bf(f),null===c||(f=f[Qa],10&c.type))););if(null===c)return!1;n=c,e=f}const s=Wr.lFrame=tu();return s.currentTNode=n,s.lView=e,!0}function nl(e){const n=tu(),i=e[Rn];Wr.lFrame=n,n.currentTNode=i.firstChild,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function tu(){const e=Wr.lFrame,n=null===e?null:e.child;return null===n?Uh(e):n}function Uh(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function eh(){const e=Wr.lFrame;return Wr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const xu=eh;function rl(){const e=eh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function bs(){return Wr.lFrame.selectedIndex}function No(e){Wr.lFrame.selectedIndex=e}function ji(){const e=Wr.lFrame;return Ec(e.tView,e.selectedIndex)}let nh=!0;function Pl(){return nh}function ua(e){nh=e}function ac(e,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const f=e.data[i].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:x,ngAfterViewChecked:W,ngOnDestroy:re}=f;y&&(e.contentHooks??=[]).push(-i,y),w&&((e.contentHooks??=[]).push(i,w),(e.contentCheckHooks??=[]).push(i,w)),x&&(e.viewHooks??=[]).push(-i,x),W&&((e.viewHooks??=[]).push(i,W),(e.viewCheckHooks??=[]).push(i,W)),null!=re&&(e.destroyHooks??=[]).push(i,re)}}function da(e,n,i){bd(e,n,3,i)}function nu(e,n,i,s){(3&e[or])===i&&bd(e,n,i,s)}function rh(e,n){let i=e[or];(3&i)===n&&(i&=16383,i+=1,e[or]=i)}function bd(e,n,i,s){const f=s??-1,y=n.length-1;let w=0;for(let x=void 0!==s?65535&e[_a]:0;x<y;x++)if("number"==typeof n[x+1]){if(w=n[x],null!=s&&w>=s)break}else n[x]<0&&(e[_a]+=65536),(w<f||-1==f)&&(Ad(e,i,n,x),e[_a]=(4294901760&e[_a])+x+2),x++}function ku(e,n){Hs(4,e,n);const i=we(null);try{n.call(e)}finally{we(i),Hs(5,e,n)}}function Ad(e,n,i,s){const c=i[s]<0,f=i[s+1],w=e[c?-i[s]:i[s]];c?e[or]>>14<e[_a]>>16&&(3&e[or])===n&&(e[or]+=16384,ku(w,f)):ku(w,f)}const Ba=-1;class $a{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}const Oo={};class Ws{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){s=zt(s);const c=this.injector.get(n,Oo,s);return c!==Oo||i===Oo?c:this.parentInjector.get(n,i,s)}}function Vu(e){return e!==Ba}function Nl(e){return 32767&e}function ru(e,n){let i=function Ol(e){return e>>16}(e),s=n;for(;i>0;)s=s[Qa],i--;return s}let oh=!0;function Pc(e){const n=oh;return oh=e,n}const su=255,xc=5;let Dd=0;const Go={};function kl(e,n){const i=ou(e,n);if(-1!==i)return i;const s=n[Rn];s.firstCreatePass&&(e.injectorIndex=n.length,lc(s.data,e),lc(n,null),lc(s.blueprint,null));const c=Nc(e,n),f=e.injectorIndex;if(Vu(c)){const y=Nl(c),w=ru(c,n),x=w[Rn].data;for(let W=0;W<8;W++)n[f+W]=w[y+W]|x[y+W]}return n[f+8]=c,f}function lc(e,n){e.push(0,0,0,0,0,0,0,0,n)}function ou(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Nc(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,s=null,c=n;for(;null!==c;){if(s=ch(c),null===s)return Ba;if(i++,c=c[Qa],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return Ba}function wa(e,n,i){!function ao(e,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(xr)&&(s=i[xr]),null==s&&(s=i[xr]=Dd++);const c=s&su;n.data[e+(c>>xc)]|=1<<c}(e,n,i)}function Sd(e,n,i){if(i&xn.Optional||void 0!==e)return e;Ar()}function qs(e,n,i,s){if(i&xn.Optional&&void 0===s&&(s=null),!(i&(xn.Self|xn.Host))){const c=e[Hi],f=ts(void 0);try{return c?c.get(n,s,i&xn.Optional):Lo(n,s,i&xn.Optional)}finally{ts(f)}}return Sd(s,0,i)}function Uu(e,n,i,s=xn.Default,c){if(null!==e){if(2048&n[or]&&!(s&xn.Self)){const y=function jh(e,n,i,s,c){let f=e,y=n;for(;null!==f&&null!==y&&2048&y[or]&&!(512&y[or]);){const w=kc(f,y,i,s|xn.Self,Go);if(w!==Go)return w;let x=f.parent;if(!x){const W=y[bl];if(W){const re=W.get(i,Go,s);if(re!==Go)return re}x=ch(y),y=y[Qa]}f=x}return c}(e,n,i,s,Go);if(y!==Go)return y}const f=kc(e,n,i,s,Go);if(f!==Go)return f}return qs(n,i,s,c)}function kc(e,n,i,s,c){const f=function $f(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(xr)?e[xr]:void 0;return"number"==typeof n?n>=0?n&su:$h:n}(i);if("function"==typeof f){if(!Zd(n,e,s))return s&xn.Host?Sd(c,0,s):qs(n,i,s,c);try{let y;if(y=f(s),null!=y||s&xn.Optional)return y;Ar()}finally{xu()}}else if("number"==typeof f){let y=null,w=ou(e,n),x=Ba,W=s&xn.Host?n[ki][Bi]:null;for((-1===w||s&xn.SkipSelf)&&(x=-1===w?Nc(e,n):n[w+8],x!==Ba&&lh(s,!1)?(y=n[Rn],w=Nl(x),n=ru(x,n)):w=-1);-1!==w;){const re=n[Rn];if(ah(f,w,re.data)){const Ne=Bh(w,n,i,y,s,W);if(Ne!==Go)return Ne}x=n[w+8],x!==Ba&&lh(s,n[Rn].data[w+8]===W)&&ah(f,w,n)?(y=re,w=Nl(x),n=ru(x,n)):w=-1}}return c}function Bh(e,n,i,s,c,f){const y=n[Rn],w=y.data[e+8],re=fa(w,y,i,null==s?fs(w)&&oh:s!=y&&!!(3&w.type),c&xn.Host&&f===w);return null!==re?Ll(n,y,re,w):Go}function fa(e,n,i,s,c){const f=e.providerIndexes,y=n.data,w=1048575&f,x=e.directiveStart,re=f>>20,lt=c?w+re:e.directiveEnd;for(let Ct=s?w:w+re;Ct<lt;Ct++){const $t=y[Ct];if(Ct<x&&i===$t||Ct>=x&&$t.type===i)return Ct}if(c){const Ct=y[x];if(Ct&&Os(Ct)&&Ct.type===i)return x}return null}function Ll(e,n,i,s){let c=e[i];const f=n.data;if(function Ml(e){return e instanceof $a}(c)){const y=c;y.resolving&&function bn(e,n){throw n&&n.join(" > "),new ft(-200,e)}(function ye(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():de(e)}(f[i]));const w=Pc(y.canSeeViewProviders);y.resolving=!0;const W=y.injectImpl?ts(y.injectImpl):null;Zd(e,s,xn.Default);try{c=e[i]=y.factory(void 0,f,e,s),n.firstCreatePass&&i>=s.directiveStart&&function Sc(e,n,i){const{ngOnChanges:s,ngOnInit:c,ngDoCheck:f}=n.type.prototype;if(s){const y=Ho(n);(i.preOrderHooks??=[]).push(e,y),(i.preOrderCheckHooks??=[]).push(e,y)}c&&(i.preOrderHooks??=[]).push(0-e,c),f&&((i.preOrderHooks??=[]).push(e,f),(i.preOrderCheckHooks??=[]).push(e,f))}(i,f[i],n)}finally{null!==W&&ts(W),Pc(w),y.resolving=!1,xu()}}return c}function ah(e,n,i){return!!(i[n+(e>>xc)]&1<<e)}function lh(e,n){return!(e&xn.Self||e&xn.Host&&n)}class ks{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return Uu(this._tNode,this._lView,n,zt(s),i)}}function $h(){return new ks(Si(),tn())}function lu(e){return Xn(()=>{const n=e.prototype.constructor,i=n[Kt]||Rd(n),s=Object.prototype;let c=Object.getPrototypeOf(e.prototype).constructor;for(;c&&c!==s;){const f=c[Kt]||Rd(c);if(f&&f!==i)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function Rd(e){return Ze(e)?()=>{const n=Rd(ct(e));return n&&n()}:Xr(e)}function ch(e){const n=e[Rn],i=n.type;return 2===i?n.declTNode:1===i?e[Bi]:null}function Il(e){return function Oc(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const i=e.attrs;if(i){const s=i.length;let c=0;for(;c<s;){const f=i[c];if(Fo(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<s&&"string"==typeof i[c];)c++;else{if(f===n)return i[c+1];c+=2}}}return null}(Si(),e)}function uu(e,n=null,i=null,s){const c=dh(e,n,i,s);return c.resolveInjectorInitializers(),c}function dh(e,n=null,i=null,s,c=new Set){const f=[i||Tr,yo(e)];return s=s||("object"==typeof e?void 0:dr(e)),new Ro(f,n||Xa(),s||null,c)}class Qs{static{this.THROW_IF_NOT_FOUND=ii}static{this.NULL=new za}static create(n,i){if(Array.isArray(n))return uu({name:""},i,n,"");{const s=n.name??"";return uu({name:s},n.parent,n.providers,s)}}static{this.\u0275prov=yr({token:Qs,providedIn:"any",factory:()=>A(Wa)})}static{this.__NG_ELEMENT_ID__=-1}}new Yt("").__NG_ELEMENT_ID__=e=>{const n=Si();if(null===n)throw new ft(204,!1);if(2&n.type)return n.value;if(e&xn.Optional)return null;throw new ft(204,!1)};function Vc(e){return e.ngOriginalError}const du=!0;let Ys=(()=>{class e{static{this.__NG_ELEMENT_ID__=ph}static{this.__NG_ENV_ID__=i=>i}}return e})();class zu extends Ys{constructor(n){super(),this._lView=n}onDestroy(n){return Za(this._lView,n),()=>function To(e,n){if(null===e[$i])return;const i=e[$i].indexOf(n);-1!==i&&e[$i].splice(i,1)}(this._lView,n)}}function ph(){return new zu(tn())}let uc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ln.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=yr({token:e,providedIn:"root",factory:()=>new e})}}return e})();const il=class Gu extends qn.B{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,Ds()&&(this.destroyRef=Ue(Ys,{optional:!0})??void 0,this.pendingTasks=Ue(uc,{optional:!0})??void 0)}emit(n){const i=we(null);try{super.next(n)}finally{we(i)}}subscribe(n,i,s){let c=n,f=i||(()=>null),y=s;if(n&&"object"==typeof n){const x=n;c=x.next?.bind(x),f=x.error?.bind(x),y=x.complete?.bind(x)}this.__isAsync&&(f=this.wrapInTimeout(f),c&&(c=this.wrapInTimeout(c)),y&&(y=this.wrapInTimeout(y)));const w=super.subscribe({next:c,error:f,complete:y});return n instanceof kn.yU&&n.add(w),w}wrapInTimeout(n){return i=>{const s=this.pendingTasks?.add();setTimeout(()=>{n(i),void 0!==s&&this.pendingTasks?.remove(s)})}}};function hu(...e){}function Gh(e){let n,i;function s(){e=hu;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),s()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{e(),s()})),()=>s()}function Ku(e){return queueMicrotask(()=>e()),()=>{e=hu}}const Xu="isAngularZone",Md=Xu+"_ID";let fu=0;class T{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new il(!1),this.onMicrotaskEmpty=new il(!1),this.onStable=new il(!1),this.onError=new il(!1);const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1,scheduleInRootZone:f=du}=n;if(typeof Zone>"u")throw new ft(908,!1);Zone.assertZonePatched();const y=this;y._nesting=0,y._outer=y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!c&&s,y.shouldCoalesceRunChangeDetection=c,y.callbackScheduled=!1,y.scheduleInRootZone=f,function z(e){const n=()=>{!function b(e){function n(){Gh(()=>{e.callbackScheduled=!1,me(e),e.isCheckStableRunning=!0,v(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),me(e))}(e)},i=fu++;e._inner=e._inner.fork({name:"angular",properties:{[Xu]:!0,[Md]:i,[Md+i]:!0},onInvokeTask:(s,c,f,y,w,x)=>{if(function ir(e){return hr(e,"__ignore_ng_zone__")}(x))return s.invokeTask(f,y,w,x);try{return mt(e),s.invokeTask(f,y,w,x)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||e.shouldCoalesceRunChangeDetection)&&n(),Ut(e)}},onInvoke:(s,c,f,y,w,x,W)=>{try{return mt(e),s.invoke(f,y,w,x,W)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Er(e){return hr(e,"__scheduler_tick__")}(x)&&n(),Ut(e)}},onHasTask:(s,c,f,y)=>{s.hasTask(f,y),c===f&&("microTask"==y.change?(e._hasPendingMicrotasks=y.microTask,me(e),v(e)):"macroTask"==y.change&&(e.hasPendingMacrotasks=y.macroTask))},onHandleError:(s,c,f,y)=>(s.handleError(f,y),e.runOutsideAngular(()=>e.onError.emit(y)),!1)})}(y)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Xu)}static assertInAngularZone(){if(!T.isInAngularZone())throw new ft(909,!1)}static assertNotInAngularZone(){if(T.isInAngularZone())throw new ft(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,c){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+c,n,g,hu,hu);try{return f.runTask(y,i,s)}finally{f.cancelTask(y)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const g={};function v(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function me(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function mt(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ut(e){e._nesting--,v(e)}class vn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new il,this.onMicrotaskEmpty=new il,this.onStable=new il,this.onError=new il}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,c){return n.apply(i,s)}}function hr(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class Ls{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Vc(n);for(;i&&Vc(i);)i=Vc(i);return i||null}}const Fl=new Yt("",{providedIn:"root",factory:()=>{const e=Ue(T),n=Ue(Ls);return i=>e.runOutsideAngular(()=>n.handleError(i))}});function gh(){return sl(Si(),tn())}function sl(e,n){return new Vl(Ss(e,n))}let Vl=(()=>{class e{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=gh}}return e})();function Kh(e){return e instanceof Vl?e.nativeElement:e}function mh(){return this._results[Symbol.iterator]()}class lo{get changes(){return this._changes??=new il}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=lo.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=mh)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const s=function rs(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function ni(e,n,i){if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++){let c=e[s],f=n[s];if(i&&(c=i(c),f=i(f)),f!==c)return!1}return!0}(this._results,s,i))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function pu(e){return!(128&~e.flags)}const zf=new Map;let rg=0;function h(e){zf.delete(e[jo])}const Ee="__ngContext__";function sn(e,n){Ns(n)?(e[Ee]=n[jo],function p(e){zf.set(e[jo],e)}(n)):e[Ee]=n}function _h(e){return ty(e[$o])}function sg(e){return ty(e[ys])}function ty(e){for(;null!==e&&!hs(e);)e=e[ys];return e}let Kf;function qh(e){Kf=e}const Xf=new Yt("",{providedIn:"root",factory:()=>Qh}),Qh="ng",oy=new Yt(""),lg=new Yt("",{providedIn:"platform",factory:()=>"unknown"}),Km=new Yt("",{providedIn:"root",factory:()=>function $l(){if(void 0!==Kf)return Kf;if(typeof document<"u")return document;throw new ft(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ev=()=>null;function tp(e,n,i=!1){return ev(e,n,i)}const py=new Yt("",{providedIn:"root",factory:()=>!1});let tf;function yg(e){return function av(){if(void 0===tf&&(tf=null,vr.trustedTypes))try{tf=vr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return tf}()?.createScriptURL(e)||e}class lv{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yn})`}}function Fd(e){return e instanceof lv?e.changingThisBreaksApplicationSecurity:e}function Th(e,n){const i=function Eg(e){return e instanceof lv&&e.getTypeName()||null}(e);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Yn})`)}return i===n}const VI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var af=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(af||{});function yv(e){const n=lf();return n?n.sanitize(af.URL,e)||"":Th(e,"URL")?Fd(e):function hv(e){return(e=String(e)).match(VI)?e:"unsafe:"+e}(de(e))}function Ev(e){const n=lf();if(n)return yg(n.sanitize(af.RESOURCE_URL,e)||"");if(Th(e,"ResourceURL"))return yg(Fd(e));throw new ft(904,!1)}function hp(e,n,i){return function Ry(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Ev:yv}(n,i)(e)}function lf(){const e=tn();return e&&e[so].sanitizer}const fp=/^>|^->|<!--|-->|--!>|<!-$/g,Py=/(<|>)/g,ba="\u200b$1\u200b";function Ly(e){return e.ownerDocument.defaultView}function jl(e){return e instanceof Function?e():e}var Sg=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Sg||{});let Rg;function Pg(e,n){return Rg(e,n)}function hf(e,n,i,s,c){if(null!=s){let f,y=!1;hs(s)?f=s:Ns(s)&&(y=!0,s=s[Vr]);const w=Li(s);0===e&&null!==i?null==c?Mv(n,i,w):mu(n,i,w,c||null,!0):1===e&&null!==i?mu(n,i,w,c||null,!0):2===e?function wh(e,n,i){e.removeChild(null,n,i)}(n,w,y):3===e&&n.destroyNode(w),null!=f&&function e0(e,n,i,s,c){const f=i[ia];f!==Li(i)&&hf(n,e,s,f,c);for(let w=Es;w<i.length;w++){const x=i[w];Ug(x[Rn],x,e,n,s,f)}}(n,e,f,i,c)}}function Ch(e,n){return e.createComment(function Fs(e){return e.replace(fp,n=>n.replace(Py,ba))}(n))}function vp(e,n,i){return e.createElement(n,i)}function xg(e,n){n[so].changeDetectionScheduler?.notify(9),Ug(e,n,n[Ur],2,null,null)}function Ng(e,n){const i=e[Ja],s=n[vi];(Ns(s)||n[ki]!==s[vi][ki])&&(e[or]|=zc.HasTransplantedViews),null===i?e[Ja]=[n]:i.push(n)}function Og(e,n){const i=e[Ja],s=i.indexOf(n);i.splice(s,1)}function $c(e,n){if(e.length<=Es)return;const i=Es+n,s=e[i];if(s){const c=s[oo];null!==c&&c!==e&&Og(c,s),n>0&&(e[i-1][ys]=s[ys]);const f=Yo(e,Es+n);!function bv(e,n){xg(e,n),n[Vr]=null,n[Bi]=null}(s[Rn],s);const y=f[Ya];null!==y&&y.detachView(f[Rn]),s[vi]=null,s[ys]=null,s[or]&=-129}return s}function _p(e,n){if(!(256&n[or])){const i=n[Ur];i.destroyNode&&Ug(e,n,i,3,null,null),function Dv(e){let n=e[$o];if(!n)return kg(e[Rn],e);for(;n;){let i=null;if(Ns(n))i=n[$o];else{const s=n[Es];s&&(i=s)}if(!i){for(;n&&!n[ys]&&n!==e;)Ns(n)&&kg(n[Rn],n),n=n[vi];null===n&&(n=e),Ns(n)&&kg(n[Rn],n),i=n&&n[ys]}n=i}}(n)}}function kg(e,n){if(256&n[or])return;const i=we(null);try{n[or]&=-129,n[or]|=256,n[fo]&&Pt(n[fo]),function yp(e,n){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let s=0;s<i.length;s+=2){const c=n[i[s]];if(!(c instanceof $a)){const f=i[s+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const w=c[f[y]],x=f[y+1];Hs(4,w,x);try{x.call(w)}finally{Hs(5,w,x)}}else{Hs(4,c,f);try{f.call(c)}finally{Hs(5,c,f)}}}}}(e,n),function Rv(e,n){const i=e.cleanup,s=n[io];if(null!==i)for(let f=0;f<i.length-1;f+=2)if("string"==typeof i[f]){const y=i[f+3];y>=0?s[y]():s[-y].unsubscribe(),f+=2}else i[f].call(s[i[f+1]]);null!==s&&(n[io]=null);const c=n[$i];if(null!==c){n[$i]=null;for(let f=0;f<c.length;f++)(0,c[f])()}}(e,n),1===n[Rn].type&&n[Ur].destroy();const s=n[oo];if(null!==s&&hs(n[vi])){s!==n[vi]&&Og(s,n);const c=n[Ya];null!==c&&c.detachView(e)}h(n)}finally{we(i)}}function Pv(e,n,i){return function Ep(e,n,i){let s=n;for(;null!==s&&168&s.type;)s=(n=s).parent;if(null===s)return i[Vr];{const{componentOffset:c}=s;if(c>-1){const{encapsulation:f}=e.data[s.directiveStart+c];if(f===vs.None||f===vs.Emulated)return null}return Ss(s,i)}}(e,n.parent,i)}function mu(e,n,i,s,c){e.insertBefore(n,i,s,c)}function Mv(e,n,i){e.appendChild(n,i)}function ff(e,n,i,s,c){null!==s?mu(e,n,i,s,c):Mv(e,n,i)}function xv(e,n){return e.parentNode(n)}function Nv(e,n,i){return pf(e,n,i)}let vu,pf=function Fg(e,n,i){return 40&e.type?Ss(e,i):null};function Vg(e,n,i,s){const c=Pv(e,s,n),f=n[Ur],w=Nv(s.parent||n[Bi],s,n);if(null!=c)if(Array.isArray(i))for(let x=0;x<i.length;x++)ff(f,c,i[x],w,!1);else ff(f,c,i,w,!1);void 0!==vu&&vu(f,s,n,i,c)}function hc(e,n){if(null!==n){const i=n.type;if(3&i)return Ss(n,e);if(4&i)return Vy(-1,e[n.index]);if(8&i){const s=n.child;if(null!==s)return hc(e,s);{const c=e[n.index];return hs(c)?Vy(-1,c):Li(c)}}if(128&i)return hc(e,n.next);if(32&i)return Pg(n,e)()||Li(e[n.index]);{const s=JI(e,n);return null!==s?Array.isArray(s)?s[0]:hc(Wo(e[ki]),s):hc(e,n.next)}}return null}function JI(e,n){return null!==n?e[ki][Bi].projection[n.projection]:null}function Vy(e,n){const i=Es+e+1;if(i<n.length){const s=n[i],c=s[Rn].firstChild;if(null!==c)return hc(s,c)}return n[ia]}function mf(e,n,i,s,c,f,y){for(;null!=i;){if(128===i.type){i=i.next;continue}const w=s[i.index],x=i.type;if(y&&0===n&&(w&&sn(Li(w),s),i.flags|=2),32&~i.flags)if(8&x)mf(e,n,i.child,s,c,f,!1),hf(n,e,c,w,f);else if(32&x){const W=Pg(i,s);let re;for(;re=W();)hf(n,e,c,re,f);hf(n,e,c,w,f)}else 16&x?Ip(e,n,s,i,c,f):hf(n,e,c,w,f);i=y?i.projectionNext:i.next}}function Ug(e,n,i,s,c,f){mf(i,s,e.firstChild,n,c,f,!1)}function Ip(e,n,i,s,c,f){const y=i[ki],x=y[Bi].projection[s.projection];if(Array.isArray(x))for(let W=0;W<x.length;W++)hf(n,e,c,x[W],f);else{let W=x;const re=y[vi];pu(s)&&(W.flags|=128),mf(e,n,W,re,c,f,!0)}}function By(e,n,i){""===i?e.removeAttribute(n,"class"):e.setAttribute(n,"class",i)}function $y(e,n,i){const{mergedAttrs:s,classes:c,styles:f}=i;null!==s&&As(e,n,s),null!==c&&By(e,n,c),null!==f&&function Bg(e,n,i){e.setAttribute(n,"style",i)}(e,n,f)}const pi={};function Ov(e=1){kv(ei(),tn(),bs()+e,!1)}function kv(e,n,i,s){if(!s)if(3&~n[or]){const f=e.preOrderHooks;null!==f&&nu(n,f,0,i)}else{const f=e.preOrderCheckHooks;null!==f&&da(n,f,i)}No(i)}function bh(e,n=xn.Default){const i=tn();return null===i?A(e,n):Uu(Si(),i,ct(e),n)}function Lv(){throw new Error("invalid")}function $g(e,n,i,s,c,f){const y=we(null);try{let w=null;c&Xs.SignalBased&&(w=n[s][Re]),null!==w&&void 0!==w.transformFn&&(f=w.transformFn(f)),c&Xs.HasDecoratorInputTransform&&(f=e.inputTransforms[s].call(n,f)),null!==e.setInput?e.setInput(n,w,f,i,s):aa(n,w,s,f)}finally{we(y)}}function Hg(e,n,i,s,c,f,y,w,x,W,re){const Ne=n.blueprint.slice();return Ne[Vr]=c,Ne[or]=204|s,(null!==W||e&&2048&e[or])&&(Ne[or]|=2048),Ic(Ne),Ne[vi]=Ne[Qa]=e,Ne[Ci]=i,Ne[so]=y||e&&e[so],Ne[Ur]=w||e&&e[Ur],Ne[Hi]=x||e&&e[Hi]||null,Ne[Bi]=f,Ne[jo]=function Vm(){return rg++}(),Ne[xs]=re,Ne[bl]=W,Ne[ki]=2==n.type?e[ki]:Ne,Ne}function vf(e,n,i,s,c){let f=e.data[n];if(null===f)f=function jy(e,n,i,s,c){const f=Co(),y=Mo(),x=e.data[n]=function c0(e,n,i,s,c,f){let y=n?n.injectorIndex:-1,w=0;return wc()&&(w|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,i,n,s,c);return null===e.firstChild&&(e.firstChild=x),null!==f&&(y?null==f.child&&null!==x.parent&&(f.child=x):null===f.next&&(f.next=x,x.prev=f)),x}(e,n,i,s,c),function eu(){return Wr.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=i,f.value=s,f.attrs=c;const y=function el(){const e=Wr.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return ca(f,!0),f}function Tp(e,n,i,s){if(0===i)return-1;const c=n.length;for(let f=0;f<i;f++)n.push(s),e.blueprint.push(s),e.data.push(null);return c}function n0(e,n,i,s,c){const f=bs(),y=2&s;try{No(-1),y&&n.length>gr&&kv(e,n,gr,!1),Hs(y?2:0,c),i(s,c)}finally{No(f),Hs(y?3:1,c)}}function Hy(e,n,i){if(Cu(n)){const s=we(null);try{const f=n.directiveEnd;for(let y=n.directiveStart;y<f;y++){const w=e.data[y];w.contentQueries&&w.contentQueries(1,i[y],y)}}finally{we(s)}}}function id(e,n,i){Vh()&&(function g0(e,n,i,s){const c=i.directiveStart,f=i.directiveEnd;fs(i)&&function y0(e,n,i){const s=Ss(n,e),c=_f(i);let y=16;i.signals?y=4096:i.onPush&&(y=64);const w=Wg(e,Hg(e,c,null,y,s,n,null,e[so].rendererFactory.createRenderer(s,i),null,null,null));e[n.index]=w}(n,i,e.data[c+i.componentOffset]),e.firstCreatePass||kl(i,n),sn(s,n);const y=i.initialInputs;for(let w=c;w<f;w++){const x=e.data[w],W=Ll(n,e,w,i);sn(W,n),null!==y&&Qy(0,w-c,W,x,0,y),Os(x)&&(Ta(i.index,n)[Ci]=Ll(n,e,w,i))}}(e,n,i,Ss(i,n)),!(64&~i.flags)&&Xy(e,n,i))}function jc(e,n,i=Ss){const s=n.localNames;if(null!==s){let c=n.index+1;for(let f=0;f<s.length;f+=2){const y=s[f+1],w=-1===y?i(n,e):e[y];e[c++]=w}}}function _f(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=_u(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function _u(e,n,i,s,c,f,y,w,x,W,re){const Ne=gr+s,lt=Ne+c,Ct=function r0(e,n){const i=[];for(let s=0;s<n;s++)i.push(s<e?null:pi);return i}(Ne,lt),$t="function"==typeof W?W():W;return Ct[Rn]={type:e,blueprint:Ct,template:i,queries:null,viewQuery:w,declTNode:n,data:Ct.slice().fill(null,Ne),bindingStartIndex:Ne,expandoStartIndex:lt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:x,consts:$t,incompleteFirstPass:!1,ssrId:re}}let sd=()=>null;function zy(e,n,i,s,c){for(let f in n){if(!n.hasOwnProperty(f))continue;const y=n[f];if(void 0===y)continue;s??={};let w,x=Xs.None;Array.isArray(y)?(w=y[0],x=y[1]):w=y;let W=f;if(null!==c){if(!c.hasOwnProperty(f))continue;W=c[f]}0===e?Fv(s,i,W,w,x):Fv(s,i,W,w)}return s}function Fv(e,n,i,s,c){let f;e.hasOwnProperty(i)?(f=e[i]).push(n,s):f=e[i]=[n,s],void 0!==c&&f.push(c)}function Tl(e,n,i,s,c,f,y,w){const x=Ss(n,i);let re,W=n.inputs;!w&&null!=W&&(re=W[s])?(tE(e,i,re,s,c),fs(n)&&function Ky(e,n){const i=Ta(n,e);16&i[or]||(i[or]|=64)}(i,n.index)):3&n.type&&(s=function u0(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(s),c=null!=y?y(c,n.value||"",s):c,f.setProperty(x,s,c))}function wp(e,n,i,s){if(Vh()){const c=null===s?null:{"":-1},f=function ob(e,n){const i=e.directiveRegistry;let s=null,c=null;if(i)for(let f=0;f<i.length;f++){const y=i[f];if(Ce(n,y.selectors,!1))if(s||(s=[]),Os(y))if(null!==y.findHostDirectiveDefs){const w=[];c=c||new Map,y.findHostDirectiveDefs(y,w,c),s.unshift(...w,y),qy(e,n,w.length)}else s.unshift(y),qy(e,n,0);else c=c||new Map,y.findHostDirectiveDefs?.(y,s,c),s.push(y)}return null===s?null:[s,c]}(e,i);let y,w;null===f?y=w=null:[y,w]=f,null!==y&&h0(e,n,i,y,c,w),c&&function ab(e,n,i){if(n){const s=e.localNames=[];for(let c=0;c<n.length;c+=2){const f=i[n[c+1]];if(null==f)throw new ft(-301,!1);s.push(n[c],f)}}}(i,s,c)}i.mergedAttrs=Vi(i.mergedAttrs,i.attrs)}function h0(e,n,i,s,c,f){for(let W=0;W<s.length;W++)wa(kl(i,n),e,s[W].type);!function v0(e,n,i){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+i,e.providerIndexes=n}(i,e.data.length,s.length);for(let W=0;W<s.length;W++){const re=s[W];re.providersResolver&&re.providersResolver(re)}let y=!1,w=!1,x=Tp(e,n,s.length,null);for(let W=0;W<s.length;W++){const re=s[W];i.mergedAttrs=Vi(i.mergedAttrs,re.hostAttrs),_0(e,i,n,x,re),lb(x,re,c),null!==re.contentQueries&&(i.flags|=4),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(i.flags|=64);const Ne=re.type.prototype;!y&&(Ne.ngOnChanges||Ne.ngOnInit||Ne.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),y=!0),!w&&(Ne.ngOnChanges||Ne.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),w=!0),x++}!function Gy(e,n,i){const c=n.directiveEnd,f=e.data,y=n.attrs,w=[];let x=null,W=null;for(let re=n.directiveStart;re<c;re++){const Ne=f[re],lt=i?i.get(Ne):null,$t=lt?lt.outputs:null;x=zy(0,Ne.inputs,re,x,lt?lt.inputs:null),W=zy(1,Ne.outputs,re,W,$t);const An=null===x||null===y||Ga(n)?null:Vd(x,re,y);w.push(An)}null!==x&&(x.hasOwnProperty("class")&&(n.flags|=8),x.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=w,n.inputs=x,n.outputs=W}(e,i,f)}function Xy(e,n,i){const s=i.directiveStart,c=i.directiveEnd,f=i.index,y=function Uf(){return Wr.lFrame.currentDirectiveIndex}();try{No(f);for(let w=s;w<c;w++){const x=e.data[w],W=n[w];Mu(w),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&m0(x,W)}}finally{No(-1),Mu(y)}}function m0(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function qy(e,n,i){n.componentOffset=i,(e.components??=[]).push(n.index)}function lb(e,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=e;Os(n)&&(i[""]=e)}}function _0(e,n,i,s,c){e.data[s]=c;const f=c.factory||(c.factory=Xr(c.type)),y=new $a(f,Os(c),bh);e.blueprint[s]=y,i[s]=y,function f0(e,n,i,s,c){const f=c.hostBindings;if(f){let y=e.hostBindingOpCodes;null===y&&(y=e.hostBindingOpCodes=[]);const w=~n.index;(function p0(e){let n=e.length;for(;n>0;){const i=e[--n];if("number"==typeof i&&i<0)return i}return 0})(y)!=w&&y.push(w),y.push(i,s,f)}}(e,n,s,Tp(e,i,c.hostVars,pi),c)}function od(e,n,i,s,c,f){const y=Ss(e,n);!function Vv(e,n,i,s,c,f,y){if(null==f)e.removeAttribute(n,c,i);else{const w=null==y?de(f):y(f,s||"",c);e.setAttribute(n,c,w,i)}}(n[Ur],y,f,e.value,i,s,c)}function Qy(e,n,i,s,c,f){const y=f[n];if(null!==y)for(let w=0;w<y.length;)$g(s,i,y[w++],y[w++],y[w++],y[w++])}function Vd(e,n,i){let s=null,c=0;for(;c<i.length;){const f=i[c];if(0!==f)if(5!==f){if("number"==typeof f)break;if(e.hasOwnProperty(f)){null===s&&(s=[]);const y=e[f];for(let w=0;w<y.length;w+=3)if(y[w]===n){s.push(f,y[w+1],y[w+2],i[c+1]);break}}c+=2}else c+=2;else c+=4}return s}function Yy(e,n,i,s){return[e,!0,0,n,null,s,null,i,null,null]}function Jy(e,n){const i=e.contentQueries;if(null!==i){const s=we(null);try{for(let c=0;c<i.length;c+=2){const y=i[c+1];if(-1!==y){const w=e.data[y];Dc(i[c]),w.contentQueries(2,n[y],y)}}}finally{we(s)}}}function Wg(e,n){return e[$o]?e[ql][ys]=n:e[$o]=n,e[ql]=n,n}function Uv(e,n,i){Dc(0);const s=we(null);try{n(e,i)}finally{we(s)}}function Zy(e){return e[io]??=[]}function eE(e){return e.cleanup??=[]}function Bv(e,n){const i=e[Hi],s=i?i.get(Ls,null):null;s&&s.handleError(n)}function tE(e,n,i,s,c){for(let f=0;f<i.length;){const y=i[f++],w=i[f++],x=i[f++];$g(e.data[y],n[y],s,w,x,c)}}function yu(e,n,i){const s=Ia(n,e);!function mp(e,n,i){e.setValue(n,i)}(e[Ur],s,i)}function I0(e,n){const i=Ta(n,e),s=i[Rn];!function ub(e,n){for(let i=n.length;i<e.blueprint.length;i++)n.push(e.blueprint[i])}(s,i);const c=i[Vr];null!==c&&null===i[xs]&&(i[xs]=tp(c,i[Hi])),nE(s,i,i[Ci])}function nE(e,n,i){nl(n);try{const s=e.viewQuery;null!==s&&Uv(1,s,i);const c=e.template;null!==c&&n0(e,n,c,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),n[Ya]?.finishViewCreation(e),e.staticContentQueries&&Jy(e,n),e.staticViewQueries&&Uv(2,e.viewQuery,i);const f=e.components;null!==f&&function db(e,n){for(let i=0;i<n.length;i++)I0(e,n[i])}(n,f)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{n[or]&=-5,rl()}}function bp(e,n,i,s){const c=we(null);try{const f=n.tView,x=Hg(e,f,i,4096&e[or]?4096:16,null,n,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null);x[oo]=e[n.index];const re=e[Ya];return null!==re&&(x[Ya]=re.createEmbeddedView(f)),nE(f,x,i),x}finally{we(c)}}function Ud(e,n){return!n||null===n.firstChild||pu(e)}function Ap(e,n,i,s=!0){const c=n[Rn];if(function Sv(e,n,i,s){const c=Es+s,f=i.length;s>0&&(i[c-1][ys]=n),s<f-Es?(n[ys]=i[c],mo(i,Es+s,n)):(i.push(n),n[ys]=null),n[vi]=i;const y=n[oo];null!==y&&i!==y&&Ng(y,n);const w=n[Ya];null!==w&&w.insertView(e),rc(n),n[or]|=128}(c,n,e,i),s){const y=Vy(i,e),w=n[Ur],x=xv(w,e[ia]);null!==x&&function Av(e,n,i,s,c,f){s[Vr]=c,s[Bi]=n,Ug(e,s,i,1,c,f)}(c,e[Bi],w,n,x,y)}const f=n[xs];null!==f&&null!==f.firstChild&&(f.firstChild=null)}function zg(e,n,i,s,c=!1){for(;null!==i;){if(128===i.type){i=c?i.projectionNext:i.next;continue}const f=n[i.index];null!==f&&s.push(Li(f)),hs(f)&&Gg(f,s);const y=i.type;if(8&y)zg(e,n,i.child,s);else if(32&y){const w=Pg(i,n);let x;for(;x=w();)s.push(x)}else if(16&y){const w=JI(n,i);if(Array.isArray(w))s.push(...w);else{const x=Wo(n[ki]);zg(x[Rn],x,w,s,!0)}}i=c?i.projectionNext:i.next}return s}function Gg(e,n){for(let i=Es;i<e.length;i++){const s=e[i],c=s[Rn].firstChild;null!==c&&zg(s[Rn],s,c,n)}e[ia]!==e[Vr]&&n.push(e[ia])}let Dp=[];const iE={...Te,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{yl(e.lView)},consumerOnSignalRead(){this.lView[fo]=this}},Sp={...Te,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=Wo(e.lView);for(;n&&!Kg(n[Rn]);)n=Wo(n);n&&Jd(n)},consumerOnSignalRead(){this.lView[fo]=this}};function Kg(e){return 2!==e.type}const w0=100;function Xg(e,n=!0,i=0){const s=e[so],c=s.rendererFactory;c.begin?.();try{!function oE(e,n){const i=Sl();try{Td(!0),Da(e,n);let s=0;for(;Tc(e);){if(s===w0)throw new ft(103,!1);s++,Da(e,1)}}finally{Td(i)}}(e,i)}catch(y){throw n&&Bv(e,y),y}finally{c.end?.(),s.inlineEffectRunner?.flush()}}function b0(e,n,i,s){const c=n[or];if(!(256&~c))return;n[so].inlineEffectRunner?.flush(),nl(n);let w=!0,x=null,W=null;Kg(e)?(W=function T0(e){return e[fo]??function C0(e){const n=Dp.pop()??Object.create(iE);return n.lView=e,n}(e)}(n),x=it(W)):null===function Z(){return U}()?(w=!1,W=function sE(e){const n=e[fo]??Object.create(Sp);return n.lView=e,n}(n),x=it(W)):n[fo]&&(Pt(n[fo]),n[fo]=null);try{Ic(n),function Ac(e){return Wr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&n0(e,n,i,2,s);const re=!(3&~c);if(re){const Ct=e.preOrderCheckHooks;null!==Ct&&da(n,Ct,null)}else{const Ct=e.preOrderHooks;null!==Ct&&nu(n,Ct,0,null),rh(n,0)}if(function aE(e){for(let n=_h(e);null!==n;n=sg(n)){if(!(n[or]&zc.HasTransplantedViews))continue;const i=n[Ja];for(let s=0;s<i.length;s++)Jd(i[s])}}(n),Hv(n,0),null!==e.contentQueries&&Jy(e,n),re){const Ct=e.contentCheckHooks;null!==Ct&&da(n,Ct)}else{const Ct=e.contentHooks;null!==Ct&&nu(n,Ct,1),rh(n,1)}!function jg(e,n){const i=e.hostBindingOpCodes;if(null!==i)try{for(let s=0;s<i.length;s++){const c=i[s];if(c<0)No(~c);else{const f=c,y=i[++s],w=i[++s];Pu(y,f),w(2,n[f])}}}finally{No(-1)}}(e,n);const Ne=e.components;null!==Ne&&Wv(n,Ne,0);const lt=e.viewQuery;if(null!==lt&&Uv(2,lt,s),re){const Ct=e.viewCheckHooks;null!==Ct&&da(n,Ct)}else{const Ct=e.viewHooks;null!==Ct&&nu(n,Ct,2),rh(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Ql]){for(const Ct of n[Ql])Ct();n[Ql]=null}n[or]&=-73}catch(re){throw yl(n),re}finally{null!==W&&(We(W,x),w&&function jv(e){e.lView[fo]!==e&&(e.lView=null,Dp.push(e))}(W)),rl()}}function Hv(e,n){for(let i=_h(e);null!==i;i=sg(i))for(let s=Es;s<i.length;s++)Hl(i[s],n)}function Ah(e,n,i){Hl(Ta(n,e),i)}function Hl(e,n){wi(e)&&Da(e,n)}function Da(e,n){const s=e[Rn],c=e[or],f=e[fo];let y=!!(0===n&&16&c);if(y||=!!(64&c&&0===n),y||=!!(1024&c),y||=!(!f?.dirty||!At(f)),y||=!1,f&&(f.dirty=!1),e[or]&=-9217,y)b0(s,e,s.template,e[Ci]);else if(8192&c){Hv(e,1);const w=s.components;null!==w&&Wv(e,w,1)}}function Wv(e,n,i){for(let s=0;s<n.length;s++)Ah(e,n[s],i)}function yf(e,n){const i=Sl()?64:1088;for(e[so].changeDetectionScheduler?.notify(n);e;){e[or]|=i;const s=Wo(e);if(sa(e)&&!s)return e;e=s}return null}class ad{get rootNodes(){const n=this._lView,i=n[Rn];return zg(i,n,i.firstChild,[])}constructor(n,i,s=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ci]}set context(n){this._lView[Ci]=n}get destroyed(){return!(256&~this._lView[or])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[vi];if(hs(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&($c(n,s),Yo(i,s))}this._attachedToViewContainer=!1}_p(this._lView[Rn],this._lView)}onDestroy(n){Za(this._lView,n)}markForCheck(){yf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[or]&=-129}reattach(){rc(this._lView),this._lView[or]|=128}detectChanges(){this._lView[or]|=1024,Xg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ft(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=sa(this._lView),i=this._lView[oo];null!==i&&!n&&Og(i,this._lView),xg(this._lView[Rn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ft(902,!1);this._appRef=n;const i=sa(this._lView),s=this._lView[oo];null!==s&&!i&&Ng(s,this._lView),rc(this._lView)}}let ld=(()=>{class e{static{this.__NG_ELEMENT_ID__=zv}}return e})();const ol=ld,A0=class extends ol{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,s){const c=bp(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:s});return new ad(c)}};function zv(){return cd(Si(),tn())}function cd(e,n){return 4&e.type?new A0(n,e,sl(e,n)):null}let Yg=()=>null;function go(e,n){return Yg(e,n)}class ko{}const Bd=new Yt("",{providedIn:"root",factory:()=>!1}),a_=new Yt(""),l_=new Yt("");class Op{}class c_{}class W0{resolveComponentFactory(n){throw function _E(e){const n=Error(`No component factory found for ${dr(e)}.`);return n.ngComponent=e,n}(n)}}class Df{static{this.NULL=new W0}}class Zg{}let yE=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function kp(){const e=tn(),i=Ta(Si().index,e);return(Ns(i)?i:e)[Ur]}()}}return e})(),u_=(()=>{class e{static{this.\u0275prov=yr({token:e,providedIn:"root",factory:()=>null})}}return e})();function Cl(e){return!!Yi(e)}function em(e,n,i){let s=i?e.styles:null,c=i?e.classes:null,f=0;if(null!==n)for(let y=0;y<n.length;y++){const w=n[y];"number"==typeof w?f=w:1==f?c=bi(c,w):2==f&&(s=bi(s,w+": "+n[++y]+";"))}i?e.styles=s:e.stylesWithoutHost=s,i?e.classes=c:e.classesWithoutHost=c}class Rh extends Df{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=qr(n);return new $d(i,this.ngModule)}}function IE(e,n){const i=[];for(const s in e){if(!e.hasOwnProperty(s))continue;const c=e[s];if(void 0===c)continue;const f=Array.isArray(c),y=f?c[0]:c;i.push(n?{propName:y,templateName:s,isSignal:!!((f?c[1]:Xs.None)&Xs.SignalBased)}:{propName:y,templateName:s})}return i}class $d extends c_{get inputs(){const n=this.componentDef,i=n.inputTransforms,s=IE(n.inputs,!0);if(null!==i)for(const c of s)i.hasOwnProperty(c.propName)&&(c.transform=i[c.propName]);return s}get outputs(){return IE(this.componentDef.outputs,!1)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Xl(e){return e.map(vo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,s,c){const f=we(null);try{let y=(c=c||this.ngModule)instanceof ms?c:c?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const w=y?new Ws(n,y):n,x=w.get(Zg,null);if(null===x)throw new ft(407,!1);const Ne={rendererFactory:x,sanitizer:w.get(u_,null),inlineEffectRunner:null,changeDetectionScheduler:w.get(ko,null)},lt=x.createRenderer(null,this.componentDef),Ct=this.componentDef.selectors[0][0]||"div",$t=s?function Wy(e,n,i,s){const f=s.get(py,!1)||i===vs.ShadowDom,y=e.selectRootElement(n,f);return function s0(e){sd(e)}(y),y}(lt,s,this.componentDef.encapsulation,w):vp(lt,Ct,function z0(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Ct));let An=512;this.componentDef.signals?An|=4096:this.componentDef.onPush||(An|=16);let Zn=null;null!==$t&&(Zn=tp($t,w,!0));const ar=_u(0,null,null,1,0,null,null,null,null,null,null),Cn=Hg(null,ar,null,An,null,null,Ne,lt,w,null,Zn);nl(Cn);let gi,es,Bs=null;try{const Qo=this.componentDef;let gc,Fm=null;Qo.findHostDirectiveDefs?(gc=[],Fm=new Map,Qo.findHostDirectiveDefs(Qo,gc,Fm),gc.push(Qo)):gc=[Qo];const sR=function h_(e,n){const i=e[Rn],s=gr;return e[s]=n,vf(i,s,2,"#host",null)}(Cn,$t);Bs=function tm(e,n,i,s,c,f,y){const w=c[Rn];!function jd(e,n,i,s){for(const c of e)n.mergedAttrs=Vi(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(em(n,n.mergedAttrs,!0),null!==i&&$y(s,i,n))}(s,e,n,y);let x=null;null!==n&&(x=tp(n,c[Hi]));const W=f.rendererFactory.createRenderer(n,i);let re=16;i.signals?re=4096:i.onPush&&(re=64);const Ne=Hg(c,_f(i),null,re,c[e.index],e,f,W,null,null,x);return w.firstCreatePass&&qy(w,e,s.length-1),Wg(c,Ne),c[e.index]=Ne}(sR,$t,Qo,gc,Cn,Ne,lt),es=Ec(ar,gr),$t&&function wE(e,n,i,s){if(s)As(e,i,["ng-version","18.2.13"]);else{const{attrs:c,classes:f}=function mc(e){const n=[],i=[];let s=1,c=2;for(;s<e.length;){let f=e[s];if("string"==typeof f)2===c?""!==f&&n.push(f,e[++s]):8===c&&i.push(f);else{if(!ee(c))break;c=f}s++}return{attrs:n,classes:i}}(n.selectors[0]);c&&As(e,i,c),f&&f.length>0&&By(e,i,f.join(" "))}}(lt,Qo,$t,s),void 0!==i&&function f_(e,n,i){const s=e.projection=[];for(let c=0;c<n.length;c++){const f=i[c];s.push(null!=f?Array.from(f):null)}}(es,this.ngContentSelectors,i),gi=function CE(e,n,i,s,c,f){const y=Si(),w=c[Rn],x=Ss(y,c);h0(w,c,y,i,null,s);for(let re=0;re<i.length;re++)sn(Ll(c,w,y.directiveStart+re,y),c);Xy(w,c,y),x&&sn(x,c);const W=Ll(c,w,y.directiveStart+y.componentOffset,y);if(e[Ci]=c[Ci]=W,null!==f)for(const re of f)re(W,n);return Hy(w,y,c),W}(Bs,Qo,gc,Fm,Cn,[p_]),nE(ar,Cn,null)}catch(Qo){throw null!==Bs&&h(Bs),h(Cn),Qo}finally{rl()}return new TE(this.componentType,gi,sl(es,Cn),Cn,es)}finally{we(f)}}}class TE extends Op{constructor(n,i,s,c,f){super(),this.location=s,this._rootLView=c,this._tNode=f,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new ad(c,void 0,!1),this.componentType=n}setInput(n,i){const s=this._tNode.inputs;let c;if(null!==s&&(c=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const f=this._rootLView;tE(f[Rn],f,c,n,i),this.previousInputValues.set(n,i),yf(Ta(this._tNode.index,f),1)}}get injector(){return new ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function p_(){const e=Si();ac(tn()[Rn],e)}let Bp=(()=>{class e{static{this.__NG_ELEMENT_ID__=bE}}return e})();function bE(){return Rf(Si(),tn())}const G0=Bp,$p=class extends G0{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return sl(this._hostTNode,this._hostLView)}get injector(){return new ks(this._hostTNode,this._hostLView)}get parentInjector(){const n=Nc(this._hostTNode,this._hostLView);if(Vu(n)){const i=ru(n,this._hostLView),s=Nl(n);return new ks(i[Rn].data[s+8],i)}return new ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=g_(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Es}createEmbeddedView(n,i,s){let c,f;"number"==typeof s?c=s:null!=s&&(c=s.index,f=s.injector);const y=go(this._lContainer,n.ssrId),w=n.createEmbeddedViewImpl(i||{},f,y);return this.insertImpl(w,c,Ud(this._hostTNode,y)),w}createComponent(n,i,s,c,f){const y=n&&!function et(e){return"function"==typeof e}(n);let w;if(y)w=i;else{const $t=i||{};w=$t.index,s=$t.injector,c=$t.projectableNodes,f=$t.environmentInjector||$t.ngModuleRef}const x=y?n:new $d(qr(n)),W=s||this.parentInjector;if(!f&&null==x.ngModule){const An=(y?W:this.parentInjector).get(ms,null);An&&(f=An)}const re=qr(x.componentType??{}),Ne=go(this._lContainer,re?.id??null),Ct=x.create(W,c,Ne?.firstChild??null,f);return this.insertImpl(Ct.hostView,w,Ud(this._hostTNode,Ne)),Ct}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,s){const c=n._lView;if(function Lh(e){return hs(e[vi])}(c)){const w=this.indexOf(n);if(-1!==w)this.detach(w);else{const x=c[vi],W=new $p(x,x[Bi],x[vi]);W.detach(W.indexOf(n))}}const f=this._adjustIndex(i),y=this._lContainer;return Ap(y,c,f,s),n.attachToViewContainerRef(),mo(jp(y),f,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=g_(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=$c(this._lContainer,i);s&&(Yo(jp(this._lContainer),i),_p(s[Rn],s))}detach(n){const i=this._adjustIndex(n,-1),s=$c(this._lContainer,i);return s&&null!=Yo(jp(this._lContainer),i)?new ad(s):null}_adjustIndex(n,i=0){return n??this.length+i}};function g_(e){return e[8]}function jp(e){return e[8]||(e[8]=[])}function Rf(e,n){let i;const s=n[e.index];return hs(s)?i=s:(i=Yy(s,n,null,e),n[e.index]=i,Wg(n,i)),nm(i,n,e,s),new $p(i,e,n)}let nm=function __(e,n,i,s){if(e[ia])return;let c;c=8&i.type?Li(s):function Ph(e,n){const i=e[Ur],s=i.createComment(""),c=Ss(n,e);return mu(i,xv(i,c),s,function Lg(e,n){return e.nextSibling(n)}(i,c),!1),s}(n,i),e[ia]=c},m_=()=>!1;class rm{constructor(n){this.queryList=n,this.matches=null}clone(){return new rm(this.queryList)}setDirty(){this.queryList.setDirty()}}class im{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let f=0;f<s;f++){const y=i.getByIndex(f);c.push(this.queries[y.indexInDeclarationView].clone())}return new im(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==T_(n,i).matches&&this.queries[i].setDirty()}}class DE{constructor(n,i,s=null){this.flags=i,this.read=s,this.predicate="string"==typeof n?function zp(e){return e.split(",").map(n=>n.trim())}(n):n}}class I_{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const c=null!==i?i.length:0,f=this.getByIndex(s).embeddedTView(n,c);f&&(f.indexInDeclarationView=s,null!==i?i.push(f):i=[f])}return null!==i?new I_(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class sm{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new sm(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let c=0;c<s.length;c++){const f=s[c];this.matchTNodeWithReadOption(n,i,SE(i,f)),this.matchTNodeWithReadOption(n,i,fa(i,n,f,!1,!1))}else s===ld?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,fa(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const c=this.metadata.read;if(null!==c)if(c===Vl||c===Bp||c===ld&&4&i.type)this.addMatch(i.index,-2);else{const f=fa(i,n,c,!1,!1);null!==f&&this.addMatch(i.index,f)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function SE(e,n){const i=e.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function Mh(e,n,i,s){return-1===i?function K0(e,n){return 11&e.type?sl(e,n):4&e.type?cd(e,n):null}(n,e):-2===i?function pd(e,n,i){return i===Vl?sl(n,e):i===ld?cd(n,e):i===Bp?Rf(n,e):void 0}(e,n,s):Ll(e,e[Rn],i,n)}function Hp(e,n,i,s){const c=n[Ya].queries[s];if(null===c.matches){const f=e.data,y=i.matches,w=[];for(let x=0;null!==y&&x<y.length;x+=2){const W=y[x];w.push(W<0?null:Mh(n,f[W],y[x+1],i.metadata.read))}c.matches=w}return c.matches}function Pf(e,n,i,s){const c=e.queries.getByIndex(i),f=c.matches;if(null!==f){const y=Hp(e,n,c,i);for(let w=0;w<f.length;w+=2){const x=f[w];if(x>0)s.push(y[w/2]);else{const W=f[w+1],re=n[-x];for(let Ne=Es;Ne<re.length;Ne++){const lt=re[Ne];lt[oo]===lt[vi]&&Pf(lt[Rn],lt,W,s)}if(null!==re[Ja]){const Ne=re[Ja];for(let lt=0;lt<Ne.length;lt++){const Ct=Ne[lt];Pf(Ct[Rn],Ct,W,s)}}}}}return s}function Us(e,n,i){const s=new lo(!(4&~i));return function l0(e,n,i,s){const c=Zy(n);c.push(i),e.firstCreatePass&&eE(e).push(s,c.length-1)}(e,n,s,s.destroy),(n[Ya]??=new im).queries.push(new rm(s))-1}function RE(e,n,i){null===e.queries&&(e.queries=new I_),e.queries.track(new sm(n,i))}function T_(e,n){return e.queries.getByIndex(n)}function ME(e,n){const i=e[Rn],s=T_(i,n);return s.crossesNgTemplate?Pf(i,e,n,[]):Hp(i,e,s,n)}const xE=new Set;function al(e){xE.has(e)||(xE.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function C_(e,n){al("NgSignals");const i=function Me(e){const n=Object.create(Tt);n.value=e;const i=()=>(ue(n),n.value);return i[Re]=n,i}(e),s=i[Re];return n?.equal&&(s.equal=n.equal),i.set=c=>at(s,c),i.update=c=>function Xe(e,n){rt()||tt(),at(e,n(e.value))}(s,c),i.asReadonly=w_.bind(i),i}function w_(){const e=this[Re];if(void 0===e.readonlyFn){const n=()=>this();n[Re]=e,e.readonlyFn=n}return e.readonlyFn}function Nh(e){return function xf(e){return"function"==typeof e&&void 0!==e[Re]}(e)&&"function"==typeof e.set}function fm(e){let n=function x_(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const s=[e];for(;n;){let c;if(Os(e))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ft(903,!1);c=n.\u0275dir}if(c){if(i){s.push(c);const y=e;y.inputs=Gp(e.inputs),y.inputTransforms=Gp(e.inputTransforms),y.declaredInputs=Gp(e.declaredInputs),y.outputs=Gp(e.outputs);const w=c.hostBindings;w&&I(e,w);const x=c.viewQuery,W=c.contentQueries;if(x&&GE(e,x),W&&Of(e,W),pm(e,c),ui(e.outputs,c.outputs),Os(c)&&c.data.animation){const re=e.data;re.animation=(re.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let y=0;y<f.length;y++){const w=f[y];w&&w.ngInherit&&w(e),w===fm&&(i=!1)}}n=Object.getPrototypeOf(n)}!function Wl(e){let n=0,i=null;for(let s=e.length-1;s>=0;s--){const c=e[s];c.hostVars=n+=c.hostVars,c.hostAttrs=Vi(c.hostAttrs,i=Vi(i,c.hostAttrs))}}(s)}function pm(e,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;const s=n.inputs[i];if(void 0!==s&&(e.inputs[i]=s,e.declaredInputs[i]=n.declaredInputs[i],null!==n.inputTransforms)){const c=Array.isArray(s)?s[0]:s;if(!n.inputTransforms.hasOwnProperty(c))continue;e.inputTransforms??={},e.inputTransforms[c]=n.inputTransforms[c]}}}function Gp(e){return e===eo?{}:e===Tr?[]:e}function GE(e,n){const i=e.viewQuery;e.viewQuery=i?(s,c)=>{n(s,c),i(s,c)}:n}function Of(e,n){const i=e.contentQueries;e.contentQueries=i?(s,c,f)=>{n(s,c,f),i(s,c,f)}:n}function I(e,n){const i=e.hostBindings;e.hostBindings=i?(s,c)=>{n(s,c),i(s,c)}:n}function Oh(e){const n=e.inputConfig,i={};for(const s in n)if(n.hasOwnProperty(s)){const c=n[s];Array.isArray(c)&&c[3]&&(i[s]=c[3])}e.inputTransforms=i}class Pa{}class Kp{}function N_(e,n){return new sT(e,n??null,[])}class sT extends Pa{constructor(n,i,s,c=!0){super(),this.ngModuleType=n,this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rh(this);const f=Yi(n);this._bootstrapComponents=jl(f.bootstrap),this._r3Injector=dh(n,i,[{provide:Pa,useValue:this},{provide:Df,useValue:this.componentFactoryResolver},...s],dr(n),new Set(["environment"])),c&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class oT extends Kp{constructor(n){super(),this.moduleType=n}create(n){return new sT(this.moduleType,n,[])}}class vb extends Pa{constructor(n){super(),this.componentFactoryResolver=new Rh(this),this.instance=null;const i=new Ro([...n.providers,{provide:Pa,useValue:this},{provide:Df,useValue:this.componentFactoryResolver}],n.parent||Xa(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function aT(e,n,i=null){return new vb({providers:e,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}function KE(e){return!!lT(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function lT(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Kd(e,n,i){return e[n]=i}function Ko(e,n,i){return!Object.is(e[n],i)&&(e[n]=i,!0)}function Xp(e,n,i,s){const c=Ko(e,n,i);return Ko(e,n+1,s)||c}function k_(e,n,i,s,c,f,y,w,x,W){const re=i+gr,Ne=n.firstCreatePass?function pR(e,n,i,s,c,f,y,w,x){const W=n.consts,re=vf(n,e,4,y||null,w||null);wp(n,i,re,la(W,x)),ac(n,re);const Ne=re.tView=_u(2,re,s,c,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,W,null);return null!==n.queries&&(n.queries.template(n,re),Ne.queries=n.queries.embeddedTView(re)),re}(re,n,e,s,c,f,y,w,x):n.data[re];ca(Ne,!1);const lt=_b(n,e,Ne,i);Pl()&&Vg(n,e,lt,Ne),sn(lt,e);const Ct=Yy(lt,e,lt,Ne);return e[re]=Ct,Wg(e,Ct),function v_(e,n,i){return m_(e,n,i)}(Ct,Ne,e),Jl(Ne)&&id(n,e,Ne),null!=x&&jc(e,Ne,W),Ne}function cT(e,n,i,s,c,f,y,w){const x=tn(),W=ei();return k_(x,W,e,n,i,s,c,la(W.consts,f),y,w),cT}let _b=function yb(e,n,i,s){return ua(!0),n[Ur].createComment("")};var vm=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(vm||{});let bb=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=yr({token:e,providedIn:"root",factory:()=>new e})}}return e})();class V_{constructor(){this.ngZone=Ue(T),this.scheduler=Ue(ko),this.errorHandler=Ue(Ls,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[vm.EarlyRead,vm.Write,vm.MixedReadWrite,vm.Read]}execute(){this.executing=!0;for(const n of V_.PHASES)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[n])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>i.hooks[n](i.pipelinedValue))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=yr({token:V_,providedIn:"root",factory:()=>new V_})}}class _R{constructor(n,i,s,c){this.impl=n,this.hooks=i,this.once=s,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=c?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function JE(e,n){!n?.injector&&function Io(e){if(!Ds())throw new ft(-203,!1)}();const i=n?.injector??Ue(Qs);return function Aa(e){return"browser"===(e??Ue(Qs)).get(lg)}(i)?(al("NgAfterNextRender"),function Ab(e,n,i,s){const c=n.get(bb);c.impl??=n.get(V_);const f=i?.phase??vm.MixedReadWrite,y=!0!==i?.manualCleanup?n.get(Ys):null,w=new _R(c.impl,function ER(e,n){if(e instanceof Function){const i=[void 0,void 0,void 0,void 0];return i[n]=e,i}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,f),s,y);return c.impl.register(w),w}(e,i,n,!0)):Db}const Db={destroy(){}};function ET(e,n,i,s){const c=tn();return Ko(c,Ua(),n)&&(ei(),od(ji(),c,e,n,i,s)),ET}function Am(e,n,i,s,c,f,y,w){const W=function XE(e,n,i,s,c){const f=Xp(e,n,i,s);return Ko(e,n+2,c)||f}(e,El(),i,c,y);return tl(3),W?n+de(i)+s+de(c)+f+de(y)+w:pi}function Dm(e,n,i,s,c,f,y,w,x,W){const Ne=function Tu(e,n,i,s,c,f){const y=Xp(e,n,i,s);return Xp(e,n+2,c,f)||y}(e,El(),i,c,y,x);return tl(4),Ne?n+de(i)+s+de(c)+f+de(y)+w+de(x)+W:pi}function tI(e,n){return e<<17|n<<2}function Lf(e){return e>>17&32767}function IT(e){return 2|e}function Qp(e){return(131068&e)>>2}function TT(e,n){return-131069&e|n<<2}function CT(e){return 1|e}function Zb(e,n,i,s){const c=e[i+1],f=null===n;let y=s?Lf(c):Qp(c),w=!1;for(;0!==y&&(!1===w||f);){const W=e[y+1];nP(e[y],n)&&(w=!0,e[y+1]=s?CT(W):IT(W)),y=s?Lf(W):Qp(W)}w&&(e[i+1]=s?IT(c):CT(c))}function nP(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Gs(e,n)>=0}const Ma={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eA(e){return e.substring(Ma.key,Ma.keyEnd)}function tA(e,n){const i=Ma.textEnd;return i===n?-1:(n=Ma.keyEnd=function oP(e,n,i){for(;n<i&&e.charCodeAt(n)>32;)n++;return n}(e,Ma.key=n,i),xm(e,n,i))}function xm(e,n,i){for(;n<i&&e.charCodeAt(n)<=32;)n++;return n}function wT(e,n,i){const s=tn();return Ko(s,Ua(),n)&&Tl(ei(),ji(),s,e,n,s[Ur],i,!1),wT}function bT(e,n,i,s,c){const y=c?"class":"style";tE(e,i,n.inputs[y],y,s)}function AT(e,n,i){return md(e,n,i,!1),AT}function DT(e,n){return md(e,n,null,!0),DT}function oA(e){!function vd(e,n,i,s){const c=ei(),f=tl(2);c.firstUpdatePass&&lA(c,null,f,s);const y=tn();if(i!==pi&&Ko(y,f,i)){const w=c.data[bs()];if(hA(w,s)&&!aA(c,f)){let x=s?w.classesWithoutHost:w.stylesWithoutHost;null!==x&&(i=bi(x,i||"")),bT(c,w,y,i,s)}else!function mP(e,n,i,s,c,f,y,w){c===pi&&(c=Tr);let x=0,W=0,re=0<c.length?c[0]:null,Ne=0<f.length?f[0]:null;for(;null!==re||null!==Ne;){const lt=x<c.length?c[x+1]:void 0,Ct=W<f.length?f[W+1]:void 0;let An,$t=null;re===Ne?(x+=2,W+=2,lt!==Ct&&($t=Ne,An=Ct)):null===Ne||null!==re&&re<Ne?(x+=2,$t=re):(W+=2,$t=Ne,An=Ct),null!==$t&&uA(e,n,i,s,$t,An,y,w),re=x<c.length?c[x]:null,Ne=W<f.length?f[W]:null}}(c,w,y,y[Ur],y[f+1],y[f+1]=function pP(e,n,i){if(null==i||""===i)return Tr;const s=[],c=Fd(i);if(Array.isArray(c))for(let f=0;f<c.length;f++)e(s,c[f],!0);else if("object"==typeof c)for(const f in c)c.hasOwnProperty(f)&&e(s,f,c[f]);else"string"==typeof c&&n(s,c);return s}(e,n,i),s,f)}}(gP,qd,e,!0)}function qd(e,n){for(let i=function iP(e){return function rA(e){Ma.key=0,Ma.keyEnd=0,Ma.value=0,Ma.valueEnd=0,Ma.textEnd=e.length}(e),tA(e,xm(e,0,Ma.textEnd))}(n);i>=0;i=tA(n,i))is(e,eA(n),!0)}function md(e,n,i,s){const c=tn(),f=ei(),y=tl(2);f.firstUpdatePass&&lA(f,e,y,s),n!==pi&&Ko(c,y,n)&&uA(f,f.data[bs()],c,c[Ur],e,c[y+1]=function vP(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=dr(Fd(e)))),e}(n,i),s,y)}function aA(e,n){return n>=e.expandoStartIndex}function lA(e,n,i,s){const c=e.data;if(null===c[i+1]){const f=c[bs()],y=aA(e,i);hA(f,s)&&null===n&&!y&&(n=!1),n=function uP(e,n,i,s){const c=function Ca(e){const n=Wr.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let f=s?n.residualClasses:n.residualStyles;if(null===c)0===(s?n.classBindings:n.styleBindings)&&(i=B_(i=ST(null,e,n,i,s),n.attrs,s),f=null);else{const y=n.directiveStylingLast;if(-1===y||e[y]!==c)if(i=ST(c,e,n,i,s),null===f){let x=function dP(e,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==Qp(s))return e[Lf(s)]}(e,n,s);void 0!==x&&Array.isArray(x)&&(x=ST(null,e,n,x[1],s),x=B_(x,n.attrs,s),function hP(e,n,i,s){e[Lf(i?n.classBindings:n.styleBindings)]=s}(e,n,s,x))}else f=function fP(e,n,i){let s;const c=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<c;f++)s=B_(s,e[f].hostAttrs,i);return B_(s,n.attrs,i)}(e,n,s)}return void 0!==f&&(s?n.residualClasses=f:n.residualStyles=f),i}(c,f,n,s),function eP(e,n,i,s,c,f){let y=f?n.classBindings:n.styleBindings,w=Lf(y),x=Qp(y);e[s]=i;let re,W=!1;if(Array.isArray(i)?(re=i[1],(null===re||Gs(i,re)>0)&&(W=!0)):re=i,c)if(0!==x){const lt=Lf(e[w+1]);e[s+1]=tI(lt,w),0!==lt&&(e[lt+1]=TT(e[lt+1],s)),e[w+1]=function JR(e,n){return 131071&e|n<<17}(e[w+1],s)}else e[s+1]=tI(w,0),0!==w&&(e[w+1]=TT(e[w+1],s)),w=s;else e[s+1]=tI(x,0),0===w?w=s:e[x+1]=TT(e[x+1],s),x=s;W&&(e[s+1]=IT(e[s+1])),Zb(e,re,s,!0),Zb(e,re,s,!1),function tP(e,n,i,s,c){const f=c?e.residualClasses:e.residualStyles;null!=f&&"string"==typeof n&&Gs(f,n)>=0&&(i[s+1]=CT(i[s+1]))}(n,re,e,s,f),y=tI(w,x),f?n.classBindings=y:n.styleBindings=y}(c,f,n,i,y,s)}}function ST(e,n,i,s,c){let f=null;const y=i.directiveEnd;let w=i.directiveStylingLast;for(-1===w?w=i.directiveStart:w++;w<y&&(f=n[w],s=B_(s,f.hostAttrs,c),f!==e);)w++;return null!==e&&(i.directiveStylingLast=w),s}function B_(e,n,i){const s=i?1:2;let c=-1;if(null!==n)for(let f=0;f<n.length;f++){const y=n[f];"number"==typeof y?c=y:c===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),is(e,y,!!i||n[++f]))}return void 0===e?null:e}function gP(e,n,i){const s=String(n);""!==s&&!s.includes(" ")&&is(e,s,i)}function uA(e,n,i,s,c,f,y,w){if(!(3&n.type))return;const x=e.data,W=x[w+1],re=function ZR(e){return!(1&~e)}(W)?dA(x,n,i,c,Qp(W),y):void 0;nI(re)||(nI(f)||function YR(e){return!(2&~e)}(W)&&(f=dA(x,null,i,c,w,y)),function t0(e,n,i,s,c){if(n)c?e.addClass(i,s):e.removeClass(i,s);else{let f=-1===s.indexOf("-")?void 0:Sg.DashCase;null==c?e.removeStyle(i,s,f):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),f|=Sg.Important),e.setStyle(i,s,c,f))}}(s,y,Ia(bs(),i),c,f))}function dA(e,n,i,s,c,f){const y=null===n;let w;for(;c>0;){const x=e[c],W=Array.isArray(x),re=W?x[1]:x,Ne=null===re;let lt=i[c+1];lt===pi&&(lt=Ne?Tr:void 0);let Ct=Ne?ls(lt,s):re===s?lt:void 0;if(W&&!nI(Ct)&&(Ct=ls(x,s)),nI(Ct)&&(w=Ct,y))return w;const $t=e[c+1];c=y?Lf($t):Qp($t)}if(null!==n){let x=f?n.residualClasses:n.residualStyles;null!=x&&(w=ls(x,s))}return w}function nI(e){return void 0!==e}function hA(e,n){return!!(e.flags&(n?8:16))}function iI(e,n,i,s){const c=tn(),f=ei(),y=gr+e,w=c[Ur],x=f.firstCreatePass?function BP(e,n,i,s,c,f){const y=n.consts,x=vf(n,e,2,s,la(y,c));return wp(n,i,x,la(y,f)),null!==x.attrs&&em(x,x.attrs,!1),null!==x.mergedAttrs&&em(x,x.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,x),x}(y,f,c,n,i,s):f.data[y],W=mA(f,c,x,w,n,e);c[y]=W;const re=Jl(x);return ca(x,!0),$y(w,W,x),!function gm(e){return!(32&~e.flags)}(x)&&Pl()&&Vg(f,c,W,x),0===function ic(){return Wr.lFrame.elementDepthCount}()&&sn(W,c),function Au(){Wr.lFrame.elementDepthCount++}(),re&&(id(f,c,x),Hy(f,x,c)),null!==s&&jc(c,x),iI}function sI(){let e=Si();Mo()?Zc():(e=e.parent,ca(e,!1));const n=e;(function Du(e){return Wr.skipHydrationRootTNode===e})(n)&&function Su(){Wr.skipHydrationRootTNode=null}(),function Fh(){Wr.lFrame.elementDepthCount--}();const i=ei();return i.firstCreatePass&&(ac(i,e),Cu(e)&&i.queries.elementEnd(e)),null!=n.classesWithoutHost&&function ha(e){return!!(8&e.flags)}(n)&&bT(i,n,tn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Rc(e){return!!(16&e.flags)}(n)&&bT(i,n,tn(),n.stylesWithoutHost,!1),sI}function xT(e,n,i,s){return iI(e,n,i,s),sI(),xT}let mA=(e,n,i,s,c,f)=>(ua(!0),vp(s,c,function Rl(){return Wr.lFrame.currentNamespace}()));function oI(e,n,i){const s=tn(),c=ei(),f=e+gr,y=c.firstCreatePass?function HP(e,n,i,s,c){const f=n.consts,y=la(f,s),w=vf(n,e,8,"ng-container",y);return null!==y&&em(w,y,!0),wp(n,i,w,la(f,c)),null!==n.queries&&n.queries.elementStart(n,w),w}(f,c,s,n,i):c.data[f];ca(y,!0);const w=vA(c,s,y,e);return s[f]=w,Pl()&&Vg(c,s,w,y),sn(w,s),Jl(y)&&(id(c,s,y),Hy(c,y,s)),null!=i&&jc(s,y),oI}function aI(){let e=Si();const n=ei();return Mo()?Zc():(e=e.parent,ca(e,!1)),n.firstCreatePass&&(ac(n,e),Cu(e)&&n.queries.elementEnd(e)),aI}function NT(e,n,i){return oI(e,n,i),aI(),NT}let vA=(e,n,i,s)=>(ua(!0),Ch(n[Ur],""));function _A(){return tn()}const Yp=void 0;var KP=["en",[["a","p"],["AM","PM"],Yp],[["AM","PM"],Yp,Yp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yp,"{1} 'at' {0}",Yp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function GP(e){const i=Math.floor(Math.abs(e)),s=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let Nm={};function OT(e){const n=function XP(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=TA(n);if(i)return i;const s=n.split("-")[0];if(i=TA(s),i)return i;if("en"===s)return KP;throw new ft(701,!1)}function IA(e){return OT(e)[Om.PluralCase]}function TA(e){return e in Nm||(Nm[e]=vr.ng&&vr.ng.common&&vr.ng.common.locales&&vr.ng.common.locales[e]),Nm[e]}var Om=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Om||{});const lI="en-US";let CA=lI,$A=(e,n,i)=>{};function FT(e,n,i,s){const c=tn(),f=ei(),y=Si();return VT(f,c,c[Ur],y,e,n,s),FT}function VT(e,n,i,s,c,f,y){const w=Jl(s),W=e.firstCreatePass&&eE(e),re=n[Ci],Ne=Zy(n);let lt=!0;if(3&s.type||y){const An=Ss(s,n),Zn=y?y(An):An,ar=Ne.length,Cn=y?es=>y(Li(es[s.index])):s.index;let gi=null;if(!y&&w&&(gi=function LM(e,n,i,s){const c=e.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const y=c[f];if(y===i&&c[f+1]===s){const w=n[io],x=c[f+2];return w.length>x?w[x]:null}"string"==typeof y&&(f+=2)}return null}(e,n,c,s.index)),null!==gi)(gi.__ngLastListenerFn__||gi).__ngNextListenerFn__=f,gi.__ngLastListenerFn__=f,lt=!1;else{f=zA(s,n,re,f),$A(An,c,f);const es=i.listen(Zn,c,f);Ne.push(f,es),W&&W.push(c,Cn,ar,ar+1)}}else f=zA(s,n,re,f);const Ct=s.outputs;let $t;if(lt&&null!==Ct&&($t=Ct[c])){const An=$t.length;if(An)for(let Zn=0;Zn<An;Zn+=2){const Bs=n[$t[Zn]][$t[Zn+1]].subscribe(f),Qo=Ne.length;Ne.push(f,Bs),W&&W.push(c,s.index,Qo,-(Qo+1))}}}function WA(e,n,i,s){const c=we(null);try{return Hs(6,n,i),!1!==i(s)}catch(f){return Bv(e,f),!1}finally{Hs(7,n,i),we(c)}}function zA(e,n,i,s){return function c(f){if(f===Function)return s;yf(e.componentOffset>-1?Ta(e.index,n):n,5);let w=WA(n,i,s,f),x=c.__ngNextListenerFn__;for(;x;)w=WA(n,i,x,f)&&w,x=x.__ngNextListenerFn__;return w}}function GA(e=1){return function oc(e){return(Wr.lFrame.contextLView=function bu(e,n){for(;e>0;)n=n[Qa],e--;return n}(e,Wr.lFrame.contextLView))[Ci]}(e)}function FM(e,n){let i=null;const s=function _t(e){const n=e.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(e);for(let c=0;c<n.length;c++){const f=n[c];if("*"!==f){if(null===s?Ce(e,f,!0):Ui(s,f))return c}else i=c}return i}function KA(e){const n=tn()[ki][Bi];if(!n.projection){const s=n.projection=function zs(e,n){const i=[];for(let s=0;s<e;s++)i.push(n);return i}(e?e.length:1,null),c=s.slice();let f=n.child;for(;null!==f;){if(128!==f.type){const y=e?FM(f,e):0;null!==y&&(c[y]?c[y].projectionNext=f:s[y]=f,c[y]=f)}f=f.next}}}function XA(e,n=0,i,s,c,f){const y=tn(),w=ei(),x=s?e+1:null;null!==x&&k_(y,w,x,s,c,f,null,i);const W=vf(w,gr+e,16,null,i||null);null===W.projection&&(W.projection=n),Zc();const Ne=!y[xs]||wc();null===y[ki][Bi].projection[W.projection]&&null!==x?function VM(e,n,i){const s=gr+i,c=n.data[s],f=e[s],y=go(f,c.tView.ssrId);Ap(f,bp(e,c,void 0,{dehydratedView:y}),0,Ud(c,y))}(y,w,x):Ne&&32&~W.flags&&function ZI(e,n,i){Ip(n[Ur],0,n,i,Pv(e,i,n),Nv(i.parent||n[Bi],i,n))}(w,y,W)}function iD(e,n,i,s){!function Mf(e,n,i,s){const c=ei();if(c.firstCreatePass){const f=Si();RE(c,new DE(n,i,s),f.index),function PE(e,n){const i=e.contentQueries||(e.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,n)}(c,e),!(2&~i)&&(c.staticContentQueries=!0)}return Us(c,tn(),i)}(e,n,i,s)}function sD(e,n,i){!function Wp(e,n,i){const s=ei();return s.firstCreatePass&&(RE(s,new DE(e,n,i),-1),!(2&~n)&&(s.staticViewQueries=!0)),Us(s,tn(),n)}(e,n,i)}function oD(e){const n=tn(),i=ei(),s=sc();Dc(s+1);const c=T_(i,s);if(e.dirty&&function ws(e){return!(4&~e[or])}(n)===!(2&~c.metadata.flags)){if(null===c.matches)e.reset([]);else{const f=ME(n,s);e.reset(f,Kh),e.notifyOnChanges()}return!0}return!1}function aD(){return function om(e,n){return e[Ya].queries[n].queryList}(tn(),sc())}function vD(e,n=""){const i=tn(),s=ei(),c=e+gr,f=s.firstCreatePass?vf(s,c,1,n,null):s.data[c],y=_D(s,i,f,n,e);i[c]=y,Pl()&&Vg(s,i,y,f),ca(f,!1)}let _D=(e,n,i,s,c)=>(ua(!0),function rd(e,n){return e.createText(n)}(n[Ur],s));function $T(e){return hI("",e,""),$T}function hI(e,n,i){const s=tn(),c=function wm(e,n,i,s){return Ko(e,Ua(),i)?n+de(i)+s:pi}(s,e,n,i);return c!==pi&&yu(s,bs(),c),hI}function jT(e,n,i,s,c){const f=tn(),y=function bm(e,n,i,s,c,f){const w=Xp(e,El(),i,c);return tl(2),w?n+de(i)+s+de(c)+f:pi}(f,e,n,i,s,c);return y!==pi&&yu(f,bs(),y),jT}function HT(e,n,i,s,c,f,y){const w=tn(),x=Am(w,e,n,i,s,c,f,y);return x!==pi&&yu(w,bs(),x),HT}function WT(e,n,i,s,c,f,y,w,x){const W=tn(),re=Dm(W,e,n,i,s,c,f,y,w,x);return re!==pi&&yu(W,bs(),re),WT}function zT(e,n,i){Nh(n)&&(n=n());const s=tn();return Ko(s,Ua(),n)&&Tl(ei(),ji(),s,e,n,s[Ur],i,!1),zT}function wD(e,n){const i=Nh(e);return i&&e.set(n),i}function GT(e,n){const i=tn(),s=ei(),c=Si();return VT(s,i,i[Ur],c,e,n),GT}function KT(e,n,i,s,c){if(e=ct(e),Array.isArray(e))for(let f=0;f<e.length;f++)KT(e[f],n,i,s,c);else{const f=ei(),y=tn(),w=Si();let x=ho(e)?e:ct(e.provide);const W=ml(e),re=1048575&w.providerIndexes,Ne=w.directiveStart,lt=w.providerIndexes>>20;if(ho(e)||!e.multi){const Ct=new $a(W,c,bh),$t=qT(x,n,c?re:re+lt,Ne);-1===$t?(wa(kl(w,y),f,x),XT(f,e,n.length),n.push(x),w.directiveStart++,w.directiveEnd++,c&&(w.providerIndexes+=1048576),i.push(Ct),y.push(Ct)):(i[$t]=Ct,y[$t]=Ct)}else{const Ct=qT(x,n,re+lt,Ne),$t=qT(x,n,re,re+lt),Zn=$t>=0&&i[$t];if(c&&!Zn||!c&&!(Ct>=0&&i[Ct])){wa(kl(w,y),f,x);const ar=function sx(e,n,i,s,c){const f=new $a(e,i,bh);return f.multi=[],f.index=n,f.componentProviders=0,DD(f,c,s&&!i),f}(c?ix:rx,i.length,c,s,W);!c&&Zn&&(i[$t].providerFactory=ar),XT(f,e,n.length,0),n.push(x),w.directiveStart++,w.directiveEnd++,c&&(w.providerIndexes+=1048576),i.push(ar),y.push(ar)}else XT(f,e,Ct>-1?Ct:$t,DD(i[c?$t:Ct],W,!c&&s));!c&&s&&Zn&&i[$t].componentProviders++}}}function XT(e,n,i,s){const c=ho(n),f=function gl(e){return!!e.useClass}(n);if(c||f){const x=(f?ct(n.useClass):n).prototype.ngOnDestroy;if(x){const W=e.destroyHooks||(e.destroyHooks=[]);if(!c&&n.multi){const re=W.indexOf(i);-1===re?W.push(i,[s,x]):W[re+1].push(s,x)}else W.push(i,x)}}}function DD(e,n,i){return i&&e.componentProviders++,e.multi.push(n)-1}function qT(e,n,i,s){for(let c=i;c<s;c++)if(n[c]===e)return c;return-1}function rx(e,n,i,s){return QT(this.multi,[])}function ix(e,n,i,s){const c=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Ll(i,i[Rn],this.providerFactory.index,s);f=w.slice(0,y),QT(c,f);for(let x=y;x<w.length;x++)f.push(w[x])}else f=[],QT(c,f);return f}function QT(e,n){for(let i=0;i<e.length;i++)n.push((0,e[i])());return n}function SD(e,n=[]){return i=>{i.providersResolver=(s,c)=>function nx(e,n,i){const s=ei();if(s.firstCreatePass){const c=Os(e);KT(i,s.data,s.blueprint,c,!0),KT(n,s.data,s.blueprint,c,!1)}}(s,c?c(e):e,n)}}let ox=(()=>{class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const s=Eo(0,i.type),c=s.length>0?aT([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=yr({token:e,providedIn:"environment",factory:()=>new e(A(ms))})}}return e})();function RD(e){al("NgStandalone"),e.getStandaloneInjector=n=>n.get(ox).getOrCreateStandaloneInjector(e)}function G_(e,n){const i=e[n];return i===pi?void 0:i}function FD(e,n){const i=ei();let s;const c=e+gr;i.firstCreatePass?(s=function Ex(e,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(e===s.name)return s}}(n,i.pipeRegistry),i.data[c]=s,s.onDestroy&&(i.destroyHooks??=[]).push(c,s.onDestroy)):s=i.data[c];const f=s.factory||(s.factory=Xr(s.type)),w=ts(bh);try{const x=Pc(!1),W=f();return Pc(x),function BT(e,n,i,s){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),n[i]=s}(i,tn(),c,W),W}finally{ts(w)}}function VD(e,n,i){const s=e+gr,c=tn(),f=nc(c,s);return K_(c,s)?function xD(e,n,i,s,c,f){const y=n+i;return Ko(e,y,c)?Kd(e,y+1,f?s.call(f,c):s(c)):G_(e,y+1)}(c,xo(),n,f.transform,i,f):f.transform(i)}function UD(e,n,i,s){const c=e+gr,f=tn(),y=nc(f,c);return K_(f,c)?function ND(e,n,i,s,c,f,y){const w=n+i;return Xp(e,w,c,f)?Kd(e,w+2,y?s.call(y,c,f):s(c,f)):G_(e,w+2)}(f,xo(),n,y.transform,i,s,y):y.transform(i,s)}function K_(e,n){return e[Rn].data[n].pure}class tS{constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const Gx=new tS("18.2.13");let nS=(()=>{class e{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=yr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const aS=new Yt(""),lS=new Yt("");let nC,_N=(()=>{class e{constructor(i,s,c){this._ngZone=i,this.registry=s,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,nC||(function yN(e){nC=e}(c),c.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{T.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,c){let f=-1;s&&s>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),i()},s)),this._callbacks.push({doneCb:i,timeoutId:f,updateCb:c})}whenStable(i,s,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,c),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,c){return[]}static{this.\u0275fac=function(s){return new(s||e)(A(T),A(cS),A(lS))}}static{this.\u0275prov=yr({token:e,factory:e.\u0275fac})}}return e})(),cS=(()=>{class e{constructor(){this._applications=new Map}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return nC?.findTestabilityInTree(this,i,s)??null}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=yr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function rC(e){return!!e&&"function"==typeof e.then}function uS(e){return!!e&&"function"==typeof e.subscribe}const dS=new Yt("");let hS=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s}),this.appInits=Ue(dS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const f=c();if(rC(f))i.push(f);else if(uS(f)){const y=new Promise((w,x)=>{f.subscribe({complete:w,error:x})});i.push(y)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(c=>{this.reject(c)}),0===i.length&&s(),this.initialized=!0}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=yr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const vI=new Yt("");function pS(e,n){return Array.isArray(n)?n.reduce(pS,e):{...e,...n}}let Qd=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ue(Fl),this.afterRenderManager=Ue(bb),this.zonelessEnabled=Ue(Bd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new qn.B,this.afterTick=new qn.B,this.componentTypes=[],this.components=[],this.isStable=Ue(uc).hasPendingTasks.pipe((0,Nn.T)(i=>!i)),this._injector=Ue(ms)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let i;return new Promise(s=>{i=this.isStable.subscribe({next:c=>{c&&s()}})}).finally(()=>{i.unsubscribe()})}get injector(){return this._injector}bootstrap(i,s){const c=i instanceof c_;if(!this._injector.get(hS).done)throw!c&&Uo(i),new ft(405,!1);let y;y=c?i:this._injector.get(Df).resolveComponentFactory(i),this.componentTypes.push(y.componentType);const w=function EN(e){return e.isBoundToModule}(y)?void 0:this._injector.get(Pa),W=y.create(Qs.NULL,[],s||y.selector,w),re=W.location.nativeElement,Ne=W.injector.get(aS,null);return Ne?.registerApplication(re),W.onDestroy(()=>{this.detachView(W.hostView),_I(this.components,W),Ne?.unregisterApplication(re)}),this._loadComponent(W),W}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ft(101,!1);const i=we(null);try{this._runningTick=!0,this.synchronize()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,we(i),this.afterTick.next()}}synchronize(){let i=null;this._injector.destroyed||(i=this._injector.get(Zg,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let s=0;for(;0!==this.dirtyFlags&&s++<10;)this.synchronizeOnce(i)}synchronizeOnce(i){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const s=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(s);for(let{_lView:c,notifyErrorHandler:f}of this._views)CN(c,f,s,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else i?.begin?.(),i?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:i})=>Tc(i))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;_I(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const s=this._injector.get(vI,[]);[...this._bootstrapListeners,...s].forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>_I(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ft(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=yr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function _I(e,n){const i=e.indexOf(n);i>-1&&e.splice(i,1)}function CN(e,n,i,s){(i||Tc(e))&&Xg(e,n,i&&!s?0:1)}class wN{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let bN=(()=>{class e{compileModuleSync(i){return new oT(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const s=this.compileModuleSync(i),f=jl(Yi(i).declarations).reduce((y,w)=>{const x=qr(w);return x&&y.push(new $d(x)),y},[]);return new wN(s,f)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=yr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),SN=(()=>{class e{constructor(){this.zone=Ue(T),this.changeDetectionScheduler=Ue(ko),this.applicationRef=Ue(Qd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=yr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function iC({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:i}){return e??=()=>new T({...sC(),scheduleInRootZone:i}),[{provide:T,useFactory:e},{provide:Ks,multi:!0,useFactory:()=>{const s=Ue(SN,{optional:!0});return()=>s.initialize()}},{provide:Ks,multi:!0,useFactory:()=>{const s=Ue(PN);return()=>{s.initialize()}}},!0===n?{provide:a_,useValue:!0}:[],{provide:l_,useValue:i??du}]}function sC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let PN=(()=>{class e{constructor(){this.subscription=new kn.yU,this.initialized=!1,this.zone=Ue(T),this.pendingTasks=Ue(uc)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{T.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{T.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=yr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Q_=(()=>{class e{constructor(){this.appRef=Ue(Qd),this.taskService=Ue(uc),this.ngZone=Ue(T),this.zonelessEnabled=Ue(Bd),this.disableScheduling=Ue(a_,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new kn.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Md):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ue(l_,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vn||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&5===i)return;switch(i){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const s=this.useMicrotaskScheduler?Ku:Gh;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>s(()=>this.tick())):this.ngZone.runOutsideAngular(()=>s(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Md+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ku(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=yr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const aC=new Yt("",{providedIn:"root",factory:()=>Ue(aC,xn.Optional|xn.SkipSelf)||function MN(){return typeof $localize<"u"&&$localize.locale||lI}()}),xN=new Yt("",{providedIn:"root",factory:()=>"USD"}),EI=new Yt("");function II(e){return!e.moduleRef}let IS=(()=>{class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const c=s?.scheduleInRootZone,y=s?.ignoreChangesOutsideZone,w=[iC({ngZoneFactory:()=>function Is(e="zone.js",n){return"noop"===e?new vn:"zone.js"===e?new T(n):e}(s?.ngZone,{...sC({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}),scheduleInRootZone:c}),ignoreChangesOutsideZone:y}),{provide:ko,useExisting:Q_}],x=function cR(e,n,i){return new sT(e,n,i,!1)}(i.moduleType,this.injector,w);return function ES(e){const n=II(e)?e.r3Injector:e.moduleRef.injector,i=n.get(T);return i.run(()=>{II(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const s=n.get(Ls,null);let c;if(i.runOutsideAngular(()=>{c=i.onError.subscribe({next:f=>{s.handleError(f)}})}),II(e)){const f=()=>n.destroy(),y=e.platformInjector.get(EI);y.add(f),n.onDestroy(()=>{c.unsubscribe(),y.delete(f)})}else{const f=()=>e.moduleRef.destroy(),y=e.platformInjector.get(EI);y.add(f),e.moduleRef.onDestroy(()=>{_I(e.allPlatformModules,e.moduleRef),c.unsubscribe(),y.delete(f)})}return function TN(e,n,i){try{const s=i();return rC(s)?s.catch(c=>{throw n.runOutsideAngular(()=>e.handleError(c)),c}):s}catch(s){throw n.runOutsideAngular(()=>e.handleError(s)),s}}(s,i,()=>{const f=n.get(hS);return f.runInitializers(),f.donePromise.then(()=>{if(function JP(e){"string"==typeof e&&(CA=e.toLowerCase().replace(/_/g,"-"))}(n.get(aC,lI)||lI),II(e)){const w=n.get(Qd);return void 0!==e.rootComponent&&w.bootstrap(e.rootComponent),w}return function FN(e,n){const i=e.injector.get(Qd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new ft(-403,!1);e.instance.ngDoBootstrap(i)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:x,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(i,s=[]){const c=pS({},s);return function DN(e,n,i){const s=new oT(i);return Promise.resolve(s)}(0,0,i).then(f=>this.bootstrapModuleFactory(f,c))}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ft(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const i=this._injector.get(EI,null);i&&(i.forEach(s=>s()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(s){return new(s||e)(A(Qs))}}static{this.\u0275prov=yr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Ff=null;const TS=new Yt("");function CS(e,n,i=[]){const s=`Platform: ${n}`,c=new Yt(s);return(f=[])=>{let y=lC();if(!y||y.injector.get(TS,!1)){const w=[...i,...f,{provide:c,useValue:!0}];e?e(w):function VN(e){if(Ff&&!Ff.get(TS,!1))throw new ft(400,!1);(function fS(){!function De(e){un=e}(()=>{throw new ft(600,!1)})})(),Ff=e;const n=e.get(IS);(function bS(e){e.get(oy,null)?.forEach(i=>i())})(e)}(function wS(e=[],n){return Qs.create({name:n,providers:[{provide:ga,useValue:"platform"},{provide:EI,useValue:new Set([()=>Ff=null])},...e]})}(w,s))}return function UN(){const n=lC();if(!n)throw new ft(401,!1);return n}()}}function lC(){return Ff?.get(IS)??null}function $N(){return!1}let DS=(()=>{class e{static{this.__NG_ELEMENT_ID__=jN}}return e})();function jN(e){return function HN(e,n,i){if(fs(e)&&!i){const s=Ta(e.index,n);return new ad(s,s)}return 175&e.type?new ad(n[ki],n):null}(Si(),tn(),!(16&~e))}class MS{constructor(){}supports(n){return KE(n)}create(n){return new XN(n)}}const KN=(e,n)=>n;class XN{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||KN}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,c=0,f=null;for(;i||s;){const y=!s||i&&i.currentIndex<NS(s,c,f)?i:s,w=NS(y,c,f),x=y.currentIndex;if(y===s)c--,s=s._nextRemoved;else if(i=i._next,null==y.previousIndex)c++;else{f||(f=[]);const W=w-c,re=x-c;if(W!=re){for(let lt=0;lt<W;lt++){const Ct=lt<f.length?f[lt]:f[lt]=0,$t=Ct+lt;re<=$t&&$t<W&&(f[lt]=Ct+1)}f[y.previousIndex]=re-W}}w!==x&&n(y,w,x)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!KE(n))throw new ft(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,f,y,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let w=0;w<this.length;w++)f=n[w],y=this._trackByFn(w,f),null!==i&&Object.is(i.trackById,y)?(s&&(i=this._verifyReinsertion(i,f,y,w)),Object.is(i.item,f)||this._addIdentityChange(i,f)):(i=this._mismatch(i,f,y,w),s=!0),i=i._next}else c=0,function hR(e,n){if(Array.isArray(e))for(let i=0;i<e.length;i++)n(e[i]);else{const i=e[Symbol.iterator]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,w=>{y=this._trackByFn(c,w),null!==i&&Object.is(i.trackById,y)?(s&&(i=this._verifyReinsertion(i,w,y,c)),Object.is(i.item,w)||this._addIdentityChange(i,w)):(i=this._mismatch(i,w,y,c),s=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,c){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,f,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,f,c)):n=this._addAfter(new qN(i,s),f,c),n}_verifyReinsertion(n,i,s,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==f?n=this._reinsertAfter(f,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,f=n._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new xS),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class qN{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QN{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class xS{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new QN,this.map.set(i,s)),s.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function NS(e,n,i){const s=e.previousIndex;if(null===s)return s;let c=0;return i&&s<i.length&&(c=i[s]),s+n+c}class OS{constructor(){}supports(n){return n instanceof Map||lT(n)}create(){return new YN}}class YN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||lT(n)))throw new ft(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const f=this._getOrCreateRecordForKey(c,s);i=this._insertBeforeOrAppend(i,f)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const f=c._prev,y=c._next;return f&&(f._next=y),y&&(y._prev=f),c._next=null,c._prev=null,c}const s=new JN(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class JN{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kS(){return new fC([new MS])}let fC=(()=>{class e{static{this.\u0275prov=yr({token:e,providedIn:"root",factory:kS})}constructor(i){this.factories=i}static create(i,s){if(null!=s){const c=s.factories.slice();i=i.concat(c)}return new e(i)}static extend(i){return{provide:e,useFactory:s=>e.create(i,s||kS()),deps:[[e,new xi,new pr]]}}find(i){const s=this.factories.find(c=>c.supports(i));if(null!=s)return s;throw new ft(901,!1)}}return e})();function LS(){return new pC([new OS])}let pC=(()=>{class e{static{this.\u0275prov=yr({token:e,providedIn:"root",factory:LS})}constructor(i){this.factories=i}static create(i,s){if(s){const c=s.factories.slice();i=i.concat(c)}return new e(i)}static extend(i){return{provide:e,useFactory:s=>e.create(i,s||LS()),deps:[[e,new xi,new pr]]}}find(i){const s=this.factories.find(c=>c.supports(i));if(s)return s;throw new ft(901,!1)}}return e})();const tO=CS(null,"core",[]);let nO=(()=>{class e{constructor(i){}static{this.\u0275fac=function(s){return new(s||e)(A(Qd))}}static{this.\u0275mod=hi({type:e})}static{this.\u0275inj=li({})}}return e})();function NO(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function kO(e,n){al("NgSignals");const i=function H(e){const n=Object.create(Mt);n.computation=e;const i=()=>{if(xe(n),ue(n),n.value===Ke)throw n.error;return n.value};return i[Re]=n,i}(e);return n?.equal&&(i[Re].equal=n.equal),i}function LO(e){const n=we(null);try{return e()}finally{we(n)}}function jO(e,n){const i=qr(e),s=n.elementInjector||Xa();return new $d(i).create(s,n.projectableNodes,n.hostElement,n.environmentInjector)}function HO(e){const n=qr(e);if(!n)return null;const i=new $d(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},5719:(En,ht,N)=>{"use strict";N.d(ht,{DS:()=>wt,X8:()=>Ke,$z:()=>nt,UB:()=>H,yy:()=>ot,ZP:()=>qe,AU:()=>bt,CP:()=>Fe,gF:()=>He}),N(324);var U=N(177),J=N(4438),G=N(574),Re=N(9253),we=N(1413),Z=N(7673),be=N(1985),ve=N(8455),Te=N(7786),ue=N(941),ke=N(5558),xe=N(6354),fe=N(6496),rt=N(1594),yt=N(8071);function it(Mt,kt){return(0,yt.T)(kt)?(0,ke.n)(()=>Mt,kt):(0,ke.n)(()=>Mt)}var We=N(6745),At=N(5964),Pt=N(762);const Fe=new J.nKC("angularfire2.auth.use-emulator"),ot=new J.nKC("angularfire2.auth.settings"),qe=new J.nKC("angularfire2.auth.tenant-id"),nt=new J.nKC("angularfire2.auth.langugage-code"),bt=new J.nKC("angularfire2.auth.use-device-language"),H=new J.nKC("angularfire.auth.persistence"),He=(Mt,kt,un,tt,De,Ie,Me,ce)=>(0,Re.BM)(`${Mt.name}.auth`,"AngularFireAuth",Mt.name,()=>{const Pe=kt.runOutsideAngular(()=>Mt.auth());if(un&&Pe.useEmulator(...un),tt&&(Pe.tenantId=tt),Pe.languageCode=De,Ie&&Pe.useDeviceLanguage(),Me)for(const[at,Xe]of Object.entries(Me))Pe.settings[at]=Xe;return ce&&Pe.setPersistence(ce),Pe},[un,tt,De,Ie,Me,ce]);let wt=(()=>{class Mt{authState;idToken;user;idTokenResult;credential;constructor(un,tt,De,Ie,Me,ce,Pe,at,Xe,Se,Tt,he){const st=new we.B,Nt=(0,Z.of)(void 0).pipe((0,ue.Q)(Me.outsideAngular),(0,ke.n)(()=>Ie.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,324)))),(0,xe.T)(()=>(0,Re.iB)(un,Ie,tt)),(0,xe.T)(xt=>He(xt,Ie,ce,at,Xe,Se,Pe,Tt)),(0,fe.t)({bufferSize:1,refCount:!1}));if((0,U.Vy)(De))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Z.of)(null);else{Nt.pipe((0,rt.$)()).subscribe();const xt=Nt.pipe((0,ke.n)(qn=>qn.getRedirectResult().then(kn=>kn,()=>null)),G.U0,(0,fe.t)({bufferSize:1,refCount:!1})),hn=Nt.pipe((0,ke.n)(qn=>new be.c(kn=>({unsubscribe:Ie.runOutsideAngular(()=>qn.onAuthStateChanged(Nn=>kn.next(Nn),Nn=>kn.error(Nn),()=>kn.complete()))})))),Ln=Nt.pipe((0,ke.n)(qn=>new be.c(kn=>({unsubscribe:Ie.runOutsideAngular(()=>qn.onIdTokenChanged(Nn=>kn.next(Nn),Nn=>kn.error(Nn),()=>kn.complete()))}))));this.authState=xt.pipe(it(hn),(0,We._)(Me.outsideAngular),(0,ue.Q)(Me.insideAngular)),this.user=xt.pipe(it(Ln),(0,We._)(Me.outsideAngular),(0,ue.Q)(Me.insideAngular)),this.idToken=this.user.pipe((0,ke.n)(qn=>qn?(0,ve.H)(qn.getIdToken()):(0,Z.of)(null))),this.idTokenResult=this.user.pipe((0,ke.n)(qn=>qn?(0,ve.H)(qn.getIdTokenResult()):(0,Z.of)(null))),this.credential=(0,Te.h)(xt,st,this.authState.pipe((0,At.p)(qn=>!qn))).pipe((0,xe.T)(qn=>qn?.user?qn:null),(0,We._)(Me.outsideAngular),(0,ue.Q)(Me.insideAngular))}return(0,Re.Gt)(this,Nt,Ie,{spy:{apply:(xt,hn,Ln)=>{(xt.startsWith("signIn")||xt.startsWith("createUser"))&&Ln.then(qn=>st.next(qn))}}})}static \u0275fac=function(tt){return new(tt||Mt)(J.KVO(Re.rx),J.KVO(Re.uP,8),J.KVO(J.Agw),J.KVO(J.SKi),J.KVO(G.u0),J.KVO(Fe,8),J.KVO(ot,8),J.KVO(qe,8),J.KVO(nt,8),J.KVO(bt,8),J.KVO(H,8),J.KVO(G.Jv,8))};static \u0275prov=J.jDH({token:Mt,factory:Mt.\u0275fac,providedIn:"any"})}return Mt})(),Ke=(()=>{class Mt{constructor(){Pt.A.registerVersion("angularfire",G.xv.full,"auth-compat")}static \u0275fac=function(tt){return new(tt||Mt)};static \u0275mod=J.$C({type:Mt});static \u0275inj=J.G2t({providers:[wt]})}return Mt})()},49:(En,ht,N)=>{"use strict";N.d(ht,{w$:()=>rg,wd:()=>Vm});var l=N(4438),U=N(574),J=N(9253),G=N(5719),Re=N(6354),we=N(7647),Z=N(2816),be=N(9974),ve=N(4360),Te=N(8750),ue=N(3669),ke=N(5343),xe=N(3794),yt=N(5558),it=N(3294),We=N(3236),At=N(1985),Pt=N(7786),ze=N(7673),ot=(N(324),N(9574)),qe=N(8779),nt=N(467),bt=N(1156),H=N(1401),He=N(5398);const wt="@firebase/database";let Mt="";function kt(p){Mt=p}class un{constructor(d){this.domStorage_=d,this.prefix_="firebase:"}set(d,h){null==h?this.domStorage_.removeItem(this.prefixedName_(d)):this.domStorage_.setItem(this.prefixedName_(d),(0,H.As)(h))}get(d){const h=this.domStorage_.getItem(this.prefixedName_(d));return null==h?null:(0,H.$L)(h)}remove(d){this.domStorage_.removeItem(this.prefixedName_(d))}prefixedName_(d){return this.prefix_+d}toString(){return this.domStorage_.toString()}}class tt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(d,h){null==h?delete this.cache_[d]:this.cache_[d]=h}get(d){return(0,H.gR)(this.cache_,d)?this.cache_[d]:null}remove(d){delete this.cache_[d]}}const De=function(p){try{if(typeof window<"u"&&typeof window[p]<"u"){const d=window[p];return d.setItem("firebase:sentinel","cache"),d.removeItem("firebase:sentinel"),new un(d)}}catch{}return new tt},Ie=De("localStorage"),Me=De("sessionStorage"),ce=new He.Vy("@firebase/database"),Pe=function(){let p=1;return function(){return p++}}(),at=function(p){const d=(0,H.kj)(p),h=new H.gz;h.update(d);const _=h.digest();return H.K3.encodeByteArray(_)},Xe=function(...p){let d="";for(let h=0;h<p.length;h++){const _=p[h];Array.isArray(_)||_&&"object"==typeof _&&"number"==typeof _.length?d+=Xe.apply(null,_):d+="object"==typeof _?(0,H.As)(_):_,d+=" "}return d};let Se=null,Tt=!0;const he=function(p,d){(0,H.vA)(!d||!0===p||!1===p,"Can't turn on custom loggers persistently."),!0===p?(ce.logLevel=He.$b.VERBOSE,Se=ce.log.bind(ce),d&&Me.set("logging_enabled",!0)):"function"==typeof p?Se=p:(Se=null,Me.remove("logging_enabled"))},st=function(...p){if(!0===Tt&&(Tt=!1,null===Se&&!0===Me.get("logging_enabled")&&he(!0)),Se){const d=Xe.apply(null,p);Se(d)}},Nt=function(p){return function(...d){st(p,...d)}},xt=function(...p){const d="FIREBASE INTERNAL ERROR: "+Xe(...p);ce.error(d)},hn=function(...p){const d=`FIREBASE FATAL ERROR: ${Xe(...p)}`;throw ce.error(d),new Error(d)},Ln=function(...p){const d="FIREBASE WARNING: "+Xe(...p);ce.warn(d)},kn=function(p){return"number"==typeof p&&(p!=p||p===Number.POSITIVE_INFINITY||p===Number.NEGATIVE_INFINITY)},zn="[MIN_NAME]",Yn="[MAX_NAME]",ft=function(p,d){if(p===d)return 0;if(p===zn||d===Yn)return-1;if(d===zn||p===Yn)return 1;{const h=Hr(p),_=Hr(d);return null!==h?null!==_?h-_==0?p.length-d.length:h-_:-1:null!==_?1:p<d?-1:1}},Xt=function(p,d){return p===d?0:p<d?-1:1},jt=function(p,d){if(d&&p in d)return d[p];throw new Error("Missing required key ("+p+") in object: "+(0,H.As)(d))},On=function(p){if("object"!=typeof p||null===p)return(0,H.As)(p);const d=[];for(const _ in p)d.push(_);d.sort();let h="{";for(let _=0;_<d.length;_++)0!==_&&(h+=","),h+=(0,H.As)(d[_]),h+=":",h+=On(p[d[_]]);return h+="}",h},br=function(p,d){const h=p.length;if(h<=d)return[p];const _=[];for(let D=0;D<h;D+=d)_.push(p.substring(D,D+d>h?h:D+d));return _};function er(p,d){for(const h in p)p.hasOwnProperty(h)&&d(h,p[h])}const tr=function(p){(0,H.vA)(!kn(p),"Invalid JSON number");const _=1023;let D,V,X,Ee,je;0===p?(V=0,X=0,D=1/p==-1/0?1:0):(D=p<0,(p=Math.abs(p))>=Math.pow(2,1-_)?(Ee=Math.min(Math.floor(Math.log(p)/Math.LN2),_),V=Ee+_,X=Math.round(p*Math.pow(2,52-Ee)-Math.pow(2,52))):(V=0,X=Math.round(p/Math.pow(2,-1074))));const dt=[];for(je=52;je;je-=1)dt.push(X%2?1:0),X=Math.floor(X/2);for(je=11;je;je-=1)dt.push(V%2?1:0),V=Math.floor(V/2);dt.push(D?1:0),dt.reverse();const sn=dt.join("");let cn="";for(je=0;je<64;je+=8){let Sn=parseInt(sn.substr(je,8),2).toString(16);1===Sn.length&&(Sn="0"+Sn),cn+=Sn}return cn.toLowerCase()},sr=new RegExp("^-?(0*)\\d{1,10}$"),Hr=function(p){if(sr.test(p)){const d=Number(p);if(d>=-2147483648&&d<=2147483647)return d}return null},Ir=function(p){try{p()}catch(d){setTimeout(()=>{throw Ln("Exception was thrown by user callback.",d.stack||""),d},Math.floor(0))}},ur=function(p,d){const h=setTimeout(p,d);return"number"==typeof h&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(h):"object"==typeof h&&h.unref&&h.unref(),h};class ci{constructor(d,h){this.appName_=d,this.appCheckProvider=h,this.appCheck=h?.getImmediate({optional:!0}),this.appCheck||h?.get().then(_=>this.appCheck=_)}getToken(d){return this.appCheck?this.appCheck.getToken(d):new Promise((h,_)=>{setTimeout(()=>{this.appCheck?this.getToken(d).then(h,_):h(null)},0)})}addTokenChangeListener(d){var h;null===(h=this.appCheckProvider)||void 0===h||h.get().then(_=>_.addTokenListener(d))}notifyForInvalidToken(){Ln(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Rr{constructor(d,h,_){this.appName_=d,this.firebaseOptions_=h,this.authProvider_=_,this.auth_=null,this.auth_=_.getImmediate({optional:!0}),this.auth_||_.onInit(D=>this.auth_=D)}getToken(d){return this.auth_?this.auth_.getToken(d).catch(h=>h&&"auth/token-not-initialized"===h.code?(st("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(h)):new Promise((h,_)=>{setTimeout(()=>{this.auth_?this.getToken(d).then(h,_):h(null)},0)})}addTokenChangeListener(d){this.auth_?this.auth_.addAuthTokenListener(d):this.authProvider_.get().then(h=>h.addAuthTokenListener(d))}removeTokenChangeListener(d){this.authProvider_.get().then(h=>h.removeAuthTokenListener(d))}notifyForInvalidToken(){let d='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';d+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ln(d)}}let ui=(()=>{class p{constructor(h){this.accessToken=h}getToken(h){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(h){h(this.accessToken)}removeTokenChangeListener(h){}notifyForInvalidToken(){}}return p.OWNER="owner",p})();const ct=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Bn="websocket",Ge="long_polling";class $e{constructor(d,h,_,D,V=!1,X="",Ee=!1,je=!1){this.secure=h,this.namespace=_,this.webSocketOnly=D,this.nodeAdmin=V,this.persistenceKey=X,this.includeNamespaceInQueryParams=Ee,this.isUsingEmulator=je,this._host=d.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ie.get("host:"+d)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(d){d!==this.internalHost&&(this.internalHost=d,this.isCacheableHost()&&Ie.set("host:"+this._host,this.internalHost))}toString(){let d=this.toURLString();return this.persistenceKey&&(d+="<"+this.persistenceKey+">"),d}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function en(p,d,h){let _;if((0,H.vA)("string"==typeof d,"typeof type must == string"),(0,H.vA)("object"==typeof h,"typeof params must == object"),d===Bn)_=(p.secure?"wss://":"ws://")+p.internalHost+"/.ws?";else{if(d!==Ge)throw new Error("Unknown connection type: "+d);_=(p.secure?"https://":"http://")+p.internalHost+"/.lp?"}(function vt(p){return p.host!==p.internalHost||p.isCustomHost()||p.includeNamespaceInQueryParams})(p)&&(h.ns=p.namespace);const D=[];return er(h,(V,X)=>{D.push(V+"="+X)}),_+D.join("&")}class Ot{constructor(){this.counters_={}}incrementCounter(d,h=1){(0,H.gR)(this.counters_,d)||(this.counters_[d]=0),this.counters_[d]+=h}get(){return(0,H.A4)(this.counters_)}}const Pn={},Qn={};function Gr(p){const d=p.toString();return Pn[d]||(Pn[d]=new Ot),Pn[d]}class kr{constructor(d){this.onMessage_=d,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(d,h){this.closeAfterResponse=d,this.onClose=h,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(d,h){for(this.pendingResponses[d]=h;this.pendingResponses[this.currentResponseNum];){const _=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let D=0;D<_.length;++D)_[D]&&Ir(()=>{this.onMessage_(_[D])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class gt{constructor(d,h,_,D,V,X,Ee){this.connId=d,this.repoInfo=h,this.applicationId=_,this.appCheckToken=D,this.authToken=V,this.transportSessionId=X,this.lastSessionId=Ee,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Nt(d),this.stats_=Gr(h),this.urlFn=je=>(this.appCheckToken&&(je.ac=this.appCheckToken),en(h,Ge,je))}open(d,h){this.curSegmentNum=0,this.onDisconnect_=h,this.myPacketOrderer=new kr(d),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(p){if((0,H.$g)()||"complete"===document.readyState)p();else{let d=!1;const h=function(){document.body?d||(d=!0,p()):setTimeout(h,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",h,!1),window.addEventListener("load",h,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&h()}),window.attachEvent("onload",h))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ln((...V)=>{const[X,Ee,je,dt,sn]=V;if(this.incrementIncomingBytes_(V),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===X)this.id=Ee,this.password=je;else{if("close"!==X)throw new Error("Unrecognized command received: "+X);Ee?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Ee,()=>{this.onClosed_()})):this.onClosed_()}},(...V)=>{const[X,Ee]=V;this.incrementIncomingBytes_(V),this.myPacketOrderer.handleResponse(X,Ee)},()=>{this.onClosed_()},this.urlFn);const _={start:"t"};_.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(_.cb=this.scriptTagHolder.uniqueCallbackIdentifier),_.v="5",this.transportSessionId&&(_.s=this.transportSessionId),this.lastSessionId&&(_.ls=this.lastSessionId),this.applicationId&&(_.p=this.applicationId),this.appCheckToken&&(_.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&ct.test(location.hostname)&&(_.r="f");const D=this.urlFn(_);this.log_("Connecting via long-poll to "+D),this.scriptTagHolder.addTag(D,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gt.forceAllow_=!0}static forceDisallow(){gt.forceDisallow_=!0}static isAvailable(){return!((0,H.$g)()||!gt.forceAllow_&&(gt.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(d){const h=(0,H.As)(d);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);const _=(0,H.KA)(h),D=br(_,1840);for(let V=0;V<D.length;V++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,D.length,D[V]),this.curSegmentNum++}addDisconnectPingFrame(d,h){if((0,H.$g)())return;this.myDisconnFrame=document.createElement("iframe");const _={dframe:"t"};_.id=d,_.pw=h,this.myDisconnFrame.src=this.urlFn(_),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(d){const h=(0,H.As)(d).length;this.bytesReceived+=h,this.stats_.incrementCounter("bytes_received",h)}}class ln{constructor(d,h,_,D){if(this.onDisconnect=_,this.urlFn=D,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.$g)())this.commandCB=d,this.onMessageCB=h;else{this.uniqueCallbackIdentifier=Pe(),window["pLPCommand"+this.uniqueCallbackIdentifier]=d,window["pRTLPCB"+this.uniqueCallbackIdentifier]=h,this.myIFrame=ln.createIFrame_();let V="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(V='<script>document.domain="'+document.domain+'";<\/script>');const X="<html><body>"+V+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(X),this.myIFrame.doc.close()}catch(Ee){st("frame writing exception"),Ee.stack&&st(Ee.stack),st(Ee)}}}static createIFrame_(){const d=document.createElement("iframe");if(d.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(d);try{d.contentWindow.document||st("No IE domain setting required")}catch{const _=document.domain;d.src="javascript:void((function(){document.open();document.domain='"+_+"';document.close();})())"}return d.contentDocument?d.doc=d.contentDocument:d.contentWindow?d.doc=d.contentWindow.document:d.document&&(d.doc=d.document),d}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const d=this.onDisconnect;d&&(this.onDisconnect=null,d())}startLongPoll(d,h){for(this.myID=d,this.myPW=h,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const d={};d.id=this.myID,d.pw=this.myPW,d.ser=this.currentSerial;let h=this.urlFn(d),_="",D=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+_.length<=1870;){const X=this.pendingSegs.shift();_=_+"&seg"+D+"="+X.seg+"&ts"+D+"="+X.ts+"&d"+D+"="+X.d,D++}return h+=_,this.addLongPollTag_(h,this.currentSerial),!0}return!1}enqueueSegment(d,h,_){this.pendingSegs.push({seg:d,ts:h,d:_}),this.alive&&this.newRequest_()}addLongPollTag_(d,h){this.outstandingRequests.add(h);const _=()=>{this.outstandingRequests.delete(h),this.newRequest_()},D=setTimeout(_,Math.floor(25e3));this.addTag(d,()=>{clearTimeout(D),_()})}addTag(d,h){(0,H.$g)()?this.doNodeLongPoll(d,h):setTimeout(()=>{try{if(!this.sendNewPolls)return;const _=this.myIFrame.doc.createElement("script");_.type="text/javascript",_.async=!0,_.src=d,_.onload=_.onreadystatechange=function(){const D=_.readyState;(!D||"loaded"===D||"complete"===D)&&(_.onload=_.onreadystatechange=null,_.parentNode&&_.parentNode.removeChild(_),h())},_.onerror=()=>{st("Long-poll script failed to load: "+d),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(_)}catch{}},Math.floor(1))}}let Oe=null;typeof MozWebSocket<"u"?Oe=MozWebSocket:typeof WebSocket<"u"&&(Oe=WebSocket);let Je=(()=>{class p{constructor(h,_,D,V,X,Ee,je){this.connId=h,this.applicationId=D,this.appCheckToken=V,this.authToken=X,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Nt(this.connId),this.stats_=Gr(_),this.connURL=p.connectionURL_(_,Ee,je,V,D),this.nodeAdmin=_.nodeAdmin}static connectionURL_(h,_,D,V,X){const Ee={v:"5"};return!(0,H.$g)()&&typeof location<"u"&&location.hostname&&ct.test(location.hostname)&&(Ee.r="f"),_&&(Ee.s=_),D&&(Ee.ls=D),V&&(Ee.ac=V),X&&(Ee.p=X),en(h,Bn,Ee)}open(h,_){this.onDisconnect=_,this.onMessage=h,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ie.set("previous_websocket_failure",!0);try{let D;if((0,H.$g)()){D={headers:{"User-Agent":`Firebase/5/${Mt}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(D.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(D.headers["X-Firebase-AppCheck"]=this.appCheckToken);const X=process.env,Ee=0===this.connURL.indexOf("wss://")?X.HTTPS_PROXY||X.https_proxy:X.HTTP_PROXY||X.http_proxy;Ee&&(D.proxy={origin:Ee})}this.mySock=new Oe(this.connURL,[],D)}catch(D){this.log_("Error instantiating WebSocket.");const V=D.message||D.data;return V&&this.log_(V),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=D=>{this.handleIncomingFrame(D)},this.mySock.onerror=D=>{this.log_("WebSocket error.  Closing connection.");const V=D.message||D.data;V&&this.log_(V),this.onClosed_()}}start(){}static forceDisallow(){p.forceDisallow_=!0}static isAvailable(){let h=!1;if(typeof navigator<"u"&&navigator.userAgent){const D=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);D&&D.length>1&&parseFloat(D[1])<4.4&&(h=!0)}return!h&&null!==Oe&&!p.forceDisallow_}static previouslyFailed(){return Ie.isInMemoryStorage||!0===Ie.get("previous_websocket_failure")}markConnectionHealthy(){Ie.remove("previous_websocket_failure")}appendFrame_(h){if(this.frames.push(h),this.frames.length===this.totalFrames){const _=this.frames.join("");this.frames=null;const D=(0,H.$L)(_);this.onMessage(D)}}handleNewFrameCount_(h){this.totalFrames=h,this.frames=[]}extractFrameCount_(h){if((0,H.vA)(null===this.frames,"We already have a frame buffer"),h.length<=6){const _=Number(h);if(!isNaN(_))return this.handleNewFrameCount_(_),null}return this.handleNewFrameCount_(1),h}handleIncomingFrame(h){if(null===this.mySock)return;const _=h.data;if(this.bytesReceived+=_.length,this.stats_.incrementCounter("bytes_received",_.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(_);else{const D=this.extractFrameCount_(_);null!==D&&this.appendFrame_(D)}}send(h){this.resetKeepAlive();const _=(0,H.As)(h);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);const D=br(_,16384);D.length>1&&this.sendString_(String(D.length));for(let V=0;V<D.length;V++)this.sendString_(D[V])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(h){try{this.mySock.send(h)}catch(_){this.log_("Exception thrown from WebSocket.send():",_.message||_.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return p.responsesRequiredToBeHealthy=2,p.healthyTimeout=3e4,p})(),Ht=(()=>{class p{constructor(h){this.initTransports_(h)}static get ALL_TRANSPORTS(){return[gt,Je]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(h){const _=Je&&Je.isAvailable();let D=_&&!Je.previouslyFailed();if(h.webSocketOnly&&(_||Ln("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),D=!0),D)this.transports_=[Je];else{const V=this.transports_=[];for(const X of p.ALL_TRANSPORTS)X&&X.isAvailable()&&V.push(X);p.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return p.globalTransportInitialized_=!1,p})();class de{constructor(d,h,_,D,V,X,Ee,je,dt,sn){this.id=d,this.repoInfo_=h,this.applicationId_=_,this.appCheckToken_=D,this.authToken_=V,this.onMessage_=X,this.onReady_=Ee,this.onDisconnect_=je,this.onKill_=dt,this.lastSessionId=sn,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Nt("c:"+this.id+":"),this.transportManager_=new Ht(h),this.log_("Connection created"),this.start_()}start_(){const d=this.transportManager_.initialTransport();this.conn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;const h=this.connReceiver_(this.conn_),_=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(h,_)},Math.floor(0));const D=d.healthyTimeout||0;D>0&&(this.healthyTimeout_=ur(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(D)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(d){return h=>{d===this.conn_?this.onConnectionLost_(h):d===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(d){return h=>{2!==this.state_&&(d===this.rx_?this.onPrimaryMessageReceived_(h):d===this.secondaryConn_?this.onSecondaryMessageReceived_(h):this.log_("message on old connection"))}}sendRequest(d){this.sendData_({t:"d",d})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(d){if("t"in d){const h=d.t;"a"===h?this.upgradeIfSecondaryHealthy_():"r"===h?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===h&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(d){const h=jt("t",d),_=jt("d",d);if("c"===h)this.onSecondaryControl_(_);else{if("d"!==h)throw new Error("Unknown protocol layer: "+h);this.pendingDataMessages.push(_)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(d){const h=jt("t",d),_=jt("d",d);"c"===h?this.onControl_(_):"d"===h&&this.onDataMessage_(_)}onDataMessage_(d){this.onPrimaryResponse_(),this.onMessage_(d)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(d){const h=jt("t",d);if("d"in d){const _=d.d;if("h"===h){const D=Object.assign({},_);this.repoInfo_.isUsingEmulator&&(D.h=this.repoInfo_.host),this.onHandshake_(D)}else if("n"===h){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let D=0;D<this.pendingDataMessages.length;++D)this.onDataMessage_(this.pendingDataMessages[D]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===h?this.onConnectionShutdown_(_):"r"===h?this.onReset_(_):"e"===h?xt("Server Error: "+_):"o"===h?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xt("Unknown control packet command: "+h)}}onHandshake_(d){const h=d.ts,_=d.v,D=d.h;this.sessionId=d.s,this.repoInfo_.host=D,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,h),"5"!==_&&Ln("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const d=this.transportManager_.upgradeTransport();d&&this.startUpgrade_(d)}startUpgrade_(d){this.secondaryConn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;const h=this.connReceiver_(this.secondaryConn_),_=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(h,_),ur(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(d){this.log_("Reset packet received.  New host: "+d),this.repoInfo_.host=d,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(d,h){this.log_("Realtime connection established."),this.conn_=d,this.state_=1,this.onReady_&&(this.onReady_(h,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ur(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const d=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===d||this.rx_===d)&&this.close()}onConnectionLost_(d){this.conn_=null,d||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ie.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(d){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(d),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(d){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(d)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ye{put(d,h,_,D){}merge(d,h,_,D){}refreshAuthToken(d){}refreshAppCheckToken(d){}onDisconnectPut(d,h,_){}onDisconnectMerge(d,h,_){}onDisconnectCancel(d,h){}reportStats(d){}}class ut{constructor(d){this.allowedEvents_=d,this.listeners_={},(0,H.vA)(Array.isArray(d)&&d.length>0,"Requires a non-empty array")}trigger(d,...h){if(Array.isArray(this.listeners_[d])){const _=[...this.listeners_[d]];for(let D=0;D<_.length;D++)_[D].callback.apply(_[D].context,h)}}on(d,h,_){this.validateEventType_(d),this.listeners_[d]=this.listeners_[d]||[],this.listeners_[d].push({callback:h,context:_});const D=this.getInitialEvent(d);D&&h.apply(_,D)}off(d,h,_){this.validateEventType_(d);const D=this.listeners_[d]||[];for(let V=0;V<D.length;V++)if(D[V].callback===h&&(!_||_===D[V].context))return void D.splice(V,1)}validateEventType_(d){(0,H.vA)(this.allowedEvents_.find(h=>h===d),"Unknown event: "+d)}}class Qt extends ut{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,H.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Qt}getInitialEvent(d){return(0,H.vA)("online"===d,"Unknown event type: "+d),[this.online_]}currentlyOnline(){return this.online_}}class rr{constructor(d,h){if(void 0===h){this.pieces_=d.split("/");let _=0;for(let D=0;D<this.pieces_.length;D++)this.pieces_[D].length>0&&(this.pieces_[_]=this.pieces_[D],_++);this.pieces_.length=_,this.pieceNum_=0}else this.pieces_=d,this.pieceNum_=h}toString(){let d="";for(let h=this.pieceNum_;h<this.pieces_.length;h++)""!==this.pieces_[h]&&(d+="/"+this.pieces_[h]);return d||"/"}}function Ar(){return new rr("")}function xn(p){return p.pieceNum_>=p.pieces_.length?null:p.pieces_[p.pieceNum_]}function Ei(p){return p.pieces_.length-p.pieceNum_}function Wn(p){let d=p.pieceNum_;return d<p.pieces_.length&&d++,new rr(p.pieces_,d)}function ts(p){return p.pieceNum_<p.pieces_.length?p.pieces_[p.pieces_.length-1]:null}function Ai(p,d=0){return p.pieces_.slice(p.pieceNum_+d)}function _r(p){if(p.pieceNum_>=p.pieces_.length)return null;const d=[];for(let h=p.pieceNum_;h<p.pieces_.length-1;h++)d.push(p.pieces_[h]);return new rr(d,0)}function ii(p,d){const h=[];for(let _=p.pieceNum_;_<p.pieces_.length;_++)h.push(p.pieces_[_]);if(d instanceof rr)for(let _=d.pieceNum_;_<d.pieces_.length;_++)h.push(d.pieces_[_]);else{const _=d.split("/");for(let D=0;D<_.length;D++)_[D].length>0&&h.push(_[D])}return new rr(h,0)}function Jn(p){return p.pieceNum_>=p.pieces_.length}function ns(p,d){const h=xn(p),_=xn(d);if(null===h)return d;if(h===_)return ns(Wn(p),Wn(d));throw new Error("INTERNAL ERROR: innerPath ("+d+") is not within outerPath ("+p+")")}function Ii(p,d){const h=Ai(p,0),_=Ai(d,0);for(let D=0;D<h.length&&D<_.length;D++){const V=ft(h[D],_[D]);if(0!==V)return V}return h.length===_.length?0:h.length<_.length?-1:1}function Fn(p,d){if(Ei(p)!==Ei(d))return!1;for(let h=p.pieceNum_,_=d.pieceNum_;h<=p.pieces_.length;h++,_++)if(p.pieces_[h]!==d.pieces_[_])return!1;return!0}function as(p,d){let h=p.pieceNum_,_=d.pieceNum_;if(Ei(p)>Ei(d))return!1;for(;h<p.pieces_.length;){if(p.pieces_[h]!==d.pieces_[_])return!1;++h,++_}return!0}class Js{constructor(d,h){this.errorPrefix_=h,this.parts_=Ai(d,0),this.byteLength_=Math.max(1,this.parts_.length);for(let _=0;_<this.parts_.length;_++)this.byteLength_+=(0,H.OE)(this.parts_[_]);le(this)}}function le(p){if(p.byteLength_>768)throw new Error(p.errorPrefix_+"has a key path longer than 768 bytes ("+p.byteLength_+").");if(p.parts_.length>32)throw new Error(p.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+O(p))}function O(p){return 0===p.parts_.length?"":"in property '"+p.parts_.join(".")+"'"}class A extends ut{constructor(){let d,h;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(h="visibilitychange",d="hidden"):typeof document.mozHidden<"u"?(h="mozvisibilitychange",d="mozHidden"):typeof document.msHidden<"u"?(h="msvisibilitychange",d="msHidden"):typeof document.webkitHidden<"u"&&(h="webkitvisibilitychange",d="webkitHidden")),this.visible_=!0,h&&document.addEventListener(h,()=>{const _=!document[d];_!==this.visible_&&(this.visible_=_,this.trigger("visible",_))},!1)}static getInstance(){return new A}getInitialEvent(d){return(0,H.vA)("visible"===d,"Unknown event type: "+d),[this.visible_]}}const K=1e3;let Pr,Un=(()=>{class p extends ye{constructor(h,_,D,V,X,Ee,je,dt){if(super(),this.repoInfo_=h,this.applicationId_=_,this.onDataUpdate_=D,this.onConnectStatus_=V,this.onServerInfoUpdate_=X,this.authTokenProvider_=Ee,this.appCheckTokenProvider_=je,this.authOverride_=dt,this.id=p.nextPersistentConnectionId_++,this.log_=Nt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=K,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,dt&&!(0,H.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");A.getInstance().on("visible",this.onVisible_,this),-1===h.host.indexOf("fblocal")&&Qt.getInstance().on("online",this.onOnline_,this)}sendRequest(h,_,D){const V=++this.requestNumber_,X={r:V,a:h,b:_};this.log_((0,H.As)(X)),(0,H.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(X),D&&(this.requestCBHash_[V]=D)}get(h){this.initConnection_();const _=new H.cY,V={action:"g",request:{p:h._path.toString(),q:h._queryObject},onComplete:Ee=>{const je=Ee.d;"ok"===Ee.s?_.resolve(je):_.reject(je)}};return this.outstandingGets_.push(V),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),_.promise}listen(h,_,D,V){this.initConnection_();const X=h._queryIdentifier,Ee=h._path.toString();this.log_("Listen called for "+Ee+" "+X),this.listens.has(Ee)||this.listens.set(Ee,new Map),(0,H.vA)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.vA)(!this.listens.get(Ee).has(X),"listen() called twice for same path/queryId.");const je={onComplete:V,hashFn:_,query:h,tag:D};this.listens.get(Ee).set(X,je),this.connected_&&this.sendListen_(je)}sendGet_(h){const _=this.outstandingGets_[h];this.sendRequest("g",_.request,D=>{delete this.outstandingGets_[h],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),_.onComplete&&_.onComplete(D)})}sendListen_(h){const _=h.query,D=_._path.toString(),V=_._queryIdentifier;this.log_("Listen on "+D+" for "+V);const X={p:D};h.tag&&(X.q=_._queryObject,X.t=h.tag),X.h=h.hashFn(),this.sendRequest("q",X,je=>{const dt=je.d,sn=je.s;p.warnOnListenWarnings_(dt,_),(this.listens.get(D)&&this.listens.get(D).get(V))===h&&(this.log_("listen response",je),"ok"!==sn&&this.removeListen_(D,V),h.onComplete&&h.onComplete(sn,dt))})}static warnOnListenWarnings_(h,_){if(h&&"object"==typeof h&&(0,H.gR)(h,"w")){const D=(0,H.yw)(h,"w");if(Array.isArray(D)&&~D.indexOf("no_index")){const V='".indexOn": "'+_._queryParams.getIndex().toString()+'"',X=_._path.toString();Ln(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${V} at ${X} to your security rules for better performance.`)}}}refreshAuthToken(h){this.authToken_=h,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(h)}reduceReconnectDelayIfAdminCredential_(h){(h&&40===h.length||(0,H.qc)(h))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(h){this.appCheckToken_=h,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const h=this.authToken_,_=(0,H.Cv)(h)?"auth":"gauth",D={cred:h};null===this.authOverride_?D.noauth=!0:"object"==typeof this.authOverride_&&(D.authvar=this.authOverride_),this.sendRequest(_,D,V=>{const X=V.s,Ee=V.d||"error";this.authToken_===h&&("ok"===X?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(X,Ee))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},h=>{const _=h.s,D=h.d||"error";"ok"===_?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(_,D)})}unlisten(h,_){const D=h._path.toString(),V=h._queryIdentifier;this.log_("Unlisten called for "+D+" "+V),(0,H.vA)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(D,V)&&this.connected_&&this.sendUnlisten_(D,V,h._queryObject,_)}sendUnlisten_(h,_,D,V){this.log_("Unlisten on "+h+" for "+_);const X={p:h};V&&(X.q=D,X.t=V),this.sendRequest("n",X)}onDisconnectPut(h,_,D){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",h,_,D):this.onDisconnectRequestQueue_.push({pathString:h,action:"o",data:_,onComplete:D})}onDisconnectMerge(h,_,D){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",h,_,D):this.onDisconnectRequestQueue_.push({pathString:h,action:"om",data:_,onComplete:D})}onDisconnectCancel(h,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",h,null,_):this.onDisconnectRequestQueue_.push({pathString:h,action:"oc",data:null,onComplete:_})}sendOnDisconnect_(h,_,D,V){const X={p:_,d:D};this.log_("onDisconnect "+h,X),this.sendRequest(h,X,Ee=>{V&&setTimeout(()=>{V(Ee.s,Ee.d)},Math.floor(0))})}put(h,_,D,V){this.putInternal("p",h,_,D,V)}merge(h,_,D,V){this.putInternal("m",h,_,D,V)}putInternal(h,_,D,V,X){this.initConnection_();const Ee={p:_,d:D};void 0!==X&&(Ee.h=X),this.outstandingPuts_.push({action:h,request:Ee,onComplete:V}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+_)}sendPut_(h){const _=this.outstandingPuts_[h].action,D=this.outstandingPuts_[h].request,V=this.outstandingPuts_[h].onComplete;this.outstandingPuts_[h].queued=this.connected_,this.sendRequest(_,D,X=>{this.log_(_+" response",X),delete this.outstandingPuts_[h],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),V&&V(X.s,X.d)})}reportStats(h){if(this.connected_){const _={c:h};this.log_("reportStats",_),this.sendRequest("s",_,D=>{"ok"!==D.s&&this.log_("reportStats","Error sending stats: "+D.d)})}}onDataMessage_(h){if("r"in h){this.log_("from server: "+(0,H.As)(h));const _=h.r,D=this.requestCBHash_[_];D&&(delete this.requestCBHash_[_],D(h.b))}else{if("error"in h)throw"A server-side error has occurred: "+h.error;"a"in h&&this.onDataPush_(h.a,h.b)}}onDataPush_(h,_){this.log_("handleServerMessage",h,_),"d"===h?this.onDataUpdate_(_.p,_.d,!1,_.t):"m"===h?this.onDataUpdate_(_.p,_.d,!0,_.t):"c"===h?this.onListenRevoked_(_.p,_.q):"ac"===h?this.onAuthRevoked_(_.s,_.d):"apc"===h?this.onAppCheckRevoked_(_.s,_.d):"sd"===h?this.onSecurityDebugPacket_(_):xt("Unrecognized action received from server: "+(0,H.As)(h)+"\nAre you using the latest client?")}onReady_(h,_){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(h),this.lastSessionId=_,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(h){(0,H.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(h))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(h){h&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=K,this.realtime_||this.scheduleConnect_(0)),this.visible_=h}onOnline_(h){h?(this.log_("Browser went online."),this.reconnectDelay_=K,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=K),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const h=(new Date).getTime()-this.lastConnectionAttemptTime_;let _=Math.max(0,this.reconnectDelay_-h);_=Math.random()*_,this.log_("Trying to reconnect in "+_+"ms"),this.scheduleConnect_(_),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var h=this;return(0,nt.A)(function*(){if(h.shouldReconnect_()){h.log_("Making a connection attempt"),h.lastConnectionAttemptTime_=(new Date).getTime(),h.lastConnectionEstablishedTime_=null;const _=h.onDataMessage_.bind(h),D=h.onReady_.bind(h),V=h.onRealtimeDisconnect_.bind(h),X=h.id+":"+p.nextConnectionId_++,Ee=h.lastSessionId;let je=!1,dt=null;const sn=function(){dt?dt.close():(je=!0,V())};h.realtime_={close:sn,sendRequest:function(mr){(0,H.vA)(dt,"sendRequest call when we're not connected not allowed."),dt.sendRequest(mr)}};const Sn=h.forceTokenRefresh_;h.forceTokenRefresh_=!1;try{const[mr,Fr]=yield Promise.all([h.authTokenProvider_.getToken(Sn),h.appCheckTokenProvider_.getToken(Sn)]);je?st("getToken() completed but was canceled"):(st("getToken() completed. Creating connection."),h.authToken_=mr&&mr.accessToken,h.appCheckToken_=Fr&&Fr.token,dt=new de(X,h.repoInfo_,h.applicationId_,h.appCheckToken_,h.authToken_,_,D,V,Ki=>{Ln(Ki+" ("+h.repoInfo_.toString()+")"),h.interrupt("server_kill")},Ee))}catch(mr){h.log_("Failed to get token: "+mr),je||(h.repoInfo_.nodeAdmin&&Ln(mr),sn())}}})()}interrupt(h){st("Interrupting connection for reason: "+h),this.interruptReasons_[h]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(h){st("Resuming connection for reason: "+h),delete this.interruptReasons_[h],(0,H.Im)(this.interruptReasons_)&&(this.reconnectDelay_=K,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(h){const _=h-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:_})}cancelSentTransactions_(){for(let h=0;h<this.outstandingPuts_.length;h++){const _=this.outstandingPuts_[h];_&&"h"in _.request&&_.queued&&(_.onComplete&&_.onComplete("disconnect"),delete this.outstandingPuts_[h],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(h,_){let D;D=_?_.map(X=>On(X)).join("$"):"default";const V=this.removeListen_(h,D);V&&V.onComplete&&V.onComplete("permission_denied")}removeListen_(h,_){const D=new rr(h).toString();let V;if(this.listens.has(D)){const X=this.listens.get(D);V=X.get(_),X.delete(_),0===X.size&&this.listens.delete(D)}else V=void 0;return V}onAuthRevoked_(h,_){st("Auth token revoked: "+h+"/"+_),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===h||"permission_denied"===h)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(h,_){st("App check token revoked: "+h+"/"+_),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===h||"permission_denied"===h)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(h){this.securityDebugCallback_?this.securityDebugCallback_(h):"msg"in h&&console.log("FIREBASE: "+h.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const h of this.listens.values())for(const _ of h.values())this.sendListen_(_);for(let h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){const h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(let h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)}sendConnectStats_(){const h={};let _="js";(0,H.$g)()&&(_=this.repoInfo_.nodeAdmin?"admin_node":"node"),h["sdk."+_+"."+Mt.replace(/\./g,"-")]=1,(0,H.jZ)()?h["framework.cordova"]=1:(0,H.lV)()&&(h["framework.reactnative"]=1),this.reportStats(h)}shouldReconnect_(){const h=Qt.getInstance().currentlyOnline();return(0,H.Im)(this.interruptReasons_)&&h}}return p.nextPersistentConnectionId_=0,p.nextConnectionId_=0,p})();class Qe{constructor(d,h){this.name=d,this.node=h}static Wrap(d,h){return new Qe(d,h)}}class pr{getCompare(){return this.compare.bind(this)}indexedValueChanged(d,h){const _=new Qe(zn,d),D=new Qe(zn,h);return 0!==this.compare(_,D)}minPost(){return Qe.MIN}}class xi extends pr{static get __EMPTY_NODE(){return Pr}static set __EMPTY_NODE(d){Pr=d}compare(d,h){return ft(d.name,h.name)}isDefinedOn(d){throw(0,H.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(d,h){return!1}minPost(){return Qe.MIN}maxPost(){return new Qe(Yn,Pr)}makePost(d,h){return(0,H.vA)("string"==typeof d,"KeyIndex indexValue must always be a string."),new Qe(d,Pr)}toString(){return".key"}}const Di=new xi;class Xr{constructor(d,h,_,D,V=null){this.isReverse_=D,this.resultGenerator_=V,this.nodeStack_=[];let X=1;for(;!d.isEmpty();)if(X=h?_(d.key,h):1,D&&(X*=-1),X<0)d=this.isReverse_?d.left:d.right;else{if(0===X){this.nodeStack_.push(d);break}this.nodeStack_.push(d),d=this.isReverse_?d.right:d.left}}getNext(){if(0===this.nodeStack_.length)return null;let h,d=this.nodeStack_.pop();if(h=this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value},this.isReverse_)for(d=d.left;!d.isEmpty();)this.nodeStack_.push(d),d=d.right;else for(d=d.right;!d.isEmpty();)this.nodeStack_.push(d),d=d.left;return h}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const d=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value}}}let zs,ni=(()=>{class p{constructor(h,_,D,V,X){this.key=h,this.value=_,this.color=D??p.RED,this.left=V??si.EMPTY_NODE,this.right=X??si.EMPTY_NODE}copy(h,_,D,V,X){return new p(h??this.key,_??this.value,D??this.color,V??this.left,X??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(h){return this.left.inorderTraversal(h)||!!h(this.key,this.value)||this.right.inorderTraversal(h)}reverseTraversal(h){return this.right.reverseTraversal(h)||h(this.key,this.value)||this.left.reverseTraversal(h)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(h,_,D){let V=this;const X=D(h,V.key);return V=X<0?V.copy(null,null,null,V.left.insert(h,_,D),null):0===X?V.copy(null,_,null,null,null):V.copy(null,null,null,null,V.right.insert(h,_,D)),V.fixUp_()}removeMin_(){if(this.left.isEmpty())return si.EMPTY_NODE;let h=this;return!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.removeMin_(),null),h.fixUp_()}remove(h,_){let D,V;if(D=this,_(h,D.key)<0)!D.left.isEmpty()&&!D.left.isRed_()&&!D.left.left.isRed_()&&(D=D.moveRedLeft_()),D=D.copy(null,null,null,D.left.remove(h,_),null);else{if(D.left.isRed_()&&(D=D.rotateRight_()),!D.right.isEmpty()&&!D.right.isRed_()&&!D.right.left.isRed_()&&(D=D.moveRedRight_()),0===_(h,D.key)){if(D.right.isEmpty())return si.EMPTY_NODE;V=D.right.min_(),D=D.copy(V.key,V.value,null,null,D.right.removeMin_())}D=D.copy(null,null,null,null,D.right.remove(h,_))}return D.fixUp_()}isRed_(){return this.color}fixUp_(){let h=this;return h.right.isRed_()&&!h.left.isRed_()&&(h=h.rotateLeft_()),h.left.isRed_()&&h.left.left.isRed_()&&(h=h.rotateRight_()),h.left.isRed_()&&h.right.isRed_()&&(h=h.colorFlip_()),h}moveRedLeft_(){let h=this.colorFlip_();return h.right.left.isRed_()&&(h=h.copy(null,null,null,null,h.right.rotateRight_()),h=h.rotateLeft_(),h=h.colorFlip_()),h}moveRedRight_(){let h=this.colorFlip_();return h.left.left.isRed_()&&(h=h.rotateRight_(),h=h.colorFlip_()),h}rotateLeft_(){const h=this.copy(null,null,p.RED,null,this.right.left);return this.right.copy(null,null,this.color,h,null)}rotateRight_(){const h=this.copy(null,null,p.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,h)}colorFlip_(){const h=this.left.copy(null,null,!this.left.color,null,null),_=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,h,_)}checkMaxDepth_(){const h=this.check_();return Math.pow(2,h)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const h=this.left.check_();if(h!==this.right.check_())throw new Error("Black depths differ");return h+(this.isRed_()?0:1)}}return p.RED=!0,p.BLACK=!1,p})();class si{constructor(d,h=si.EMPTY_NODE){this.comparator_=d,this.root_=h}insert(d,h){return new si(this.comparator_,this.root_.insert(d,h,this.comparator_).copy(null,null,ni.BLACK,null,null))}remove(d){return new si(this.comparator_,this.root_.remove(d,this.comparator_).copy(null,null,ni.BLACK,null,null))}get(d){let h,_=this.root_;for(;!_.isEmpty();){if(h=this.comparator_(d,_.key),0===h)return _.value;h<0?_=_.left:h>0&&(_=_.right)}return null}getPredecessorKey(d){let h,_=this.root_,D=null;for(;!_.isEmpty();){if(h=this.comparator_(d,_.key),0===h){if(_.left.isEmpty())return D?D.key:null;for(_=_.left;!_.right.isEmpty();)_=_.right;return _.key}h<0?_=_.left:h>0&&(D=_,_=_.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(d){return this.root_.inorderTraversal(d)}reverseTraversal(d){return this.root_.reverseTraversal(d)}getIterator(d){return new Xr(this.root_,null,this.comparator_,!1,d)}getIteratorFrom(d,h){return new Xr(this.root_,d,this.comparator_,!1,h)}getReverseIteratorFrom(d,h){return new Xr(this.root_,d,this.comparator_,!0,h)}getReverseIterator(d){return new Xr(this.root_,null,this.comparator_,!0,d)}}function mo(p,d){return ft(p.name,d.name)}function Yo(p,d){return ft(p,d)}si.EMPTY_NODE=new class rs{copy(d,h,_,D,V){return this}insert(d,h,_){return new ni(d,h,null)}remove(d,h){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(d){return!1}reverseTraversal(d){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Rs=function(p){return"number"==typeof p?"number:"+tr(p):"string:"+p},Jo=function(p){if(p.isLeafNode()){const d=p.val();(0,H.vA)("string"==typeof d||"number"==typeof d||"object"==typeof d&&(0,H.gR)(d,".sv"),"Priority must be a string or number.")}else(0,H.vA)(p===zs||p.isEmpty(),"priority of unexpected type.");(0,H.vA)(p===zs||p.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let bo,ls,Gs,is=(()=>{class p{constructor(h,_=p.__childrenNodeConstructor.EMPTY_NODE){this.value_=h,this.priorityNode_=_,this.lazyHash_=null,(0,H.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Jo(this.priorityNode_)}static set __childrenNodeConstructor(h){bo=h}static get __childrenNodeConstructor(){return bo}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(h){return new p(this.value_,h)}getImmediateChild(h){return".priority"===h?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE}getChild(h){return Jn(h)?this:".priority"===xn(h)?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(h,_){return null}updateImmediateChild(h,_){return".priority"===h?this.updatePriority(_):_.isEmpty()&&".priority"!==h?this:p.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(h,_).updatePriority(this.priorityNode_)}updateChild(h,_){const D=xn(h);return null===D?_:_.isEmpty()&&".priority"!==D?this:((0,H.vA)(".priority"!==D||1===Ei(h),".priority must be the last token in a path"),this.updateImmediateChild(D,p.__childrenNodeConstructor.EMPTY_NODE.updateChild(Wn(h),_)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(h,_){return!1}val(h){return h&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let h="";this.priorityNode_.isEmpty()||(h+="priority:"+Rs(this.priorityNode_.val())+":");const _=typeof this.value_;h+=_+":",h+="number"===_?tr(this.value_):this.value_,this.lazyHash_=at(h)}return this.lazyHash_}getValue(){return this.value_}compareTo(h){return h===p.__childrenNodeConstructor.EMPTY_NODE?1:h instanceof p.__childrenNodeConstructor?-1:((0,H.vA)(h.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(h))}compareToLeafNode_(h){const _=typeof h.value_,D=typeof this.value_,V=p.VALUE_TYPE_ORDER.indexOf(_),X=p.VALUE_TYPE_ORDER.indexOf(D);return(0,H.vA)(V>=0,"Unknown leaf type: "+_),(0,H.vA)(X>=0,"Unknown leaf type: "+D),V===X?"object"===D?0:this.value_<h.value_?-1:this.value_===h.value_?0:1:X-V}withIndex(){return this}isIndexed(){return!0}equals(h){return h===this||!!h.isLeafNode()&&(this.value_===h.value_&&this.priorityNode_.equals(h.priorityNode_))}}return p.VALUE_TYPE_ORDER=["object","boolean","number","string"],p})();const Tr=new class eo extends pr{compare(d,h){const _=d.node.getPriority(),D=h.node.getPriority(),V=_.compareTo(D);return 0===V?ft(d.name,h.name):V}isDefinedOn(d){return!d.getPriority().isEmpty()}indexedValueChanged(d,h){return!d.getPriority().equals(h.getPriority())}minPost(){return Qe.MIN}maxPost(){return new Qe(Yn,new is("[PRIORITY-POST]",Gs))}makePost(d,h){const _=ls(d);return new Qe(h,new is("[PRIORITY-POST]",_))}toString(){return".priority"}},Ks=Math.log(2);class Wa{constructor(d){this.count=parseInt(Math.log(d+1)/Ks,10),this.current_=this.count-1;const D=(()=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=d+1&D}nextBitIsOne(){const d=!(this.bits_&1<<this.current_);return this.current_--,d}}const to=function(p,d,h,_){p.sort(d);const D=function(je,dt){const sn=dt-je;let cn,Sn;if(0===sn)return null;if(1===sn)return cn=p[je],Sn=h?h(cn):cn,new ni(Sn,cn.node,ni.BLACK,null,null);{const mr=parseInt(sn/2,10)+je,Fr=D(je,mr),Ki=D(mr+1,dt);return cn=p[mr],Sn=h?h(cn):cn,new ni(Sn,cn.node,ni.BLACK,Fr,Ki)}},Ee=function(je){let dt=null,sn=null,cn=p.length;const Sn=function(Fr,Ki){const po=cn-Fr,Ul=cn;cn-=Fr;const Bl=D(po+1,Ul),Yu=p[po],Gf=h?h(Yu):Yu;mr(new ni(Gf,Yu.node,Ki,null,Bl))},mr=function(Fr){dt?(dt.left=Fr,dt=Fr):(sn=Fr,dt=Fr)};for(let Fr=0;Fr<je.count;++Fr){const Ki=je.nextBitIsOne(),po=Math.pow(2,je.count-(Fr+1));Ki?Sn(po,ni.BLACK):(Sn(po,ni.BLACK),Sn(po,ni.RED))}return sn}(new Wa(p.length));return new si(_||d,Ee)};let za;const js={};class vs{constructor(d,h){this.indexes_=d,this.indexSet_=h}static get Default(){return(0,H.vA)(js&&Tr,"ChildrenNode.ts has not been loaded"),za=za||new vs({".priority":js},{".priority":Tr}),za}get(d){const h=(0,H.yw)(this.indexes_,d);if(!h)throw new Error("No index defined for "+d);return h instanceof si?h:null}hasIndex(d){return(0,H.gR)(this.indexSet_,d.toString())}addIndex(d,h){(0,H.vA)(d!==Di,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const _=[];let D=!1;const V=h.getIterator(Qe.Wrap);let Ee,X=V.getNext();for(;X;)D=D||d.isDefinedOn(X.node),_.push(X),X=V.getNext();Ee=D?to(_,d.getCompare()):js;const je=d.toString(),dt=Object.assign({},this.indexSet_);dt[je]=d;const sn=Object.assign({},this.indexes_);return sn[je]=Ee,new vs(sn,dt)}addToIndexes(d,h){const _=(0,H.kH)(this.indexes_,(D,V)=>{const X=(0,H.yw)(this.indexSet_,V);if((0,H.vA)(X,"Missing index implementation for "+V),D===js){if(X.isDefinedOn(d.node)){const Ee=[],je=h.getIterator(Qe.Wrap);let dt=je.getNext();for(;dt;)dt.name!==d.name&&Ee.push(dt),dt=je.getNext();return Ee.push(d),to(Ee,X.getCompare())}return js}{const Ee=h.get(d.name);let je=D;return Ee&&(je=je.remove(new Qe(d.name,Ee))),je.insert(d,d.node)}});return new vs(_,this.indexSet_)}removeFromIndexes(d,h){const _=(0,H.kH)(this.indexes_,D=>{if(D===js)return D;{const V=h.get(d.name);return V?D.remove(new Qe(d.name,V)):D}});return new vs(_,this.indexSet_)}}let Xs,zr=(()=>{class p{constructor(h,_,D){this.children_=h,this.priorityNode_=_,this.indexMap_=D,this.lazyHash_=null,this.priorityNode_&&Jo(this.priorityNode_),this.children_.isEmpty()&&(0,H.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Xs||(Xs=new p(new si(Yo),null,vs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xs}updatePriority(h){return this.children_.isEmpty()?this:new p(this.children_,h,this.indexMap_)}getImmediateChild(h){if(".priority"===h)return this.getPriority();{const _=this.children_.get(h);return null===_?Xs:_}}getChild(h){const _=xn(h);return null===_?this:this.getImmediateChild(_).getChild(Wn(h))}hasChild(h){return null!==this.children_.get(h)}updateImmediateChild(h,_){if((0,H.vA)(_,"We should always be passing snapshot nodes"),".priority"===h)return this.updatePriority(_);{const D=new Qe(h,_);let V,X;_.isEmpty()?(V=this.children_.remove(h),X=this.indexMap_.removeFromIndexes(D,this.children_)):(V=this.children_.insert(h,_),X=this.indexMap_.addToIndexes(D,this.children_));const Ee=V.isEmpty()?Xs:this.priorityNode_;return new p(V,Ee,X)}}updateChild(h,_){const D=xn(h);if(null===D)return _;{(0,H.vA)(".priority"!==xn(h)||1===Ei(h),".priority must be the last token in a path");const V=this.getImmediateChild(D).updateChild(Wn(h),_);return this.updateImmediateChild(D,V)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(h){if(this.isEmpty())return null;const _={};let D=0,V=0,X=!0;if(this.forEachChild(Tr,(Ee,je)=>{_[Ee]=je.val(h),D++,X&&p.INTEGER_REGEXP_.test(Ee)?V=Math.max(V,Number(Ee)):X=!1}),!h&&X&&V<2*D){const Ee=[];for(const je in _)Ee[je]=_[je];return Ee}return h&&!this.getPriority().isEmpty()&&(_[".priority"]=this.getPriority().val()),_}hash(){if(null===this.lazyHash_){let h="";this.getPriority().isEmpty()||(h+="priority:"+Rs(this.getPriority().val())+":"),this.forEachChild(Tr,(_,D)=>{const V=D.hash();""!==V&&(h+=":"+_+":"+V)}),this.lazyHash_=""===h?"":at(h)}return this.lazyHash_}getPredecessorChildName(h,_,D){const V=this.resolveIndex_(D);if(V){const X=V.getPredecessorKey(new Qe(h,_));return X?X.name:null}return this.children_.getPredecessorKey(h)}getFirstChildName(h){const _=this.resolveIndex_(h);if(_){const D=_.minKey();return D&&D.name}return this.children_.minKey()}getFirstChild(h){const _=this.getFirstChildName(h);return _?new Qe(_,this.children_.get(_)):null}getLastChildName(h){const _=this.resolveIndex_(h);if(_){const D=_.maxKey();return D&&D.name}return this.children_.maxKey()}getLastChild(h){const _=this.getLastChildName(h);return _?new Qe(_,this.children_.get(_)):null}forEachChild(h,_){const D=this.resolveIndex_(h);return D?D.inorderTraversal(V=>_(V.name,V.node)):this.children_.inorderTraversal(_)}getIterator(h){return this.getIteratorFrom(h.minPost(),h)}getIteratorFrom(h,_){const D=this.resolveIndex_(_);if(D)return D.getIteratorFrom(h,V=>V);{const V=this.children_.getIteratorFrom(h.name,Qe.Wrap);let X=V.peek();for(;null!=X&&_.compare(X,h)<0;)V.getNext(),X=V.peek();return V}}getReverseIterator(h){return this.getReverseIteratorFrom(h.maxPost(),h)}getReverseIteratorFrom(h,_){const D=this.resolveIndex_(_);if(D)return D.getReverseIteratorFrom(h,V=>V);{const V=this.children_.getReverseIteratorFrom(h.name,Qe.Wrap);let X=V.peek();for(;null!=X&&_.compare(X,h)>0;)V.getNext(),X=V.peek();return V}}compareTo(h){return this.isEmpty()?h.isEmpty()?0:-1:h.isLeafNode()||h.isEmpty()?1:h===Fo?-1:0}withIndex(h){if(h===Di||this.indexMap_.hasIndex(h))return this;{const _=this.indexMap_.addIndex(h,this.children_);return new p(this.children_,this.priorityNode_,_)}}isIndexed(h){return h===Di||this.indexMap_.hasIndex(h)}equals(h){if(h===this)return!0;if(h.isLeafNode())return!1;{const _=h;if(this.getPriority().equals(_.getPriority())){if(this.children_.count()===_.children_.count()){const D=this.getIterator(Tr),V=_.getIterator(Tr);let X=D.getNext(),Ee=V.getNext();for(;X&&Ee;){if(X.name!==Ee.name||!X.node.equals(Ee.node))return!1;X=D.getNext(),Ee=V.getNext()}return null===X&&null===Ee}return!1}return!1}}resolveIndex_(h){return h===Di?null:this.indexMap_.get(h.toString())}}return p.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,p})();const Fo=new class As extends zr{constructor(){super(new si(Yo),zr.EMPTY_NODE,vs.Default)}compareTo(d){return d===this?0:1}equals(d){return d===this}getPriority(){return this}getImmediateChild(d){return zr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Qe,{MIN:{value:new Qe(zn,zr.EMPTY_NODE)},MAX:{value:new Qe(Yn,Fo)}}),xi.__EMPTY_NODE=zr.EMPTY_NODE,is.__childrenNodeConstructor=zr,function Zs(p){zs=p}(Fo),function $s(p){Gs=p}(Fo);const Wc=!0;function Vi(p,d=null){if(null===p)return zr.EMPTY_NODE;if("object"==typeof p&&".priority"in p&&(d=p[".priority"]),(0,H.vA)(null===d||"string"==typeof d||"number"==typeof d||"object"==typeof d&&".sv"in d,"Invalid priority type found: "+typeof d),"object"==typeof p&&".value"in p&&null!==p[".value"]&&(p=p[".value"]),"object"!=typeof p||".sv"in p)return new is(p,Vi(d));if(p instanceof Array||!Wc){let h=zr.EMPTY_NODE;return er(p,(_,D)=>{if((0,H.gR)(p,_)&&"."!==_.substring(0,1)){const V=Vi(D);(V.isLeafNode()||!V.isEmpty())&&(h=h.updateImmediateChild(_,V))}}),h.updatePriority(Vi(d))}{const h=[];let _=!1;if(er(p,(X,Ee)=>{if("."!==X.substring(0,1)){const je=Vi(Ee);je.isEmpty()||(_=_||!je.getPriority().isEmpty(),h.push(new Qe(X,je)))}}),0===h.length)return zr.EMPTY_NODE;const V=to(h,mo,X=>X.name,Yo);if(_){const X=to(h,Tr.getCompare());return new zr(V,Vi(d),new vs({".priority":X},{".priority":Tr}))}return new zr(V,Vi(d),vs.Default)}}!function Zo(p){ls=p}(Vi);class Na extends pr{constructor(d){super(),this.indexPath_=d,(0,H.vA)(!Jn(d)&&".priority"!==xn(d),"Can't create PathIndex with empty path or .priority key")}extractChild(d){return d.getChild(this.indexPath_)}isDefinedOn(d){return!d.getChild(this.indexPath_).isEmpty()}compare(d,h){const _=this.extractChild(d.node),D=this.extractChild(h.node),V=_.compareTo(D);return 0===V?ft(d.name,h.name):V}makePost(d,h){const _=Vi(d),D=zr.EMPTY_NODE.updateChild(this.indexPath_,_);return new Qe(h,D)}maxPost(){const d=zr.EMPTY_NODE.updateChild(this.indexPath_,Fo);return new Qe(Yn,d)}toString(){return Ai(this.indexPath_,0).join("/")}}const Kl=new class Gl extends pr{compare(d,h){const _=d.node.compareTo(h.node);return 0===_?ft(d.name,h.name):_}isDefinedOn(d){return!0}indexedValueChanged(d,h){return!d.equals(h)}minPost(){return Qe.MIN}maxPost(){return Qe.MAX}makePost(d,h){const _=Vi(d);return new Qe(h,_)}toString(){return".value"}};function Ga(p){return{type:"value",snapshotNode:p}}function Ao(p,d){return{type:"child_added",snapshotNode:d,childName:p}}function Q(p,d){return{type:"child_removed",snapshotNode:d,childName:p}}function ee(p,d,h){return{type:"child_changed",snapshotNode:d,childName:p,oldSnap:h}}class Ce{constructor(d){this.index_=d}updateChild(d,h,_,D,V,X){(0,H.vA)(d.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Ee=d.getImmediateChild(h);return Ee.getChild(D).equals(_.getChild(D))&&Ee.isEmpty()===_.isEmpty()||(null!=X&&(_.isEmpty()?d.hasChild(h)?X.trackChildChange(Q(h,Ee)):(0,H.vA)(d.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Ee.isEmpty()?X.trackChildChange(Ao(h,_)):X.trackChildChange(ee(h,_,Ee))),d.isLeafNode()&&_.isEmpty())?d:d.updateImmediateChild(h,_).withIndex(this.index_)}updateFullNode(d,h,_){return null!=_&&(d.isLeafNode()||d.forEachChild(Tr,(D,V)=>{h.hasChild(D)||_.trackChildChange(Q(D,V))}),h.isLeafNode()||h.forEachChild(Tr,(D,V)=>{if(d.hasChild(D)){const X=d.getImmediateChild(D);X.equals(V)||_.trackChildChange(ee(D,V,X))}else _.trackChildChange(Ao(D,V))})),h.withIndex(this.index_)}updatePriority(d,h){return d.isEmpty()?zr.EMPTY_NODE:d.updatePriority(h)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class _t{constructor(d){this.indexedFilter_=new Ce(d.getIndex()),this.index_=d.getIndex(),this.startPost_=_t.getStartPost_(d),this.endPost_=_t.getEndPost_(d),this.startIsInclusive_=!d.startAfterSet_,this.endIsInclusive_=!d.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(d){const h=this.startIsInclusive_?this.index_.compare(this.getStartPost(),d)<=0:this.index_.compare(this.getStartPost(),d)<0,_=this.endIsInclusive_?this.index_.compare(d,this.getEndPost())<=0:this.index_.compare(d,this.getEndPost())<0;return h&&_}updateChild(d,h,_,D,V,X){return this.matches(new Qe(h,_))||(_=zr.EMPTY_NODE),this.indexedFilter_.updateChild(d,h,_,D,V,X)}updateFullNode(d,h,_){h.isLeafNode()&&(h=zr.EMPTY_NODE);let D=h.withIndex(this.index_);D=D.updatePriority(zr.EMPTY_NODE);const V=this;return h.forEachChild(Tr,(X,Ee)=>{V.matches(new Qe(X,Ee))||(D=D.updateImmediateChild(X,zr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(d,D,_)}updatePriority(d,h){return d}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(d){if(d.hasStart()){const h=d.getIndexStartName();return d.getIndex().makePost(d.getIndexStartValue(),h)}return d.getIndex().minPost()}static getEndPost_(d){if(d.hasEnd()){const h=d.getIndexEndName();return d.getIndex().makePost(d.getIndexEndValue(),h)}return d.getIndex().maxPost()}}class Nr{constructor(d){this.withinDirectionalStart=h=>this.reverse_?this.withinEndPost(h):this.withinStartPost(h),this.withinDirectionalEnd=h=>this.reverse_?this.withinStartPost(h):this.withinEndPost(h),this.withinStartPost=h=>{const _=this.index_.compare(this.rangedFilter_.getStartPost(),h);return this.startIsInclusive_?_<=0:_<0},this.withinEndPost=h=>{const _=this.index_.compare(h,this.rangedFilter_.getEndPost());return this.endIsInclusive_?_<=0:_<0},this.rangedFilter_=new _t(d),this.index_=d.getIndex(),this.limit_=d.getLimit(),this.reverse_=!d.isViewFromLeft(),this.startIsInclusive_=!d.startAfterSet_,this.endIsInclusive_=!d.endBeforeSet_}updateChild(d,h,_,D,V,X){return this.rangedFilter_.matches(new Qe(h,_))||(_=zr.EMPTY_NODE),d.getImmediateChild(h).equals(_)?d:d.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(d,h,_,D,V,X):this.fullLimitUpdateChild_(d,h,_,V,X)}updateFullNode(d,h,_){let D;if(h.isLeafNode()||h.isEmpty())D=zr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<h.numChildren()&&h.isIndexed(this.index_)){let V;D=zr.EMPTY_NODE.withIndex(this.index_),V=this.reverse_?h.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let X=0;for(;V.hasNext()&&X<this.limit_;){const Ee=V.getNext();if(this.withinDirectionalStart(Ee)){if(!this.withinDirectionalEnd(Ee))break;D=D.updateImmediateChild(Ee.name,Ee.node),X++}}}else{let V;D=h.withIndex(this.index_),D=D.updatePriority(zr.EMPTY_NODE),V=this.reverse_?D.getReverseIterator(this.index_):D.getIterator(this.index_);let X=0;for(;V.hasNext();){const Ee=V.getNext();X<this.limit_&&this.withinDirectionalStart(Ee)&&this.withinDirectionalEnd(Ee)?X++:D=D.updateImmediateChild(Ee.name,zr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(d,D,_)}updatePriority(d,h){return d}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(d,h,_,D,V){let X;if(this.reverse_){const cn=this.index_.getCompare();X=(Sn,mr)=>cn(mr,Sn)}else X=this.index_.getCompare();const Ee=d;(0,H.vA)(Ee.numChildren()===this.limit_,"");const je=new Qe(h,_),dt=this.reverse_?Ee.getFirstChild(this.index_):Ee.getLastChild(this.index_),sn=this.rangedFilter_.matches(je);if(Ee.hasChild(h)){const cn=Ee.getImmediateChild(h);let Sn=D.getChildAfterChild(this.index_,dt,this.reverse_);for(;null!=Sn&&(Sn.name===h||Ee.hasChild(Sn.name));)Sn=D.getChildAfterChild(this.index_,Sn,this.reverse_);const mr=null==Sn?1:X(Sn,je);if(sn&&!_.isEmpty()&&mr>=0)return V?.trackChildChange(ee(h,_,cn)),Ee.updateImmediateChild(h,_);{V?.trackChildChange(Q(h,cn));const Ki=Ee.updateImmediateChild(h,zr.EMPTY_NODE);return null!=Sn&&this.rangedFilter_.matches(Sn)?(V?.trackChildChange(Ao(Sn.name,Sn.node)),Ki.updateImmediateChild(Sn.name,Sn.node)):Ki}}return _.isEmpty()?d:sn&&X(dt,je)>=0?(null!=V&&(V.trackChildChange(Q(dt.name,dt.node)),V.trackChildChange(Ao(h,_))),Ee.updateImmediateChild(h,_).updateImmediateChild(dt.name,zr.EMPTY_NODE)):d}}class Qr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,H.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,H.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,H.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,H.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,H.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Tr}copy(){const d=new Qr;return d.limitSet_=this.limitSet_,d.limit_=this.limit_,d.startSet_=this.startSet_,d.startAfterSet_=this.startAfterSet_,d.indexStartValue_=this.indexStartValue_,d.startNameSet_=this.startNameSet_,d.indexStartName_=this.indexStartName_,d.endSet_=this.endSet_,d.endBeforeSet_=this.endBeforeSet_,d.indexEndValue_=this.indexEndValue_,d.endNameSet_=this.endNameSet_,d.indexEndName_=this.indexEndName_,d.index_=this.index_,d.viewFrom_=this.viewFrom_,d}}function Xl(p,d,h){const _=p.copy();return _.startSet_=!0,void 0===d&&(d=null),_.indexStartValue_=d,null!=h?(_.startNameSet_=!0,_.indexStartName_=h):(_.startNameSet_=!1,_.indexStartName_=""),_}function Ni(p,d,h){const _=p.copy();return _.endSet_=!0,void 0===d&&(d=null),_.indexEndValue_=d,void 0!==h?(_.endNameSet_=!0,_.indexEndName_=h):(_.endNameSet_=!1,_.indexEndName_=""),_}function gs(p,d){const h=p.copy();return h.index_=d,h}function hi(p){const d={};if(p.isDefault())return d;let h;if(p.index_===Tr?h="$priority":p.index_===Kl?h="$value":p.index_===Di?h="$key":((0,H.vA)(p.index_ instanceof Na,"Unrecognized index type!"),h=p.index_.toString()),d.orderBy=(0,H.As)(h),p.startSet_){const _=p.startAfterSet_?"startAfter":"startAt";d[_]=(0,H.As)(p.indexStartValue_),p.startNameSet_&&(d[_]+=","+(0,H.As)(p.indexStartName_))}if(p.endSet_){const _=p.endBeforeSet_?"endBefore":"endAt";d[_]=(0,H.As)(p.indexEndValue_),p.endNameSet_&&(d[_]+=","+(0,H.As)(p.indexEndName_))}return p.limitSet_&&(p.isViewFromLeft()?d.limitToFirst=p.limit_:d.limitToLast=p.limit_),d}function _o(p){const d={};if(p.startSet_&&(d.sp=p.indexStartValue_,p.startNameSet_&&(d.sn=p.indexStartName_),d.sin=!p.startAfterSet_),p.endSet_&&(d.ep=p.indexEndValue_,p.endNameSet_&&(d.en=p.indexEndName_),d.ein=!p.endBeforeSet_),p.limitSet_){d.l=p.limit_;let h=p.viewFrom_;""===h&&(h=p.isViewFromLeft()?"l":"r"),d.vf=h}return p.index_!==Tr&&(d.i=p.index_.toString()),d}class ea extends ye{constructor(d,h,_,D){super(),this.repoInfo_=d,this.onDataUpdate_=h,this.authTokenProvider_=_,this.appCheckTokenProvider_=D,this.log_=Nt("p:rest:"),this.listens_={}}reportStats(d){throw new Error("Method not implemented.")}static getListenId_(d,h){return void 0!==h?"tag$"+h:((0,H.vA)(d._queryParams.isDefault(),"should have a tag if it's not a default query."),d._path.toString())}listen(d,h,_,D){const V=d._path.toString();this.log_("Listen called for "+V+" "+d._queryIdentifier);const X=ea.getListenId_(d,_),Ee={};this.listens_[X]=Ee;const je=hi(d._queryParams);this.restRequest_(V+".json",je,(dt,sn)=>{let cn=sn;if(404===dt&&(cn=null,dt=null),null===dt&&this.onDataUpdate_(V,cn,!1,_),(0,H.yw)(this.listens_,X)===Ee){let Sn;Sn=dt?401===dt?"permission_denied":"rest_error:"+dt:"ok",D(Sn,null)}})}unlisten(d,h){const _=ea.getListenId_(d,h);delete this.listens_[_]}get(d){const h=hi(d._queryParams),_=d._path.toString(),D=new H.cY;return this.restRequest_(_+".json",h,(V,X)=>{let Ee=X;404===V&&(Ee=null,V=null),null===V?(this.onDataUpdate_(_,Ee,!1,null),D.resolve(Ee)):D.reject(new Error(Ee))}),D.promise}refreshAuthToken(d){}restRequest_(d,h={},_){return h.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([D,V])=>{D&&D.accessToken&&(h.auth=D.accessToken),V&&V.token&&(h.ac=V.token);const X=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+d+"?ns="+this.repoInfo_.namespace+(0,H.Am)(h);this.log_("Sending REST request for "+X);const Ee=new XMLHttpRequest;Ee.onreadystatechange=()=>{if(_&&4===Ee.readyState){this.log_("REST Response for "+X+" received. status:",Ee.status,"response:",Ee.responseText);let je=null;if(Ee.status>=200&&Ee.status<300){try{je=(0,H.$L)(Ee.responseText)}catch{Ln("Failed to parse JSON response for "+X+": "+Ee.responseText)}_(null,je)}else 401!==Ee.status&&404!==Ee.status&&Ln("Got unsuccessful REST response for "+X+" Status: "+Ee.status),_(Ee.status);_=null}},Ee.open("GET",X,!0),Ee.send()})}}class Ps{constructor(){this.rootNode_=zr.EMPTY_NODE}getNode(d){return this.rootNode_.getChild(d)}updateSnapshot(d,h){this.rootNode_=this.rootNode_.updateChild(d,h)}}function qr(){return{value:null,children:new Map}}function Xi(p,d,h){if(Jn(d))p.value=h,p.children.clear();else if(null!==p.value)p.value=p.value.updateChild(d,h);else{const _=xn(d);p.children.has(_)||p.children.set(_,qr()),Xi(p.children.get(_),d=Wn(d),h)}}function Zr(p,d){if(Jn(d))return p.value=null,p.children.clear(),!0;if(null!==p.value){if(p.value.isLeafNode())return!1;{const h=p.value;return p.value=null,h.forEachChild(Tr,(_,D)=>{Xi(p,new rr(_),D)}),Zr(p,d)}}if(p.children.size>0){const h=xn(d);return d=Wn(d),p.children.has(h)&&Zr(p.children.get(h),d)&&p.children.delete(h),0===p.children.size}return!0}function Uo(p,d,h){null!==p.value?h(d,p.value):function Yi(p,d){p.children.forEach((h,_)=>{d(_,h)})}(p,(_,D)=>{Uo(D,new rr(d.toString()+"/"+_),h)})}class qi{constructor(d){this.collection_=d,this.last_=null}get(){const d=this.collection_.get(),h=Object.assign({},d);return this.last_&&er(this.last_,(_,D)=>{h[_]=h[_]-D}),this.last_=d,h}}class dl{constructor(d,h){this.server_=h,this.statsToReport_={},this.statsListener_=new qi(d);const _=1e4+2e4*Math.random();ur(this.reportStats_.bind(this),Math.floor(_))}reportStats_(){const d=this.statsListener_.get(),h={};let _=!1;er(d,(D,V)=>{V>0&&(0,H.gR)(this.statsToReport_,D)&&(h[D]=V,_=!0)}),_&&this.server_.reportStats(h),ur(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var _s=function(p){return p[p.OVERWRITE=0]="OVERWRITE",p[p.MERGE=1]="MERGE",p[p.ACK_USER_WRITE=2]="ACK_USER_WRITE",p[p.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",p}(_s||{});function hl(p){return{fromUser:!1,fromServer:!0,queryId:p,tagged:!0}}class ro{constructor(d,h,_){this.path=d,this.affectedTree=h,this.revert=_,this.type=_s.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(d){if(Jn(this.path)){if(null!=this.affectedTree.value)return(0,H.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const h=this.affectedTree.subtree(new rr(d));return new ro(Ar(),h,this.revert)}}return(0,H.vA)(xn(this.path)===d,"operationForChild called for unrelated child."),new ro(Wn(this.path),this.affectedTree,this.revert)}}class Do{constructor(d,h){this.source=d,this.path=h,this.type=_s.LISTEN_COMPLETE}operationForChild(d){return Jn(this.path)?new Do(this.source,Ar()):new Do(this.source,Wn(this.path))}}class uo{constructor(d,h,_){this.source=d,this.path=h,this.snap=_,this.type=_s.OVERWRITE}operationForChild(d){return Jn(this.path)?new uo(this.source,Ar(),this.snap.getImmediateChild(d)):new uo(this.source,Wn(this.path),this.snap)}}class So{constructor(d,h,_){this.source=d,this.path=h,this.children=_,this.type=_s.MERGE}operationForChild(d){if(Jn(this.path)){const h=this.children.subtree(new rr(d));return h.isEmpty()?null:h.value?new uo(this.source,Ar(),h.value):new So(this.source,Ar(),h)}return(0,H.vA)(xn(this.path)===d,"Can't get a merge for a child not on the path of the operation"),new So(this.source,Wn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ta{constructor(d,h,_){this.node_=d,this.fullyInitialized_=h,this.filtered_=_}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(d){if(Jn(d))return this.isFullyInitialized()&&!this.filtered_;const h=xn(d);return this.isCompleteForChild(h)}isCompleteForChild(d){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(d)}getNode(){return this.node_}}class fl{constructor(d){this.query_=d,this.index_=this.query_._queryParams.getIndex()}}function ho(p,d,h,_,D,V){const X=_.filter(Ee=>Ee.type===h);X.sort((Ee,je)=>function ga(p,d,h){if(null==d.childName||null==h.childName)throw(0,H.Hk)("Should only compare child_ events.");const _=new Qe(d.childName,d.snapshotNode),D=new Qe(h.childName,h.snapshotNode);return p.index_.compare(_,D)}(p,Ee,je)),X.forEach(Ee=>{const je=function gl(p,d,h){return"value"===d.type||"child_removed"===d.type||(d.prevName=h.getPredecessorChildName(d.childName,d.snapshotNode,p.index_)),d}(p,Ee,V);D.forEach(dt=>{dt.respondsTo(Ee.type)&&d.push(dt.createEvent(je,p.query_))})})}function na(p,d){return{eventCache:p,serverCache:d}}function ra(p,d,h,_){return na(new ta(d,h,_),p.serverCache)}function Ka(p,d,h,_){return na(p.eventCache,new ta(d,h,_))}function Xa(p){return p.eventCache.isFullyInitialized()?p.eventCache.getNode():null}function ms(p){return p.serverCache.isFullyInitialized()?p.serverCache.getNode():null}let Ro;class Ji{constructor(d,h=(()=>(Ro||(Ro=new si(Xt)),Ro))()){this.value=d,this.children=h}static fromObject(d){let h=new Ji(null);return er(d,(_,D)=>{h=h.set(new rr(_),D)}),h}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(d,h){if(null!=this.value&&h(this.value))return{path:Ar(),value:this.value};if(Jn(d))return null;{const _=xn(d),D=this.children.get(_);if(null!==D){const V=D.findRootMostMatchingPathAndValue(Wn(d),h);return null!=V?{path:ii(new rr(_),V.path),value:V.value}:null}return null}}findRootMostValueAndPath(d){return this.findRootMostMatchingPathAndValue(d,()=>!0)}subtree(d){if(Jn(d))return this;{const h=xn(d),_=this.children.get(h);return null!==_?_.subtree(Wn(d)):new Ji(null)}}set(d,h){if(Jn(d))return new Ji(h,this.children);{const _=xn(d),V=(this.children.get(_)||new Ji(null)).set(Wn(d),h),X=this.children.insert(_,V);return new Ji(this.value,X)}}remove(d){if(Jn(d))return this.children.isEmpty()?new Ji(null):new Ji(null,this.children);{const h=xn(d),_=this.children.get(h);if(_){const D=_.remove(Wn(d));let V;return V=D.isEmpty()?this.children.remove(h):this.children.insert(h,D),null===this.value&&V.isEmpty()?new Ji(null):new Ji(this.value,V)}return this}}get(d){if(Jn(d))return this.value;{const h=xn(d),_=this.children.get(h);return _?_.get(Wn(d)):null}}setTree(d,h){if(Jn(d))return h;{const _=xn(d),V=(this.children.get(_)||new Ji(null)).setTree(Wn(d),h);let X;return X=V.isEmpty()?this.children.remove(_):this.children.insert(_,V),new Ji(this.value,X)}}fold(d){return this.fold_(Ar(),d)}fold_(d,h){const _={};return this.children.inorderTraversal((D,V)=>{_[D]=V.fold_(ii(d,D),h)}),h(d,this.value,_)}findOnPath(d,h){return this.findOnPath_(d,Ar(),h)}findOnPath_(d,h,_){const D=!!this.value&&_(h,this.value);if(D)return D;if(Jn(d))return null;{const V=xn(d),X=this.children.get(V);return X?X.findOnPath_(Wn(d),ii(h,V),_):null}}foreachOnPath(d,h){return this.foreachOnPath_(d,Ar(),h)}foreachOnPath_(d,h,_){if(Jn(d))return this;{this.value&&_(h,this.value);const D=xn(d),V=this.children.get(D);return V?V.foreachOnPath_(Wn(d),ii(h,D),_):new Ji(null)}}foreach(d){this.foreach_(Ar(),d)}foreach_(d,h){this.children.inorderTraversal((_,D)=>{D.foreach_(ii(d,_),h)}),this.value&&h(d,this.value)}foreachChild(d){this.children.inorderTraversal((h,_)=>{_.value&&d(h,_.value)})}}class Ms{constructor(d){this.writeTree_=d}static empty(){return new Ms(new Ji(null))}}function ml(p,d,h){if(Jn(d))return new Ms(new Ji(h));{const _=p.writeTree_.findRootMostValueAndPath(d);if(null!=_){const D=_.path;let V=_.value;const X=ns(D,d);return V=V.updateChild(X,h),new Ms(p.writeTree_.set(D,V))}{const D=new Ji(h),V=p.writeTree_.setTree(d,D);return new Ms(V)}}}function Bo(p,d,h){let _=p;return er(h,(D,V)=>{_=ml(_,ii(d,D),V)}),_}function qa(p,d){if(Jn(d))return Ms.empty();{const h=p.writeTree_.setTree(d,new Ji(null));return new Ms(h)}}function wl(p,d){return null!=ds(p,d)}function ds(p,d){const h=p.writeTree_.findRootMostValueAndPath(d);return null!=h?p.writeTree_.get(h.path).getChild(ns(h.path,d)):null}function va(p){const d=[],h=p.writeTree_.value;return null!=h?h.isLeafNode()||h.forEachChild(Tr,(_,D)=>{d.push(new Qe(_,D))}):p.writeTree_.children.inorderTraversal((_,D)=>{null!=D.value&&d.push(new Qe(_,D.value))}),d}function Oi(p,d){if(Jn(d))return p;{const h=ds(p,d);return new Ms(null!=h?new Ji(h):p.writeTree_.subtree(d))}}function Ds(p){return p.writeTree_.isEmpty()}function Io(p,d){return ka(Ar(),p.writeTree_,d)}function ka(p,d,h){if(null!=d.value)return h.updateChild(p,d.value);{let _=null;return d.children.inorderTraversal((D,V)=>{".priority"===D?((0,H.vA)(null!==V.value,"Priority writes must always be leaf nodes"),_=V.value):h=ka(ii(p,D),V,h)}),!h.getChild(p).isEmpty()&&null!==_&&(h=h.updateChild(ii(p,".priority"),_)),h}}function La(p,d){return Hi(d,p)}function et(p,d){if(p.snap)return as(p.path,d);for(const h in p.children)if(p.children.hasOwnProperty(h)&&as(ii(p.path,h),d))return!0;return!1}function yn(p){return p.visible}function fr(p,d,h){let _=Ms.empty();for(let D=0;D<p.length;++D){const V=p[D];if(d(V)){const X=V.path;let Ee;if(V.snap)as(h,X)?(Ee=ns(h,X),_=ml(_,Ee,V.snap)):as(X,h)&&(Ee=ns(X,h),_=ml(_,Ar(),V.snap.getChild(Ee)));else{if(!V.children)throw(0,H.Hk)("WriteRecord should have .snap or .children");if(as(h,X))Ee=ns(h,X),_=Bo(_,Ee,V.children);else if(as(X,h))if(Ee=ns(X,h),Jn(Ee))_=Bo(_,Ar(),V.children);else{const je=(0,H.yw)(V.children,xn(Ee));if(je){const dt=je.getChild(Wn(Ee));_=ml(_,Ar(),dt)}}}}}return _}function Ti(p,d,h,_,D){if(_||D){const V=Oi(p.visibleWrites,d);return!D&&Ds(V)?h:D||null!=h||wl(V,Ar())?Io(fr(p.allWrites,function(dt){return(dt.visible||D)&&(!_||!~_.indexOf(dt.writeId))&&(as(dt.path,d)||as(d,dt.path))},d),h||zr.EMPTY_NODE):null}{const V=ds(p.visibleWrites,d);if(null!=V)return V;{const X=Oi(p.visibleWrites,d);return Ds(X)?h:null!=h||wl(X,Ar())?Io(X,h||zr.EMPTY_NODE):null}}}function or(p,d,h,_){return Ti(p.writeTree,p.treePath,d,h,_)}function vi(p,d){return function ss(p,d,h){let _=zr.EMPTY_NODE;const D=ds(p.visibleWrites,d);if(D)return D.isLeafNode()||D.forEachChild(Tr,(V,X)=>{_=_.updateImmediateChild(V,X)}),_;if(h){const V=Oi(p.visibleWrites,d);return h.forEachChild(Tr,(X,Ee)=>{const je=Io(Oi(V,new rr(X)),Ee);_=_.updateImmediateChild(X,je)}),va(V).forEach(X=>{_=_.updateImmediateChild(X.name,X.node)}),_}return va(Oi(p.visibleWrites,d)).forEach(X=>{_=_.updateImmediateChild(X.name,X.node)}),_}(p.writeTree,p.treePath,d)}function ys(p,d,h,_){return function Fi(p,d,h,_,D){(0,H.vA)(_||D,"Either existingEventSnap or existingServerSnap must exist");const V=ii(d,h);if(wl(p.visibleWrites,V))return null;{const X=Oi(p.visibleWrites,V);return Ds(X)?D.getChild(h):Io(X,D.getChild(h))}}(p.writeTree,p.treePath,d,h,_)}function Bi(p,d){return function cs(p,d){return ds(p.visibleWrites,d)}(p.writeTree,ii(p.treePath,d))}function io(p,d,h){return function fi(p,d,h,_){const D=ii(d,h),V=ds(p.visibleWrites,D);return null!=V?V:_.isCompleteForChild(h)?Io(Oi(p.visibleWrites,D),_.getNode().getImmediateChild(h)):null}(p.writeTree,p.treePath,d,h)}function Ci(p,d){return Hi(ii(p.treePath,d),p.writeTree)}function Hi(p,d){return{treePath:p,writeTree:d}}class so{constructor(){this.changeMap=new Map}trackChildChange(d){const h=d.type,_=d.childName;(0,H.vA)("child_added"===h||"child_changed"===h||"child_removed"===h,"Only child changes supported for tracking"),(0,H.vA)(".priority"!==_,"Only non-priority child changes can be tracked.");const D=this.changeMap.get(_);if(D){const V=D.type;if("child_added"===h&&"child_removed"===V)this.changeMap.set(_,ee(_,d.snapshotNode,D.snapshotNode));else if("child_removed"===h&&"child_added"===V)this.changeMap.delete(_);else if("child_removed"===h&&"child_changed"===V)this.changeMap.set(_,Q(_,D.oldSnap));else if("child_changed"===h&&"child_added"===V)this.changeMap.set(_,Ao(_,d.snapshotNode));else{if("child_changed"!==h||"child_changed"!==V)throw(0,H.Hk)("Illegal combination of changes: "+d+" occurred after "+D);this.changeMap.set(_,ee(_,d.snapshotNode,D.oldSnap))}}else this.changeMap.set(_,d)}getChanges(){return Array.from(this.changeMap.values())}}const $o=new class Ur{getCompleteChild(d){return null}getChildAfterChild(d,h,_){return null}};class ql{constructor(d,h,_=null){this.writes_=d,this.viewCache_=h,this.optCompleteServerCache_=_}getCompleteChild(d){const h=this.viewCache_.eventCache;if(h.isCompleteForChild(d))return h.getNode().getImmediateChild(d);{const _=null!=this.optCompleteServerCache_?new ta(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return io(this.writes_,d,_)}}getChildAfterChild(d,h,_){const D=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ms(this.viewCache_),V=function xs(p,d,h,_,D,V){return function Vr(p,d,h,_,D,V,X){let Ee;const je=Oi(p.visibleWrites,d),dt=ds(je,Ar());if(null!=dt)Ee=dt;else{if(null==h)return[];Ee=Io(je,h)}if(Ee=Ee.withIndex(X),Ee.isEmpty()||Ee.isLeafNode())return[];{const sn=[],cn=X.getCompare(),Sn=V?Ee.getReverseIteratorFrom(_,X):Ee.getIteratorFrom(_,X);let mr=Sn.getNext();for(;mr&&sn.length<D;)0!==cn(mr,_)&&sn.push(mr),mr=Sn.getNext();return sn}}(p.writeTree,p.treePath,d,h,_,D,V)}(this.writes_,D,h,1,_,d);return 0===V.length?null:V[0]}}function Ya(p,d,h,_,D,V){const X=d.eventCache;if(null!=Bi(_,h))return d;{let Ee,je;if(Jn(h))if((0,H.vA)(d.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),d.serverCache.isFiltered()){const dt=ms(d),cn=vi(_,dt instanceof zr?dt:zr.EMPTY_NODE);Ee=p.filter.updateFullNode(d.eventCache.getNode(),cn,V)}else{const dt=or(_,ms(d));Ee=p.filter.updateFullNode(d.eventCache.getNode(),dt,V)}else{const dt=xn(h);if(".priority"===dt){(0,H.vA)(1===Ei(h),"Can't have a priority with additional path components");const sn=X.getNode();je=d.serverCache.getNode();const cn=ys(_,h,sn,je);Ee=null!=cn?p.filter.updatePriority(sn,cn):X.getNode()}else{const sn=Wn(h);let cn;if(X.isCompleteForChild(dt)){je=d.serverCache.getNode();const Sn=ys(_,h,X.getNode(),je);cn=null!=Sn?X.getNode().getImmediateChild(dt).updateChild(sn,Sn):X.getNode().getImmediateChild(dt)}else cn=io(_,dt,d.serverCache);Ee=null!=cn?p.filter.updateChild(X.getNode(),dt,cn,sn,D,V):X.getNode()}}return ra(d,Ee,X.isFullyInitialized()||Jn(h),p.filter.filtersNodes())}}function jo(p,d,h,_,D,V,X,Ee){const je=d.serverCache;let dt;const sn=X?p.filter:p.filter.getIndexedFilter();if(Jn(h))dt=sn.updateFullNode(je.getNode(),_,null);else if(sn.filtersNodes()&&!je.isFiltered()){const mr=je.getNode().updateChild(h,_);dt=sn.updateFullNode(je.getNode(),mr,null)}else{const mr=xn(h);if(!je.isCompleteForPath(h)&&Ei(h)>1)return d;const Fr=Wn(h),po=je.getNode().getImmediateChild(mr).updateChild(Fr,_);dt=".priority"===mr?sn.updatePriority(je.getNode(),po):sn.updateChild(je.getNode(),mr,po,Fr,$o,null)}const cn=Ka(d,dt,je.isFullyInitialized()||Jn(h),sn.filtersNodes());return Ya(p,cn,h,D,new ql(D,cn,V),Ee)}function bl(p,d,h,_,D,V,X){const Ee=d.eventCache;let je,dt;const sn=new ql(D,d,V);if(Jn(h))dt=p.filter.updateFullNode(d.eventCache.getNode(),_,X),je=ra(d,dt,!0,p.filter.filtersNodes());else{const cn=xn(h);if(".priority"===cn)dt=p.filter.updatePriority(d.eventCache.getNode(),_),je=ra(d,dt,Ee.isFullyInitialized(),Ee.isFiltered());else{const Sn=Wn(h),mr=Ee.getNode().getImmediateChild(cn);let Fr;if(Jn(Sn))Fr=_;else{const Ki=sn.getCompleteChild(cn);Fr=null!=Ki?".priority"===ts(Sn)&&Ki.getChild(_r(Sn)).isEmpty()?Ki:Ki.updateChild(Sn,_):zr.EMPTY_NODE}je=mr.equals(Fr)?d:ra(d,p.filter.updateChild(Ee.getNode(),cn,Fr,Sn,sn,X),Ee.isFullyInitialized(),p.filter.filtersNodes())}}return je}function $i(p,d){return p.eventCache.isCompleteForChild(d)}function fo(p,d,h){return h.foreach((_,D)=>{d=d.updateChild(_,D)}),d}function gr(p,d,h,_,D,V,X,Ee){if(d.serverCache.getNode().isEmpty()&&!d.serverCache.isFullyInitialized())return d;let dt,je=d;dt=Jn(h)?_:new Ji(null).setTree(h,_);const sn=d.serverCache.getNode();return dt.children.inorderTraversal((cn,Sn)=>{if(sn.hasChild(cn)){const Fr=fo(0,d.serverCache.getNode().getImmediateChild(cn),Sn);je=jo(p,je,new rr(cn),Fr,D,V,X,Ee)}}),dt.children.inorderTraversal((cn,Sn)=>{const mr=!d.serverCache.isCompleteForChild(cn)&&null===Sn.value;if(!sn.hasChild(cn)&&!mr){const Ki=fo(0,d.serverCache.getNode().getImmediateChild(cn),Sn);je=jo(p,je,new rr(cn),Ki,D,V,X,Ee)}}),je}class ya{constructor(d,h){this.query_=d,this.eventRegistrations_=[];const _=this.query_._queryParams,D=new Ce(_.getIndex()),V=function Ui(p){return p.loadsAllData()?new Ce(p.getIndex()):p.hasLimit()?new Nr(p):new _t(p)}(_);this.processor_=function Qa(p){return{filter:p}}(V);const X=h.serverCache,Ee=h.eventCache,je=D.updateFullNode(zr.EMPTY_NODE,X.getNode(),null),dt=V.updateFullNode(zr.EMPTY_NODE,Ee.getNode(),null),sn=new ta(je,X.isFullyInitialized(),D.filtersNodes()),cn=new ta(dt,Ee.isFullyInitialized(),V.filtersNodes());this.viewCache_=na(cn,sn),this.eventGenerator_=new fl(this.query_)}get query(){return this.query_}}function zc(p,d){const h=ms(p.viewCache_);return h&&(p.query._queryParams.loadsAllData()||!Jn(d)&&!h.getImmediateChild(xn(d)).isEmpty())?h.getChild(d):null}function Ns(p){return 0===p.eventRegistrations_.length}function Cu(p,d,h){const _=[];if(h){(0,H.vA)(null==d,"A cancel should cancel all event registrations.");const D=p.query._path;p.eventRegistrations_.forEach(V=>{const X=V.createCancelEvent(h,D);X&&_.push(X)})}if(d){let D=[];for(let V=0;V<p.eventRegistrations_.length;++V){const X=p.eventRegistrations_[V];if(X.matches(d)){if(d.hasAnyCallback()){D=D.concat(p.eventRegistrations_.slice(V+1));break}}else D.push(X)}p.eventRegistrations_=D}else p.eventRegistrations_=[];return _}function fs(p,d,h,_){d.type===_s.MERGE&&null!==d.source.queryId&&((0,H.vA)(ms(p.viewCache_),"We should always have a full cache before handling merges"),(0,H.vA)(Xa(p.viewCache_),"Missing event cache, even though we have a server cache"));const D=p.viewCache_,V=function oo(p,d,h,_,D){const V=new so;let X,Ee;if(h.type===_s.OVERWRITE){const dt=h;dt.source.fromUser?X=bl(p,d,dt.path,dt.snap,_,D,V):((0,H.vA)(dt.source.fromServer,"Unknown source."),Ee=dt.source.tagged||d.serverCache.isFiltered()&&!Jn(dt.path),X=jo(p,d,dt.path,dt.snap,_,D,Ee,V))}else if(h.type===_s.MERGE){const dt=h;dt.source.fromUser?X=function Ql(p,d,h,_,D,V,X){let Ee=d;return _.foreach((je,dt)=>{const sn=ii(h,je);$i(d,xn(sn))&&(Ee=bl(p,Ee,sn,dt,D,V,X))}),_.foreach((je,dt)=>{const sn=ii(h,je);$i(d,xn(sn))||(Ee=bl(p,Ee,sn,dt,D,V,X))}),Ee}(p,d,dt.path,dt.children,_,D,V):((0,H.vA)(dt.source.fromServer,"Unknown source."),Ee=dt.source.tagged||d.serverCache.isFiltered(),X=gr(p,d,dt.path,dt.children,_,D,Ee,V))}else if(h.type===_s.ACK_USER_WRITE){const dt=h;X=dt.revert?function ia(p,d,h,_,D,V){let X;if(null!=Bi(_,h))return d;{const Ee=new ql(_,d,D),je=d.eventCache.getNode();let dt;if(Jn(h)||".priority"===xn(h)){let sn;if(d.serverCache.isFullyInitialized())sn=or(_,ms(d));else{const cn=d.serverCache.getNode();(0,H.vA)(cn instanceof zr,"serverChildren would be complete if leaf node"),sn=vi(_,cn)}dt=p.filter.updateFullNode(je,sn,V)}else{const sn=xn(h);let cn=io(_,sn,d.serverCache);null==cn&&d.serverCache.isCompleteForChild(sn)&&(cn=je.getImmediateChild(sn)),dt=null!=cn?p.filter.updateChild(je,sn,cn,Wn(h),Ee,V):d.eventCache.getNode().hasChild(sn)?p.filter.updateChild(je,sn,zr.EMPTY_NODE,Wn(h),Ee,V):je,dt.isEmpty()&&d.serverCache.isFullyInitialized()&&(X=or(_,ms(d)),X.isLeafNode()&&(dt=p.filter.updateFullNode(dt,X,V)))}return X=d.serverCache.isFullyInitialized()||null!=Bi(_,Ar()),ra(d,dt,X,p.filter.filtersNodes())}}(p,d,dt.path,_,D,V):function Yl(p,d,h,_,D,V,X){if(null!=Bi(D,h))return d;const Ee=d.serverCache.isFiltered(),je=d.serverCache;if(null!=_.value){if(Jn(h)&&je.isFullyInitialized()||je.isCompleteForPath(h))return jo(p,d,h,je.getNode().getChild(h),D,V,Ee,X);if(Jn(h)){let dt=new Ji(null);return je.getNode().forEachChild(Di,(sn,cn)=>{dt=dt.set(new rr(sn),cn)}),gr(p,d,h,dt,D,V,Ee,X)}return d}{let dt=new Ji(null);return _.foreach((sn,cn)=>{const Sn=ii(h,sn);je.isCompleteForPath(Sn)&&(dt=dt.set(sn,je.getNode().getChild(Sn)))}),gr(p,d,h,dt,D,V,Ee,X)}}(p,d,dt.path,dt.affectedTree,_,D,V)}else{if(h.type!==_s.LISTEN_COMPLETE)throw(0,H.Hk)("Unknown operation type: "+h.type);X=function os(p,d,h,_,D){const V=d.serverCache;return Ya(p,Ka(d,V.getNode(),V.isFullyInitialized()||Jn(h),V.isFiltered()),h,_,$o,D)}(p,d,h.path,_,V)}const je=V.getChanges();return function _a(p,d,h){const _=d.eventCache;if(_.isFullyInitialized()){const D=_.getNode().isLeafNode()||_.getNode().isEmpty(),V=Xa(p);(h.length>0||!p.eventCache.isFullyInitialized()||D&&!_.getNode().equals(V)||!_.getNode().getPriority().equals(V.getPriority()))&&h.push(Ga(Xa(d)))}}(d,X,je),{viewCache:X,changes:je}}(p.processor_,D,d,h,_);return function ki(p,d){(0,H.vA)(d.eventCache.getNode().isIndexed(p.filter.getIndex()),"Event snap not indexed"),(0,H.vA)(d.serverCache.getNode().isIndexed(p.filter.getIndex()),"Server snap not indexed")}(p.processor_,V.viewCache),(0,H.vA)(V.viewCache.serverCache.isFullyInitialized()||!D.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),p.viewCache_=V.viewCache,Os(p,V.changes,V.viewCache.eventCache.getNode(),null)}function Os(p,d,h,_){return function pl(p,d,h,_){const D=[],V=[];return d.forEach(X=>{"child_changed"===X.type&&p.index_.indexedValueChanged(X.oldSnap,X.snapshotNode)&&V.push(function $(p,d){return{type:"child_moved",snapshotNode:d,childName:p}}(X.childName,X.snapshotNode))}),ho(p,D,"child_removed",d,_,h),ho(p,D,"child_added",d,_,h),ho(p,D,"child_moved",V,_,h),ho(p,D,"child_changed",d,_,h),ho(p,D,"value",d,_,h),D}(p.eventGenerator_,d,h,_?[_]:p.eventRegistrations_)}let sa,R;class oa{constructor(){this.views=new Map}}function Xc(p,d,h,_){const D=d.source.queryId;if(null!==D){const V=p.views.get(D);return(0,H.vA)(null!=V,"SyncTree gave us an op for an invalid query."),fs(V,d,h,_)}{let V=[];for(const X of p.views.values())V=V.concat(fs(X,d,h,_));return V}}function Yr(p,d,h,_,D){const X=p.views.get(d._queryIdentifier);if(!X){let Ee=or(h,D?_:null),je=!1;Ee?je=!0:_ instanceof zr?(Ee=vi(h,_),je=!1):(Ee=zr.EMPTY_NODE,je=!1);const dt=na(new ta(Ee,je,!1),new ta(_,D,!1));return new ya(d,dt)}return X}function _d(p){const d=[];for(const h of p.views.values())h.query._queryParams.loadsAllData()||d.push(h);return d}function Zl(p,d){let h=null;for(const _ of p.views.values())h=h||zc(_,d);return h}function ec(p,d){return d._queryParams.loadsAllData()?L(p):p.views.get(d._queryIdentifier)}function wu(p,d){return null!=ec(p,d)}function S(p){return null!=L(p)}function L(p){for(const d of p.views.values())if(d.query._queryParams.loadsAllData())return d;return null}let Ae=1;class Ye{constructor(d){this.listenProvider_=d,this.syncPointTree_=new Ji(null),this.pendingWriteTree_=function Rn(){return{visibleWrites:Ms.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function rn(p,d,h,_,D){return function M(p,d,h,_,D){(0,H.vA)(_>p.lastWriteId,"Stacking an older write on top of newer ones"),void 0===D&&(D=!0),p.allWrites.push({path:d,snap:h,writeId:_,visible:D}),D&&(p.visibleWrites=ml(p.visibleWrites,d,h)),p.lastWriteId=_}(p.pendingWriteTree_,d,h,_,D),D?qc(p,new uo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,h)):[]}function Kn(p,d,h=!1){const _=function B(p,d){for(let h=0;h<p.allWrites.length;h++){const _=p.allWrites[h];if(_.writeId===d)return _}return null}(p.pendingWriteTree_,d);if(function ne(p,d){const h=p.allWrites.findIndex(Ee=>Ee.writeId===d);(0,H.vA)(h>=0,"removeWrite called with nonexistent writeId.");const _=p.allWrites[h];p.allWrites.splice(h,1);let D=_.visible,V=!1,X=p.allWrites.length-1;for(;D&&X>=0;){const Ee=p.allWrites[X];Ee.visible&&(X>=h&&et(Ee,_.path)?D=!1:as(_.path,Ee.path)&&(V=!0)),X--}return!!D&&(V?(function an(p){p.visibleWrites=fr(p.allWrites,yn,Ar()),p.lastWriteId=p.allWrites.length>0?p.allWrites[p.allWrites.length-1].writeId:-1}(p),!0):(_.snap?p.visibleWrites=qa(p.visibleWrites,_.path):er(_.children,je=>{p.visibleWrites=qa(p.visibleWrites,ii(_.path,je))}),!0))}(p.pendingWriteTree_,d)){let V=new Ji(null);return null!=_.snap?V=V.set(Ar(),!0):er(_.children,X=>{V=V.set(new rr(X),!0)}),qc(p,new ro(_.path,V,h))}return[]}function Br(p,d,h){return qc(p,new uo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,h))}function oi(p,d,h,_,D=!1){const V=d._path,X=p.syncPointTree_.get(V);let Ee=[];if(X&&("default"===d._queryIdentifier||wu(X,d))){const je=function Yd(p,d,h,_){const D=d._queryIdentifier,V=[];let X=[];const Ee=S(p);if("default"===D)for(const[je,dt]of p.views.entries())X=X.concat(Cu(dt,h,_)),Ns(dt)&&(p.views.delete(je),dt.query._queryParams.loadsAllData()||V.push(dt.query));else{const je=p.views.get(D);je&&(X=X.concat(Cu(je,h,_)),Ns(je)&&(p.views.delete(D),je.query._queryParams.loadsAllData()||V.push(je.query)))}return Ee&&!S(p)&&V.push(new(function vl(){return(0,H.vA)(sa,"Reference.ts has not been loaded"),sa}())(d._repo,d._path)),{removed:V,events:X}}(X,d,h,_);(function Kc(p){return 0===p.views.size})(X)&&(p.syncPointTree_=p.syncPointTree_.remove(V));const dt=je.removed;if(Ee=je.events,!D){const sn=-1!==dt.findIndex(Sn=>Sn._queryParams.loadsAllData()),cn=p.syncPointTree_.findOnPath(V,(Sn,mr)=>S(mr));if(sn&&!cn){const Sn=p.syncPointTree_.subtree(V);if(!Sn.isEmpty()){const mr=function Ss(p){return p.fold((d,h,_)=>{if(h&&S(h))return[L(h)];{let D=[];return h&&(D=_d(h)),er(_,(V,X)=>{D=D.concat(X)}),D}})}(Sn);for(let Fr=0;Fr<mr.length;++Fr){const Ki=mr[Fr],po=Ki.query,Ul=Hs(p,Ki);p.listenProvider_.startListening(Al(po),_l(p,po),Ul.hashFn,Ul.onComplete)}}}!cn&&dt.length>0&&!_&&(sn?p.listenProvider_.stopListening(Al(d),null):dt.forEach(Sn=>{const mr=p.queryToTagMap.get(tc(Sn));p.listenProvider_.stopListening(Al(Sn),mr)}))}!function Ec(p,d){for(let h=0;h<d.length;++h){const _=d[h];if(!_._queryParams.loadsAllData()){const D=tc(_),V=p.queryToTagMap.get(D);p.queryToTagMap.delete(D),p.tagToQueryMap.delete(V)}}}(p,dt)}return Ee}function Ho(p,d,h,_){const D=Li(p,_);if(null!=D){const V=Va(D),X=V.path,Ee=V.queryId,je=ns(X,d);return Ia(p,X,new uo(hl(Ee),je,h))}return[]}function Fa(p,d,h,_=!1){const D=d._path;let V=null,X=!1;p.syncPointTree_.foreachOnPath(D,(Sn,mr)=>{const Fr=ns(Sn,D);V=V||Zl(mr,Fr),X=X||S(mr)});let je,Ee=p.syncPointTree_.get(D);Ee?(X=X||S(Ee),V=V||Zl(Ee,Ar())):(Ee=new oa,p.syncPointTree_=p.syncPointTree_.set(D,Ee)),null!=V?je=!0:(je=!1,V=zr.EMPTY_NODE,p.syncPointTree_.subtree(D).foreachChild((mr,Fr)=>{const Ki=Zl(Fr,Ar());Ki&&(V=V.updateImmediateChild(mr,Ki))}));const dt=wu(Ee,d);if(!dt&&!d._queryParams.loadsAllData()){const Sn=tc(d);(0,H.vA)(!p.queryToTagMap.has(Sn),"View does not exist, but we have a tag");const mr=function nc(){return Ae++}();p.queryToTagMap.set(Sn,mr),p.tagToQueryMap.set(mr,Sn)}let cn=function kh(p,d,h,_,D,V){const X=Yr(p,d,_,D,V);return p.views.has(d._queryIdentifier)||p.views.set(d._queryIdentifier,X),function hs(p,d){p.eventRegistrations_.push(d)}(X,h),function Jl(p,d){const h=p.viewCache_.eventCache,_=[];return h.getNode().isLeafNode()||h.getNode().forEachChild(Tr,(V,X)=>{_.push(Ao(V,X))}),h.isFullyInitialized()&&_.push(Ga(h.getNode())),Os(p,_,h.getNode(),d)}(X,h)}(Ee,d,h,La(p.pendingWriteTree_,D),V,je);if(!dt&&!X&&!_){const Sn=ec(Ee,d);cn=cn.concat(function Ta(p,d,h){const _=d._path,D=_l(p,d),V=Hs(p,h),X=p.listenProvider_.startListening(Al(d),D,V.hashFn,V.onComplete),Ee=p.syncPointTree_.subtree(_);if(D)(0,H.vA)(!S(Ee.value),"If we're adding a query, it shouldn't be shadowed");else{const je=Ee.fold((dt,sn,cn)=>{if(!Jn(dt)&&sn&&S(sn))return[L(sn).query];{let Sn=[];return sn&&(Sn=Sn.concat(_d(sn).map(mr=>mr.query))),er(cn,(mr,Fr)=>{Sn=Sn.concat(Fr)}),Sn}});for(let dt=0;dt<je.length;++dt){const sn=je[dt];p.listenProvider_.stopListening(Al(sn),_l(p,sn))}}return X}(p,d,Sn))}return cn}function vc(p,d,h){const D=p.pendingWriteTree_,V=p.syncPointTree_.findOnPath(d,(X,Ee)=>{const dt=Zl(Ee,ns(X,d));if(dt)return dt});return Ti(D,d,V,h,!0)}function qc(p,d){return _c(d,p.syncPointTree_,null,La(p.pendingWriteTree_,Ar()))}function _c(p,d,h,_){if(Jn(p.path))return yc(p,d,h,_);{const D=d.get(Ar());null==h&&null!=D&&(h=Zl(D,Ar()));let V=[];const X=xn(p.path),Ee=p.operationForChild(X),je=d.children.get(X);if(je&&Ee){const dt=h?h.getImmediateChild(X):null,sn=Ci(_,X);V=V.concat(_c(Ee,je,dt,sn))}return D&&(V=V.concat(Xc(D,p,_,h))),V}}function yc(p,d,h,_){const D=d.get(Ar());null==h&&null!=D&&(h=Zl(D,Ar()));let V=[];return d.children.inorderTraversal((X,Ee)=>{const je=h?h.getImmediateChild(X):null,dt=Ci(_,X),sn=p.operationForChild(X);sn&&(V=V.concat(yc(sn,Ee,je,dt)))}),D&&(V=V.concat(Xc(D,p,_,h))),V}function Hs(p,d){const h=d.query,_=_l(p,h);return{hashFn:()=>(function Ja(p){return p.viewCache_.serverCache.getNode()}(d)||zr.EMPTY_NODE).hash(),onComplete:D=>{if("ok"===D)return _?function aa(p,d,h){const _=Li(p,h);if(_){const D=Va(_),V=D.path,X=D.queryId,Ee=ns(V,d);return Ia(p,V,new Do(hl(X),Ee))}return[]}(p,h._path,_):function ps(p,d){return qc(p,new Do({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d))}(p,h._path);{const V=function Mr(p,d){let h="Unknown Error";"too_big"===p?h="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===p?h="Client doesn't have permission to access the desired data.":"unavailable"===p&&(h="The service is unavailable");const _=new Error(p+" at "+d._path.toString()+": "+h);return _.code=p.toUpperCase(),_}(D,h);return oi(p,h,null,V)}}}}function _l(p,d){const h=tc(d);return p.queryToTagMap.get(h)}function tc(p){return p._path.toString()+"$"+p._queryIdentifier}function Li(p,d){return p.tagToQueryMap.get(d)}function Va(p){const d=p.indexOf("$");return(0,H.vA)(-1!==d&&d<p.length-1,"Bad queryKey."),{queryId:p.substr(d+1),path:new rr(p.substr(0,d))}}function Ia(p,d,h){const _=p.syncPointTree_.get(d);return(0,H.vA)(_,"Missing sync point for query tag that we're tracking"),Xc(_,h,La(p.pendingWriteTree_,d),null)}function Al(p){return p._queryParams.loadsAllData()&&!p._queryParams.isDefault()?new(function te(){return(0,H.vA)(R,"Reference.ts has not been loaded"),R}())(p._repo,p._path):p}class ws{constructor(d){this.node_=d}getImmediateChild(d){const h=this.node_.getImmediateChild(d);return new ws(h)}node(){return this.node_}}class wi{constructor(d,h){this.syncTree_=d,this.path_=h}getImmediateChild(d){const h=ii(this.path_,d);return new wi(this.syncTree_,h)}node(){return vc(this.syncTree_,this.path_)}}const Lh=function(p){return(p=p||{}).timestamp=p.timestamp||(new Date).getTime(),p},la=function(p,d,h){return p&&"object"==typeof p?((0,H.vA)(".sv"in p,"Unexpected leaf node or priority contents"),"string"==typeof p[".sv"]?Ic(p[".sv"],d,h):"object"==typeof p[".sv"]?Jd(p[".sv"],d):void(0,H.vA)(!1,"Unexpected server value: "+JSON.stringify(p,null,2))):p},Ic=function(p,d,h){if("timestamp"===p)return h.timestamp;(0,H.vA)(!1,"Unexpected server value: "+p)},Jd=function(p,d,h){p.hasOwnProperty("increment")||(0,H.vA)(!1,"Unexpected server value: "+JSON.stringify(p,null,2));const _=p.increment;"number"!=typeof _&&(0,H.vA)(!1,"Unexpected increment value: "+_);const D=d.node();if((0,H.vA)(null!==D&&typeof D<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!D.isLeafNode())return _;const X=D.getValue();return"number"!=typeof X?_:X+_},bu=function(p,d,h,_){return rc(d,new wi(h,p),_)},Tc=function(p,d,h){return rc(p,new ws(d),h)};function rc(p,d,h){const _=p.getPriority().val(),D=la(_,d.getImmediateChild(".priority"),h);let V;if(p.isLeafNode()){const X=p,Ee=la(X.getValue(),d,h);return Ee!==X.getValue()||D!==X.getPriority().val()?new is(Ee,Vi(D)):p}{const X=p;return V=X,D!==X.getPriority().val()&&(V=V.updatePriority(new is(D))),X.forEachChild(Tr,(Ee,je)=>{const dt=rc(je,d.getImmediateChild(Ee),h);dt!==je&&(V=V.updateImmediateChild(Ee,dt))}),V}}class yl{constructor(d="",h=null,_={children:{},childCount:0}){this.name=d,this.parent=h,this.node=_}}function Za(p,d){let h=d instanceof rr?d:new rr(d),_=p,D=xn(h);for(;null!==D;){const V=(0,H.yw)(_.node.children,D)||{children:{},childCount:0};_=new yl(D,_,V),h=Wn(h),D=xn(h)}return _}function To(p){return p.node.value}function Wo(p,d){p.node.value=d,Au(p)}function Wr(p){return p.node.childCount>0}function Dl(p,d){er(p.node.children,(h,_)=>{d(new yl(h,p,_))})}function Qc(p,d,h,_){h&&!_&&d(p),Dl(p,D=>{Qc(D,d,!0,_)}),h&&_&&d(p)}function ic(p){return new rr(null===p.parent?p.name:ic(p.parent)+"/"+p.name)}function Au(p){null!==p.parent&&function Fh(p,d,h){const _=function Cc(p){return void 0===To(p)&&!Wr(p)}(h),D=(0,H.gR)(p.node.children,d);_&&D?(delete p.node.children[d],p.node.childCount--,Au(p)):!_&&!D&&(p.node.children[d]=h.node,p.node.childCount++,Au(p))}(p.parent,p.name,p)}const Vh=/[\[\].#$\/\u0000-\u001F\u007F]/,wc=/[\[\].#$\u0000-\u001F\u007F]/,Du=10485760,Yc=function(p){return"string"==typeof p&&0!==p.length&&!Vh.test(p)},bc=function(p){return"string"==typeof p&&0!==p.length&&!wc.test(p)},Su=function(p){return null===p||"string"==typeof p||"number"==typeof p&&!kn(p)||p&&"object"==typeof p&&(0,H.gR)(p,".sv")},tn=function(p,d,h,_){_&&void 0===d||ei((0,H.dI)(p,"value"),d,h)},ei=function(p,d,h){const _=h instanceof rr?new Js(h,p):h;if(void 0===d)throw new Error(p+"contains undefined "+O(_));if("function"==typeof d)throw new Error(p+"contains a function "+O(_)+" with contents = "+d.toString());if(kn(d))throw new Error(p+"contains "+d.toString()+" "+O(_));if("string"==typeof d&&d.length>Du/3&&(0,H.OE)(d)>Du)throw new Error(p+"contains a string greater than "+Du+" utf8 bytes "+O(_)+" ('"+d.substring(0,50)+"...')");if(d&&"object"==typeof d){let D=!1,V=!1;if(er(d,(X,Ee)=>{if(".value"===X)D=!0;else if(".priority"!==X&&".sv"!==X&&(V=!0,!Yc(X)))throw new Error(p+" contains an invalid key ("+X+") "+O(_)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Cs(p,d){p.parts_.length>0&&(p.byteLength_+=1),p.parts_.push(d),p.byteLength_+=(0,H.OE)(d),le(p)})(_,X),ei(p,Ee,_),function C(p){const d=p.parts_.pop();p.byteLength_-=(0,H.OE)(d),p.parts_.length>0&&(p.byteLength_-=1)}(_)}),D&&V)throw new Error(p+' contains ".value" child '+O(_)+" in addition to actual children.")}},Jc=function(p,d,h,_){if(_&&void 0===d)return;const D=(0,H.dI)(p,"values");if(!d||"object"!=typeof d||Array.isArray(d))throw new Error(D+" must be an object containing the children to replace.");const V=[];er(d,(X,Ee)=>{const je=new rr(X);if(ei(D,Ee,ii(h,je)),".priority"===ts(je)&&!Su(Ee))throw new Error(D+"contains an invalid value for '"+je.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");V.push(je)}),function(p,d){let h,_;for(h=0;h<d.length;h++){_=d[h];const V=Ai(_);for(let X=0;X<V.length;X++)if((".priority"!==V[X]||X!==V.length-1)&&!Yc(V[X]))throw new Error(p+"contains an invalid key ("+V[X]+") in path "+_.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}d.sort(Ii);let D=null;for(h=0;h<d.length;h++){if(_=d[h],null!==D&&as(D,_))throw new Error(p+"contains a path "+D.toString()+" that is ancestor of another path "+_.toString());D=_}}(D,V)},Si=function(p,d,h){if(!h||void 0!==d){if(kn(d))throw new Error((0,H.dI)(p,"priority")+"is "+d.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Su(d))throw new Error((0,H.dI)(p,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Co=function(p,d,h,_){if(!(_&&void 0===h||Yc(h)))throw new Error((0,H.dI)(p,d)+'was an invalid key = "'+h+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},el=function(p,d,h,_){if(!(_&&void 0===h||bc(h)))throw new Error((0,H.dI)(p,d)+'was an invalid path = "'+h+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ca=function(p,d,h,_){h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),el(p,d,h,_)},Mo=function(p,d){if(".info"===xn(d))throw new Error(p+" failed = Can't modify data under /.info/")},Zc=function(p,d){const h=d.path.toString();if("string"!=typeof d.repoInfo.host||0===d.repoInfo.host.length||!Yc(d.repoInfo.namespace)&&"localhost"!==d.repoInfo.host.split(":")[0]||0!==h.length&&!function(p){return p&&(p=p.replace(/^\/*\.info(\/|$)/,"/")),bc(p)}(h))throw new Error((0,H.dI)(p,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Id{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ru(p,d){let h=null;for(let _=0;_<d.length;_++){const D=d[_],V=D.getPath();null!==h&&!Fn(V,h.path)&&(p.eventLists_.push(h),h=null),null===h&&(h={events:[],path:V}),h.events.push(D)}h&&p.eventLists_.push(h)}function Vf(p,d,h){Ru(p,h),Sl(p,_=>Fn(_,d))}function zo(p,d,h){Ru(p,h),Sl(p,_=>as(_,d)||as(d,_))}function Sl(p,d){p.recursionDepth_++;let h=!0;for(let _=0;_<p.eventLists_.length;_++){const D=p.eventLists_[_];D&&(d(D.path)?(Td(p.eventLists_[_]),p.eventLists_[_]=null):h=!1)}h&&(p.eventLists_=[]),p.recursionDepth_--}function Td(p){for(let d=0;d<p.events.length;d++){const h=p.events[d];if(null!==h){p.events[d]=null;const _=h.getEventRunner();Se&&st("event: "+h.toString()),Ir(_)}}}const xo="repo_interrupt",El=25;class Ac{constructor(d,h,_,D){this.repoInfo_=d,this.forceRestClient_=h,this.authTokenProvider_=_,this.appCheckProvider_=D,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Id,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qr(),this.transactionQueueTree_=new yl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function tl(p){const h=p.infoData_.getNode(new rr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+h}function eu(p){return Lh({timestamp:tl(p)})}function Cd(p,d,h,_,D){p.dataUpdateCount++;const V=new rr(d);h=p.interceptServerDataCallback_?p.interceptServerDataCallback_(d,h):h;let X=[];if(D)if(_){const je=(0,H.kH)(h,dt=>Vi(dt));X=function Po(p,d,h,_){const D=Li(p,_);if(D){const V=Va(D),X=V.path,Ee=V.queryId,je=ns(X,d),dt=Ji.fromObject(h);return Ia(p,X,new So(hl(Ee),je,dt))}return[]}(p.serverSyncTree_,V,je,D)}else{const je=Vi(h);X=Ho(p.serverSyncTree_,V,je,D)}else if(_){const je=(0,H.kH)(h,dt=>Vi(dt));X=function Jr(p,d,h){const _=Ji.fromObject(h);return qc(p,new So({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,_))}(p.serverSyncTree_,V,je)}else{const je=Vi(h);X=Br(p.serverSyncTree_,V,je)}let Ee=V;X.length>0&&(Ee=Rl(p,V)),zo(p.eventQueue_,Ee,X)}function Pu(p,d){Mu(p,"connected",d),!1===d&&function Zd(p){No(p,"onDisconnectEvents");const d=eu(p),h=qr();Uo(p.onDisconnect_,Ar(),(D,V)=>{const X=bu(D,V,p.serverSyncTree_,d);Xi(h,D,X)});let _=[];Uo(h,Ar(),(D,V)=>{_=_.concat(Br(p.serverSyncTree_,D,V));const X=da(p,D);Rl(p,X)}),p.onDisconnect_=qr(),zo(p.eventQueue_,Ar(),_)}(p)}function Mu(p,d,h){const _=new rr("/.info/"+d),D=Vi(h);p.infoData_.updateSnapshot(_,D);const V=Br(p.infoSyncTree_,_,D);zo(p.eventQueue_,_,V)}function Ca(p){return p.nextWriteId_++}function Dc(p,d,h,_,D){No(p,"set",{path:d.toString(),value:h,priority:_});const V=eu(p),X=Vi(h,_),Ee=vc(p.serverSyncTree_,d),je=Tc(X,Ee,V),dt=Ca(p),sn=rn(p.serverSyncTree_,d,je,dt,!0);Ru(p.eventQueue_,sn),p.server_.put(d.toString(),X.val(!0),(Sn,mr)=>{const Fr="ok"===Sn;Fr||Ln("set at "+d+" failed: "+Sn);const Ki=Kn(p.serverSyncTree_,dt,!Fr);zo(p.eventQueue_,d,Ki),ji(0,D,Sn,mr)});const cn=da(p,d);Rl(p,cn),zo(p.eventQueue_,cn,[])}function nl(p,d,h){p.server_.onDisconnectCancel(d.toString(),(_,D)=>{"ok"===_&&Zr(p.onDisconnect_,d),ji(0,h,_,D)})}function tu(p,d,h,_){const D=Vi(h);p.server_.onDisconnectPut(d.toString(),D.val(!0),(V,X)=>{"ok"===V&&Xi(p.onDisconnect_,d,D),ji(0,_,V,X)})}function rl(p,d,h){let _;_=".info"===xn(d._path)?oi(p.infoSyncTree_,d,h):oi(p.serverSyncTree_,d,h),Vf(p.eventQueue_,d._path,_)}function oc(p){p.persistentConnection_&&p.persistentConnection_.interrupt(xo)}function No(p,...d){let h="";p.persistentConnection_&&(h=p.persistentConnection_.id+":"),st(h,...d)}function ji(p,d,h,_){d&&Ir(()=>{if("ok"===h)d(null);else{const D=(h||"error").toUpperCase();let V=D;_&&(V+=": "+_);const X=new Error(V);X.code=D,d(X)}})}function Nu(p,d,h){return vc(p.serverSyncTree_,d,h)||zr.EMPTY_NODE}function Ou(p,d=p.transactionQueueTree_){if(d||ac(p,d),To(d)){const h=ua(p,d);(0,H.vA)(h.length>0,"Sending zero length transaction queue"),h.every(D=>0===D.status)&&function wd(p,d,h){const _=h.map(dt=>dt.currentWriteId),D=Nu(p,d,_);let V=D;const X=D.hash();for(let dt=0;dt<h.length;dt++){const sn=h[dt];(0,H.vA)(0===sn.status,"tryToSendTransactionQueue_: items in queue should all be run."),sn.status=1,sn.retryCount++;const cn=ns(d,sn.path);V=V.updateChild(cn,sn.currentOutputSnapshotRaw)}const Ee=V.val(!0),je=d;p.server_.put(je.toString(),Ee,dt=>{No(p,"transaction put response",{path:je.toString(),status:dt});let sn=[];if("ok"===dt){const cn=[];for(let Sn=0;Sn<h.length;Sn++)h[Sn].status=2,sn=sn.concat(Kn(p.serverSyncTree_,h[Sn].currentWriteId)),h[Sn].onComplete&&cn.push(()=>h[Sn].onComplete(null,!0,h[Sn].currentOutputSnapshotResolved)),h[Sn].unwatcher();ac(p,Za(p.transactionQueueTree_,d)),Ou(p,p.transactionQueueTree_),zo(p.eventQueue_,d,sn);for(let Sn=0;Sn<cn.length;Sn++)Ir(cn[Sn])}else{if("datastale"===dt)for(let cn=0;cn<h.length;cn++)h[cn].status=3===h[cn].status?4:0;else{Ln("transaction at "+je.toString()+" failed: "+dt);for(let cn=0;cn<h.length;cn++)h[cn].status=4,h[cn].abortReason=dt}Rl(p,d)}},X)}(p,ic(d),h)}else Wr(d)&&Dl(d,h=>{Ou(p,h)})}function Rl(p,d){const h=Pl(p,d),_=ic(h);return function nh(p,d,h){if(0===d.length)return;const _=[];let D=[];const X=d.filter(Ee=>0===Ee.status).map(Ee=>Ee.currentWriteId);for(let Ee=0;Ee<d.length;Ee++){const je=d[Ee],dt=ns(h,je.path);let cn,sn=!1;if((0,H.vA)(null!==dt,"rerunTransactionsUnderNode_: relativePath should not be null."),4===je.status)sn=!0,cn=je.abortReason,D=D.concat(Kn(p.serverSyncTree_,je.currentWriteId,!0));else if(0===je.status)if(je.retryCount>=El)sn=!0,cn="maxretry",D=D.concat(Kn(p.serverSyncTree_,je.currentWriteId,!0));else{const Sn=Nu(p,je.path,X);je.currentInputSnapshot=Sn;const mr=d[Ee].update(Sn.val());if(void 0!==mr){ei("transaction failed: Data returned ",mr,je.path);let Fr=Vi(mr);"object"==typeof mr&&null!=mr&&(0,H.gR)(mr,".priority")||(Fr=Fr.updatePriority(Sn.getPriority()));const po=je.currentWriteId,Ul=eu(p),Bl=Tc(Fr,Sn,Ul);je.currentOutputSnapshotRaw=Fr,je.currentOutputSnapshotResolved=Bl,je.currentWriteId=Ca(p),X.splice(X.indexOf(po),1),D=D.concat(rn(p.serverSyncTree_,je.path,Bl,je.currentWriteId,je.applyLocally)),D=D.concat(Kn(p.serverSyncTree_,po,!0))}else sn=!0,cn="nodata",D=D.concat(Kn(p.serverSyncTree_,je.currentWriteId,!0))}zo(p.eventQueue_,h,D),D=[],sn&&(d[Ee].status=2,setTimeout(d[Ee].unwatcher,Math.floor(0)),d[Ee].onComplete&&_.push("nodata"===cn?()=>d[Ee].onComplete(null,!1,d[Ee].currentInputSnapshot):()=>d[Ee].onComplete(new Error(cn),!1,null)))}ac(p,p.transactionQueueTree_);for(let Ee=0;Ee<_.length;Ee++)Ir(_[Ee]);Ou(p,p.transactionQueueTree_)}(p,ua(p,h),_),_}function Pl(p,d){let h,_=p.transactionQueueTree_;for(h=xn(d);null!==h&&void 0===To(_);)_=Za(_,h),h=xn(d=Wn(d));return _}function ua(p,d){const h=[];return Sc(p,d,h),h.sort((_,D)=>_.order-D.order),h}function Sc(p,d,h){const _=To(d);if(_)for(let D=0;D<_.length;D++)h.push(_[D]);Dl(d,D=>{Sc(p,D,h)})}function ac(p,d){const h=To(d);if(h){let _=0;for(let D=0;D<h.length;D++)2!==h[D].status&&(h[_]=h[D],_++);h.length=_,Wo(d,h.length>0?h:void 0)}Dl(d,_=>{ac(p,_)})}function da(p,d){const h=ic(Pl(p,d)),_=Za(p.transactionQueueTree_,d);return function Zp(p,d,h){let _=h?p:p.parent;for(;null!==_;){if(d(_))return!0;_=_.parent}}(_,D=>{nu(p,D)}),nu(p,_),Qc(_,D=>{nu(p,D)}),h}function nu(p,d){const h=To(d);if(h){const _=[];let D=[],V=-1;for(let X=0;X<h.length;X++)3===h[X].status||(1===h[X].status?((0,H.vA)(V===X-1,"All SENT items should be at beginning of queue."),V=X,h[X].status=3,h[X].abortReason="set"):((0,H.vA)(0===h[X].status,"Unexpected transaction status in abort"),h[X].unwatcher(),D=D.concat(Kn(p.serverSyncTree_,h[X].currentWriteId,!0)),h[X].onComplete&&_.push(h[X].onComplete.bind(null,new Error("set"),!1,null))));-1===V?Wo(d,void 0):h.length=V+1,zo(p.eventQueue_,ic(d),D);for(let X=0;X<_.length;X++)Ir(_[X])}}const ku=function(p,d){const h=Ad(p),_=h.namespace;return"firebase.com"===h.domain&&hn(h.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!_||"undefined"===_)&&"localhost"!==h.domain&&hn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),h.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ln("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new $e(h.host,h.secure,_,"ws"===h.scheme||"wss"===h.scheme,d,"",_!==h.subdomain),path:new rr(h.pathString)}},Ad=function(p){let d="",h="",_="",D="",V="",X=!0,Ee="https",je=443;if("string"==typeof p){let dt=p.indexOf("//");dt>=0&&(Ee=p.substring(0,dt-1),p=p.substring(dt+2));let sn=p.indexOf("/");-1===sn&&(sn=p.length);let cn=p.indexOf("?");-1===cn&&(cn=p.length),d=p.substring(0,Math.min(sn,cn)),sn<cn&&(D=function rh(p){let d="";const h=p.split("/");for(let _=0;_<h.length;_++)if(h[_].length>0){let D=h[_];try{D=decodeURIComponent(D.replace(/\+/g," "))}catch{}d+="/"+D}return d}(p.substring(sn,cn)));const Sn=function bd(p){const d={};"?"===p.charAt(0)&&(p=p.substring(1));for(const h of p.split("&")){if(0===h.length)continue;const _=h.split("=");2===_.length?d[decodeURIComponent(_[0])]=decodeURIComponent(_[1]):Ln(`Invalid query segment '${h}' in query '${p}'`)}return d}(p.substring(Math.min(p.length,cn)));dt=d.indexOf(":"),dt>=0?(X="https"===Ee||"wss"===Ee,je=parseInt(d.substring(dt+1),10)):dt=d.length;const mr=d.slice(0,dt);if("localhost"===mr.toLowerCase())h="localhost";else if(mr.split(".").length<=2)h=mr;else{const Fr=d.indexOf(".");_=d.substring(0,Fr).toLowerCase(),h=d.substring(Fr+1),V=_}"ns"in Sn&&(V=Sn.ns)}return{host:d,port:je,domain:h,subdomain:_,secure:X,scheme:Ee,pathString:D,namespace:V}},Ba="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$a=function(){let p=0;const d=[];return function(h){const _=h===p;let D;p=h;const V=new Array(8);for(D=7;D>=0;D--)V[D]=Ba.charAt(h%64),h=Math.floor(h/64);(0,H.vA)(0===h,"Cannot push at time == 0");let X=V.join("");if(_){for(D=11;D>=0&&63===d[D];D--)d[D]=0;d[D]++}else for(D=0;D<12;D++)d[D]=Math.floor(64*Math.random());for(D=0;D<12;D++)X+=Ba.charAt(d[D]);return(0,H.vA)(20===X.length,"nextPushId: Length should be 20."),X}}();class Ml{constructor(d,h,_,D){this.eventType=d,this.eventRegistration=h,this.snapshot=_,this.prevName=D}getPath(){const d=this.snapshot.ref;return"value"===this.eventType?d._path:d.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,H.As)(this.snapshot.exportVal())}}class Lu{constructor(d,h,_){this.eventRegistration=d,this.error=h,this.path=_}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Fu{constructor(d,h){this.snapshotCallback=d,this.cancelCallback=h}onValue(d,h){this.snapshotCallback.call(null,d,h)}onCancel(d){return(0,H.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,d)}get hasCancelCallback(){return!!this.cancelCallback}matches(d){return this.snapshotCallback===d.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===d.snapshotCallback.userCallback&&this.snapshotCallback.context===d.snapshotCallback.context}}class ih{constructor(d,h){this._repo=d,this._path=h}cancel(){const d=new H.cY;return nl(this._repo,this._path,d.wrapCallback(()=>{})),d.promise}remove(){Mo("OnDisconnect.remove",this._path);const d=new H.cY;return tu(this._repo,this._path,null,d.wrapCallback(()=>{})),d.promise}set(d){Mo("OnDisconnect.set",this._path),tn("OnDisconnect.set",d,this._path,!1);const h=new H.cY;return tu(this._repo,this._path,d,h.wrapCallback(()=>{})),h.promise}setWithPriority(d,h){Mo("OnDisconnect.setWithPriority",this._path),tn("OnDisconnect.setWithPriority",d,this._path,!1),Si("OnDisconnect.setWithPriority",h,!1);const _=new H.cY;return function Uh(p,d,h,_,D){const V=Vi(h,_);p.server_.onDisconnectPut(d.toString(),V.val(!0),(X,Ee)=>{"ok"===X&&Xi(p.onDisconnect_,d,V),ji(0,D,X,Ee)})}(this._repo,this._path,d,h,_.wrapCallback(()=>{})),_.promise}update(d){Mo("OnDisconnect.update",this._path),Jc("OnDisconnect.update",d,this._path,!1);const h=new H.cY;return function eh(p,d,h,_){if((0,H.Im)(h))return st("onDisconnect().update() called with empty data.  Don't do anything."),void ji(0,_,"ok",void 0);p.server_.onDisconnectMerge(d.toString(),h,(D,V)=>{"ok"===D&&er(h,(X,Ee)=>{const je=Vi(Ee);Xi(p.onDisconnect_,ii(d,X),je)}),ji(0,_,D,V)})}(this._repo,this._path,d,h.wrapCallback(()=>{})),h.promise}}class ha{constructor(d,h,_,D){this._repo=d,this._path=h,this._queryParams=_,this._orderByCalled=D}get key(){return Jn(this._path)?null:ts(this._path)}get ref(){return new Oo(this._repo,this._path)}get _queryIdentifier(){const d=_o(this._queryParams),h=On(d);return"{}"===h?"default":h}get _queryObject(){return _o(this._queryParams)}isEqual(d){if(!((d=(0,H.Ku)(d))instanceof ha))return!1;const h=this._repo===d._repo,_=Fn(this._path,d._path);return h&&_&&this._queryIdentifier===d._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Lo(p){let d="";for(let h=p.pieceNum_;h<p.pieces_.length;h++)""!==p.pieces_[h]&&(d+="/"+encodeURIComponent(String(p.pieces_[h])));return d||"/"}(this._path)}}function Rc(p,d){if(!0===p._orderByCalled)throw new Error(d+": You can't combine multiple orderBy calls.")}function xl(p){let d=null,h=null;if(p.hasStart()&&(d=p.getIndexStartValue()),p.hasEnd()&&(h=p.getIndexEndValue()),p.getIndex()===Di){const _="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",D="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(p.hasStart()){if(p.getIndexStartName()!==zn)throw new Error(_);if("string"!=typeof d)throw new Error(D)}if(p.hasEnd()){if(p.getIndexEndName()!==Yn)throw new Error(_);if("string"!=typeof h)throw new Error(D)}}else if(p.getIndex()===Tr){if(null!=d&&!Su(d)||null!=h&&!Su(h))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,H.vA)(p.getIndex()instanceof Na||p.getIndex()===Kl,"unknown index type."),null!=d&&"object"==typeof d||null!=h&&"object"==typeof h)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function sh(p){if(p.hasStart()&&p.hasEnd()&&p.hasLimit()&&!p.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Oo extends ha{constructor(d,h){super(d,h,new Qr,!1)}get parent(){const d=_r(this._path);return null===d?null:new Oo(this._repo,d)}get root(){let d=this;for(;null!==d.parent;)d=d.parent;return d}}class Ws{constructor(d,h,_){this._node=d,this.ref=h,this._index=_}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(d){const h=new rr(d),_=Ol(this.ref,d);return new Ws(this._node.getChild(h),_,Tr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(d){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(_,D)=>d(new Ws(D,Ol(this.ref,_),Tr)))}hasChild(d){const h=new rr(d);return!this._node.getChild(h).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Vu(p,d){return(p=(0,H.Ku)(p))._checkNotDeleted("ref"),void 0!==d?Ol(p._root,d):p._root}function Nl(p,d){(p=(0,H.Ku)(p))._checkNotDeleted("refFromURL");const h=ku(d,p._repo.repoInfo_.nodeAdmin);Zc("refFromURL",h);const _=h.repoInfo;return!p._repo.repoInfo_.isCustomHost()&&_.host!==p._repo.repoInfo_.host&&hn("refFromURL: Host name does not match the current database: (found "+_.host+" but expected "+p._repo.repoInfo_.host+")"),Vu(p,h.path.toString())}function Ol(p,d){return null===xn((p=(0,H.Ku)(p))._path)?ca("child","path",d,!1):el("child","path",d,!1),new Oo(p._repo,ii(p._path,d))}function Pc(p,d){p=(0,H.Ku)(p),Mo("set",p._path),tn("set",d,p._path,!1);const h=new H.cY;return Dc(p._repo,p._path,d,null,h.wrapCallback(()=>{})),h.promise}function xc(p,d){Jc("update",d,p._path,!1);const h=new H.cY;return function Bf(p,d,h,_){No(p,"update",{path:d.toString(),value:h});let D=!0;const V=eu(p),X={};if(er(h,(Ee,je)=>{D=!1,X[Ee]=bu(ii(d,Ee),Vi(je),p.serverSyncTree_,V)}),D)st("update() called with empty data.  Don't do anything."),ji(0,_,"ok",void 0);else{const Ee=Ca(p),je=function Lt(p,d,h,_){!function oe(p,d,h,_){(0,H.vA)(_>p.lastWriteId,"Stacking an older merge on top of newer ones"),p.allWrites.push({path:d,children:h,writeId:_,visible:!0}),p.visibleWrites=Bo(p.visibleWrites,d,h),p.lastWriteId=_}(p.pendingWriteTree_,d,h,_);const D=Ji.fromObject(h);return qc(p,new So({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,D))}(p.serverSyncTree_,d,X,Ee);Ru(p.eventQueue_,je),p.server_.merge(d.toString(),h,(dt,sn)=>{const cn="ok"===dt;cn||Ln("update at "+d+" failed: "+dt);const Sn=Kn(p.serverSyncTree_,Ee,!cn),mr=Sn.length>0?Rl(p,d):d;zo(p.eventQueue_,mr,Sn),ji(0,_,dt,sn)}),er(h,dt=>{const sn=da(p,ii(d,dt));Rl(p,sn)}),zo(p.eventQueue_,d,[])}}(p._repo,p._path,d,h.wrapCallback(()=>{})),h.promise}function Dd(p){p=(0,H.Ku)(p);const d=new Fu(()=>{}),h=new Go(d);return function sc(p,d,h){const _=function Ea(p,d){const h=d._path;let _=null;p.syncPointTree_.foreachOnPath(h,(dt,sn)=>{const cn=ns(dt,h);_=_||Zl(sn,cn)});let D=p.syncPointTree_.get(h);D?_=_||Zl(D,Ar()):(D=new oa,p.syncPointTree_=p.syncPointTree_.set(h,D));const V=null!=_,X=V?new ta(_,!0,!1):null;return function Es(p){return Xa(p.viewCache_)}(Yr(D,d,La(p.pendingWriteTree_,d._path),V?X.getNode():zr.EMPTY_NODE,V))}(p.serverSyncTree_,d);return null!=_?Promise.resolve(_):p.server_.get(d).then(D=>{const V=Vi(D).withIndex(d._queryParams.getIndex());let X;if(Fa(p.serverSyncTree_,d,h,!0),d._queryParams.loadsAllData())X=Br(p.serverSyncTree_,d._path,V);else{const Ee=_l(p.serverSyncTree_,d);X=Ho(p.serverSyncTree_,d._path,V,Ee)}return zo(p.eventQueue_,d._path,X),oi(p.serverSyncTree_,d,h,null,!0),V},D=>(No(p,"get for query "+(0,H.As)(d)+" failed: "+D),Promise.reject(new Error(D))))}(p._repo,p,h).then(_=>new Ws(_,new Oo(p._repo,p._path),p._queryParams.getIndex()))}class Go{constructor(d){this.callbackContext=d}respondsTo(d){return"value"===d}createEvent(d,h){const _=h._queryParams.getIndex();return new Ml("value",this,new Ws(d.snapshotNode,new Oo(h._repo,h._path),_))}getEventRunner(d){return"cancel"===d.getEventType()?()=>this.callbackContext.onCancel(d.error):()=>this.callbackContext.onValue(d.snapshot,null)}createCancelEvent(d,h){return this.callbackContext.hasCancelCallback?new Lu(this,d,h):null}matches(d){return d instanceof Go&&(!d.callbackContext||!this.callbackContext||d.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ao{constructor(d,h){this.eventType=d,this.callbackContext=h}respondsTo(d){let h="children_added"===d?"child_added":d;return h="children_removed"===h?"child_removed":h,this.eventType===h}createCancelEvent(d,h){return this.callbackContext.hasCancelCallback?new Lu(this,d,h):null}createEvent(d,h){(0,H.vA)(null!=d.childName,"Child events should have a childName.");const _=Ol(new Oo(h._repo,h._path),d.childName),D=h._queryParams.getIndex();return new Ml(d.type,this,new Ws(d.snapshotNode,_,D),d.prevName)}getEventRunner(d){return"cancel"===d.getEventType()?()=>this.callbackContext.onCancel(d.error):()=>this.callbackContext.onValue(d.snapshot,d.prevName)}matches(d){return d instanceof ao&&this.eventType===d.eventType&&(!this.callbackContext||!d.callbackContext||this.callbackContext.matches(d.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function kl(p,d,h,_,D){let V;if("object"==typeof _&&(V=void 0,D=_),"function"==typeof _&&(V=_),D&&D.onlyOnce){const je=h,dt=(sn,cn)=>{rl(p._repo,p,Ee),je(sn,cn)};dt.userCallback=h.userCallback,dt.context=h.context,h=dt}const X=new Fu(h,V||void 0),Ee="value"===d?new Go(X):new ao(d,X);return function xu(p,d,h){let _;_=".info"===xn(d._path)?Fa(p.infoSyncTree_,d,h):Fa(p.serverSyncTree_,d,h),Vf(p.eventQueue_,d._path,_)}(p._repo,p,Ee),()=>rl(p._repo,p,Ee)}function lc(p,d,h,_){return kl(p,"value",d,h,_)}function ou(p,d,h,_){return kl(p,"child_added",d,h,_)}function Nc(p,d,h,_){return kl(p,"child_changed",d,h,_)}function wa(p,d,h,_){return kl(p,"child_moved",d,h,_)}function Oc(p,d,h,_){return kl(p,"child_removed",d,h,_)}function Sd(p,d,h){let _=null;const D=h?new Fu(h):null;"value"===d?_=new Go(D):d&&(_=new ao(d,D)),rl(p._repo,p,_)}class qs{}class Uu extends qs{constructor(d,h){super(),this._value=d,this._key=h,this.type="endAt"}_apply(d){tn("endAt",this._value,d._path,!0);const h=Ni(d._queryParams,this._value,this._key);if(sh(h),xl(h),d._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ha(d._repo,d._path,h,d._orderByCalled)}}class Bh extends qs{constructor(d,h){super(),this._value=d,this._key=h,this.type="endBefore"}_apply(d){tn("endBefore",this._value,d._path,!1);const h=function cl(p,d,h){let _;return _=Ni(p,d,p.index_===Di||h?h:zn),_.endBeforeSet_=!0,_}(d._queryParams,this._value,this._key);if(sh(h),xl(h),d._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ha(d._repo,d._path,h,d._orderByCalled)}}class Ll extends qs{constructor(d,h){super(),this._value=d,this._key=h,this.type="startAt"}_apply(d){tn("startAt",this._value,d._path,!0);const h=Xl(d._queryParams,this._value,this._key);if(sh(h),xl(h),d._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ha(d._repo,d._path,h,d._orderByCalled)}}class ah extends qs{constructor(d,h){super(),this._value=d,this._key=h,this.type="startAfter"}_apply(d){tn("startAfter",this._value,d._path,!1);const h=function mc(p,d,h){let _;return _=Xl(p,d,p.index_===Di||h?h:Yn),_.startAfterSet_=!0,_}(d._queryParams,this._value,this._key);if(sh(h),xl(h),d._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ha(d._repo,d._path,h,d._orderByCalled)}}class Lc extends qs{constructor(d){super(),this._limit=d,this.type="limitToFirst"}_apply(d){if(d._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ha(d._repo,d._path,function Vo(p,d){const h=p.copy();return h.limitSet_=!0,h.limit_=d,h.viewFrom_="l",h}(d._queryParams,this._limit),d._orderByCalled)}}class ks extends qs{constructor(d){super(),this._limit=d,this.type="limitToLast"}_apply(d){if(d._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ha(d._repo,d._path,function vo(p,d){const h=p.copy();return h.limitSet_=!0,h.limit_=d,h.viewFrom_="r",h}(d._queryParams,this._limit),d._orderByCalled)}}class lu extends qs{constructor(d){super(),this._path=d,this.type="orderByChild"}_apply(d){Rc(d,"orderByChild");const h=new rr(this._path);if(Jn(h))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const _=new Na(h),D=gs(d._queryParams,_);return xl(D),new ha(d._repo,d._path,D,!0)}}class jh extends qs{constructor(){super(...arguments),this.type="orderByKey"}_apply(d){Rc(d,"orderByKey");const h=gs(d._queryParams,Di);return xl(h),new ha(d._repo,d._path,h,!0)}}class Il extends qs{constructor(){super(...arguments),this.type="orderByPriority"}_apply(d){Rc(d,"orderByPriority");const h=gs(d._queryParams,Tr);return xl(h),new ha(d._repo,d._path,h,!0)}}class uh extends qs{constructor(){super(...arguments),this.type="orderByValue"}_apply(d){Rc(d,"orderByValue");const h=gs(d._queryParams,Kl);return xl(h),new ha(d._repo,d._path,h,!0)}}class cu extends qs{constructor(d,h){super(),this._value=d,this._key=h,this.type="equalTo"}_apply(d){if(tn("equalTo",this._value,d._path,!1),d._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(d._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Uu(this._value,this._key)._apply(new Ll(this._value,this._key)._apply(d))}}function ja(p,...d){let h=(0,H.Ku)(p);for(const _ of d)h=_._apply(h);return h}(function Gc(p){(0,H.vA)(!sa,"__referenceConstructor has already been defined"),sa=p})(Oo),function F(p){(0,H.vA)(!R,"__referenceConstructor has already been defined"),R=p}(Oo);const Hu={};function cc(p,d,h,_,D){let V=_||p.options.databaseURL;void 0===V&&(p.options.projectId||hn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),st("Using default host for project ",p.options.projectId),V=`${p.options.projectId}-default-rtdb.firebaseio.com`);let je,dt,X=ku(V,D),Ee=X.repoInfo;typeof process<"u"&&process.env&&(dt=process.env.FIREBASE_DATABASE_EMULATOR_HOST),dt?(je=!0,V=`http://${dt}?ns=${Ee.namespace}`,X=ku(V,D),Ee=X.repoInfo):je=!X.repoInfo.secure;const sn=D&&je?new ui(ui.OWNER):new Rr(p.name,p.options,d);Zc("Invalid Firebase Database URL",X),Jn(X.path)||hn("Database URL must point to the root of a Firebase Database (not including a child path).");const cn=function Hf(p,d,h,_){let D=Hu[d.name];D||(D={},Hu[d.name]=D);let V=D[p.toURLString()];return V&&hn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),V=new Ac(p,false,h,_),D[p.toURLString()]=V,V}(Ee,p,sn,new ci(p.name,h));return new uu(cn,p)}class uu{constructor(d,h){this._repoInternal=d,this.app=h,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ua(p,d,h){if(p.stats_=Gr(p.repoInfo_),p.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)p.server_=new ea(p.repoInfo_,(_,D,V,X)=>{Cd(p,_,D,V,X)},p.authTokenProvider_,p.appCheckProvider_),setTimeout(()=>Pu(p,!0),0);else{if(typeof h<"u"&&null!==h){if("object"!=typeof h)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.As)(h)}catch(_){throw new Error("Invalid authOverride provided: "+_)}}p.persistentConnection_=new Un(p.repoInfo_,d,(_,D,V,X)=>{Cd(p,_,D,V,X)},_=>{Pu(p,_)},_=>{!function Uf(p,d){er(d,(h,_)=>{Mu(p,h,_)})}(p,_)},p.authTokenProvider_,p.appCheckProvider_,h),p.server_=p.persistentConnection_}p.authTokenProvider_.addTokenChangeListener(_=>{p.server_.refreshAuthToken(_)}),p.appCheckProvider_.addTokenChangeListener(_=>{p.server_.refreshAppCheckToken(_.token)}),p.statsReporter_=function ai(p,d){const h=p.toString();return Qn[h]||(Qn[h]=d()),Qn[h]}(p.repoInfo_,()=>new dl(p.stats_,p.server_)),p.infoData_=new Ps,p.infoSyncTree_=new Ye({startListening:(_,D,V,X)=>{let Ee=[];const je=p.infoData_.getNode(_._path);return je.isEmpty()||(Ee=Br(p.infoSyncTree_,_._path,je),setTimeout(()=>{X("ok")},0)),Ee},stopListening:()=>{}}),Mu(p,"connected",!1),p.serverSyncTree_=new Ye({startListening:(_,D,V,X)=>(p.server_.listen(_,V,D,(Ee,je)=>{const dt=X(Ee,je);zo(p.eventQueue_,_._path,dt)}),[]),stopListening:(_,D)=>{p.server_.unlisten(_,D)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Oo(this._repo,Ar())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Hh(p,d){const h=Hu[d];(!h||h[p.key]!==p)&&hn(`Database ${d}(${p.repoInfo_}) has already been deleted.`),oc(p),delete h[p.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(d){null===this._rootInternal&&hn("Cannot call "+d+" on a deleted database.")}}function dh(){Ht.IS_TRANSPORT_INITIALIZED&&Ln("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Qs(){dh(),gt.forceDisallow()}function hh(){dh(),Je.forceDisallow(),gt.forceAllow()}function Vc(p,d){he(p,d)}const Ys={".sv":"timestamp"};class uc{constructor(d,h){this.committed=d,this.snapshot=h}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Un.prototype.simpleListen=function(p,d){this.sendRequest("q",{p},d)},Un.prototype.echo=function(p,d){this.sendRequest("echo",{d:p},d)},function du(p){kt(bt.SDK_VERSION),(0,bt._registerComponent)(new qe.uA("database",(d,{instanceIdentifier:h})=>cc(d.getProvider("app").getImmediate(),d.getProvider("auth-internal"),d.getProvider("app-check-internal"),h),"PUBLIC").setMultipleInstances(!0)),(0,bt.registerVersion)(wt,"1.0.8",p),(0,bt.registerVersion)(wt,"1.0.8","esm2017")}();const eg=new He.Vy("@firebase/database-compat"),Xu=function(p){eg.warn("FIREBASE WARNING: "+p)};class T{constructor(d){this._delegate=d}cancel(d){(0,H.od)("OnDisconnect.cancel",0,1,arguments.length),(0,H.oD)("OnDisconnect.cancel","onComplete",d,!0);const h=this._delegate.cancel();return d&&h.then(()=>d(null),_=>d(_)),h}remove(d){(0,H.od)("OnDisconnect.remove",0,1,arguments.length),(0,H.oD)("OnDisconnect.remove","onComplete",d,!0);const h=this._delegate.remove();return d&&h.then(()=>d(null),_=>d(_)),h}set(d,h){(0,H.od)("OnDisconnect.set",1,2,arguments.length),(0,H.oD)("OnDisconnect.set","onComplete",h,!0);const _=this._delegate.set(d);return h&&_.then(()=>h(null),D=>h(D)),_}setWithPriority(d,h,_){(0,H.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,H.oD)("OnDisconnect.setWithPriority","onComplete",_,!0);const D=this._delegate.setWithPriority(d,h);return _&&D.then(()=>_(null),V=>_(V)),D}update(d,h){if((0,H.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(d)){const D={};for(let V=0;V<d.length;++V)D[""+V]=d[V];d=D,Xu("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,H.oD)("OnDisconnect.update","onComplete",h,!0);const _=this._delegate.update(d);return h&&_.then(()=>h(null),D=>h(D)),_}}class g{constructor(d,h){this.committed=d,this.snapshot=h}toJSON(){return(0,H.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class v{constructor(d,h){this._database=d,this._delegate=h}val(){return(0,H.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,H.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,H.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,H.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(d){return(0,H.od)("DataSnapshot.child",0,1,arguments.length),d=String(d),el("DataSnapshot.child","path",d,!1),new v(this._database,this._delegate.child(d))}hasChild(d){return(0,H.od)("DataSnapshot.hasChild",1,1,arguments.length),el("DataSnapshot.hasChild","path",d,!1),this._delegate.hasChild(d)}getPriority(){return(0,H.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(d){return(0,H.od)("DataSnapshot.forEach",1,1,arguments.length),(0,H.oD)("DataSnapshot.forEach","action",d,!1),this._delegate.forEach(h=>d(new v(this._database,h)))}hasChildren(){return(0,H.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,H.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,H.od)("DataSnapshot.ref",0,0,arguments.length),new z(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class b{constructor(d,h){this.database=d,this._delegate=h}on(d,h,_,D){var V;(0,H.od)("Query.on",2,4,arguments.length),(0,H.oD)("Query.on","callback",h,!1);const X=b.getCancelAndContextArgs_("Query.on",_,D),Ee=(dt,sn)=>{h.call(X.context,new v(this.database,dt),sn)};Ee.userCallback=h,Ee.context=X.context;const je=null===(V=X.cancel)||void 0===V?void 0:V.bind(X.context);switch(d){case"value":return lc(this._delegate,Ee,je),h;case"child_added":return ou(this._delegate,Ee,je),h;case"child_removed":return Oc(this._delegate,Ee,je),h;case"child_changed":return Nc(this._delegate,Ee,je),h;case"child_moved":return wa(this._delegate,Ee,je),h;default:throw new Error((0,H.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(d,h,_){if((0,H.od)("Query.off",0,3,arguments.length),function(p,d){if(void 0!==d)switch(d){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,H.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,d),(0,H.oD)("Query.off","callback",h,!0),(0,H.HN)("Query.off","context",_,!0),h){const D=()=>{};D.userCallback=h,D.context=_,Sd(this._delegate,d,D)}else Sd(this._delegate,d)}get(){return Dd(this._delegate).then(d=>new v(this.database,d))}once(d,h,_,D){(0,H.od)("Query.once",1,4,arguments.length),(0,H.oD)("Query.once","callback",h,!0);const V=b.getCancelAndContextArgs_("Query.once",_,D),X=new H.cY,Ee=(dt,sn)=>{const cn=new v(this.database,dt);h&&h.call(V.context,cn,sn),X.resolve(cn)};Ee.userCallback=h,Ee.context=V.context;const je=dt=>{V.cancel&&V.cancel.call(V.context,dt),X.reject(dt)};switch(d){case"value":lc(this._delegate,Ee,je,{onlyOnce:!0});break;case"child_added":ou(this._delegate,Ee,je,{onlyOnce:!0});break;case"child_removed":Oc(this._delegate,Ee,je,{onlyOnce:!0});break;case"child_changed":Nc(this._delegate,Ee,je,{onlyOnce:!0});break;case"child_moved":wa(this._delegate,Ee,je,{onlyOnce:!0});break;default:throw new Error((0,H.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return X.promise}limitToFirst(d){return(0,H.od)("Query.limitToFirst",1,1,arguments.length),new b(this.database,ja(this._delegate,function au(p){if("number"!=typeof p||Math.floor(p)!==p||p<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Lc(p)}(d)))}limitToLast(d){return(0,H.od)("Query.limitToLast",1,1,arguments.length),new b(this.database,ja(this._delegate,function $h(p){if("number"!=typeof p||Math.floor(p)!==p||p<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ks(p)}(d)))}orderByChild(d){return(0,H.od)("Query.orderByChild",1,1,arguments.length),new b(this.database,ja(this._delegate,function Rd(p){if("$key"===p)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===p)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===p)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return el("orderByChild","path",p,!1),new lu(p)}(d)))}orderByKey(){return(0,H.od)("Query.orderByKey",0,0,arguments.length),new b(this.database,ja(this._delegate,function ch(){return new jh}()))}orderByPriority(){return(0,H.od)("Query.orderByPriority",0,0,arguments.length),new b(this.database,ja(this._delegate,function Bu(){return new Il}()))}orderByValue(){return(0,H.od)("Query.orderByValue",0,0,arguments.length),new b(this.database,ja(this._delegate,function $u(){return new uh}()))}startAt(d=null,h){return(0,H.od)("Query.startAt",0,2,arguments.length),new b(this.database,ja(this._delegate,function $f(p=null,d){return Co("startAt","key",d,!0),new Ll(p,d)}(d,h)))}startAfter(d=null,h){return(0,H.od)("Query.startAfter",0,2,arguments.length),new b(this.database,ja(this._delegate,function lh(p,d){return Co("startAfter","key",d,!0),new ah(p,d)}(d,h)))}endAt(d=null,h){return(0,H.od)("Query.endAt",0,2,arguments.length),new b(this.database,ja(this._delegate,function kc(p,d){return Co("endAt","key",d,!0),new Uu(p,d)}(d,h)))}endBefore(d=null,h){return(0,H.od)("Query.endBefore",0,2,arguments.length),new b(this.database,ja(this._delegate,function fa(p,d){return Co("endBefore","key",d,!0),new Bh(p,d)}(d,h)))}equalTo(d,h){return(0,H.od)("Query.equalTo",1,2,arguments.length),new b(this.database,ja(this._delegate,function ju(p,d){return Co("equalTo","key",d,!0),new cu(p,d)}(d,h)))}toString(){return(0,H.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,H.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(d){if((0,H.od)("Query.isEqual",1,1,arguments.length),!(d instanceof b))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(d._delegate)}static getCancelAndContextArgs_(d,h,_){const D={cancel:void 0,context:void 0};if(h&&_)D.cancel=h,(0,H.oD)(d,"cancel",D.cancel,!0),D.context=_,(0,H.HN)(d,"context",D.context,!0);else if(h)if("object"==typeof h&&null!==h)D.context=h;else{if("function"!=typeof h)throw new Error((0,H.dI)(d,"cancelOrContext")+" must either be a cancel callback or a context object.");D.cancel=h}return D}get ref(){return new z(this.database,new Oo(this._delegate._repo,this._delegate._path))}}class z extends b{constructor(d,h){super(d,new ha(h._repo,h._path,new Qr,!1)),this.database=d,this._delegate=h}getKey(){return(0,H.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(d){return(0,H.od)("Reference.child",1,1,arguments.length),"number"==typeof d&&(d=String(d)),new z(this.database,Ol(this._delegate,d))}getParent(){(0,H.od)("Reference.parent",0,0,arguments.length);const d=this._delegate.parent;return d?new z(this.database,d):null}getRoot(){return(0,H.od)("Reference.root",0,0,arguments.length),new z(this.database,this._delegate.root)}set(d,h){(0,H.od)("Reference.set",1,2,arguments.length),(0,H.oD)("Reference.set","onComplete",h,!0);const _=Pc(this._delegate,d);return h&&_.then(()=>h(null),D=>h(D)),_}update(d,h){if((0,H.od)("Reference.update",1,2,arguments.length),Array.isArray(d)){const D={};for(let V=0;V<d.length;++V)D[""+V]=d[V];d=D,Xu("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Mo("Reference.update",this._delegate._path),(0,H.oD)("Reference.update","onComplete",h,!0);const _=xc(this._delegate,d);return h&&_.then(()=>h(null),D=>h(D)),_}setWithPriority(d,h,_){(0,H.od)("Reference.setWithPriority",2,3,arguments.length),(0,H.oD)("Reference.setWithPriority","onComplete",_,!0);const D=function su(p,d,h){if(Mo("setWithPriority",p._path),tn("setWithPriority",d,p._path,!1),Si("setWithPriority",h,!1),".length"===p.key||".keys"===p.key)throw"setWithPriority failed: "+p.key+" is a read-only object.";const _=new H.cY;return Dc(p._repo,p._path,d,h,_.wrapCallback(()=>{})),_.promise}(this._delegate,d,h);return _&&D.then(()=>_(null),V=>_(V)),D}remove(d){(0,H.od)("Reference.remove",0,1,arguments.length),(0,H.oD)("Reference.remove","onComplete",d,!0);const h=function oh(p){return Mo("remove",p._path),Pc(p,null)}(this._delegate);return d&&h.then(()=>d(null),_=>d(_)),h}transaction(d,h,_){(0,H.od)("Reference.transaction",1,3,arguments.length),(0,H.oD)("Reference.transaction","transactionUpdate",d,!1),(0,H.oD)("Reference.transaction","onComplete",h,!0),function(p,d,h){if(void 0!==h&&"boolean"!=typeof h)throw new Error((0,H.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,_);const D=function dc(p,d,h){var _;if(p=(0,H.Ku)(p),Mo("Reference.transaction",p._path),".length"===p.key||".keys"===p.key)throw"Reference.transaction failed: "+p.key+" is a read-only object.";const D=null===(_=h?.applyLocally)||void 0===_||_,V=new H.cY,Ee=lc(p,()=>{});return function th(p,d,h,_,D,V){No(p,"transaction on "+d);const X={path:d,update:h,onComplete:_,status:null,order:Pe(),applyLocally:V,retryCount:0,unwatcher:D,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Ee=Nu(p,d,void 0);X.currentInputSnapshot=Ee;const je=X.update(Ee.val());if(void 0===je)X.unwatcher(),X.currentOutputSnapshotRaw=null,X.currentOutputSnapshotResolved=null,X.onComplete&&X.onComplete(null,!1,X.currentInputSnapshot);else{ei("transaction failed: Data returned ",je,X.path),X.status=0;const dt=Za(p.transactionQueueTree_,d),sn=To(dt)||[];let cn;sn.push(X),Wo(dt,sn),"object"==typeof je&&null!==je&&(0,H.gR)(je,".priority")?(cn=(0,H.yw)(je,".priority"),(0,H.vA)(Su(cn),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):cn=(vc(p.serverSyncTree_,d)||zr.EMPTY_NODE).getPriority().val();const Sn=eu(p),mr=Vi(je,cn),Fr=Tc(mr,Ee,Sn);X.currentOutputSnapshotRaw=mr,X.currentOutputSnapshotResolved=Fr,X.currentWriteId=Ca(p);const Ki=rn(p.serverSyncTree_,d,Fr,X.currentWriteId,X.applyLocally);zo(p.eventQueue_,d,Ki),Ou(p,p.transactionQueueTree_)}}(p._repo,p._path,d,(je,dt,sn)=>{let cn=null;je?V.reject(je):(cn=new Ws(sn,new Oo(p._repo,p._path),Tr),V.resolve(new uc(dt,cn)))},Ee,D),V.promise}(this._delegate,d,{applyLocally:_}).then(V=>new g(V.committed,new v(this.database,V.snapshot)));return h&&D.then(V=>h(null,V.committed,V.snapshot),V=>h(V,!1,null)),D}setPriority(d,h){(0,H.od)("Reference.setPriority",1,2,arguments.length),(0,H.oD)("Reference.setPriority","onComplete",h,!0);const _=function Mc(p,d){p=(0,H.Ku)(p),Mo("setPriority",p._path),Si("setPriority",d,!1);const h=new H.cY;return Dc(p._repo,ii(p._path,".priority"),d,null,h.wrapCallback(()=>{})),h.promise}(this._delegate,d);return h&&_.then(()=>h(null),D=>h(D)),_}push(d,h){(0,H.od)("Reference.push",0,2,arguments.length),(0,H.oD)("Reference.push","onComplete",h,!0);const _=function iu(p,d){p=(0,H.Ku)(p),Mo("push",p._path),tn("push",d,p._path,!0);const h=tl(p._repo),_=$a(h),D=Ol(p,_),V=Ol(p,_);let X;return X=null!=d?Pc(V,d).then(()=>V):Promise.resolve(V),D.then=X.then.bind(X),D.catch=X.then.bind(X,void 0),D}(this._delegate,d),D=_.then(X=>new z(this.database,X));h&&D.then(()=>h(null),X=>h(X));const V=new z(this.database,_);return V.then=D.then.bind(D),V.catch=D.catch.bind(D,void 0),V}onDisconnect(){return Mo("Reference.onDisconnect",this._delegate._path),new T(new ih(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class me{constructor(d,h){this._delegate=d,this.app=h,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Qs,forceLongPolling:hh}}useEmulator(d,h,_={}){!function fh(p,d,h,_={}){(p=(0,H.Ku)(p))._checkNotDeleted("useEmulator"),p._instanceStarted&&hn("Cannot call useEmulator() after instance has already been initialized.");const D=p._repoInternal;let V;if(D.repoInfo_.nodeAdmin)_.mockUserToken&&hn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),V=new ui(ui.OWNER);else if(_.mockUserToken){const X="string"==typeof _.mockUserToken?_.mockUserToken:(0,H.Fy)(_.mockUserToken,p.app.options.projectId);V=new ui(X)}!function Zi(p,d,h,_){p.repoInfo_=new $e(`${d}:${h}`,!1,p.repoInfo_.namespace,p.repoInfo_.webSocketOnly,p.repoInfo_.nodeAdmin,p.repoInfo_.persistenceKey,p.repoInfo_.includeNamespaceInQueryParams,!0),_&&(p.authTokenProvider_=_)}(D,d,h,V)}(this._delegate,d,h,_)}ref(d){if((0,H.od)("database.ref",0,1,arguments.length),d instanceof z){const h=Nl(this._delegate,d.toString());return new z(this,h)}{const h=Vu(this._delegate,d);return new z(this,h)}}refFromURL(d){(0,H.od)("database.refFromURL",1,1,arguments.length);const _=Nl(this._delegate,d);return new z(this,_)}goOffline(){return(0,H.od)("database.goOffline",0,0,arguments.length),function Pd(p){(p=(0,H.Ku)(p))._checkNotDeleted("goOffline"),oc(p._repo)}(this._delegate)}goOnline(){return(0,H.od)("database.goOnline",0,0,arguments.length),function zh(p){(p=(0,H.Ku)(p))._checkNotDeleted("goOnline"),function bs(p){p.persistentConnection_&&p.persistentConnection_.resume(xo)}(p._repo)}(this._delegate)}}me.ServerValue={TIMESTAMP:function zu(){return Ys}(),increment:p=>function ph(p){return{".sv":{increment:p}}}(p)};var Ut=Object.freeze({__proto__:null,initStandalone:function mt({app:p,url:d,version:h,customAuthImpl:_,customAppCheckImpl:D,namespace:V,nodeAdmin:X=!1}){kt(h);const Ee=new qe.h1("database-standalone"),je=new qe.Kq("auth-internal",Ee);let dt;return je.setComponent(new qe.uA("auth-internal",()=>_,"PRIVATE")),D&&(dt=new qe.Kq("app-check-internal",Ee),dt.setComponent(new qe.uA("app-check-internal",()=>D,"PRIVATE"))),{instance:new me(cc(p,je,dt,d,X),p),namespace:V}}});const vn=me.ServerValue;!function ir(p){p.INTERNAL.registerComponent(new qe.uA("database-compat",(d,{instanceIdentifier:h})=>{const _=d.getProvider("app-compat").getImmediate(),D=d.getProvider("database").getImmediate({identifier:h});return new me(D,_)},"PUBLIC").setServiceProps({Reference:z,Query:b,Database:me,DataSnapshot:v,enableLogging:Vc,INTERNAL:Ut,ServerValue:vn}).setMultipleInstances(!0)),p.registerVersion("@firebase/database-compat","1.0.8")}(ot.A);var Er=N(762);function hr(p,d,h="on",_=We.E){return new At.c(D=>{let V=null;return V=p[h](d,(X,Ee)=>{_.schedule(()=>{D.next({snapshot:X,prevKey:Ee})}),"once"===h&&_.schedule(()=>D.complete())},X=>{_.schedule(()=>D.error(X))}),"on"===h?{unsubscribe(){null!=V&&p.off(d,V)}}:{unsubscribe(){}}}).pipe((0,Re.T)(D=>{const{snapshot:V,prevKey:X}=D;let Ee=null;return V.exists()&&(Ee=V.key),{type:d,payload:V,prevKey:X,key:Ee}}),(0,we.u)())}function Fl(p){return null==p}function Uc(p){return"function"==typeof p.set}function qu(p,d){return Uc(d)?d:p.ref(d)}function xd(p,d){if(function Is(p){return"string"==typeof p}(p))return d.stringCase();if(Uc(p))return d.firebaseCase();if(function Ls(p){return"function"==typeof p.exportVal}(p))return d.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof p)}function Nd(p){return(Fl(p)||0===p.length)&&(p=["child_added","child_removed","child_changed","child_moved"]),p}function Od(p,d,h){const _=(d=Nd(d)).map(D=>hr(p,D,"on",h));return(0,Pt.h)(..._)}function Vl(p,d){return function(_,D){return xd(_,{stringCase:()=>p.child(_)[d](D),firebaseCase:()=>_[d](D),snapshotCase:()=>_.ref[d](D)})}}function Kh(p){return function(h){return h?xd(h,{stringCase:()=>p.child(h).remove(),firebaseCase:()=>h.remove(),snapshotCase:()=>h.ref.remove()}):p.remove()}}function lo(p,d){const h=p.length;for(let _=0;_<h;_++)if(p[_].payload.key===d)return _;return-1}function tg(p,d){const{payload:h,prevKey:_,key:D}=d,V=lo(p,D),X=function vh(p,d){if(Fl(d))return 0;{const h=lo(p,d);return-1===h?p.length:h+1}}(p,_);switch(d.type){case"value":if(d.payload?.exists()){let Ee=null;d.payload.forEach(je=>{const dt={payload:je,type:"value",prevKey:Ee,key:je.key};return Ee=je.key,p=[...p,dt],!1})}return p;case"child_added":if(V>-1)(p[V-1]?.key||null)!==_&&(p=p.filter(je=>je.payload.key!==h.key)).splice(X,0,d);else{if(null==_)return[d,...p];(p=p.slice()).splice(X,0,d)}return p;case"child_removed":return p.filter(Ee=>Ee.payload.key!==h.key);case"child_changed":return p.map(Ee=>Ee.payload.key===D?d:Ee);case"child_moved":if(V>-1){const Ee=p.splice(V,1)[0];return(p=p.slice()).splice(X,0,Ee),p}return p;default:return p}}function Qu(p,d,h){return function mh(p,d,h){return hr(p,"value","once",h).pipe((0,yt.n)(_=>{const D=[(0,ze.of)(_)];return d.forEach(V=>D.push(hr(p,V,"on",h))),(0,Pt.h)(...D).pipe((0,Z.S)(tg,[]))}),(0,it.F)())}(p,d=Nd(d),h)}function pu(p,d){return function(){return hr(p,"value","on",d)}}const ng=new l.nKC("angularfire2.realtimeDatabaseURL"),zf=new l.nKC("angularfire2.database.use-emulator");let rg=(()=>{class p{schedulers;database;constructor(h,_,D,V,X,Ee,je,dt,sn,cn,Sn,mr,Fr,Ki,po){this.schedulers=Ee;const Ul=je,Bl=(0,J.iB)(h,X,_);dt&&(0,G.gF)(Bl,X,sn,Sn,mr,Fr,cn,Ki),this.database=(0,J.BM)(`${Bl.name}.database.${D}`,"AngularFireDatabase",Bl.name,()=>{const Yu=X.runOutsideAngular(()=>Bl.database(D||void 0));return Ul&&Yu.useEmulator(...Ul),Yu},[Ul])}list(h,_){const D=this.schedulers.ngZone.runOutsideAngular(()=>qu(this.database,h));let V=D;return _&&(V=_(D)),function kd(p,d){const h=d.schedulers.outsideAngular,_=d.schedulers.ngZone.run(()=>p.ref);return{query:p,update:Vl(_,"update"),set:Vl(_,"set"),push:D=>_.push(D),remove:Kh(_),snapshotChanges:D=>Qu(p,D,h).pipe(U.U0),stateChanges:D=>Od(p,D,h).pipe(U.U0),auditTrail:D=>function Wf(p,d,h){return function sl(p,d,h){return function gh(p,d){return hr(p,"value","on",d).pipe((0,Re.T)(h=>{let _;return h.payload.forEach(D=>(_=D.key,!1)),{data:h,lastKeyToLoad:_}}))}(p,h).pipe(function fe(...p){const d=(0,xe.ms)(p);return(0,be.N)((h,_)=>{const D=p.length,V=new Array(D);let X=p.map(()=>!1),Ee=!1;for(let je=0;je<D;je++)(0,Te.Tg)(p[je]).subscribe((0,ve._)(_,dt=>{V[je]=dt,!Ee&&!X[je]&&(X[je]=!0,(Ee=X.every(ue.D))&&(X=null))},ke.l));h.subscribe((0,ve._)(_,je=>{if(Ee){const dt=[je,...V];_.next(d?d(...dt):dt)}}))})}(d),(0,Re.T)(([D,V])=>{const X=D.lastKeyToLoad,Ee=V.map(je=>je.key);return{actions:V,lastKeyToLoad:X,loadedKeys:Ee}}),function rt(p){return(0,be.N)((d,h)=>{let _=!1,D=0;d.subscribe((0,ve._)(h,V=>(_||(_=!p(V,D++)))&&h.next(V)))})}(D=>-1===D.loadedKeys.indexOf(D.lastKeyToLoad)),(0,Re.T)(D=>D.actions))}(p,Od(p,d).pipe((0,Z.S)((D,V)=>[...D,V],[])),h)}(p,D,h).pipe(U.U0),valueChanges:(D,V)=>Qu(p,D,h).pipe((0,Re.T)(Ee=>Ee.map(je=>V&&V.idField?{...je.payload.val(),[V.idField]:je.key}:je.payload.val())),U.U0)}}(V,this)}object(h){return function Ld(p,d){return{query:p,snapshotChanges:()=>pu(p,d.schedulers.outsideAngular)().pipe(U.U0),update:h=>p.ref.update(h),set:h=>p.ref.set(h),remove:()=>p.ref.remove(),valueChanges:()=>pu(p,d.schedulers.outsideAngular)().pipe(U.U0,(0,Re.T)(_=>_.payload.exists()?_.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>qu(this.database,h)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(_){return new(_||p)(l.KVO(J.rx),l.KVO(J.uP,8),l.KVO(ng,8),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(U.u0),l.KVO(zf,8),l.KVO(G.DS,8),l.KVO(G.CP,8),l.KVO(G.yy,8),l.KVO(G.ZP,8),l.KVO(G.$z,8),l.KVO(G.AU,8),l.KVO(G.UB,8),l.KVO(U.Jv,8))};static \u0275prov=l.jDH({token:p,factory:p.\u0275fac,providedIn:"any"})}return p})(),Vm=(()=>{class p{constructor(){Er.A.registerVersion("angularfire",U.xv.full,"rtdb-compat")}static \u0275fac=function(_){return new(_||p)};static \u0275mod=l.$C({type:p});static \u0275inj=l.G2t({providers:[rg]})}return p})()},9253:(En,ht,N)=>{"use strict";N.d(ht,{BM:()=>fe,Gt:()=>Re,bf:()=>xe,e7:()=>we,iB:()=>Te,rx:()=>be,uP:()=>ve});var l=N(4438),U=N(574),J=N(762);const G=["ngOnDestroy"],Re=(We,At,Pt,ze={})=>new Proxy(We,{get:(Fe,ot)=>Pt.runOutsideAngular(()=>{if(We[ot])return ze?.spy?.get&&ze.spy.get(ot,We[ot]),We[ot];if(G.indexOf(ot)>-1)return()=>{};const qe=At.toPromise().then(nt=>{const bt=nt?.[ot];return"function"==typeof bt?bt.bind(nt):bt?.then?bt.then(H=>Pt.run(()=>H)):Pt.run(()=>bt)});return new Proxy(()=>{},{get:(nt,bt)=>qe[bt],apply:(nt,bt,H)=>qe.then(He=>{const wt=He?.(...H);return ze?.spy?.apply&&ze.spy.apply(ot,H,wt),wt})})})}),we=(We,At)=>{At.forEach(Pt=>{Object.getOwnPropertyNames(Pt.prototype||Pt).forEach(ze=>{Object.defineProperty(We.prototype,ze,Object.getOwnPropertyDescriptor(Pt.prototype||Pt,ze))})})};class Z{constructor(At){return At}}const be=new l.nKC("angularfire2.app.options"),ve=new l.nKC("angularfire2.app.name");function Te(We,At,Pt){const Fe="object"==typeof Pt&&Pt||{};Fe.name=Fe.name||"string"==typeof Pt&&Pt||"[DEFAULT]";const qe=J.A.apps.filter(nt=>nt&&nt.name===Fe.name)[0]||At.runOutsideAngular(()=>J.A.initializeApp(We,Fe));try{if(JSON.stringify(We)!==JSON.stringify(qe.options)){const nt=!!module.hot;ue("error",`${qe.name} Firebase App already initialized with different options${nt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Z(qe)}const ue=(We,...At)=>{(0,l.naY)()&&typeof console<"u"&&console[We](...At)},ke={provide:Z,useFactory:Te,deps:[be,l.SKi,[new l.Xx1,ve]]};let xe=(()=>{class We{static initializeApp(Pt,ze){return{ngModule:We,providers:[{provide:be,useValue:Pt},{provide:ve,useValue:ze}]}}constructor(Pt){J.A.registerVersion("angularfire",U.xv.full,"core"),J.A.registerVersion("angularfire",U.xv.full,"app-compat"),J.A.registerVersion("angular",l.xvI.full,Pt.toString())}static \u0275fac=function(ze){return new(ze||We)(l.KVO(l.Agw))};static \u0275mod=l.$C({type:We});static \u0275inj=l.G2t({providers:[ke]})}return We})();function fe(We,At,Pt,ze,Fe){const[,ot,qe]=globalThis.\u0275AngularfireInstanceCache.find(nt=>nt[0]===We)||[];if(ot)return function rt(We,At){try{return We.toString()===At.toString()}catch{return We===At}}(Fe,qe)||(it("error",`${At} was already initialized on the ${Pt} Firebase App with different settings.${yt?" You may need to reload as Firebase is not HMR aware.":""}`),it("warn",{is:Fe,was:qe})),ot;{const nt=ze();return globalThis.\u0275AngularfireInstanceCache.push([We,nt,Fe]),nt}}const yt=typeof module<"u"&&!!module.hot,it=(We,...At)=>{(0,l.naY)()&&typeof console<"u"&&console[We](...At)};globalThis.\u0275AngularfireInstanceCache||=[]},574:(En,ht,N)=>{"use strict";N.d(ht,{xv:()=>rt,U0:()=>Ke,u0:()=>qe,Jv:()=>At});var l=N(4438),U=N(1156);(0,U.registerVersion)("firebase","10.14.1","app");var Re=N(6780),Z=N(9687);const ve=new class be extends Z.q{}(class we extends Re.R{constructor(De,Ie){super(De,Ie),this.scheduler=De,this.work=Ie}schedule(De,Ie=0){return Ie>0?super.schedule(De,Ie):(this.delay=Ie,this.state=De,this.scheduler.flush(this),this)}execute(De,Ie){return Ie>0||this.closed?super.execute(De,Ie):this._execute(De,Ie)}requestAsyncId(De,Ie,Me=0){return null!=Me&&Me>0||null==Me&&this.delay>0?super.requestAsyncId(De,Ie,Me):(De.flush(this),0)}});var ue=N(3236),ke=N(8141),xe=N(6745),fe=N(941);const rt=new l.RxE("ANGULARFIRE2_VERSION");class At{constructor(){return(tt=>{const Ie=(0,U.getApps)(),Me=[];return Ie.forEach(ce=>{ce.container.getProvider(tt).instances.forEach(at=>{Me.includes(at)||Me.push(at)})}),Me})(Pt)}}const Pt="app-check";function ze(){}class Fe{zone;delegate;constructor(De,Ie=ve){this.zone=De,this.delegate=Ie}now(){return this.delegate.now()}schedule(De,Ie,Me){const ce=this.zone;return this.delegate.schedule(function(at){ce.runGuarded(()=>{De.apply(this,[at])})},Ie,Me)}}class ot{zone;task=null;constructor(De){this.zone=De}call(De,Ie){const Me=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ze,{},ze,ze)),Ie.pipe((0,ke.M)({next:Me,complete:Me,error:Me})).subscribe(De).add(Me)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qe=(()=>{class tt{ngZone;outsideAngular;insideAngular;constructor(Ie){this.ngZone=Ie,this.outsideAngular=Ie.runOutsideAngular(()=>new Fe(Zone.current)),this.insideAngular=Ie.run(()=>new Fe(Zone.current,ue.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Me){return new(Me||tt)(l.KVO(l.SKi))};static \u0275prov=l.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"})}return tt})();function Ke(tt){return function Mt(tt){return function(Ie){return(Ie=Ie.lift(new ot(tt.ngZone))).pipe((0,xe._)(tt.outsideAngular),(0,fe.Q)(tt.insideAngular))}}(function nt(){const tt=globalThis.\u0275AngularFireScheduler;if(!tt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return tt}())(tt)}},9574:(En,ht,N)=>{"use strict";N.d(ht,{A:()=>rt});var l=N(1401),U=N(8779),J=N(1156),G=N(5398);class Re{constructor(it,We){this._delegate=it,this.firebase=We,(0,J._addComponent)(it,new U.uA("app-compat",()=>this,"PUBLIC")),this.container=it.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this._delegate.automaticDataCollectionEnabled=it}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(it=>{this._delegate.checkDestroyed(),it()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,J.deleteApp)(this._delegate)))}_getService(it,We=J._DEFAULT_ENTRY_NAME){var At;this._delegate.checkDestroyed();const Pt=this._delegate.container.getProvider(it);return!Pt.isInitialized()&&"EXPLICIT"===(null===(At=Pt.getComponent())||void 0===At?void 0:At.instantiationMode)&&Pt.initialize(),Pt.getImmediate({identifier:We})}_removeServiceInstance(it,We=J._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(it).clearInstance(We)}_addComponent(it){(0,J._addComponent)(this._delegate,it)}_addOrOverwriteComponent(it){(0,J._addOrOverwriteComponent)(this._delegate,it)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z=new l.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Te=function ve(){const yt=function be(yt){const it={},We={__esModule:!0,initializeApp:function ze(nt,bt={}){const H=J.initializeApp(nt,bt);if((0,l.gR)(it,H.name))return it[H.name];const He=new yt(H,We);return it[H.name]=He,He},app:Pt,registerVersion:J.registerVersion,setLogLevel:J.setLogLevel,onLog:J.onLog,apps:null,SDK_VERSION:J.SDK_VERSION,INTERNAL:{registerComponent:function ot(nt){const bt=nt.name,H=bt.replace("-compat","");if(J._registerComponent(nt)&&"PUBLIC"===nt.type){const He=(wt=Pt())=>{if("function"!=typeof wt[H])throw Z.create("invalid-app-argument",{appName:bt});return wt[H]()};void 0!==nt.serviceProps&&(0,l.zw)(He,nt.serviceProps),We[H]=He,yt.prototype[H]=function(...wt){return this._getService.bind(this,bt).apply(this,nt.multipleInstances?wt:[])}}return"PUBLIC"===nt.type?We[H]:null},removeApp:function At(nt){delete it[nt]},useAsService:function qe(nt,bt){return"serverAuth"===bt?null:bt},modularAPIs:J}};function Pt(nt){if(!(0,l.gR)(it,nt=nt||J._DEFAULT_ENTRY_NAME))throw Z.create("no-app",{appName:nt});return it[nt]}return We.default=We,Object.defineProperty(We,"apps",{get:function Fe(){return Object.keys(it).map(nt=>it[nt])}}),Pt.App=yt,We}(Re);return yt.INTERNAL=Object.assign(Object.assign({},yt.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function it(We){(0,l.zw)(yt,We)},createSubscribe:l.tD,ErrorFactory:l.FA,deepExtend:l.zw}),yt}(),ue=new G.Vy("@firebase/app-compat");try{const yt=(0,l.mS)();if(void 0!==yt.firebase){ue.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const it=yt.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&ue.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const rt=Te;!function fe(yt){(0,J.registerVersion)("@firebase/app-compat","0.2.43",yt)}()},1156:(En,ht,N)=>{"use strict";N.r(ht),N.d(ht,{FirebaseError:()=>G.g,SDK_VERSION:()=>di,_DEFAULT_ENTRY_NAME:()=>tr,_addComponent:()=>cr,_addOrOverwriteComponent:()=>Or,_apps:()=>Dr,_clearComponents:()=>Rr,_components:()=>sr,_getProvider:()=>Ir,_isFirebaseApp:()=>ur,_isFirebaseServerApp:()=>ci,_registerComponent:()=>Hr,_removeServiceInstance:()=>vr,_serverApps:()=>Mr,deleteApp:()=>fn,getApp:()=>Ze,getApps:()=>It,initializeApp:()=>Zt,initializeServerApp:()=>ct,onLog:()=>$e,registerVersion:()=>Ge,setLogLevel:()=>vt});var l=N(467),U=N(8779),J=N(5398),G=N(1401);const Re=(Wt,ae)=>ae.some(_e=>Wt instanceof _e);let we,Z;const Te=new WeakMap,ue=new WeakMap,ke=new WeakMap,xe=new WeakMap,fe=new WeakMap;let it={get(Wt,ae,_e){if(Wt instanceof IDBTransaction){if("done"===ae)return ue.get(Wt);if("objectStoreNames"===ae)return Wt.objectStoreNames||ke.get(Wt);if("store"===ae)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return ze(Wt[ae])},set:(Wt,ae,_e)=>(Wt[ae]=_e,!0),has:(Wt,ae)=>Wt instanceof IDBTransaction&&("done"===ae||"store"===ae)||ae in Wt};function Pt(Wt){return"function"==typeof Wt?function At(Wt){return Wt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Wt)?function(...ae){return Wt.apply(Fe(this),ae),ze(Te.get(this))}:function(...ae){return ze(Wt.apply(Fe(this),ae))}:function(ae,..._e){const ie=Wt.call(Fe(this),ae,..._e);return ke.set(ie,ae.sort?ae.sort():[ae]),ze(ie)}}(Wt):(Wt instanceof IDBTransaction&&function yt(Wt){if(ue.has(Wt))return;const ae=new Promise((_e,ie)=>{const Y=()=>{Wt.removeEventListener("complete",Ve),Wt.removeEventListener("error",gt),Wt.removeEventListener("abort",gt)},Ve=()=>{_e(),Y()},gt=()=>{ie(Wt.error||new DOMException("AbortError","AbortError")),Y()};Wt.addEventListener("complete",Ve),Wt.addEventListener("error",gt),Wt.addEventListener("abort",gt)});ue.set(Wt,ae)}(Wt),Re(Wt,function be(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Wt,it):Wt)}function ze(Wt){if(Wt instanceof IDBRequest)return function rt(Wt){const ae=new Promise((_e,ie)=>{const Y=()=>{Wt.removeEventListener("success",Ve),Wt.removeEventListener("error",gt)},Ve=()=>{_e(ze(Wt.result)),Y()},gt=()=>{ie(Wt.error),Y()};Wt.addEventListener("success",Ve),Wt.addEventListener("error",gt)});return ae.then(_e=>{_e instanceof IDBCursor&&Te.set(_e,Wt)}).catch(()=>{}),fe.set(ae,Wt),ae}(Wt);if(xe.has(Wt))return xe.get(Wt);const ae=Pt(Wt);return ae!==Wt&&(xe.set(Wt,ae),fe.set(ae,Wt)),ae}const Fe=Wt=>fe.get(Wt),nt=["get","getKey","getAll","getAllKeys","count"],bt=["put","add","delete","clear"],H=new Map;function He(Wt,ae){if(!(Wt instanceof IDBDatabase)||ae in Wt||"string"!=typeof ae)return;if(H.get(ae))return H.get(ae);const _e=ae.replace(/FromIndex$/,""),ie=ae!==_e,Y=bt.includes(_e);if(!(_e in(ie?IDBIndex:IDBObjectStore).prototype)||!Y&&!nt.includes(_e))return;const Ve=function(){var gt=(0,l.A)(function*(ln,...Yt){const pe=this.transaction(ln,Y?"readwrite":"readonly");let Oe=pe.store;return ie&&(Oe=Oe.index(Yt.shift())),(yield Promise.all([Oe[_e](...Yt),Y&&pe.done]))[0]});return function(Yt){return gt.apply(this,arguments)}}();return H.set(ae,Ve),Ve}!function We(Wt){it=Wt(it)}(Wt=>({...Wt,get:(ae,_e,ie)=>He(ae,_e)||Wt.get(ae,_e,ie),has:(ae,_e)=>!!He(ae,_e)||Wt.has(ae,_e)}));class wt{constructor(ae){this.container=ae}getPlatformInfoString(){return this.container.getProviders().map(_e=>{if(function Ke(Wt){const ae=Wt.getComponent();return"VERSION"===ae?.type}(_e)){const ie=_e.getImmediate();return`${ie.library}/${ie.version}`}return null}).filter(_e=>_e).join(" ")}}const Mt="@firebase/app",kt="0.10.13",un=new J.Vy("@firebase/app"),tt="@firebase/app-compat",De="@firebase/analytics-compat",Ie="@firebase/analytics",Me="@firebase/app-check-compat",ce="@firebase/app-check",Pe="@firebase/auth",at="@firebase/auth-compat",Xe="@firebase/database",Se="@firebase/data-connect",Tt="@firebase/database-compat",he="@firebase/functions",st="@firebase/functions-compat",Nt="@firebase/installations",xt="@firebase/installations-compat",hn="@firebase/messaging",Ln="@firebase/messaging-compat",qn="@firebase/performance",kn="@firebase/performance-compat",Nn="@firebase/remote-config",zn="@firebase/remote-config-compat",Yn="@firebase/storage",ft="@firebase/storage-compat",Xt="@firebase/firestore",jt="@firebase/vertexai-preview",On="@firebase/firestore-compat",br="firebase",tr="[DEFAULT]",Xn={[Mt]:"fire-core",[tt]:"fire-core-compat",[Ie]:"fire-analytics",[De]:"fire-analytics-compat",[ce]:"fire-app-check",[Me]:"fire-app-check-compat",[Pe]:"fire-auth",[at]:"fire-auth-compat",[Xe]:"fire-rtdb",[Se]:"fire-data-connect",[Tt]:"fire-rtdb-compat",[he]:"fire-fn",[st]:"fire-fn-compat",[Nt]:"fire-iid",[xt]:"fire-iid-compat",[hn]:"fire-fcm",[Ln]:"fire-fcm-compat",[qn]:"fire-perf",[kn]:"fire-perf-compat",[Nn]:"fire-rc",[zn]:"fire-rc-compat",[Yn]:"fire-gcs",[ft]:"fire-gcs-compat",[Xt]:"fire-fst",[On]:"fire-fst-compat",[jt]:"fire-vertex","fire-js":"fire-js",[br]:"fire-js-all"},Dr=new Map,Mr=new Map,sr=new Map;function cr(Wt,ae){try{Wt.container.addComponent(ae)}catch(_e){un.debug(`Component ${ae.name} failed to register with FirebaseApp ${Wt.name}`,_e)}}function Or(Wt,ae){Wt.container.addOrOverwriteComponent(ae)}function Hr(Wt){const ae=Wt.name;if(sr.has(ae))return un.debug(`There were multiple attempts to register component ${ae}.`),!1;sr.set(ae,Wt);for(const _e of Dr.values())cr(_e,Wt);for(const _e of Mr.values())cr(_e,Wt);return!0}function Ir(Wt,ae){const _e=Wt.container.getProvider("heartbeat").getImmediate({optional:!0});return _e&&_e.triggerHeartbeat(),Wt.container.getProvider(ae)}function vr(Wt,ae,_e=tr){Ir(Wt,ae).clearInstance(_e)}function ur(Wt){return void 0!==Wt.options}function ci(Wt){return void 0!==Wt.settings}function Rr(){sr.clear()}const dr=new G.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class bi{constructor(ae,_e,ie){this._isDeleted=!1,this._options=Object.assign({},ae),this._config=Object.assign({},_e),this._name=_e.name,this._automaticDataCollectionEnabled=_e.automaticDataCollectionEnabled,this._container=ie,this.container.addComponent(new U.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ae){this._isDeleted=ae}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}class yi extends bi{constructor(ae,_e,ie,Y){const Ve=void 0!==_e.automaticDataCollectionEnabled&&_e.automaticDataCollectionEnabled,gt={name:ie,automaticDataCollectionEnabled:Ve};super(void 0!==ae.apiKey?ae:ae.options,gt,Y),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ve},_e),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,_e.releaseOnDeref=void 0,Ge(Mt,kt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ae){this.isDeleted||(this._refCount++,void 0!==ae&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(ae,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){fn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw dr.create("server-app-deleted")}}const di="10.14.1";function Zt(Wt,ae={}){let _e=Wt;"object"!=typeof ae&&(ae={name:ae});const ie=Object.assign({name:tr,automaticDataCollectionEnabled:!1},ae),Y=ie.name;if("string"!=typeof Y||!Y)throw dr.create("bad-app-name",{appName:String(Y)});if(_e||(_e=(0,G.T9)()),!_e)throw dr.create("no-options");const Ve=Dr.get(Y);if(Ve){if((0,G.bD)(_e,Ve.options)&&(0,G.bD)(ie,Ve.config))return Ve;throw dr.create("duplicate-app",{appName:Y})}const gt=new U.h1(Y);for(const Yt of sr.values())gt.addComponent(Yt);const ln=new bi(_e,ie,gt);return Dr.set(Y,ln),ln}function ct(Wt,ae){if((0,G.Bd)()&&!(0,G.p7)())throw dr.create("invalid-server-app-environment");let _e;void 0===ae.automaticDataCollectionEnabled&&(ae.automaticDataCollectionEnabled=!1),_e=ur(Wt)?Wt.options:Wt;const ie=Object.assign(Object.assign({},ae),_e);if(void 0!==ie.releaseOnDeref&&delete ie.releaseOnDeref,void 0!==ae.releaseOnDeref&&typeof FinalizationRegistry>"u")throw dr.create("finalization-registry-not-supported",{});const Ve=""+(pe=JSON.stringify(ie),[...pe].reduce((Oe,Je)=>Math.imul(31,Oe)+Je.charCodeAt(0)|0,0)),gt=Mr.get(Ve);var pe;if(gt)return gt.incRefCount(ae.releaseOnDeref),gt;const ln=new U.h1(Ve);for(const pe of sr.values())ln.addComponent(pe);const Yt=new yi(_e,ae,Ve,ln);return Mr.set(Ve,Yt),Yt}function Ze(Wt=tr){const ae=Dr.get(Wt);if(!ae&&Wt===tr&&(0,G.T9)())return Zt();if(!ae)throw dr.create("no-app",{appName:Wt});return ae}function It(){return Array.from(Dr.values())}function fn(Wt){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,l.A)(function*(Wt){let ae=!1;const _e=Wt.name;Dr.has(_e)?(ae=!0,Dr.delete(_e)):Mr.has(_e)&&Wt.decRefCount()<=0&&(Mr.delete(_e),ae=!0),ae&&(yield Promise.all(Wt.container.getProviders().map(ie=>ie.delete())),Wt.isDeleted=!0)})).apply(this,arguments)}function Ge(Wt,ae,_e){var ie;let Y=null!==(ie=Xn[Wt])&&void 0!==ie?ie:Wt;_e&&(Y+=`-${_e}`);const Ve=Y.match(/\s|\//),gt=ae.match(/\s|\//);if(Ve||gt){const ln=[`Unable to register library "${Y}" with version "${ae}":`];return Ve&&ln.push(`library name "${Y}" contains illegal characters (whitespace or "/")`),Ve&&gt&&ln.push("and"),gt&&ln.push(`version name "${ae}" contains illegal characters (whitespace or "/")`),void un.warn(ln.join(" "))}Hr(new U.uA(`${Y}-version`,()=>({library:Y,version:ae}),"VERSION"))}function $e(Wt,ae){if(null!==Wt&&"function"!=typeof Wt)throw dr.create("invalid-log-argument");(0,J.Ey)(Wt,ae)}function vt(Wt){(0,J.He)(Wt)}const en="firebase-heartbeat-database",Ot=1,Pn="firebase-heartbeat-store";let Qn=null;function Gr(){return Qn||(Qn=function ot(Wt,ae,{blocked:_e,upgrade:ie,blocking:Y,terminated:Ve}={}){const gt=indexedDB.open(Wt,ae),ln=ze(gt);return ie&&gt.addEventListener("upgradeneeded",Yt=>{ie(ze(gt.result),Yt.oldVersion,Yt.newVersion,ze(gt.transaction),Yt)}),_e&&gt.addEventListener("blocked",Yt=>_e(Yt.oldVersion,Yt.newVersion,Yt)),ln.then(Yt=>{Ve&&Yt.addEventListener("close",()=>Ve()),Y&&Yt.addEventListener("versionchange",pe=>Y(pe.oldVersion,pe.newVersion,pe))}).catch(()=>{}),ln}(en,Ot,{upgrade:(Wt,ae)=>{if(0===ae)try{Wt.createObjectStore(Pn)}catch(_e){console.warn(_e)}}}).catch(Wt=>{throw dr.create("idb-open",{originalErrorMessage:Wt.message})})),Qn}function kr(){return(kr=(0,l.A)(function*(Wt){try{const _e=(yield Gr()).transaction(Pn),ie=yield _e.objectStore(Pn).get(ri(Wt));return yield _e.done,ie}catch(ae){if(ae instanceof G.g)un.warn(ae.message);else{const _e=dr.create("idb-get",{originalErrorMessage:ae?.message});un.warn(_e.message)}}})).apply(this,arguments)}function $r(Wt,ae){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.A)(function*(Wt,ae){try{const ie=(yield Gr()).transaction(Pn,"readwrite");yield ie.objectStore(Pn).put(ae,ri(Wt)),yield ie.done}catch(_e){if(_e instanceof G.g)un.warn(_e.message);else{const ie=dr.create("idb-set",{originalErrorMessage:_e?.message});un.warn(ie.message)}}})).apply(this,arguments)}function ri(Wt){return`${Wt.name}!${Wt.options.appId}`}class Gi{constructor(ae){this.container=ae,this._heartbeatsCache=null;const _e=this.container.getProvider("app").getImmediate();this._storage=new Mi(_e),this._heartbeatsCachePromise=this._storage.read().then(ie=>(this._heartbeatsCache=ie,ie))}triggerHeartbeat(){var ae=this;return(0,l.A)(function*(){var _e,ie;try{const Ve=ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),gt=Kr();return null==(null===(_e=ae._heartbeatsCache)||void 0===_e?void 0:_e.heartbeats)&&(ae._heartbeatsCache=yield ae._heartbeatsCachePromise,null==(null===(ie=ae._heartbeatsCache)||void 0===ie?void 0:ie.heartbeats))||ae._heartbeatsCache.lastSentHeartbeatDate===gt||ae._heartbeatsCache.heartbeats.some(ln=>ln.date===gt)?void 0:(ae._heartbeatsCache.heartbeats.push({date:gt,agent:Ve}),ae._heartbeatsCache.heartbeats=ae._heartbeatsCache.heartbeats.filter(ln=>{const Yt=new Date(ln.date).valueOf();return Date.now()-Yt<=2592e6}),ae._storage.overwrite(ae._heartbeatsCache))}catch(Y){un.warn(Y)}})()}getHeartbeatsHeader(){var ae=this;return(0,l.A)(function*(){var _e;try{if(null===ae._heartbeatsCache&&(yield ae._heartbeatsCachePromise),null==(null===(_e=ae._heartbeatsCache)||void 0===_e?void 0:_e.heartbeats)||0===ae._heartbeatsCache.heartbeats.length)return"";const ie=Kr(),{heartbeatsToSend:Y,unsentEntries:Ve}=function yr(Wt,ae=1024){const _e=[];let ie=Wt.slice();for(const Y of Wt){const Ve=_e.find(gt=>gt.agent===Y.agent);if(Ve){if(Ve.dates.push(Y.date),li(_e)>ae){Ve.dates.pop();break}}else if(_e.push({agent:Y.agent,dates:[Y.date]}),li(_e)>ae){_e.pop();break}ie=ie.slice(1)}return{heartbeatsToSend:_e,unsentEntries:ie}}(ae._heartbeatsCache.heartbeats),gt=(0,G.Uj)(JSON.stringify({version:2,heartbeats:Y}));return ae._heartbeatsCache.lastSentHeartbeatDate=ie,Ve.length>0?(ae._heartbeatsCache.heartbeats=Ve,yield ae._storage.overwrite(ae._heartbeatsCache)):(ae._heartbeatsCache.heartbeats=[],ae._storage.overwrite(ae._heartbeatsCache)),gt}catch(ie){return un.warn(ie),""}})()}}function Kr(){return(new Date).toISOString().substring(0,10)}class Mi{constructor(ae){this.app=ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.A)(function*(){return!!(0,G.zW)()&&(0,G.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ae=this;return(0,l.A)(function*(){if(yield ae._canUseIndexedDBPromise){const ie=yield function ai(Wt){return kr.apply(this,arguments)}(ae.app);return ie?.heartbeats?ie:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ae){var _e=this;return(0,l.A)(function*(){var ie;if(yield _e._canUseIndexedDBPromise){const Ve=yield _e.read();return $r(_e.app,{lastSentHeartbeatDate:null!==(ie=ae.lastSentHeartbeatDate)&&void 0!==ie?ie:Ve.lastSentHeartbeatDate,heartbeats:ae.heartbeats})}})()}add(ae){var _e=this;return(0,l.A)(function*(){var ie;if(yield _e._canUseIndexedDBPromise){const Ve=yield _e.read();return $r(_e.app,{lastSentHeartbeatDate:null!==(ie=ae.lastSentHeartbeatDate)&&void 0!==ie?ie:Ve.lastSentHeartbeatDate,heartbeats:[...Ve.heartbeats,...ae.heartbeats]})}})()}}function li(Wt){return(0,G.Uj)(JSON.stringify({version:2,heartbeats:Wt})).length}!function mi(Wt){Hr(new U.uA("platform-logger",ae=>new wt(ae),"PRIVATE")),Hr(new U.uA("heartbeat",ae=>new Gi(ae),"PRIVATE")),Ge(Mt,kt,Wt),Ge(Mt,kt,"esm2017"),Ge("fire-js","")}("")},8779:(En,ht,N)=>{"use strict";N.d(ht,{Kq:()=>Re,h1:()=>be,uA:()=>J});var l=N(467),U=N(1401);class J{constructor(Te,ue,ke){this.name=Te,this.instanceFactory=ue,this.type=ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Te){return this.instantiationMode=Te,this}setMultipleInstances(Te){return this.multipleInstances=Te,this}setServiceProps(Te){return this.serviceProps=Te,this}setInstanceCreatedCallback(Te){return this.onInstanceCreated=Te,this}}const G="[DEFAULT]";class Re{constructor(Te,ue){this.name=Te,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Te){const ue=this.normalizeInstanceIdentifier(Te);if(!this.instancesDeferred.has(ue)){const ke=new U.cY;if(this.instancesDeferred.set(ue,ke),this.isInitialized(ue)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:ue});xe&&ke.resolve(xe)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(Te){var ue;const ke=this.normalizeInstanceIdentifier(Te?.identifier),xe=null!==(ue=Te?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(ke)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ke})}catch(fe){if(xe)return null;throw fe}}getComponent(){return this.component}setComponent(Te){if(Te.name!==this.name)throw Error(`Mismatching Component ${Te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Te,this.shouldAutoInitialize()){if(function Z(ve){return"EAGER"===ve.instantiationMode}(Te))try{this.getOrInitializeService({instanceIdentifier:G})}catch{}for(const[ue,ke]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(ue);try{const fe=this.getOrInitializeService({instanceIdentifier:xe});ke.resolve(fe)}catch{}}}}clearInstance(Te=G){this.instancesDeferred.delete(Te),this.instancesOptions.delete(Te),this.instances.delete(Te)}delete(){var Te=this;return(0,l.A)(function*(){const ue=Array.from(Te.instances.values());yield Promise.all([...ue.filter(ke=>"INTERNAL"in ke).map(ke=>ke.INTERNAL.delete()),...ue.filter(ke=>"_delete"in ke).map(ke=>ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Te=G){return this.instances.has(Te)}getOptions(Te=G){return this.instancesOptions.get(Te)||{}}initialize(Te={}){const{options:ue={}}=Te,ke=this.normalizeInstanceIdentifier(Te.instanceIdentifier);if(this.isInitialized(ke))throw Error(`${this.name}(${ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:ke,options:ue});for(const[fe,rt]of this.instancesDeferred.entries())ke===this.normalizeInstanceIdentifier(fe)&&rt.resolve(xe);return xe}onInit(Te,ue){var ke;const xe=this.normalizeInstanceIdentifier(ue),fe=null!==(ke=this.onInitCallbacks.get(xe))&&void 0!==ke?ke:new Set;fe.add(Te),this.onInitCallbacks.set(xe,fe);const rt=this.instances.get(xe);return rt&&Te(rt,xe),()=>{fe.delete(Te)}}invokeOnInitCallbacks(Te,ue){const ke=this.onInitCallbacks.get(ue);if(ke)for(const xe of ke)try{xe(Te,ue)}catch{}}getOrInitializeService({instanceIdentifier:Te,options:ue={}}){let ke=this.instances.get(Te);if(!ke&&this.component&&(ke=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=Te,ve===G?void 0:ve),options:ue}),this.instances.set(Te,ke),this.instancesOptions.set(Te,ue),this.invokeOnInitCallbacks(ke,Te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Te,ke)}catch{}var ve;return ke||null}normalizeInstanceIdentifier(Te=G){return this.component?this.component.multipleInstances?Te:G:Te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(Te){this.name=Te,this.providers=new Map}addComponent(Te){const ue=this.getProvider(Te.name);if(ue.isComponentSet())throw new Error(`Component ${Te.name} has already been registered with ${this.name}`);ue.setComponent(Te)}addOrOverwriteComponent(Te){this.getProvider(Te.name).isComponentSet()&&this.providers.delete(Te.name),this.addComponent(Te)}getProvider(Te){if(this.providers.has(Te))return this.providers.get(Te);const ue=new Re(Te,this);return this.providers.set(Te,ue),ue}getProviders(){return Array.from(this.providers.values())}}},5398:(En,ht,N)=>{"use strict";N.d(ht,{$b:()=>U,Ey:()=>ve,He:()=>be,Vy:()=>Z});const l=[];var U=function(Te){return Te[Te.DEBUG=0]="DEBUG",Te[Te.VERBOSE=1]="VERBOSE",Te[Te.INFO=2]="INFO",Te[Te.WARN=3]="WARN",Te[Te.ERROR=4]="ERROR",Te[Te.SILENT=5]="SILENT",Te}(U||{});const J={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},G=U.INFO,Re={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},we=(Te,ue,...ke)=>{if(ue<Te.logLevel)return;const xe=(new Date).toISOString(),fe=Re[ue];if(!fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[fe](`[${xe}]  ${Te.name}:`,...ke)};class Z{constructor(ue){this.name=ue,this._logLevel=G,this._logHandler=we,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in U))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?J[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...ue),this._logHandler(this,U.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...ue),this._logHandler(this,U.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,U.INFO,...ue),this._logHandler(this,U.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,U.WARN,...ue),this._logHandler(this,U.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...ue),this._logHandler(this,U.ERROR,...ue)}}function be(Te){l.forEach(ue=>{ue.setLogLevel(Te)})}function ve(Te,ue){for(const ke of l){let xe=null;ue&&ue.level&&(xe=J[ue.level]),ke.userLogHandler=null===Te?null:(fe,rt,...yt)=>{const it=yt.map(We=>{if(null==We)return null;if("string"==typeof We)return We;if("number"==typeof We||"boolean"==typeof We)return We.toString();if(We instanceof Error)return We.message;try{return JSON.stringify(We)}catch{return null}}).filter(We=>We).join(" ");rt>=(xe??fe.logLevel)&&Te({level:U[rt].toLowerCase(),message:it,args:yt,type:fe.name})}}}},762:(En,ht,N)=>{"use strict";N.d(ht,{A:()=>l.A});var l=N(9574);l.A.registerVersion("firebase","10.14.1","app-compat")},324:(En,ht,N)=>{"use strict";var l=N(467),U=N(9574),J=N(1156),G=N(1401),Re=N(5398),we=N(1635),Z=N(8779);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const rt=function xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},yt=function fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new G.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),At=new Re.Vy("@firebase/auth");function ze(T,...g){At.logLevel<=Re.$b.ERROR&&At.error(`Auth (${J.SDK_VERSION}): ${T}`,...g)}function Fe(T,...g){throw H(T,...g)}function ot(T,...g){return H(T,...g)}function qe(T,g,v){const b=Object.assign(Object.assign({},yt()),{[g]:v});return new G.FA("auth","Firebase",b).create(g,{appName:T.name})}function nt(T){return qe(T,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bt(T,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&Fe(T,"argument-error"),qe(T,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function H(T,...g){if("string"!=typeof T){const v=g[0],b=[...g.slice(1)];return b[0]&&(b[0].appName=T.name),T._errorFactory.create(v,...b)}return it.create(T,...g)}function He(T,g,...v){if(!T)throw H(g,...v)}function wt(T){const g="INTERNAL ASSERTION FAILED: "+T;throw ze(g),new Error(g)}function Ke(T,g){T||wt(g)}function Mt(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function kt(){return"http:"===un()||"https:"===un()}function un(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class Ie{constructor(g,v){this.shortDelay=g,this.longDelay=v,Ke(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,G.jZ)()||(0,G.lV)()}get(){return function tt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(kt()||(0,G.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Me(T,g){Ke(T.emulator,"Emulator should always be set here");const{url:v}=T.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class ce{static initialize(g,v,b){this.fetchImpl=g,v&&(this.headersImpl=v),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void wt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void wt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void wt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},at=new Ie(3e4,6e4);function Xe(T,g){return T.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:T.tenantId}):g}function Se(T,g,v,b){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,l.A)(function*(T,g,v,b,z={}){return he(T,z,(0,l.A)(function*(){let me={},mt={};b&&("GET"===g?mt=b:me={body:JSON.stringify(b)});const Ut=(0,G.Am)(Object.assign({key:T.config.apiKey},mt)).slice(1),vn=yield T._getAdditionalHeaders();vn["Content-Type"]="application/json",T.languageCode&&(vn["X-Firebase-Locale"]=T.languageCode);const ir=Object.assign({method:g,headers:vn},me);return(0,G.c1)()||(ir.referrerPolicy="no-referrer"),ce.fetch()(hn(T,T.config.apiHost,v,Ut),ir)}))})).apply(this,arguments)}function he(T,g,v){return st.apply(this,arguments)}function st(){return(st=(0,l.A)(function*(T,g,v){T._canInitEmulator=!1;const b=Object.assign(Object.assign({},Pe),g);try{const z=new qn(T),me=yield Promise.race([v(),z.promise]);z.clearNetworkTimeout();const mt=yield me.json();if("needConfirmation"in mt)throw kn(T,"account-exists-with-different-credential",mt);if(me.ok&&!("errorMessage"in mt))return mt;{const Ut=me.ok?mt.errorMessage:mt.error.message,[vn,ir]=Ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===vn)throw kn(T,"credential-already-in-use",mt);if("EMAIL_EXISTS"===vn)throw kn(T,"email-already-in-use",mt);if("USER_DISABLED"===vn)throw kn(T,"user-disabled",mt);const Er=b[vn]||vn.toLowerCase().replace(/[_\s]+/g,"-");if(ir)throw qe(T,Er,ir);Fe(T,Er)}}catch(z){if(z instanceof G.g)throw z;Fe(T,"network-request-failed",{message:String(z)})}})).apply(this,arguments)}function Nt(T,g,v,b){return xt.apply(this,arguments)}function xt(){return(xt=(0,l.A)(function*(T,g,v,b,z={}){const me=yield Se(T,g,v,b,z);return"mfaPendingCredential"in me&&Fe(T,"multi-factor-auth-required",{_serverResponse:me}),me})).apply(this,arguments)}function hn(T,g,v,b){const z=`${g}${v}?${b}`;return T.config.emulator?Me(T.config,z):`${T.config.apiScheme}://${z}`}function Ln(T){switch(T){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,b)=>{this.timer=setTimeout(()=>b(ot(this.auth,"network-request-failed")),at.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kn(T,g,v){const b={appName:T.name};v.email&&(b.email=v.email),v.phoneNumber&&(b.phoneNumber=v.phoneNumber);const z=ot(T,g,b);return z.customData._tokenResponse=v,z}function Nn(T){return void 0!==T&&void 0!==T.getResponse}function zn(T){return void 0!==T&&void 0!==T.enterprise}class Yn{constructor(g){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=g.recaptchaEnforcementState}getProviderEnforcementState(g){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===g)return Ln(v.enforcementState);return null}isProviderEnabled(g){return"ENFORCE"===this.getProviderEnforcementState(g)||"AUDIT"===this.getProviderEnforcementState(g)}}function Xt(){return(Xt=(0,l.A)(function*(T){return(yield Se(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function jt(T,g){return On.apply(this,arguments)}function On(){return(On=(0,l.A)(function*(T,g){return Se(T,"GET","/v2/recaptchaConfig",Xe(T,g))})).apply(this,arguments)}function er(){return(er=(0,l.A)(function*(T,g){return Se(T,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Xn(){return(Xn=(0,l.A)(function*(T,g){return Se(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Dr(T,g){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,l.A)(function*(T,g){return Se(T,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function sr(T){if(T)try{const g=new Date(Number(T));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Hr(){return(Hr=(0,l.A)(function*(T,g=!1){const v=(0,G.Ku)(T),b=yield v.getIdToken(g),z=vr(b);He(z&&z.exp&&z.auth_time&&z.iat,v.auth,"internal-error");const me="object"==typeof z.firebase?z.firebase:void 0,mt=me?.sign_in_provider;return{claims:z,token:b,authTime:sr(Ir(z.auth_time)),issuedAtTime:sr(Ir(z.iat)),expirationTime:sr(Ir(z.exp)),signInProvider:mt||null,signInSecondFactor:me?.sign_in_second_factor||null}})).apply(this,arguments)}function Ir(T){return 1e3*Number(T)}function vr(T){const[g,v,b]=T.split(".");if(void 0===g||void 0===v||void 0===b)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,G.u)(v);return z?JSON.parse(z):(ze("Failed to decode base64 JWT payload"),null)}catch(z){return ze("Caught error parsing JWT payload as JSON",z?.toString()),null}}function ur(T){const g=vr(T);return He(g,"internal-error"),He(typeof g.exp<"u","internal-error"),He(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}function ci(T,g){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,l.A)(function*(T,g,v=!1){if(v)return g;try{return yield g}catch(b){throw b instanceof G.g&&function ui({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(b)&&T.auth.currentUser===T&&(yield T.auth.signOut()),b}})).apply(this,arguments)}class dr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const z=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const b=this.getInterval(g);this.timerId=setTimeout((0,l.A)(function*(){yield v.iteration()}),b)}iteration(){var g=this;return(0,l.A)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class bi{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=sr(this.lastLoginAt),this.creationTime=sr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yi(T){return di.apply(this,arguments)}function di(){return(di=(0,l.A)(function*(T){var g;const v=T.auth,b=yield T.getIdToken(),z=yield ci(T,Dr(v,{idToken:b}));He(z?.users.length,v,"internal-error");const me=z.users[0];T._notifyReloadListener(me);const mt=null!==(g=me.providerUserInfo)&&void 0!==g&&g.length?It(me.providerUserInfo):[],Ut=function Ze(T,g){return[...T.filter(b=>!g.some(z=>z.providerId===b.providerId)),...g]}(T.providerData,mt),Er=!!T.isAnonymous&&!(T.email&&me.passwordHash||Ut?.length),hr={uid:me.localId,displayName:me.displayName||null,photoURL:me.photoUrl||null,email:me.email||null,emailVerified:me.emailVerified||!1,phoneNumber:me.phoneNumber||null,tenantId:me.tenantId||null,providerData:Ut,metadata:new bi(me.createdAt,me.lastLoginAt),isAnonymous:Er};Object.assign(T,hr)})).apply(this,arguments)}function ct(){return(ct=(0,l.A)(function*(T){const g=(0,G.Ku)(T);yield yi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function It(T){return T.map(g=>{var{providerId:v}=g,b=(0,we.Tt)(g,["providerId"]);return{providerId:v,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Bn(){return(Bn=(0,l.A)(function*(T,g){const v=yield he(T,{},(0,l.A)(function*(){const b=(0,G.Am)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:z,apiKey:me}=T.config,mt=hn(T,z,"/v1/token",`key=${me}`),Ut=yield T._getAdditionalHeaders();return Ut["Content-Type"]="application/x-www-form-urlencoded",ce.fetch()(mt,{method:"POST",headers:Ut,body:b})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function $e(){return($e=(0,l.A)(function*(T,g){return Se(T,"POST","/v2/accounts:revokeToken",Xe(T,g))})).apply(this,arguments)}class vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){He(g.idToken,"internal-error"),He(typeof g.idToken<"u","internal-error"),He(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):ur(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}updateFromIdToken(g){He(0!==g.length,"internal-error");const v=ur(g);this.updateTokensAndExpiration(g,null,v)}getToken(g,v=!1){var b=this;return(0,l.A)(function*(){return v||!b.accessToken||b.isExpired?(He(b.refreshToken,g,"user-token-expired"),b.refreshToken?(yield b.refresh(g,b.refreshToken),b.accessToken):null):b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var b=this;return(0,l.A)(function*(){const{accessToken:z,refreshToken:me,expiresIn:mt}=yield function fn(T,g){return Bn.apply(this,arguments)}(g,v);b.updateTokensAndExpiration(z,me,Number(mt))})()}updateTokensAndExpiration(g,v,b){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(g,v){const{refreshToken:b,accessToken:z,expirationTime:me}=v,mt=new vt;return b&&(He("string"==typeof b,"internal-error",{appName:g}),mt.refreshToken=b),z&&(He("string"==typeof z,"internal-error",{appName:g}),mt.accessToken=z),me&&(He("number"==typeof me,"internal-error",{appName:g}),mt.expirationTime=me),mt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new vt,this.toJSON())}_performRefresh(){return wt("not implemented")}}function en(T,g){He("string"==typeof T||typeof T>"u","internal-error",{appName:g})}class Ot{constructor(g){var{uid:v,auth:b,stsTokenManager:z}=g,me=(0,we.Tt)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=b,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=me.displayName||null,this.email=me.email||null,this.emailVerified=me.emailVerified||!1,this.phoneNumber=me.phoneNumber||null,this.photoURL=me.photoURL||null,this.isAnonymous=me.isAnonymous||!1,this.tenantId=me.tenantId||null,this.providerData=me.providerData?[...me.providerData]:[],this.metadata=new bi(me.createdAt||void 0,me.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,l.A)(function*(){const b=yield ci(v,v.stsTokenManager.getToken(v.auth,g));return He(b,v.auth,"internal-error"),v.accessToken!==b&&(v.accessToken=b,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),b})()}getIdTokenResult(g){return function Or(T){return Hr.apply(this,arguments)}(this,g)}reload(){return function Zt(T){return ct.apply(this,arguments)}(this)}_assign(g){this!==g&&(He(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new Ot(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var b=this;return(0,l.A)(function*(){let z=!1;g.idToken&&g.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(g),z=!0),v&&(yield yi(b)),yield b.auth._persistUserIfCurrent(b),z&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var g=this;return(0,l.A)(function*(){if((0,J._isFirebaseServerApp)(g.auth.app))return Promise.reject(nt(g.auth));const v=yield g.getIdToken();return yield ci(g,function br(T,g){return er.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var b,z,me,mt,Ut,vn,ir,Er;const hr=null!==(b=v.displayName)&&void 0!==b?b:void 0,Is=null!==(z=v.email)&&void 0!==z?z:void 0,Ls=null!==(me=v.phoneNumber)&&void 0!==me?me:void 0,Fl=null!==(mt=v.photoURL)&&void 0!==mt?mt:void 0,Uc=null!==(Ut=v.tenantId)&&void 0!==Ut?Ut:void 0,qu=null!==(vn=v._redirectEventId)&&void 0!==vn?vn:void 0,xd=null!==(ir=v.createdAt)&&void 0!==ir?ir:void 0,Nd=null!==(Er=v.lastLoginAt)&&void 0!==Er?Er:void 0,{uid:Od,emailVerified:Wf,isAnonymous:gh,providerData:sl,stsTokenManager:Vl}=v;He(Od&&Vl,g,"internal-error");const Kh=vt.fromJSON(this.name,Vl);He("string"==typeof Od,g,"internal-error"),en(hr,g.name),en(Is,g.name),He("boolean"==typeof Wf,g,"internal-error"),He("boolean"==typeof gh,g,"internal-error"),en(Ls,g.name),en(Fl,g.name),en(Uc,g.name),en(qu,g.name),en(xd,g.name),en(Nd,g.name);const mh=new Ot({uid:Od,auth:g,email:Is,emailVerified:Wf,displayName:hr,isAnonymous:gh,photoURL:Fl,phoneNumber:Ls,tenantId:Uc,stsTokenManager:Kh,createdAt:xd,lastLoginAt:Nd});return sl&&Array.isArray(sl)&&(mh.providerData=sl.map(lo=>Object.assign({},lo))),qu&&(mh._redirectEventId=qu),mh}static _fromIdTokenResponse(g,v,b=!1){return(0,l.A)(function*(){const z=new vt;z.updateFromServerResponse(v);const me=new Ot({uid:v.localId,auth:g,stsTokenManager:z,isAnonymous:b});return yield yi(me),me})()}static _fromGetAccountInfoResponse(g,v,b){return(0,l.A)(function*(){const z=v.users[0];He(void 0!==z.localId,"internal-error");const me=void 0!==z.providerUserInfo?It(z.providerUserInfo):[],mt=!(z.email&&z.passwordHash||me?.length),Ut=new vt;Ut.updateFromIdToken(b);const vn=new Ot({uid:z.localId,auth:g,stsTokenManager:Ut,isAnonymous:mt}),ir={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:me,metadata:new bi(z.createdAt,z.lastLoginAt),isAnonymous:!(z.email&&z.passwordHash||me?.length)};return Object.assign(vn,ir),vn})()}}const Pn=new Map;function Qn(T){Ke(T instanceof Function,"Expected a class definition");let g=Pn.get(T);return g?(Ke(g instanceof T,"Instance stored in cache mismatched with class"),g):(g=new T,Pn.set(T,g),g)}const ai=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.A)(function*(){return!0})()}_set(v,b){var z=this;return(0,l.A)(function*(){z.storage[v]=b})()}_get(v){var b=this;return(0,l.A)(function*(){const z=b.storage[v];return void 0===z?null:z})()}_remove(v){var b=this;return(0,l.A)(function*(){delete b.storage[v]})()}_addListener(v,b){}_removeListener(v,b){}}return T.type="NONE",T})();function kr(T,g,v){return`firebase:${T}:${g}:${v}`}class $r{constructor(g,v,b){this.persistence=g,this.auth=v,this.userKey=b;const{config:z,name:me}=this.auth;this.fullUserKey=kr(this.userKey,z.apiKey,me),this.fullPersistenceKey=kr("persistence",z.apiKey,me),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.A)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?Ot._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,l.A)(function*(){if(v.persistence===g)return;const b=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,b?v.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,b="authUser"){return(0,l.A)(function*(){if(!v.length)return new $r(Qn(ai),g,b);const z=(yield Promise.all(v.map(function(){var ir=(0,l.A)(function*(Er){if(yield Er._isAvailable())return Er});return function(Er){return ir.apply(this,arguments)}}()))).filter(ir=>ir);let me=z[0]||Qn(ai);const mt=kr(b,g.config.apiKey,g.name);let Ut=null;for(const ir of v)try{const Er=yield ir._get(mt);if(Er){const hr=Ot._fromJSON(g,Er);ir!==me&&(Ut=hr),me=ir;break}}catch{}const vn=z.filter(ir=>ir._shouldAllowMigration);return me._shouldAllowMigration&&vn.length?(me=vn[0],Ut&&(yield me._set(mt,Ut.toJSON())),yield Promise.all(v.map(function(){var ir=(0,l.A)(function*(Er){if(Er!==me)try{yield Er._remove(mt)}catch{}});return function(Er){return ir.apply(this,arguments)}}())),new $r(me,g,b)):new $r(me,g,b)})()}}function Dn(T){const g=T.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Gi(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(ri(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(yr(g))return"Blackberry";if(Mi(g))return"Webos";if(Pi(g))return"Safari";if((g.includes("chrome/")||wr(g))&&!g.includes("edge/"))return"Chrome";if(Kr(g))return"Android";{const b=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function ri(T=(0,G.ZQ)()){return/firefox\//i.test(T)}function Pi(T=(0,G.ZQ)()){const g=T.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function wr(T=(0,G.ZQ)()){return/crios\//i.test(T)}function Gi(T=(0,G.ZQ)()){return/iemobile/i.test(T)}function Kr(T=(0,G.ZQ)()){return/android/i.test(T)}function yr(T=(0,G.ZQ)()){return/blackberry/i.test(T)}function Mi(T=(0,G.ZQ)()){return/webos/i.test(T)}function li(T=(0,G.ZQ)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function _e(T=(0,G.ZQ)()){return li(T)||Kr(T)||Mi(T)||yr(T)||/windows phone/i.test(T)||Gi(T)}function ie(T,g=[]){let v;switch(T){case"Browser":v=Dn((0,G.ZQ)());break;case"Worker":v=`${Dn((0,G.ZQ)())}-${T}`;break;default:v=T}const b=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${J.SDK_VERSION}/${b}`}class Y{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const b=me=>new Promise((mt,Ut)=>{try{mt(g(me))}catch(vn){Ut(vn)}});b.onAbort=v,this.queue.push(b);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,l.A)(function*(){if(v.auth.currentUser===g)return;const b=[];try{for(const z of v.queue)yield z(g),z.onAbort&&b.push(z.onAbort)}catch(z){b.reverse();for(const me of b)try{me()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:z?.message})}})()}}function gt(){return(gt=(0,l.A)(function*(T,g={}){return Se(T,"GET","/v2/passwordPolicy",Xe(T,g))})).apply(this,arguments)}class Yt{constructor(g){var v,b,z,me;const mt=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=mt.minPasswordLength)&&void 0!==v?v:6,mt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=mt.maxPasswordLength),void 0!==mt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=mt.containsLowercaseCharacter),void 0!==mt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=mt.containsUppercaseCharacter),void 0!==mt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=mt.containsNumericCharacter),void 0!==mt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=mt.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(z=null===(b=g.allowedNonAlphanumericCharacters)||void 0===b?void 0:b.join(""))&&void 0!==z?z:"",this.forceUpgradeOnSignin=null!==(me=g.forceUpgradeOnSignin)&&void 0!==me&&me,this.schemaVersion=g.schemaVersion}validatePassword(g){var v,b,z,me,mt,Ut;const vn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,vn),this.validatePasswordCharacterOptions(g,vn),vn.isValid&&(vn.isValid=null===(v=vn.meetsMinPasswordLength)||void 0===v||v),vn.isValid&&(vn.isValid=null===(b=vn.meetsMaxPasswordLength)||void 0===b||b),vn.isValid&&(vn.isValid=null===(z=vn.containsLowercaseLetter)||void 0===z||z),vn.isValid&&(vn.isValid=null===(me=vn.containsUppercaseLetter)||void 0===me||me),vn.isValid&&(vn.isValid=null===(mt=vn.containsNumericCharacter)||void 0===mt||mt),vn.isValid&&(vn.isValid=null===(Ut=vn.containsNonAlphanumericCharacter)||void 0===Ut||Ut),vn}validatePasswordLengthOptions(g,v){const b=this.customStrengthOptions.minPasswordLength,z=this.customStrengthOptions.maxPasswordLength;b&&(v.meetsMinPasswordLength=g.length>=b),z&&(v.meetsMaxPasswordLength=g.length<=z)}validatePasswordCharacterOptions(g,v){let b;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let z=0;z<g.length;z++)b=g.charAt(z),this.updatePasswordCharacterOptionsStatuses(v,b>="a"&&b<="z",b>="A"&&b<="Z",b>="0"&&b<="9",this.allowedNonAlphanumericCharacters.includes(b))}updatePasswordCharacterOptionsStatuses(g,v,b,z,me){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=b)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=me))}}class pe{constructor(g,v,b,z){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=b,this.config=z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Je(this),this.idTokenSubscription=new Je(this),this.beforeStateQueue=new Y(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=z.sdkClientVersion}_initializeWithPersistence(g,v){var b=this;return v&&(this._popupRedirectResolver=Qn(v)),this._initializationPromise=this.queue((0,l.A)(function*(){var z,me;if(!b._deleted&&(b.persistenceManager=yield $r.create(b,g),!b._deleted)){if(null!==(z=b._popupRedirectResolver)&&void 0!==z&&z._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(v),b.lastNotifiedUid=(null===(me=b.currentUser)||void 0===me?void 0:me.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.A)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(g){var v=this;return(0,l.A)(function*(){try{const b=yield Dr(v,{idToken:g}),z=yield Ot._fromGetAccountInfoResponse(v,b,g);yield v.directlySetCurrentUser(z)}catch(b){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",b),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(g){var v=this;return(0,l.A)(function*(){var b;if((0,J._isFirebaseServerApp)(v.app)){const Ut=v.app.settings.authIdToken;return Ut?new Promise(vn=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Ut).then(vn,vn))}):v.directlySetCurrentUser(null)}const z=yield v.assertedPersistence.getCurrentUser();let me=z,mt=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Ut=null===(b=v.redirectUser)||void 0===b?void 0:b._redirectEventId,vn=me?._redirectEventId,ir=yield v.tryRedirectSignIn(g);(!Ut||Ut===vn)&&ir?.user&&(me=ir.user,mt=!0)}if(!me)return v.directlySetCurrentUser(null);if(!me._redirectEventId){if(mt)try{yield v.beforeStateQueue.runMiddleware(me)}catch(Ut){me=z,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Ut))}return me?v.reloadAndSetCurrentUserOrClear(me):v.directlySetCurrentUser(null)}return He(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===me._redirectEventId?v.directlySetCurrentUser(me):v.reloadAndSetCurrentUserOrClear(me)})()}tryRedirectSignIn(g){var v=this;return(0,l.A)(function*(){let b=null;try{b=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,l.A)(function*(){try{yield yi(g)}catch(b){if("auth/network-request-failed"!==b?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function De(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var g=this;return(0,l.A)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,l.A)(function*(){if((0,J._isFirebaseServerApp)(v.app))return Promise.reject(nt(v));const b=g?(0,G.Ku)(g):null;return b&&He(b.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(b&&b._clone(v))})()}_updateCurrentUser(g,v=!1){var b=this;return(0,l.A)(function*(){if(!b._deleted)return g&&He(b.tenantId===g.tenantId,b,"tenant-id-mismatch"),v||(yield b.beforeStateQueue.runMiddleware(g)),b.queue((0,l.A)(function*(){yield b.directlySetCurrentUser(g),b.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.A)(function*(){return(0,J._isFirebaseServerApp)(g.app)?Promise.reject(nt(g)):(yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0))})()}setPersistence(g){var v=this;return(0,J._isFirebaseServerApp)(this.app)?Promise.reject(nt(this)):this.queue((0,l.A)(function*(){yield v.assertedPersistence.setPersistence(Qn(g))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(g){var v=this;return(0,l.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const b=v._getPasswordPolicyInternal();return b.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):b.validatePassword(g)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var g=this;return(0,l.A)(function*(){const v=yield function Ve(T){return gt.apply(this,arguments)}(g),b=new Yt(v);null===g.tenantId?g._projectPasswordPolicy=b:g._tenantPasswordPolicies[g.tenantId]=b})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new G.FA("auth","Firebase",g())}onAuthStateChanged(g,v,b){return this.registerStateListener(this.authStateSubscription,g,v,b)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,b){return this.registerStateListener(this.idTokenSubscription,g,v,b)}authStateReady(){return new Promise((g,v)=>{if(this.currentUser)g();else{const b=this.onAuthStateChanged(()=>{b(),g()},v)}})}revokeAccessToken(g){var v=this;return(0,l.A)(function*(){if(v.currentUser){const b=yield v.currentUser.getIdToken(),z={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:g,idToken:b};null!=v.tenantId&&(z.tenantId=v.tenantId),yield function Ge(T,g){return $e.apply(this,arguments)}(v,z)}})()}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var b=this;return(0,l.A)(function*(){const z=yield b.getOrInitRedirectPersistenceManager(v);return null===g?z.removeCurrentUser():z.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,l.A)(function*(){if(!v.redirectPersistenceManager){const b=g&&Qn(g)||v._popupRedirectResolver;He(b,v,"argument-error"),v.redirectPersistenceManager=yield $r.create(v,[Qn(b._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,l.A)(function*(){var b,z;return v._isInitialized&&(yield v.queue((0,l.A)(function*(){}))),(null===(b=v._currentUser)||void 0===b?void 0:b._redirectEventId)===g?v._currentUser:(null===(z=v.redirectUser)||void 0===z?void 0:z._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,l.A)(function*(){if(g===v.currentUser)return v.queue((0,l.A)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,b,z){if(this._deleted)return()=>{};const me="function"==typeof v?v:v.next.bind(v);let mt=!1;const Ut=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(Ut,this,"internal-error"),Ut.then(()=>{mt||me(this.currentUser)}),"function"==typeof v){const vn=g.addObserver(v,b,z);return()=>{mt=!0,vn()}}{const vn=g.addObserver(v);return()=>{mt=!0,vn()}}}directlySetCurrentUser(g){var v=this;return(0,l.A)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.A)(function*(){var v;const b={"X-Client-Version":g.clientVersion};g.app.options.appId&&(b["X-Firebase-gmpid"]=g.app.options.appId);const z=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();z&&(b["X-Firebase-Client"]=z);const me=yield g._getAppCheckToken();return me&&(b["X-Firebase-AppCheck"]=me),b})()}_getAppCheckToken(){var g=this;return(0,l.A)(function*(){var v;const b=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return b?.error&&function Pt(T,...g){At.logLevel<=Re.$b.WARN&&At.warn(`Auth (${J.SDK_VERSION}): ${T}`,...g)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function Oe(T){return(0,G.Ku)(T)}class Je{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,G.tD)(v=>this.observer=v)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ht={loadJS:()=>(0,l.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _n(T){return Ht.loadJS(T)}function Lr(T){return`__${T}${Math.floor(1e6*Math.random())}`}class _i{constructor(g){this.type="recaptcha-enterprise",this.auth=Oe(g)}verify(g="verify",v=!1){var b=this;return(0,l.A)(function*(){function me(){return me=(0,l.A)(function*(Ut){if(!v){if(null==Ut.tenantId&&null!=Ut._agentRecaptchaConfig)return Ut._agentRecaptchaConfig.siteKey;if(null!=Ut.tenantId&&void 0!==Ut._tenantRecaptchaConfigs[Ut.tenantId])return Ut._tenantRecaptchaConfigs[Ut.tenantId].siteKey}return new Promise(function(){var vn=(0,l.A)(function*(ir,Er){jt(Ut,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(hr=>{if(void 0!==hr.recaptchaKey){const Is=new Yn(hr);return null==Ut.tenantId?Ut._agentRecaptchaConfig=Is:Ut._tenantRecaptchaConfigs[Ut.tenantId]=Is,ir(Is.siteKey)}Er(new Error("recaptcha Enterprise site key undefined"))}).catch(hr=>{Er(hr)})});return function(ir,Er){return vn.apply(this,arguments)}}())}),me.apply(this,arguments)}function mt(Ut,vn,ir){const Er=window.grecaptcha;zn(Er)?Er.enterprise.ready(()=>{Er.enterprise.execute(Ut,{action:g}).then(hr=>{vn(hr)}).catch(()=>{vn("NO_RECAPTCHA")})}):ir(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ut,vn)=>{(function z(Ut){return me.apply(this,arguments)})(b.auth).then(ir=>{if(!v&&zn(window.grecaptcha))mt(ir,Ut,vn);else{if(typeof window>"u")return void vn(new Error("RecaptchaVerifier is only supported in browser"));let Er=function Gn(){return Ht.recaptchaEnterpriseScript}();0!==Er.length&&(Er+=ir),_n(Er).then(()=>{mt(ir,Ut,vn)}).catch(hr=>{vn(hr)})}}).catch(ir=>{vn(ir)})})})()}}function Tn(T,g,v){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,l.A)(function*(T,g,v,b=!1){const z=new _i(T);let me;try{me=yield z.verify(v)}catch{me=yield z.verify(v,!0)}const mt=Object.assign({},g);return Object.assign(mt,b?{captchaResp:me}:{captchaResponse:me}),Object.assign(mt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(mt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),mt})).apply(this,arguments)}function Kt(T,g,v,b){return xr.apply(this,arguments)}function xr(){return xr=(0,l.A)(function*(T,g,v,b){var z;if(null!==(z=T._getRecaptchaConfig())&&void 0!==z&&z.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const me=yield Tn(T,g,v,"getOobCode"===v);return b(T,me)}return b(T,g).catch(function(){var me=(0,l.A)(function*(mt){if("auth/missing-recaptcha-token"===mt.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ut=yield Tn(T,g,v,"getOobCode"===v);return b(T,Ut)}return Promise.reject(mt)});return function(mt){return me.apply(this,arguments)}}())}),xr.apply(this,arguments)}function bn(T){const g=T.indexOf(":");return g<0?"":T.substr(0,g+1)}function rr(T){if(!T)return null;const g=Number(T);return isNaN(g)?null:g}class xn{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return wt("not implemented")}_getIdTokenResponse(g){return wt("not implemented")}_linkToIdToken(g,v){return wt("not implemented")}_getReauthenticationResolver(g){return wt("not implemented")}}function Ei(T,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.A)(function*(T,g){return Se(T,"POST","/v1/accounts:resetPassword",Xe(T,g))})).apply(this,arguments)}function Lo(){return(Lo=(0,l.A)(function*(T,g){return Se(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ai(T,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,l.A)(function*(T,g){return Se(T,"POST","/v1/accounts:signUp",g)})).apply(this,arguments)}function Jn(){return(Jn=(0,l.A)(function*(T,g){return Se(T,"POST","/v1/accounts:update",Xe(T,g))})).apply(this,arguments)}function ns(T,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,l.A)(function*(T,g){return Nt(T,"POST","/v1/accounts:signInWithPassword",Xe(T,g))})).apply(this,arguments)}function Fn(T,g){return as.apply(this,arguments)}function as(){return(as=(0,l.A)(function*(T,g){return Se(T,"POST","/v1/accounts:sendOobCode",Xe(T,g))})).apply(this,arguments)}function Cs(){return(Cs=(0,l.A)(function*(T,g){return Fn(T,g)})).apply(this,arguments)}function C(T,g){return le.apply(this,arguments)}function le(){return(le=(0,l.A)(function*(T,g){return Fn(T,g)})).apply(this,arguments)}function O(T,g){return A.apply(this,arguments)}function A(){return(A=(0,l.A)(function*(T,g){return Fn(T,g)})).apply(this,arguments)}function Ue(){return(Ue=(0,l.A)(function*(T,g){return Fn(T,g)})).apply(this,arguments)}function dn(){return(dn=(0,l.A)(function*(T,g){return Nt(T,"POST","/v1/accounts:signInWithEmailLink",Xe(T,g))})).apply(this,arguments)}function mn(){return(mn=(0,l.A)(function*(T,g){return Nt(T,"POST","/v1/accounts:signInWithEmailLink",Xe(T,g))})).apply(this,arguments)}class $n extends xn{constructor(g,v,b,z=null){super("password",b),this._email=g,this._password=v,this._tenantId=z}static _fromEmailAndPassword(g,v){return new $n(g,v,"password")}static _fromEmailAndCode(g,v,b=null){return new $n(g,v,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,l.A)(function*(){switch(v.signInMethod){case"password":return Kt(g,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ns);case"emailLink":return function zt(T,g){return dn.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:Fe(g,"internal-error")}})()}_linkToIdToken(g,v){var b=this;return(0,l.A)(function*(){switch(b.signInMethod){case"password":return Kt(g,{idToken:v,returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ai);case"emailLink":return function pn(T,g){return mn.apply(this,arguments)}(g,{idToken:v,email:b._email,oobCode:b._password});default:Fe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Un(T,g){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,l.A)(function*(T,g){return Nt(T,"POST","/v1/accounts:signInWithIdp",Xe(T,g))})).apply(this,arguments)}class Pr extends xn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new Pr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):Fe("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:z}=v,me=(0,we.Tt)(v,["providerId","signInMethod"]);if(!b||!z)return null;const mt=new Pr(b,z);return mt.idToken=me.idToken||void 0,mt.accessToken=me.accessToken||void 0,mt.secret=me.secret,mt.nonce=me.nonce,mt.pendingToken=me.pendingToken||null,mt}_getIdTokenResponse(g){return Un(g,this.buildRequest())}_linkToIdToken(g,v){const b=this.buildRequest();return b.idToken=v,Un(g,b)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Un(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,G.Am)(v)}return g}}function Di(){return(Di=(0,l.A)(function*(T,g){return Se(T,"POST","/v1/accounts:sendVerificationCode",Xe(T,g))})).apply(this,arguments)}function ni(){return(ni=(0,l.A)(function*(T,g){return Nt(T,"POST","/v1/accounts:signInWithPhoneNumber",Xe(T,g))})).apply(this,arguments)}function si(){return(si=(0,l.A)(function*(T,g){const v=yield Nt(T,"POST","/v1/accounts:signInWithPhoneNumber",Xe(T,g));if(v.temporaryProof)throw kn(T,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const mo={USER_NOT_FOUND:"user-not-found"};function zs(){return(zs=(0,l.A)(function*(T,g){return Nt(T,"POST","/v1/accounts:signInWithPhoneNumber",Xe(T,Object.assign(Object.assign({},g),{operation:"REAUTH"})),mo)})).apply(this,arguments)}class Zs extends xn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new Zs({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new Zs({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function Xr(T,g){return ni.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function rs(T,g){return si.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Yo(T,g){return zs.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:b,verificationCode:z}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:b,code:z}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:b,phoneNumber:z,temporaryProof:me}=g;return b||v||z||me?new Zs({verificationId:v,verificationCode:b,phoneNumber:z,temporaryProof:me}):null}}class bo{constructor(g){var v,b,z,me,mt,Ut;const vn=(0,G.I9)((0,G.hp)(g)),ir=null!==(v=vn.apiKey)&&void 0!==v?v:null,Er=null!==(b=vn.oobCode)&&void 0!==b?b:null,hr=function Rs(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=vn.mode)&&void 0!==z?z:null);He(ir&&Er&&hr,"argument-error"),this.apiKey=ir,this.operation=hr,this.code=Er,this.continueUrl=null!==(me=vn.continueUrl)&&void 0!==me?me:null,this.languageCode=null!==(mt=vn.languageCode)&&void 0!==mt?mt:null,this.tenantId=null!==(Ut=vn.tenantId)&&void 0!==Ut?Ut:null}static parseLink(g){const v=function Jo(T){const g=(0,G.I9)((0,G.hp)(T)).link,v=g?(0,G.I9)((0,G.hp)(g)).deep_link_id:null,b=(0,G.I9)((0,G.hp)(T)).deep_link_id;return(b?(0,G.I9)((0,G.hp)(b)).link:null)||b||v||g||T}(g);try{return new bo(v)}catch{return null}}}let ls=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(v,b){return $n._fromEmailAndPassword(v,b)}static credentialWithLink(v,b){const z=bo.parseLink(b);return He(z,"argument-error"),$n._fromEmailAndCode(v,z.code,z.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class Gs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Zo extends Gs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class $s extends Zo{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return He("providerId"in v&&"signInMethod"in v,"argument-error"),Pr._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return He(g.idToken||g.accessToken,"argument-error"),Pr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return $s.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return $s.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:b,oauthTokenSecret:z,pendingToken:me,nonce:mt,providerId:Ut}=g;if(!b&&!z&&!v&&!me||!Ut)return null;try{return new $s(Ut)._credential({idToken:v,accessToken:b,nonce:mt,pendingToken:me})}catch{return null}}}let eo=(()=>{class T extends Zo{constructor(){super("facebook.com")}static credential(v){return Pr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),Tr=(()=>{class T extends Zo{constructor(){super("google.com"),this.addScope("profile")}static credential(v,b){return Pr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:b})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:b,oauthAccessToken:z}=v;if(!b&&!z)return null;try{return T.credential(b,z)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),Ks=(()=>{class T extends Zo{constructor(){super("github.com")}static credential(v){return Pr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class to extends xn{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return Un(g,this.buildRequest())}_linkToIdToken(g,v){const b=this.buildRequest();return b.idToken=v,Un(g,b)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Un(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:z,pendingToken:me}=v;return b&&z&&me&&b===z?new to(b,me):null}static _create(g,v){return new to(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class js extends Gs{constructor(g){He(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return js.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return js.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=to.fromJSON(g);return He(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:b}=g;if(!v||!b)return null;try{return to._create(b,v)}catch{return null}}}let vs=(()=>{class T extends Zo{constructor(){super("twitter.com")}static credential(v,b){return Pr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:b})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:b,oauthTokenSecret:z}=v;if(!b||!z)return null;try{return T.credential(b,z)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Xs(T,g){return zr.apply(this,arguments)}function zr(){return(zr=(0,l.A)(function*(T,g){return Nt(T,"POST","/v1/accounts:signUp",Xe(T,g))})).apply(this,arguments)}class As{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,b,z=!1){return(0,l.A)(function*(){const me=yield Ot._fromIdTokenResponse(g,b,z),mt=Fo(b);return new As({user:me,providerId:mt,_tokenResponse:b,operationType:v})})()}static _forOperation(g,v,b){return(0,l.A)(function*(){yield g._updateTokensIfNecessary(b,!0);const z=Fo(b);return new As({user:g,providerId:z,_tokenResponse:b,operationType:v})})()}}function Fo(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function Vi(){return(Vi=(0,l.A)(function*(T){var g;if((0,J._isFirebaseServerApp)(T.app))return Promise.reject(nt(T));const v=Oe(T);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new As({user:v.currentUser,providerId:null,operationType:"signIn"});const b=yield Xs(v,{returnSecureToken:!0}),z=yield As._fromIdTokenResponse(v,"signIn",b,!0);return yield v._updateCurrentUser(z.user),z})).apply(this,arguments)}class Na extends G.g{constructor(g,v,b,z){var me;super(v.code,v.message),this.operationType=b,this.user=z,Object.setPrototypeOf(this,Na.prototype),this.customData={appName:g.name,tenantId:null!==(me=g.tenantId)&&void 0!==me?me:void 0,_serverResponse:v.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(g,v,b,z){return new Na(g,v,b,z)}}function Gl(T,g,v,b){return("reauthenticate"===g?v._getReauthenticationResolver(T):v._getIdTokenResponse(T)).catch(me=>{throw"auth/multi-factor-auth-required"===me.code?Na._fromErrorAndOperation(T,me,g,b):me})}function Kl(T){return new Set(T.map(({providerId:g})=>g).filter(g=>!!g))}function Ao(){return Ao=(0,l.A)(function*(T,g){const v=(0,G.Ku)(T);yield $(!0,v,g);const{providerUserInfo:b}=yield function tr(T,g){return Xn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),z=Kl(b||[]);return v.providerData=v.providerData.filter(me=>z.has(me.providerId)),z.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),Ao.apply(this,arguments)}function Q(T,g){return ee.apply(this,arguments)}function ee(){return(ee=(0,l.A)(function*(T,g,v=!1){const b=yield ci(T,g._linkToIdToken(T.auth,yield T.getIdToken()),v);return As._forOperation(T,"link",b)})).apply(this,arguments)}function $(T,g,v){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,l.A)(function*(T,g,v){yield yi(g);const z=!1===T?"provider-already-linked":"no-such-provider";He(Kl(g.providerData).has(v)===T,g.auth,z)})).apply(this,arguments)}function _t(T,g){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,l.A)(function*(T,g,v=!1){const{auth:b}=T;if((0,J._isFirebaseServerApp)(b.app))return Promise.reject(nt(b));const z="reauthenticate";try{const me=yield ci(T,Gl(b,z,g,T),v);He(me.idToken,b,"internal-error");const mt=vr(me.idToken);He(mt,b,"internal-error");const{sub:Ut}=mt;return He(T.uid===Ut,b,"user-mismatch"),As._forOperation(T,z,me)}catch(me){throw"auth/user-not-found"===me?.code&&Fe(b,"user-mismatch"),me}})).apply(this,arguments)}function Qr(T,g){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,l.A)(function*(T,g,v=!1){if((0,J._isFirebaseServerApp)(T.app))return Promise.reject(nt(T));const b="signIn",z=yield Gl(T,b,g),me=yield As._fromIdTokenResponse(T,b,z);return v||(yield T._updateCurrentUser(me.user)),me})).apply(this,arguments)}function Vo(T,g){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.A)(function*(T,g){return Qr(Oe(T),g)})).apply(this,arguments)}function Xl(T,g){return mc.apply(this,arguments)}function mc(){return(mc=(0,l.A)(function*(T,g){const v=(0,G.Ku)(T);return yield $(!1,v,g.providerId),Q(v,g)})).apply(this,arguments)}function Ni(T,g){return cl.apply(this,arguments)}function cl(){return(cl=(0,l.A)(function*(T,g){return _t((0,G.Ku)(T),g)})).apply(this,arguments)}function hi(){return(hi=(0,l.A)(function*(T,g){return Nt(T,"POST","/v1/accounts:signInWithCustomToken",Xe(T,g))})).apply(this,arguments)}function ea(){return ea=(0,l.A)(function*(T,g){if((0,J._isFirebaseServerApp)(T.app))return Promise.reject(nt(T));const v=Oe(T),b=yield function gs(T,g){return hi.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),z=yield As._fromIdTokenResponse(v,"signIn",b);return yield v._updateCurrentUser(z.user),z}),ea.apply(this,arguments)}class Ps{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?qr._fromServerResponse(g,v):"totpInfo"in v?Xi._fromServerResponse(g,v):Fe(g,"internal-error")}}class qr extends Ps{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new qr(v)}}class Xi extends Ps{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new Xi(v)}}function Zr(T,g,v){var b;He((null===(b=v.url)||void 0===b?void 0:b.length)>0,T,"invalid-continue-uri"),He(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(He(v.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(He(v.android.packageName.length>0,T,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function Uo(T){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,l.A)(function*(T){const g=Oe(T);g._getPasswordPolicyInternal()&&(yield g._updatePasswordPolicy())})).apply(this,arguments)}function no(){return(no=(0,l.A)(function*(T,g,v){const b=Oe(T),z={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};v&&Zr(b,z,v),yield Kt(b,z,"getOobCode",C)})).apply(this,arguments)}function ul(){return ul=(0,l.A)(function*(T,g,v){yield Ei((0,G.Ku)(T),{oobCode:g,newPassword:v}).catch(function(){var b=(0,l.A)(function*(z){throw"auth/password-does-not-meet-requirements"===z.code&&Uo(T),z});return function(z){return b.apply(this,arguments)}}())}),ul.apply(this,arguments)}function _s(){return _s=(0,l.A)(function*(T,g){yield function ii(T,g){return Jn.apply(this,arguments)}((0,G.Ku)(T),{oobCode:g})}),_s.apply(this,arguments)}function yo(T,g){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,l.A)(function*(T,g){const v=(0,G.Ku)(T),b=yield Ei(v,{oobCode:g}),z=b.requestType;switch(He(z,v,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":He(b.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":He(b.mfaInfo,v,"internal-error");default:He(b.email,v,"internal-error")}let me=null;return b.mfaInfo&&(me=Ps._fromServerResponse(Oe(v),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:me},operation:z}})).apply(this,arguments)}function ro(){return(ro=(0,l.A)(function*(T,g){const{data:v}=yield yo((0,G.Ku)(T),g);return v.email})).apply(this,arguments)}function uo(){return(uo=(0,l.A)(function*(T,g,v){if((0,J._isFirebaseServerApp)(T.app))return Promise.reject(nt(T));const b=Oe(T),mt=yield Kt(b,{returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xs).catch(vn=>{throw"auth/password-does-not-meet-requirements"===vn.code&&Uo(T),vn}),Ut=yield As._fromIdTokenResponse(b,"signIn",mt);return yield b._updateCurrentUser(Ut.user),Ut})).apply(this,arguments)}function fl(){return(fl=(0,l.A)(function*(T,g,v){const b=Oe(T),z={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};(function me(mt,Ut){He(Ut.handleCodeInApp,b,"argument-error"),Ut&&Zr(b,mt,Ut)})(z,v),yield Kt(b,z,"getOobCode",O)})).apply(this,arguments)}function gl(){return(gl=(0,l.A)(function*(T,g,v){if((0,J._isFirebaseServerApp)(T.app))return Promise.reject(nt(T));const b=(0,G.Ku)(T),z=ls.credentialWithLink(g,v||Mt());return He(z._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Vo(b,z)})).apply(this,arguments)}function na(){return(na=(0,l.A)(function*(T,g){return Se(T,"POST","/v1/accounts:createAuthUri",Xe(T,g))})).apply(this,arguments)}function Ka(){return Ka=(0,l.A)(function*(T,g){const b={identifier:g,continueUri:kt()?Mt():"http://localhost"},{signinMethods:z}=yield function ga(T,g){return na.apply(this,arguments)}((0,G.Ku)(T),b);return z||[]}),Ka.apply(this,arguments)}function ms(){return ms=(0,l.A)(function*(T,g){const v=(0,G.Ku)(T),z={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};g&&Zr(v.auth,z,g);const{email:me}=yield function Js(T,g){return Cs.apply(this,arguments)}(v.auth,z);me!==T.email&&(yield T.reload())}),ms.apply(this,arguments)}function ma(){return ma=(0,l.A)(function*(T,g,v){const b=(0,G.Ku)(T),me={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:g};v&&Zr(b.auth,me,v);const{email:mt}=yield function K(T,g){return Ue.apply(this,arguments)}(b.auth,me);mt!==T.email&&(yield T.reload())}),ma.apply(this,arguments)}function Ms(){return(Ms=(0,l.A)(function*(T,g){return Se(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Bo(){return Bo=(0,l.A)(function*(T,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const b=(0,G.Ku)(T),me={idToken:yield b.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},mt=yield ci(b,function Ji(T,g){return Ms.apply(this,arguments)}(b.auth,me));b.displayName=mt.displayName||null,b.photoURL=mt.photoUrl||null;const Ut=b.providerData.find(({providerId:vn})=>"password"===vn);Ut&&(Ut.displayName=b.displayName,Ut.photoURL=b.photoURL),yield b._updateTokensIfNecessary(mt)}),Bo.apply(this,arguments)}function ds(T,g,v){return va.apply(this,arguments)}function va(){return va=(0,l.A)(function*(T,g,v){const{auth:b}=T,me={idToken:yield T.getIdToken(),returnSecureToken:!0};g&&(me.email=g),v&&(me.password=v);const mt=yield ci(T,function ts(T,g){return Lo.apply(this,arguments)}(b,me));yield T._updateTokensIfNecessary(mt,!0)}),va.apply(this,arguments)}class Ds{constructor(g,v,b={}){this.isNewUser=g,this.providerId=v,this.profile=b}}class Io extends Ds{constructor(g,v,b,z){super(g,v,b),this.username=z}}class ka extends Ds{constructor(g,v){super(g,"facebook.com",v)}}class La extends Io{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class M extends Ds{constructor(g,v){super(g,"google.com",v)}}class oe extends Io{constructor(g,v,b){super(g,"twitter.com",v,b)}}function B(T){const{user:g,_tokenResponse:v}=T;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Oi(T){var g,v;if(!T)return null;const{providerId:b}=T,z=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},me=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!b&&T?.idToken){const mt=null===(v=null===(g=vr(T.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(mt)return new Ds(me,"anonymous"!==mt&&"custom"!==mt?mt:null)}if(!b)return null;switch(b){case"facebook.com":return new ka(me,z);case"github.com":return new La(me,z);case"google.com":return new M(me,z);case"twitter.com":return new oe(me,z,T.screenName||null);case"custom":case"anonymous":return new Ds(me,null);default:return new Ds(me,b,z)}}(v)}class vi{constructor(g,v,b){this.type=g,this.credential=v,this.user=b}static _fromIdtoken(g,v){return new vi("enroll",g,v)}static _fromMfaPendingCredential(g){return new vi("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,b;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return vi._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(b=g.multiFactorSession)&&void 0!==b&&b.idToken)return vi._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ys{constructor(g,v,b){this.session=g,this.hints=v,this.signInResolver=b}static _fromError(g,v){const b=Oe(g),z=v.customData._serverResponse,me=(z.mfaInfo||[]).map(Ut=>Ps._fromServerResponse(b,Ut));He(z.mfaPendingCredential,b,"internal-error");const mt=vi._fromMfaPendingCredential(z.mfaPendingCredential);return new ys(mt,me,function(){var Ut=(0,l.A)(function*(vn){const ir=yield vn._process(b,mt);delete z.mfaInfo,delete z.mfaPendingCredential;const Er=Object.assign(Object.assign({},z),{idToken:ir.idToken,refreshToken:ir.refreshToken});switch(v.operationType){case"signIn":const hr=yield As._fromIdTokenResponse(b,v.operationType,Er);return yield b._updateCurrentUser(hr.user),hr;case"reauthenticate":return He(v.user,b,"internal-error"),As._forOperation(v.user,v.operationType,Er);default:Fe(b,"internal-error")}});return function(vn){return Ut.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,l.A)(function*(){return v.signInResolver(g)})()}}class Ur{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(b=>Ps._fromServerResponse(g.auth,b)))})}static _fromUser(g){return new Ur(g)}getSession(){var g=this;return(0,l.A)(function*(){return vi._fromIdtoken(yield g.user.getIdToken(),g.user)})()}enroll(g,v){var b=this;return(0,l.A)(function*(){const z=g,me=yield b.getSession(),mt=yield ci(b.user,z._process(b.user.auth,me,v));return yield b.user._updateTokensIfNecessary(mt),b.user.reload()})()}unenroll(g){var v=this;return(0,l.A)(function*(){const b="string"==typeof g?g:g.uid,z=yield v.user.getIdToken();try{const me=yield ci(v.user,function so(T,g){return Se(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Xe(T,g))}(v.user.auth,{idToken:z,mfaEnrollmentId:b}));v.enrolledFactors=v.enrolledFactors.filter(({uid:mt})=>mt!==b),yield v.user._updateTokensIfNecessary(me),yield v.user.reload()}catch(me){throw me}})()}}const $o=new WeakMap,Qa="__sak";class ki{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Qa,"1"),this.storage.removeItem(Qa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const jo=(()=>{class T extends ki{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,b)=>this.onStorageEvent(v,b),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_e(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const b of Object.keys(this.listeners)){const z=this.storage.getItem(b),me=this.localCache[b];z!==me&&v(b,me,z)}}onStorageEvent(v,b=!1){if(!v.key)return void this.forAllChangedKeys((Ut,vn,ir)=>{this.notifyListeners(Ut,ir)});const z=v.key;b?this.detachListener():this.stopPolling();const me=()=>{const Ut=this.storage.getItem(z);!b&&this.localCache[z]===Ut||this.notifyListeners(z,Ut)},mt=this.storage.getItem(z);!function ae(){return(0,G.lT)()&&10===document.documentMode}()||mt===v.newValue||v.newValue===v.oldValue?me():setTimeout(me,10)}notifyListeners(v,b){this.localCache[v]=b;const z=this.listeners[v];if(z)for(const me of Array.from(z))me(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,b,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:b,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(b)}_removeListener(v,b){this.listeners[v]&&(this.listeners[v].delete(b),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,b){var z=()=>super._set,me=this;return(0,l.A)(function*(){yield z().call(me,v,b),me.localCache[v]=JSON.stringify(b)})()}_get(v){var b=()=>super._get,z=this;return(0,l.A)(function*(){const me=yield b().call(z,v);return z.localCache[v]=JSON.stringify(me),me})()}_remove(v){var b=()=>super._remove,z=this;return(0,l.A)(function*(){yield b().call(z,v),delete z.localCache[v]})()}}return T.type="LOCAL",T})(),$i=(()=>{class T extends ki{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,b){}_removeListener(v,b){}}return T.type="SESSION",T})();let fo=(()=>{class T{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const b=this.receivers.find(me=>me.isListeningto(v));if(b)return b;const z=new T(v);return this.receivers.push(z),z}isListeningto(v){return this.eventTarget===v}handleEvent(v){var b=this;return(0,l.A)(function*(){const z=v,{eventId:me,eventType:mt,data:Ut}=z.data,vn=b.handlersMap[mt];if(!vn?.size)return;z.ports[0].postMessage({status:"ack",eventId:me,eventType:mt});const ir=Array.from(vn).map(function(){var hr=(0,l.A)(function*(Is){return Is(z.origin,Ut)});return function(Is){return hr.apply(this,arguments)}}()),Er=yield function Ql(T){return Promise.all(T.map(function(){var g=(0,l.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(b){return{fulfilled:!1,reason:b}}});return function(v){return g.apply(this,arguments)}}()))}(ir);z.ports[0].postMessage({status:"done",eventId:me,eventType:mt,response:Er})})()}_subscribe(v,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(b)}_unsubscribe(v,b){this.handlersMap[v]&&b&&this.handlersMap[v].delete(b),(!b||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function gr(T="",g=10){let v="";for(let b=0;b<g;b++)v+=Math.floor(10*Math.random());return T+v}class Yl{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,b=50){var z=this;return(0,l.A)(function*(){const me=typeof MessageChannel<"u"?new MessageChannel:null;if(!me)throw new Error("connection_unavailable");let mt,Ut;return new Promise((vn,ir)=>{const Er=gr("",20);me.port1.start();const hr=setTimeout(()=>{ir(new Error("unsupported_event"))},b);Ut={messageChannel:me,onMessage(Is){const Ls=Is;if(Ls.data.eventId===Er)switch(Ls.data.status){case"ack":clearTimeout(hr),mt=setTimeout(()=>{ir(new Error("timeout"))},3e3);break;case"done":clearTimeout(mt),vn(Ls.data.response);break;default:clearTimeout(hr),clearTimeout(mt),ir(new Error("invalid_response"))}}},z.handlers.add(Ut),me.port1.addEventListener("message",Ut.onMessage),z.target.postMessage({eventType:g,eventId:Er,data:v},[me.port2])}).finally(()=>{Ut&&z.removeMessageHandler(Ut)})})()}}function os(){return window}function ya(){return typeof os().WorkerGlobalScope<"u"&&"function"==typeof os().importScripts}function Es(){return(Es=(0,l.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const hs="firebaseLocalStorageDb",fs="firebaseLocalStorage",Jl="fbase_key";class Os{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function sa(T,g){return T.transaction([fs],g?"readwrite":"readonly").objectStore(fs)}function Gc(){const T=indexedDB.open(hs,1);return new Promise((g,v)=>{T.addEventListener("error",()=>{v(T.error)}),T.addEventListener("upgradeneeded",()=>{const b=T.result;try{b.createObjectStore(fs,{keyPath:Jl})}catch(z){v(z)}}),T.addEventListener("success",(0,l.A)(function*(){const b=T.result;b.objectStoreNames.contains(fs)?g(b):(b.close(),yield function oa(){const T=indexedDB.deleteDatabase(hs);return new Os(T).toPromise()}(),g(yield Gc()))}))})}function vl(T,g,v){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,l.A)(function*(T,g,v){const b=sa(T,!0).put({[Jl]:g,value:v});return new Os(b).toPromise()})).apply(this,arguments)}function Yr(){return(Yr=(0,l.A)(function*(T,g){const v=sa(T,!1).get(g),b=yield new Os(v).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function kh(T,g){const v=sa(T,!0).delete(g);return new Os(v).toPromise()}const ec=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,l.A)(function*(){return v.db||(v.db=yield Gc()),v.db})()}_withRetries(v){var b=this;return(0,l.A)(function*(){let z=0;for(;;)try{const me=yield b._openDb();return yield v(me)}catch(me){if(z++>3)throw me;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,l.A)(function*(){return ya()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,l.A)(function*(){v.receiver=fo._getInstance(function Ns(){return ya()?self:null}()),v.receiver._subscribe("keyChanged",function(){var b=(0,l.A)(function*(z,me){return{keyProcessed:(yield v._poll()).includes(me.key)}});return function(z,me){return b.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var b=(0,l.A)(function*(z,me){return["keyChanged"]});return function(z,me){return b.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,l.A)(function*(){var b,z;if(v.activeServiceWorker=yield function Ja(){return Es.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Yl(v.activeServiceWorker);const me=yield v.sender._send("ping",{},800);me&&null!==(b=me[0])&&void 0!==b&&b.fulfilled&&null!==(z=me[0])&&void 0!==z&&z.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var b=this;return(0,l.A)(function*(){if(b.sender&&b.activeServiceWorker&&function zc(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:v},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.A)(function*(){try{if(!indexedDB)return!1;const v=yield Gc();return yield vl(v,Qa,"1"),yield kh(v,Qa),!0}catch{}return!1})()}_withPendingWrite(v){var b=this;return(0,l.A)(function*(){b.pendingWrites++;try{yield v()}finally{b.pendingWrites--}})()}_set(v,b){var z=this;return(0,l.A)(function*(){return z._withPendingWrite((0,l.A)(function*(){return yield z._withRetries(me=>vl(me,v,b)),z.localCache[v]=b,z.notifyServiceWorker(v)}))})()}_get(v){var b=this;return(0,l.A)(function*(){const z=yield b._withRetries(me=>function Xc(T,g){return Yr.apply(this,arguments)}(me,v));return b.localCache[v]=z,z})()}_remove(v){var b=this;return(0,l.A)(function*(){return b._withPendingWrite((0,l.A)(function*(){return yield b._withRetries(z=>kh(z,v)),delete b.localCache[v],b.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,l.A)(function*(){const b=yield v._withRetries(mt=>{const Ut=sa(mt,!1).getAll();return new Os(Ut).toPromise()});if(!b)return[];if(0!==v.pendingWrites)return[];const z=[],me=new Set;if(0!==b.length)for(const{fbase_key:mt,value:Ut}of b)me.add(mt),JSON.stringify(v.localCache[mt])!==JSON.stringify(Ut)&&(v.notifyListeners(mt,Ut),z.push(mt));for(const mt of Object.keys(v.localCache))v.localCache[mt]&&!me.has(mt)&&(v.notifyListeners(mt,null),z.push(mt));return z})()}notifyListeners(v,b){this.localCache[v]=b;const z=this.listeners[v];if(z)for(const me of Array.from(z))me(b)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,l.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(b)}_removeListener(v,b){this.listeners[v]&&(this.listeners[v].delete(b),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),te=1e12;class Ae{constructor(g){this.auth=g,this.counter=te,this._widgets=new Map}render(g,v){const b=this.counter;return this._widgets.set(b,new Ye(g,this.auth.name,v||{})),this.counter++,b}reset(g){var v;const b=g||te;null===(v=this._widgets.get(b))||void 0===v||v.delete(),this._widgets.delete(b)}getResponse(g){var v;return(null===(v=this._widgets.get(g||te))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,l.A)(function*(){var b;return null===(b=v._widgets.get(g||te))||void 0===b||b.execute(),""})()}}class Ye{constructor(g,v,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof g?document.getElementById(g):g;He(z,"argument-error",{appName:v}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function rn(T){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<T;b++)g.push(v.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Lt=Lr("rcb"),Kn=new Ie(3e4,6e4);class Br{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=os().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return He(function Jr(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&Nn(os().grecaptcha)?Promise.resolve(os().grecaptcha):new Promise((b,z)=>{const me=os().setTimeout(()=>{z(ot(g,"network-request-failed"))},Kn.get());os()[Lt]=()=>{os().clearTimeout(me),delete os()[Lt];const Ut=os().grecaptcha;if(!Ut||!Nn(Ut))return void z(ot(g,"internal-error"));const vn=Ut.render;Ut.render=(ir,Er)=>{const hr=vn(ir,Er);return this.counter++,hr},this.hostLanguage=v,b(Ut)},_n(`${function St(){return Ht.recaptchaV2Script}()}?${(0,G.Am)({onload:Lt,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(me),z(ot(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=os().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ps{load(g){return(0,l.A)(function*(){return new Ae(g)})()}clearedOneInstance(){}}const aa="recaptcha",oi={theme:"light",type:"image"};class Ho{constructor(g,v,b=Object.assign({},oi)){this.parameters=b,this.type=aa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Oe(g),this.isInvisible="invisible"===this.parameters.size,He(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof v?document.getElementById(v):v;He(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ps:new Br,this.validateStartingState()}verify(){var g=this;return(0,l.A)(function*(){g.assertNotDestroyed();const v=yield g.render(),b=g.getAssertedRecaptcha();return b.getResponse(v)||new Promise(me=>{const mt=Ut=>{Ut&&(g.tokenChangeListeners.delete(mt),me(Ut))};g.tokenChangeListeners.add(mt),g.isInvisible&&b.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){He(!this.parameters.sitekey,this.auth,"argument-error"),He(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),He(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(b=>b(v)),"function"==typeof g)g(v);else if("string"==typeof g){const b=os()[g];"function"==typeof b&&b(v)}}}assertNotDestroyed(){He(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.A)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const b=document.createElement("div");v.appendChild(b),v=b}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.A)(function*(){He(kt()&&!ya(),g.auth,"internal-error"),yield function Po(){let T=null;return new Promise(g=>{"complete"!==document.readyState?(T=()=>g(),window.addEventListener("load",T)):g()}).catch(g=>{throw T&&window.removeEventListener("load",T),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function ft(T){return Xt.apply(this,arguments)}(g.auth);He(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return He(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fa{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=Zs._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function Ea(){return(Ea=(0,l.A)(function*(T,g,v){if((0,J._isFirebaseServerApp)(T.app))return Promise.reject(nt(T));const b=Oe(T),z=yield _l(b,g,(0,G.Ku)(v));return new Fa(z,me=>Vo(b,me))})).apply(this,arguments)}function _c(){return(_c=(0,l.A)(function*(T,g,v){const b=(0,G.Ku)(T);yield $(!1,b,"phone");const z=yield _l(b.auth,g,(0,G.Ku)(v));return new Fa(z,me=>Xl(b,me))})).apply(this,arguments)}function Hs(){return(Hs=(0,l.A)(function*(T,g,v){const b=(0,G.Ku)(T);if((0,J._isFirebaseServerApp)(b.auth.app))return Promise.reject(nt(b.auth));const z=yield _l(b.auth,g,(0,G.Ku)(v));return new Fa(z,me=>Ni(b,me))})).apply(this,arguments)}function _l(T,g,v){return tc.apply(this,arguments)}function tc(){return tc=(0,l.A)(function*(T,g,v){var b;const z=yield v.verify();try{let me;if(He("string"==typeof z,T,"argument-error"),He(v.type===aa,T,"argument-error"),me="string"==typeof g?{phoneNumber:g}:g,"session"in me){const mt=me.session;if("phoneNumber"in me)return He("enroll"===mt.type,T,"internal-error"),(yield function xs(T,g){return Se(T,"POST","/v2/accounts/mfaEnrollment:start",Xe(T,g))}(T,{idToken:mt.credential,phoneEnrollmentInfo:{phoneNumber:me.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{He("signin"===mt.type,T,"internal-error");const Ut=(null===(b=me.multiFactorHint)||void 0===b?void 0:b.uid)||me.multiFactorUid;return He(Ut,T,"missing-multi-factor-info"),(yield function wu(T,g){return Se(T,"POST","/v2/accounts/mfaSignIn:start",Xe(T,g))}(T,{mfaPendingCredential:mt.credential,mfaEnrollmentId:Ut,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:mt}=yield function xi(T,g){return Di.apply(this,arguments)}(T,{phoneNumber:me.phoneNumber,recaptchaToken:z});return mt}}finally{v._reset()}}),tc.apply(this,arguments)}function Va(){return(Va=(0,l.A)(function*(T,g){const v=(0,G.Ku)(T);if((0,J._isFirebaseServerApp)(v.auth.app))return Promise.reject(nt(v.auth));yield Q(v,g)})).apply(this,arguments)}let Ia=(()=>{class T{constructor(v){this.providerId=T.PROVIDER_ID,this.auth=Oe(v)}verifyPhoneNumber(v,b){return _l(this.auth,v,(0,G.Ku)(b))}static credential(v,b){return Zs._fromVerification(v,b)}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:b,temporaryProof:z}=v;return b&&z?Zs._fromTokenResponse(b,z):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function Ss(T,g){return g?Qn(g):(He(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class Al extends xn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Un(g,this._buildIdpRequest())}_linkToIdToken(g,v){return Un(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return Un(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function Ec(T){return Qr(T.auth,new Al(T),T.bypassAuthState)}function nc(T){const{auth:g,user:v}=T;return He(v,g,"internal-error"),_t(v,new Al(T),T.bypassAuthState)}function Ta(T){return ws.apply(this,arguments)}function ws(){return(ws=(0,l.A)(function*(T){const{auth:g,user:v}=T;return He(v,g,"internal-error"),Q(v,new Al(T),T.bypassAuthState)})).apply(this,arguments)}class wi{constructor(g,v,b,z,me=!1){this.auth=g,this.resolver=b,this.user=z,this.bypassAuthState=me,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,l.A)(function*(b,z){g.pendingPromise={resolve:b,reject:z};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(me){g.reject(me)}});return function(b,z){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,l.A)(function*(){const{urlResponse:b,sessionId:z,postBody:me,tenantId:mt,error:Ut,type:vn}=g;if(Ut)return void v.reject(Ut);const ir={auth:v.auth,requestUri:b,sessionId:z,tenantId:mt||void 0,postBody:me||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(vn)(ir))}catch(Er){v.reject(Er)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ec;case"linkViaPopup":case"linkViaRedirect":return Ta;case"reauthViaPopup":case"reauthViaRedirect":return nc;default:Fe(this.auth,"internal-error")}}resolve(g){Ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Lh=new Ie(2e3,1e4);function Ic(){return(Ic=(0,l.A)(function*(T,g,v){if((0,J._isFirebaseServerApp)(T.app))return Promise.reject(ot(T,"operation-not-supported-in-this-environment"));const b=Oe(T);bt(T,g,Gs);const z=Ss(b,v);return new yl(b,"signInViaPopup",g,z).executeNotNull()})).apply(this,arguments)}function bu(){return(bu=(0,l.A)(function*(T,g,v){const b=(0,G.Ku)(T);if((0,J._isFirebaseServerApp)(b.auth.app))return Promise.reject(ot(b.auth,"operation-not-supported-in-this-environment"));bt(b.auth,g,Gs);const z=Ss(b.auth,v);return new yl(b.auth,"reauthViaPopup",g,z,b).executeNotNull()})).apply(this,arguments)}function rc(){return(rc=(0,l.A)(function*(T,g,v){const b=(0,G.Ku)(T);bt(b.auth,g,Gs);const z=Ss(b.auth,v);return new yl(b.auth,"linkViaPopup",g,z,b).executeNotNull()})).apply(this,arguments)}let yl=(()=>{class T extends wi{constructor(v,b,z,me,mt){super(v,b,me,mt),this.provider=z,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var v=this;return(0,l.A)(function*(){const b=yield v.execute();return He(b,v.auth,"internal-error"),b})()}onExecution(){var v=this;return(0,l.A)(function*(){Ke(1===v.filter.length,"Popup operations only handle one event");const b=gr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],b),v.authWindow.associatedEvent=b,v.resolver._originValidation(v.auth).catch(z=>{v.reject(z)}),v.resolver._isIframeWebStorageSupported(v.auth,z=>{z||v.reject(ot(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ot(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const v=()=>{var b,z;this.pollId=null!==(z=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==z&&z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ot(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Lh.get())};v()}}return T.currentPopupAction=null,T})();const Za="pendingRedirect",To=new Map;class Wo extends wi{constructor(g,v,b=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,b),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,l.A)(function*(){let b=To.get(v.auth._key());if(!b){try{const me=(yield function Wr(T,g){return Cc.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;b=()=>Promise.resolve(me)}catch(z){b=()=>Promise.reject(z)}To.set(v.auth._key(),b)}return v.bypassAuthState||To.set(v.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,b=this;return(0,l.A)(function*(){if("signInViaRedirect"===g.type)return v().call(b,g);if("unknown"!==g.type){if(g.eventId){const z=yield b.auth._redirectUserForId(g.eventId);if(z)return b.user=z,v().call(b,g);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.A)(function*(){})()}cleanUp(){}}function Cc(){return(Cc=(0,l.A)(function*(T,g){const v=Fh(g),b=Au(T);if(!(yield b._isAvailable()))return!1;const z="true"===(yield b._get(v));return yield b._remove(v),z})).apply(this,arguments)}function Dl(T,g){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,l.A)(function*(T,g){return Au(T)._set(Fh(g),"true")})).apply(this,arguments)}function ic(T,g){To.set(T._key(),g)}function Au(T){return Qn(T._redirectPersistence)}function Fh(T){return kr(Za,T.config.apiKey,T.name)}function Vh(T,g,v){return function wc(T,g,v){return Du.apply(this,arguments)}(T,g,v)}function Du(){return(Du=(0,l.A)(function*(T,g,v){if((0,J._isFirebaseServerApp)(T.app))return Promise.reject(nt(T));const b=Oe(T);bt(T,g,Gs),yield b._initializationPromise;const z=Ss(b,v);return yield Dl(z,b),z._openRedirect(b,g,"signInViaRedirect")})).apply(this,arguments)}function Yc(T,g,v){return function bc(T,g,v){return yd.apply(this,arguments)}(T,g,v)}function yd(){return(yd=(0,l.A)(function*(T,g,v){const b=(0,G.Ku)(T);if(bt(b.auth,g,Gs),(0,J._isFirebaseServerApp)(b.auth.app))return Promise.reject(nt(b.auth));yield b.auth._initializationPromise;const z=Ss(b.auth,v);yield Dl(z,b.auth);const me=yield el(b);return z._openRedirect(b.auth,g,"reauthViaRedirect",me)})).apply(this,arguments)}function Su(T,g,v){return function tn(T,g,v){return ei.apply(this,arguments)}(T,g,v)}function ei(){return(ei=(0,l.A)(function*(T,g,v){const b=(0,G.Ku)(T);bt(b.auth,g,Gs),yield b.auth._initializationPromise;const z=Ss(b.auth,v);yield $(!1,b,g.providerId),yield Dl(z,b.auth);const me=yield el(b);return z._openRedirect(b.auth,g,"linkViaRedirect",me)})).apply(this,arguments)}function Jc(){return(Jc=(0,l.A)(function*(T,g){return yield Oe(T)._initializationPromise,Si(T,g,!1)})).apply(this,arguments)}function Si(T,g){return Co.apply(this,arguments)}function Co(){return(Co=(0,l.A)(function*(T,g,v=!1){if((0,J._isFirebaseServerApp)(T.app))return Promise.reject(nt(T));const b=Oe(T),z=Ss(b,g),mt=yield new Wo(b,z,v).execute();return mt&&!v&&(delete mt.user._redirectEventId,yield b._persistUserIfCurrent(mt.user),yield b._setRedirectUser(null,g)),mt})).apply(this,arguments)}function el(T){return ca.apply(this,arguments)}function ca(){return(ca=(0,l.A)(function*(T){const g=gr(`${T.uid}:::`);return T._redirectEventId=g,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),g})).apply(this,arguments)}class Zc{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(g,b)&&(v=!0,this.sendToConsumer(g,b),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Vf(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ru(T);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var b;if(g.error&&!Ru(g)){const z=(null===(b=g.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";v.onError(ot(this.auth,z))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const b=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&b}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Id(g))}saveEventToCache(g){this.cachedEventUids.add(Id(g)),this.lastProcessedEventTime=Date.now()}}function Id(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(g=>g).join("-")}function Ru({type:T,error:g}){return"unknown"===T&&"auth/no-auth-event"===g?.code}function zo(T){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,l.A)(function*(T,g={}){return Se(T,"GET","/v1/projects",g)})).apply(this,arguments)}const Td=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xo=/^https?/;function Ac(){return(Ac=(0,l.A)(function*(T){if(T.config.emulator)return;const{authorizedDomains:g}=yield zo(T);for(const v of g)try{if(Ua(v))return}catch{}Fe(T,"unauthorized-domain")})).apply(this,arguments)}function Ua(T){const g=Mt(),{protocol:v,hostname:b}=new URL(g);if(T.startsWith("chrome-extension://")){const mt=new URL(T);return""===mt.hostname&&""===b?"chrome-extension:"===v&&T.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&mt.hostname===b}if(!xo.test(v))return!1;if(Td.test(T))return b===T;const z=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(b)}const tl=new Ie(3e4,6e4);function eu(){const T=os().___jsl;if(T?.H)for(const g of Object.keys(T.H))if(T.H[g].r=T.H[g].r||[],T.H[g].L=T.H[g].L||[],T.H[g].r=[...T.H[g].L],T.CP)for(let v=0;v<T.CP.length;v++)T.CP[v]=null}let Pu=null;const Mu=new Ie(5e3,15e3),Ca="__/auth/iframe",sc="emulator/auth/iframe",Dc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zd(T){const g=T.config;He(g.authDomain,T,"auth-domain-config-required");const v=g.emulator?Me(g,sc):`https://${T.config.authDomain}/${Ca}`,b={apiKey:g.apiKey,appName:T.name,v:J.SDK_VERSION},z=Bf.get(T.config.apiHost);z&&(b.eid=z);const me=T._getFrameworks();return me.length&&(b.fw=me.join(",")),`${v}?${(0,G.Am)(b).slice(1)}`}function tu(){return tu=(0,l.A)(function*(T){const g=yield function Uf(T){return Pu=Pu||function Cd(T){return new Promise((g,v)=>{var b,z,me;function mt(){eu(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{eu(),v(ot(T,"network-request-failed"))},timeout:tl.get()})}if(null!==(z=null===(b=os().gapi)||void 0===b?void 0:b.iframes)&&void 0!==z&&z.Iframe)g(gapi.iframes.getContext());else{if(null===(me=os().gapi)||void 0===me||!me.load){const Ut=Lr("iframefcb");return os()[Ut]=()=>{gapi.load?mt():v(ot(T,"network-request-failed"))},_n(`${function Hn(){return Ht.gapiScript}()}?onload=${Ut}`).catch(vn=>v(vn))}mt()}}).catch(g=>{throw Pu=null,g})}(T),Pu}(T),v=os().gapi;return He(v,T,"internal-error"),g.open({where:document.body,url:Zd(T),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dc,dontclear:!0},b=>new Promise(function(){var z=(0,l.A)(function*(me,mt){yield b.restyle({setHideOnLeave:!1});const Ut=ot(T,"network-request-failed"),vn=os().setTimeout(()=>{mt(Ut)},Mu.get());function ir(){os().clearTimeout(vn),me(b)}b.ping(ir).then(ir,()=>{mt(Ut)})});return function(me,mt){return z.apply(this,arguments)}}()))}),tu.apply(this,arguments)}const Uh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bs{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const th="__/auth/handler",Nu="emulator/auth/handler",Ou=encodeURIComponent("fac");function wd(T,g,v,b,z,me){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,l.A)(function*(T,g,v,b,z,me){He(T.config.authDomain,T,"auth-domain-config-required"),He(T.config.apiKey,T,"invalid-api-key");const mt={apiKey:T.config.apiKey,appName:T.name,authType:v,redirectUrl:b,v:J.SDK_VERSION,eventId:z};if(g instanceof Gs){g.setDefaultLanguage(T.languageCode),mt.providerId=g.providerId||"",(0,G.Im)(g.getCustomParameters())||(mt.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Er,hr]of Object.entries(me||{}))mt[Er]=hr}if(g instanceof Zo){const Er=g.getScopes().filter(hr=>""!==hr);Er.length>0&&(mt.scopes=Er.join(","))}T.tenantId&&(mt.tid=T.tenantId);const Ut=mt;for(const Er of Object.keys(Ut))void 0===Ut[Er]&&delete Ut[Er];const vn=yield T._getAppCheckToken(),ir=vn?`#${Ou}=${encodeURIComponent(vn)}`:"";return`${function nh({config:T}){return T.emulator?Me(T,Nu):`https://${T.authDomain}/${th}`}(T)}?${(0,G.Am)(Ut).slice(1)}${ir}`})).apply(this,arguments)}const Pl="webStorageSupport",Sc=class ua{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$i,this._completeRedirectFn=Si,this._overrideRedirectResult=ic}_openPopup(g,v,b,z){var me=this;return(0,l.A)(function*(){var mt;Ke(null===(mt=me.eventManagers[g._key()])||void 0===mt?void 0:mt.manager,"_initialize() not called before _openPopup()");const Ut=yield wd(g,v,b,Mt(),z);return function No(T,g,v,b=500,z=600){const me=Math.max((window.screen.availHeight-z)/2,0).toString(),mt=Math.max((window.screen.availWidth-b)/2,0).toString();let Ut="";const vn=Object.assign(Object.assign({},Uh),{width:b.toString(),height:z.toString(),top:me,left:mt}),ir=(0,G.ZQ)().toLowerCase();v&&(Ut=wr(ir)?"_blank":v),ri(ir)&&(g=g||"http://localhost",vn.scrollbars="yes");const Er=Object.entries(vn).reduce((Is,[Ls,Fl])=>`${Is}${Ls}=${Fl},`,"");if(function Wt(T=(0,G.ZQ)()){var g;return li(T)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(ir)&&"_self"!==Ut)return function ji(T,g){const v=document.createElement("a");v.href=T,v.target=g;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(b)}(g||"",Ut),new bs(null);const hr=window.open(g||"",Ut,Er);He(hr,T,"popup-blocked");try{hr.focus()}catch{}return new bs(hr)}(g,Ut,gr())})()}_openRedirect(g,v,b,z){var me=this;return(0,l.A)(function*(){return yield me._originValidation(g),function ia(T){os().location.href=T}(yield wd(g,v,b,Mt(),z)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:z,promise:me}=this.eventManagers[v];return z?Promise.resolve(z):(Ke(me,"If manager is not set, promise should be"),me)}const b=this.initAndGetManager(g);return this.eventManagers[v]={promise:b},b.catch(()=>{delete this.eventManagers[v]}),b}initAndGetManager(g){var v=this;return(0,l.A)(function*(){const b=yield function nl(T){return tu.apply(this,arguments)}(g),z=new Zc(g);return b.register("authEvent",me=>(He(me?.authEvent,g,"invalid-auth-event"),{status:z.onEvent(me.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:z},v.iframes[g._key()]=b,z})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(Pl,{type:Pl},z=>{var me;const mt=null===(me=z?.[0])||void 0===me?void 0:me[Pl];void 0!==mt&&v(!!mt),Fe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function El(T){return Ac.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return _e()||Pi()||li()}};class ac{constructor(g){this.factorId=g}_process(g,v,b){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,b);case"signin":return this._finalizeSignIn(g,v.credential);default:return wt("unexpected MultiFactorSessionType")}}}class da extends ac{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new da(g)}_finalizeEnroll(g,v,b){return function io(T,g){return Se(T,"POST","/v2/accounts/mfaEnrollment:finalize",Xe(T,g))}(g,{idToken:v,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function S(T,g){return Se(T,"POST","/v2/accounts/mfaSignIn:finalize",Xe(T,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let nu=(()=>{class T{constructor(){}static assertion(v){return da._fromCredential(v)}}return T.FACTOR_ID="phone",T})();var Ba="@firebase/auth";class Ml{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,l.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(b=>{g(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ws(){return window}(0,G.XA)("authIdTokenMaxAge"),function Gt(T){Ht=T}({loadJS:T=>new Promise((g,v)=>{const b=document.createElement("script");b.setAttribute("src",T),b.onload=g,b.onerror=z=>{const me=ot("internal-error");me.customData=z,v(me)},b.type="text/javascript",b.charset="UTF-8",function Oo(){var T,g;return null!==(g=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==g?g:document}().appendChild(b)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Fu(T){(0,J._registerComponent)(new Z.uA("auth",(g,{options:v})=>{const b=g.getProvider("app").getImmediate(),z=g.getProvider("heartbeat"),me=g.getProvider("app-check-internal"),{apiKey:mt,authDomain:Ut}=b.options;He(mt&&!mt.includes(":"),"invalid-api-key",{appName:b.name});const vn={apiKey:mt,authDomain:Ut,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ie(T)},ir=new pe(b,z,me,vn);return function ut(T,g){const v=g?.persistence||[],b=(Array.isArray(v)?v:[v]).map(Qn);g?.errorMap&&T._updateErrorMap(g.errorMap),T._initializeWithPersistence(b,g?.popupRedirectResolver)}(ir,v),ir},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,b)=>{g.getProvider("auth-internal").initialize()})),(0,J._registerComponent)(new Z.uA("auth-internal",g=>{const v=Oe(g.getProvider("auth").getImmediate());return new Ml(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)(Ba,"1.7.9",function Lu(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(T)),(0,J.registerVersion)(Ba,"1.7.9","esm2017")}("Browser");function Ol(){return Ol=(0,l.A)(function*(T,g,v){var b;const{BuildInfo:z}=Ws();Ke(g.sessionId,"AuthEvent did not contain a session ID");const me=yield function xc(T){return Dd.apply(this,arguments)}(g.sessionId),mt={};return li()?mt.ibi=z.packageName:Kr()?mt.apn=z.packageName:Fe(T,"operation-not-supported-in-this-environment"),z.displayName&&(mt.appDisplayName=z.displayName),mt.sessionId=me,wd(T,v,g.type,void 0,null!==(b=g.eventId)&&void 0!==b?b:void 0,mt)}),Ol.apply(this,arguments)}function iu(){return(iu=(0,l.A)(function*(T){const{BuildInfo:g}=Ws(),v={};li()?v.iosBundleId=g.packageName:Kr()?v.androidPackageName=g.packageName:Fe(T,"operation-not-supported-in-this-environment"),yield zo(T,v)})).apply(this,arguments)}function Mc(){return(Mc=(0,l.A)(function*(T,g,v){const{cordova:b}=Ws();let z=()=>{};try{yield new Promise((me,mt)=>{let Ut=null;function vn(){var hr;me();const Is=null===(hr=b.plugins.browsertab)||void 0===hr?void 0:hr.close;"function"==typeof Is&&Is(),"function"==typeof v?.close&&v.close()}function ir(){Ut||(Ut=window.setTimeout(()=>{mt(ot(T,"redirect-cancelled-by-user"))},2e3))}function Er(){"visible"===document?.visibilityState&&ir()}g.addPassiveListener(vn),document.addEventListener("resume",ir,!1),Kr()&&document.addEventListener("visibilitychange",Er,!1),z=()=>{g.removePassiveListener(vn),document.removeEventListener("resume",ir,!1),document.removeEventListener("visibilitychange",Er,!1),Ut&&window.clearTimeout(Ut)}})}finally{z()}})).apply(this,arguments)}function Dd(){return(Dd=(0,l.A)(function*(T){const g=function Go(T){if(Ke(/[0-9a-zA-Z]+/.test(T),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(T);const g=new ArrayBuffer(T.length),v=new Uint8Array(g);for(let b=0;b<T.length;b++)v[b]=T.charCodeAt(b);return v}(T),v=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(v)).map(z=>z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class kl extends Zc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInitialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInitialized(),this.passiveListeners.forEach(v=>v(g)),super.onEvent(g)}initialized(){var g=this;return(0,l.A)(function*(){yield g.initPromise})()}}function Nc(T){return wa.apply(this,arguments)}function wa(){return(wa=(0,l.A)(function*(T){const g=yield qs()._get(Uu(T));return g&&(yield qs()._remove(Uu(T))),g})).apply(this,arguments)}function Sd(){const T=[];for(let v=0;v<20;v++){const b=Math.floor(62*Math.random());T.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(b))}return T.join("")}function qs(){return Qn(jo)}function Uu(T){return kr("authEvent",T.config.apiKey,T.name)}function fa(T){if(!T?.includes("?"))return{};const[g,...v]=T.split("?");return(0,G.I9)(v.join("?"))}const ah=class $f{constructor(){this._redirectPersistence=$i,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Si,this._overrideRedirectResult=ic}_initialize(g){var v=this;return(0,l.A)(function*(){const b=g._key();let z=v.eventManagers.get(b);return z||(z=new kl(g),v.eventManagers.set(b,z),v.attachCallbackListeners(g,z)),z})()}_openPopup(g){Fe(g,"operation-not-supported-in-this-environment")}_openRedirect(g,v,b,z){var me=this;return(0,l.A)(function*(){!function su(T){var g,v,b,z,me,mt,Ut,vn,ir,Er;const hr=Ws();He("function"==typeof(null===(g=hr?.universalLinks)||void 0===g?void 0:g.subscribe),T,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),He(typeof(null===(v=hr?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),He("function"==typeof(null===(me=null===(z=null===(b=hr?.cordova)||void 0===b?void 0:b.plugins)||void 0===z?void 0:z.browsertab)||void 0===me?void 0:me.openUrl),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),He("function"==typeof(null===(vn=null===(Ut=null===(mt=hr?.cordova)||void 0===mt?void 0:mt.plugins)||void 0===Ut?void 0:Ut.browsertab)||void 0===vn?void 0:vn.isAvailable),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),He("function"==typeof(null===(Er=null===(ir=hr?.cordova)||void 0===ir?void 0:ir.InAppBrowser)||void 0===Er?void 0:Er.open),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const mt=yield me._initialize(g);yield mt.initialized(),mt.resetRedirect(),function Zp(){To.clear()}(),yield me._originValidation(g);const Ut=function lc(T,g,v=null){return{type:g,eventId:v,urlResponse:null,sessionId:Sd(),postBody:null,tenantId:T.tenantId,error:ot(T,"no-auth-event")}}(g,b,z);yield function ou(T,g){return qs()._set(Uu(T),g)}(g,Ut);const vn=yield function Nl(T,g,v){return Ol.apply(this,arguments)}(g,Ut,v),ir=yield function oh(T){const{cordova:g}=Ws();return new Promise(v=>{g.plugins.browsertab.isAvailable(b=>{let z=null;b?g.plugins.browsertab.openUrl(T):z=g.InAppBrowser.open(T,function mi(T=(0,G.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}()?"_blank":"_system","location=yes"),v(z)})})}(vn);return function Pc(T,g,v){return Mc.apply(this,arguments)}(g,mt,ir)})()}_isIframeWebStorageSupported(g,v){throw new Error("Method not implemented.")}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function ru(T){return iu.apply(this,arguments)}(g)),this.originValidationPromises[v]}attachCallbackListeners(g,v){const{universalLinks:b,handleOpenURL:z,BuildInfo:me}=Ws(),mt=setTimeout((0,l.A)(function*(){yield Nc(g),v.onEvent(lh())}),500),Ut=function(){var Er=(0,l.A)(function*(hr){clearTimeout(mt);const Is=yield Nc(g);let Ls=null;Is&&hr?.url&&(Ls=function Oc(T,g){var v,b;const z=function Bh(T){const g=fa(T),v=g.link?decodeURIComponent(g.link):void 0,b=fa(v).link,z=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return fa(z).link||z||b||v||T}(g);if(z.includes("/__/auth/callback")){const me=fa(z),mt=me.firebaseError?function kc(T){try{return JSON.parse(T)}catch{return null}}(decodeURIComponent(me.firebaseError)):null,Ut=null===(b=null===(v=mt?.code)||void 0===v?void 0:v.split("auth/"))||void 0===b?void 0:b[1],vn=Ut?ot(Ut):null;return vn?{type:T.type,eventId:T.eventId,tenantId:T.tenantId,error:vn,urlResponse:null,sessionId:null,postBody:null}:{type:T.type,eventId:T.eventId,tenantId:T.tenantId,sessionId:T.sessionId,urlResponse:z,postBody:null}}return null}(Is,hr.url)),v.onEvent(Ls||lh())});return function(Is){return Er.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,Ut);const vn=z,ir=`${me.packageName.toLowerCase()}://`;Ws().handleOpenURL=function(){var Er=(0,l.A)(function*(hr){if(hr.toLowerCase().startsWith(ir)&&Ut({url:hr}),"function"==typeof vn)try{vn(hr)}catch(Is){console.error(Is)}});return function(hr){return Er.apply(this,arguments)}}()}};function lh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ot("no-auth-event")}}function lu(){var T;return(null===(T=self?.location)||void 0===T?void 0:T.protocol)||null}function jh(T=(0,G.ZQ)()){return!("file:"!==lu()&&"ionic:"!==lu()&&"capacitor:"!==lu()||!T.toLowerCase().match(/iphone|ipad|ipod|android/))}function $u(){try{const T=self.localStorage,g=gr();if(T)return T.setItem(g,"1"),T.removeItem(g),!function uh(T=(0,G.ZQ)()){return function Il(){return(0,G.lT)()&&11===document?.documentMode}()||function Bu(T=(0,G.ZQ)()){return/Edge\/\d+/.test(T)}(T)}()||(0,G.zW)()}catch{return cu()&&(0,G.zW)()}return!1}function cu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ju(){return(function Rd(){return"http:"===lu()||"https:"===lu()}()||(0,G.sr)()||jh())&&!function ch(){return(0,G.lV)()||(0,G.Ll)()}()&&$u()&&!cu()}function ja(){return jh()&&typeof document<"u"}function Hu(){return(Hu=(0,l.A)(function*(){return!!ja()&&new Promise(T=>{const g=setTimeout(()=>{T(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),T(!0)})})})).apply(this,arguments)}const Zi={LOCAL:"local",NONE:"none",SESSION:"session"},cc=He,Hh="persistence";function Wh(T){return uu.apply(this,arguments)}function uu(){return(uu=(0,l.A)(function*(T){yield T._initializationPromise;const g=Qs(),v=kr(Hh,T.config.apiKey,T.name);g&&g.setItem(v,T._getPersistence())})).apply(this,arguments)}function Qs(){var T;try{return(null===(T=function Wu(){return typeof window<"u"?window:null}())||void 0===T?void 0:T.sessionStorage)||null}catch{return null}}const hh=He;class Fc{constructor(){this.browserResolver=Qn(Sc),this.cordovaResolver=Qn(ah),this.underlyingResolver=null,this._redirectPersistence=$i,this._completeRedirectFn=Si,this._overrideRedirectResult=ic}_initialize(g){var v=this;return(0,l.A)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,v,b,z){var me=this;return(0,l.A)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openPopup(g,v,b,z)})()}_openRedirect(g,v,b,z){var me=this;return(0,l.A)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openRedirect(g,v,b,z)})()}_isIframeWebStorageSupported(g,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,v)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return ja()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,l.A)(function*(){if(g.underlyingResolver)return;const v=yield function jf(){return Hu.apply(this,arguments)}();g.underlyingResolver=v?g.cordovaResolver:g.browserResolver})()}}function fh(T){return T.unwrap()}function zh(T){return du(T)}function du(T){const{_tokenResponse:g}=T instanceof G.g?T.customData:T;if(!g)return null;if(!(T instanceof G.g)&&"temporaryProof"in g&&"phoneNumber"in g)return Ia.credentialFromResult(T);const v=g.providerId;if(!v||v===ve.PASSWORD)return null;let b;switch(v){case ve.GOOGLE:b=Tr;break;case ve.FACEBOOK:b=eo;break;case ve.GITHUB:b=Ks;break;case ve.TWITTER:b=vs;break;default:const{oauthIdToken:z,oauthAccessToken:me,oauthTokenSecret:mt,pendingToken:Ut,nonce:vn}=g;return me||mt||z||Ut?Ut?v.startsWith("saml.")?to._create(v,Ut):Pr._fromParams({providerId:v,signInMethod:v,pendingToken:Ut,idToken:z,accessToken:me}):new $s(v).credential({idToken:z,accessToken:me,rawNonce:vn}):null}return T instanceof G.g?b.credentialFromError(T):b.credentialFromResult(T)}function Ys(T,g){return g.catch(v=>{throw v instanceof G.g&&function Vc(T,g){var v;const b=null===(v=g.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new uc(T,function Bi(T,g){var v;const b=(0,G.Ku)(T),z=g;return He(g.customData.operationType,b,"argument-error"),He(null===(v=z.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,b,"argument-error"),ys._fromError(b,z)}(T,g));else if(b){const z=du(g),me=g;z&&(me.credential=z,me.tenantId=b.tenantId||void 0,me.email=b.email||void 0,me.phoneNumber=b.phoneNumber||void 0)}}(T,v),v}).then(v=>{const z=v.user;return{operationType:v.operationType,credential:zh(v),additionalUserInfo:B(v),user:dc.getOrCreate(z)}})}function zu(T,g){return ph.apply(this,arguments)}function ph(){return(ph=(0,l.A)(function*(T,g){const v=yield g;return{verificationId:v.verificationId,confirm:b=>Ys(T,v.confirm(b))}})).apply(this,arguments)}class uc{constructor(g,v){this.resolver=v,this.auth=function Pd(T){return T.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Ys(fh(this.auth),this.resolver.resolveSignIn(g))}}class dc{constructor(g){this._delegate=g,this.multiFactor=function ql(T){const g=(0,G.Ku)(T);return $o.has(g)||$o.set(g,Ur._fromUser(g)),$o.get(g)}(g)}static getOrCreate(g){return dc.USER_MAP.has(g)||dc.USER_MAP.set(g,new dc(g)),dc.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var v=this;return(0,l.A)(function*(){return Ys(v.auth,Xl(v._delegate,g))})()}linkWithPhoneNumber(g,v){var b=this;return(0,l.A)(function*(){return zu(b.auth,function qc(T,g,v){return _c.apply(this,arguments)}(b._delegate,g,v))})()}linkWithPopup(g){var v=this;return(0,l.A)(function*(){return Ys(v.auth,function Tc(T,g,v){return rc.apply(this,arguments)}(v._delegate,g,Fc))})()}linkWithRedirect(g){var v=this;return(0,l.A)(function*(){return yield Wh(Oe(v.auth)),Su(v._delegate,g,Fc)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var v=this;return(0,l.A)(function*(){return Ys(v.auth,Ni(v._delegate,g))})()}reauthenticateWithPhoneNumber(g,v){return zu(this.auth,function yc(T,g,v){return Hs.apply(this,arguments)}(this._delegate,g,v))}reauthenticateWithPopup(g){return Ys(this.auth,function Jd(T,g,v){return bu.apply(this,arguments)}(this._delegate,g,Fc))}reauthenticateWithRedirect(g){var v=this;return(0,l.A)(function*(){return yield Wh(Oe(v.auth)),Yc(v._delegate,g,Fc)})()}sendEmailVerification(g){return function Xa(T,g){return ms.apply(this,arguments)}(this._delegate,g)}unlink(g){var v=this;return(0,l.A)(function*(){return yield function Ga(T,g){return Ao.apply(this,arguments)}(v._delegate,g),v})()}updateEmail(g){return function qa(T,g){const v=(0,G.Ku)(T);return(0,J._isFirebaseServerApp)(v.auth.app)?Promise.reject(nt(v.auth)):ds(v,g,null)}(this._delegate,g)}updatePassword(g){return function wl(T,g){return ds((0,G.Ku)(T),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Li(T,g){return Va.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function ml(T,g){return Bo.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,v){return function Ro(T,g,v){return ma.apply(this,arguments)}(this._delegate,g,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}dc.USER_MAP=new WeakMap;const Gu=He;let il=(()=>{class T{constructor(v,b){if(this.app=v,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:z}=v.options;Gu(z,"invalid-api-key",{appName:v.name}),Gu(z,"invalid-api-key",{appName:v.name});const me=typeof window<"u"?Fc:void 0;this._delegate=b.initialize({options:{persistence:Gh(z,v.name),popupRedirectResolver:me}}),this._delegate._updateErrorMap(rt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?dc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,b){!function Qt(T,g,v){const b=Oe(T);He(b._canInitEmulator,b,"emulator-config-failed"),He(/^https?:\/\//.test(g),b,"invalid-emulator-scheme");const z=!!v?.disableWarnings,me=bn(g),{host:mt,port:Ut}=function nr(T){const g=bn(T),v=/(\/\/)?([^?#/]+)/.exec(T.substr(g.length));if(!v)return{host:"",port:null};const b=v[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(b);if(z){const me=z[1];return{host:me,port:rr(b.substr(me.length+1))}}{const[me,mt]=b.split(":");return{host:me,port:rr(mt)}}}(g);b.config.emulator={url:`${me}//${mt}${null===Ut?"":`:${Ut}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:mt,port:Ut,protocol:me.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function Ar(){function T(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}(this._delegate,v,b)}applyActionCode(v){return function dl(T,g){return _s.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return yo(this._delegate,v)}confirmPasswordReset(v,b){return function Oa(T,g,v){return ul.apply(this,arguments)}(this._delegate,v,b)}createUserWithEmailAndPassword(v,b){var z=this;return(0,l.A)(function*(){return Ys(z._delegate,function Do(T,g,v){return uo.apply(this,arguments)}(z._delegate,v,b))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function ra(T,g){return Ka.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function pl(T,g){const v=bo.parseLink(g);return"EMAIL_SIGNIN"===v?.operation}(0,v)}getRedirectResult(){var v=this;return(0,l.A)(function*(){Gu(ju(),v._delegate,"operation-not-supported-in-this-environment");const b=yield function Ed(T,g){return Jc.apply(this,arguments)}(v._delegate,Fc);return b?Ys(v._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function Lc(T,g){Oe(T)._logFramework(g)}(this._delegate,v)}onAuthStateChanged(v,b,z){const{next:me,error:mt,complete:Ut}=hu(v,b,z);return this._delegate.onAuthStateChanged(me,mt,Ut)}onIdTokenChanged(v,b,z){const{next:me,error:mt,complete:Ut}=hu(v,b,z);return this._delegate.onIdTokenChanged(me,mt,Ut)}sendSignInLinkToEmail(v,b){return function ta(T,g,v){return fl.apply(this,arguments)}(this._delegate,v,b)}sendPasswordResetEmail(v,b){return function qi(T,g,v){return no.apply(this,arguments)}(this._delegate,v,b||void 0)}setPersistence(v){var b=this;return(0,l.A)(function*(){let z;switch(function Hf(T,g){cc(Object.values(Zi).includes(g),T,"invalid-persistence-type"),(0,G.lV)()?cc(g!==Zi.SESSION,T,"unsupported-persistence-type"):(0,G.Ll)()?cc(g===Zi.NONE,T,"unsupported-persistence-type"):cu()?cc(g===Zi.NONE||g===Zi.LOCAL&&(0,G.zW)(),T,"unsupported-persistence-type"):cc(g===Zi.NONE||$u(),T,"unsupported-persistence-type")}(b._delegate,v),v){case Zi.SESSION:z=$i;break;case Zi.LOCAL:z=(yield Qn(ec)._isAvailable())?ec:jo;break;case Zi.NONE:z=ai;break;default:return Fe("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(z)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Ys(this._delegate,function Wc(T){return Vi.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Ys(this._delegate,Vo(this._delegate,v))}signInWithCustomToken(v){return Ys(this._delegate,function _o(T,g){return ea.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,b){return Ys(this._delegate,function So(T,g,v){return(0,J._isFirebaseServerApp)(T.app)?Promise.reject(nt(T)):Vo((0,G.Ku)(T),ls.credential(g,v)).catch(function(){var b=(0,l.A)(function*(z){throw"auth/password-does-not-meet-requirements"===z.code&&Uo(T),z});return function(z){return b.apply(this,arguments)}}())}(this._delegate,v,b))}signInWithEmailLink(v,b){return Ys(this._delegate,function ho(T,g,v){return gl.apply(this,arguments)}(this._delegate,v,b))}signInWithPhoneNumber(v,b){return zu(this._delegate,function vc(T,g,v){return Ea.apply(this,arguments)}(this._delegate,v,b))}signInWithPopup(v){var b=this;return(0,l.A)(function*(){return Gu(ju(),b._delegate,"operation-not-supported-in-this-environment"),Ys(b._delegate,function la(T,g,v){return Ic.apply(this,arguments)}(b._delegate,v,Fc))})()}signInWithRedirect(v){var b=this;return(0,l.A)(function*(){return Gu(ju(),b._delegate,"operation-not-supported-in-this-environment"),yield Wh(b._delegate),Vh(b._delegate,v,Fc)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function hl(T,g){return ro.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return T.Persistence=Zi,T})();function hu(T,g,v){let b=T;"function"!=typeof T&&({next:b,error:g,complete:v}=T);const z=b;return{next:mt=>z(mt&&dc.getOrCreate(mt)),error:g,complete:v}}function Gh(T,g){const v=function dh(T,g){const v=Qs();if(!v)return[];const b=kr(Hh,T,g);switch(v.getItem(b)){case Zi.NONE:return[ai];case Zi.LOCAL:return[ec,$i];case Zi.SESSION:return[$i];default:return[]}}(T,g);if(typeof self<"u"&&!v.includes(ec)&&v.push(ec),typeof window<"u")for(const b of[jo,$i])v.includes(b)||v.push(b);return v.includes(ai)||v.push(ai),v}class Ku{constructor(){this.providerId="phone",this._delegate=new Ia(fh(U.A.auth()))}static credential(g,v){return Ia.credential(g,v)}verifyPhoneNumber(g,v){return this._delegate.verifyPhoneNumber(g,v)}unwrap(){return this._delegate}}Ku.PHONE_SIGN_IN_METHOD=Ia.PHONE_SIGN_IN_METHOD,Ku.PROVIDER_ID=Ia.PROVIDER_ID;const eg=He;class Xu{constructor(g,v,b=U.A.app()){var z;eg(null===(z=b.options)||void 0===z?void 0:z.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Ho(b.auth(),g,v),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fu(T){T.INTERNAL.registerComponent(new Z.uA("auth-compat",g=>{const v=g.getProvider("app-compat").getImmediate(),b=g.getProvider("auth");return new il(v,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ls,FacebookAuthProvider:eo,GithubAuthProvider:Ks,GoogleAuthProvider:Tr,OAuthProvider:$s,SAMLAuthProvider:js,PhoneAuthProvider:Ku,PhoneMultiFactorGenerator:nu,RecaptchaVerifier:Xu,TwitterAuthProvider:vs,Auth:il,AuthCredential:xn,Error:G.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),T.registerVersion("@firebase/auth-compat","0.5.14")}(U.A)},9417:(En,ht,N)=>{"use strict";N.d(ht,{BC:()=>Yn,Q0:()=>Lo,R_:()=>to,VZ:()=>Rs,X1:()=>Ao,YN:()=>Ga,cz:()=>We,kq:()=>ve,me:()=>rt,tU:()=>Ks,vO:()=>qn,vS:()=>Ei,zX:()=>zs});var l=N(4438),U=N(177),J=N(8455),G=N(7468),Re=N(1413),we=N(6354);let Z=(()=>{class Q{constructor($,Ce){this._renderer=$,this._elementRef=Ce,this.onChange=_t=>{},this.onTouched=()=>{}}setProperty($,Ce){this._renderer.setProperty(this._elementRef.nativeElement,$,Ce)}registerOnTouched($){this.onTouched=$}registerOnChange($){this.onChange=$}setDisabledState($){this.setProperty("disabled",$)}static{this.\u0275fac=function(Ce){return new(Ce||Q)(l.rXU(l.sFG),l.rXU(l.aKT))}}static{this.\u0275dir=l.FsC({type:Q})}}return Q})(),be=(()=>{class Q extends Z{static{this.\u0275fac=(()=>{let $;return function(_t){return($||($=l.xGo(Q)))(_t||Q)}})()}static{this.\u0275dir=l.FsC({type:Q,features:[l.Vt3]})}}return Q})();const ve=new l.nKC(""),ke={provide:ve,useExisting:(0,l.Rfq)(()=>rt),multi:!0},fe=new l.nKC("");let rt=(()=>{class Q extends Z{constructor($,Ce,_t){super($,Ce),this._compositionMode=_t,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xe(){const Q=(0,U.QT)()?(0,U.QT)().getUserAgent():"";return/android (\d+)/.test(Q.toLowerCase())}())}writeValue($){this.setProperty("value",$??"")}_handleInput($){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange($)}_compositionStart(){this._composing=!0}_compositionEnd($){this._composing=!1,this._compositionMode&&this.onChange($)}static{this.\u0275fac=function(Ce){return new(Ce||Q)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(fe,8))}}static{this.\u0275dir=l.FsC({type:Q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Ce,_t){1&Ce&&l.bIt("input",function(Qr){return _t._handleInput(Qr.target.value)})("blur",function(){return _t.onTouched()})("compositionstart",function(){return _t._compositionStart()})("compositionend",function(Qr){return _t._compositionEnd(Qr.target.value)})},features:[l.Jv_([ke]),l.Vt3]})}}return Q})();function yt(Q){return null==Q||("string"==typeof Q||Array.isArray(Q))&&0===Q.length}const We=new l.nKC(""),At=new l.nKC("");function Ke(Q){return null}function Mt(Q){return null!=Q}function kt(Q){return(0,l.jNT)(Q)?(0,J.H)(Q):Q}function un(Q){let ee={};return Q.forEach($=>{ee=null!=$?{...ee,...$}:ee}),0===Object.keys(ee).length?null:ee}function tt(Q,ee){return ee.map($=>$(Q))}function Ie(Q){return Q.map(ee=>function De(Q){return!Q.validate}(ee)?ee:$=>ee.validate($))}function ce(Q){return null!=Q?function Me(Q){if(!Q)return null;const ee=Q.filter(Mt);return 0==ee.length?null:function($){return un(tt($,ee))}}(Ie(Q)):null}function at(Q){return null!=Q?function Pe(Q){if(!Q)return null;const ee=Q.filter(Mt);return 0==ee.length?null:function($){const Ce=tt($,ee).map(kt);return(0,G.p)(Ce).pipe((0,we.T)(un))}}(Ie(Q)):null}function Xe(Q,ee){return null===Q?[ee]:Array.isArray(Q)?[...Q,ee]:[Q,ee]}function he(Q){return Q?Array.isArray(Q)?Q:[Q]:[]}function st(Q,ee){return Array.isArray(Q)?Q.includes(ee):Q===ee}function Nt(Q,ee){const $=he(ee);return he(Q).forEach(_t=>{st($,_t)||$.push(_t)}),$}function xt(Q,ee){return he(ee).filter($=>!st(Q,$))}class hn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ee){this._rawValidators=ee||[],this._composedValidatorFn=ce(this._rawValidators)}_setAsyncValidators(ee){this._rawAsyncValidators=ee||[],this._composedAsyncValidatorFn=at(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ee){this._onDestroyCallbacks.push(ee)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ee=>ee()),this._onDestroyCallbacks=[]}reset(ee=void 0){this.control&&this.control.reset(ee)}hasError(ee,$){return!!this.control&&this.control.hasError(ee,$)}getError(ee,$){return this.control?this.control.getError(ee,$):null}}class Ln extends hn{get formDirective(){return null}get path(){return null}}class qn extends hn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kn{constructor(ee){this._cd=ee}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Yn=(()=>{class Q extends kn{constructor($){super($)}static{this.\u0275fac=function(Ce){return new(Ce||Q)(l.rXU(qn,2))}}static{this.\u0275dir=l.FsC({type:Q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Ce,_t){2&Ce&&l.AVh("ng-untouched",_t.isUntouched)("ng-touched",_t.isTouched)("ng-pristine",_t.isPristine)("ng-dirty",_t.isDirty)("ng-valid",_t.isValid)("ng-invalid",_t.isInvalid)("ng-pending",_t.isPending)},features:[l.Vt3]})}}return Q})();const ui="VALID",dr="INVALID",bi="PENDING",yi="DISABLED";class di{}class Zt extends di{constructor(ee,$){super(),this.value=ee,this.source=$}}class ct extends di{constructor(ee,$){super(),this.pristine=ee,this.source=$}}class Ze extends di{constructor(ee,$){super(),this.touched=ee,this.source=$}}class It extends di{constructor(ee,$){super(),this.status=ee,this.source=$}}function Ot(Q){return null!=Q&&!Array.isArray(Q)&&"object"==typeof Q}class Gr{constructor(ee,$){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,l.EWP)(()=>this.statusReactive()),this.statusReactive=(0,l.vPA)(void 0),this._pristine=(0,l.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,l.vPA)(!0),this._touched=(0,l.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,l.vPA)(!1),this._events=new Re.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(ee),this._assignAsyncValidators($)}get validator(){return this._composedValidatorFn}set validator(ee){this._rawValidators=this._composedValidatorFn=ee}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ee){this._rawAsyncValidators=this._composedAsyncValidatorFn=ee}get parent(){return this._parent}get status(){return(0,l.O8t)(this.statusReactive)}set status(ee){(0,l.O8t)(()=>this.statusReactive.set(ee))}get valid(){return this.status===ui}get invalid(){return this.status===dr}get pending(){return this.status==bi}get disabled(){return this.status===yi}get enabled(){return this.status!==yi}get pristine(){return(0,l.O8t)(this.pristineReactive)}set pristine(ee){(0,l.O8t)(()=>this.pristineReactive.set(ee))}get dirty(){return!this.pristine}get touched(){return(0,l.O8t)(this.touchedReactive)}set touched(ee){(0,l.O8t)(()=>this.touchedReactive.set(ee))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ee){this._assignValidators(ee)}setAsyncValidators(ee){this._assignAsyncValidators(ee)}addValidators(ee){this.setValidators(Nt(ee,this._rawValidators))}addAsyncValidators(ee){this.setAsyncValidators(Nt(ee,this._rawAsyncValidators))}removeValidators(ee){this.setValidators(xt(ee,this._rawValidators))}removeAsyncValidators(ee){this.setAsyncValidators(xt(ee,this._rawAsyncValidators))}hasValidator(ee){return st(this._rawValidators,ee)}hasAsyncValidator(ee){return st(this._rawAsyncValidators,ee)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ee={}){const $=!1===this.touched;this.touched=!0;const Ce=ee.sourceControl??this;this._parent&&!ee.onlySelf&&this._parent.markAsTouched({...ee,sourceControl:Ce}),$&&!1!==ee.emitEvent&&this._events.next(new Ze(!0,Ce))}markAllAsTouched(ee={}){this.markAsTouched({onlySelf:!0,emitEvent:ee.emitEvent,sourceControl:this}),this._forEachChild($=>$.markAllAsTouched(ee))}markAsUntouched(ee={}){const $=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Ce=ee.sourceControl??this;this._forEachChild(_t=>{_t.markAsUntouched({onlySelf:!0,emitEvent:ee.emitEvent,sourceControl:Ce})}),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee,Ce),$&&!1!==ee.emitEvent&&this._events.next(new Ze(!1,Ce))}markAsDirty(ee={}){const $=!0===this.pristine;this.pristine=!1;const Ce=ee.sourceControl??this;this._parent&&!ee.onlySelf&&this._parent.markAsDirty({...ee,sourceControl:Ce}),$&&!1!==ee.emitEvent&&this._events.next(new ct(!1,Ce))}markAsPristine(ee={}){const $=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Ce=ee.sourceControl??this;this._forEachChild(_t=>{_t.markAsPristine({onlySelf:!0,emitEvent:ee.emitEvent})}),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee,Ce),$&&!1!==ee.emitEvent&&this._events.next(new ct(!0,Ce))}markAsPending(ee={}){this.status=bi;const $=ee.sourceControl??this;!1!==ee.emitEvent&&(this._events.next(new It(this.status,$)),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.markAsPending({...ee,sourceControl:$})}disable(ee={}){const $=this._parentMarkedDirty(ee.onlySelf);this.status=yi,this.errors=null,this._forEachChild(_t=>{_t.disable({...ee,onlySelf:!0})}),this._updateValue();const Ce=ee.sourceControl??this;!1!==ee.emitEvent&&(this._events.next(new Zt(this.value,Ce)),this._events.next(new It(this.status,Ce)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ee,skipPristineCheck:$},this),this._onDisabledChange.forEach(_t=>_t(!0))}enable(ee={}){const $=this._parentMarkedDirty(ee.onlySelf);this.status=ui,this._forEachChild(Ce=>{Ce.enable({...ee,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent}),this._updateAncestors({...ee,skipPristineCheck:$},this),this._onDisabledChange.forEach(Ce=>Ce(!1))}_updateAncestors(ee,$){this._parent&&!ee.onlySelf&&(this._parent.updateValueAndValidity(ee),ee.skipPristineCheck||this._parent._updatePristine({},$),this._parent._updateTouched({},$))}setParent(ee){this._parent=ee}getRawValue(){return this.value}updateValueAndValidity(ee={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const Ce=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ui||this.status===bi)&&this._runAsyncValidator(Ce,ee.emitEvent)}const $=ee.sourceControl??this;!1!==ee.emitEvent&&(this._events.next(new Zt(this.value,$)),this._events.next(new It(this.status,$)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.updateValueAndValidity({...ee,sourceControl:$})}_updateTreeValidity(ee={emitEvent:!0}){this._forEachChild($=>$._updateTreeValidity(ee)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yi:ui}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ee,$){if(this.asyncValidator){this.status=bi,this._hasOwnPendingAsyncValidator={emitEvent:!1!==$};const Ce=kt(this.asyncValidator(this));this._asyncValidationSubscription=Ce.subscribe(_t=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(_t,{emitEvent:$,shouldHaveEmitted:ee})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const ee=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,ee}return!1}setErrors(ee,$={}){this.errors=ee,this._updateControlsErrors(!1!==$.emitEvent,this,$.shouldHaveEmitted)}get(ee){let $=ee;return null==$||(Array.isArray($)||($=$.split(".")),0===$.length)?null:$.reduce((Ce,_t)=>Ce&&Ce._find(_t),this)}getError(ee,$){const Ce=$?this.get($):this;return Ce&&Ce.errors?Ce.errors[ee]:null}hasError(ee,$){return!!this.getError(ee,$)}get root(){let ee=this;for(;ee._parent;)ee=ee._parent;return ee}_updateControlsErrors(ee,$,Ce){this.status=this._calculateStatus(),ee&&this.statusChanges.emit(this.status),(ee||Ce)&&this._events.next(new It(this.status,$)),this._parent&&this._parent._updateControlsErrors(ee,$,Ce)}_initObservables(){this.valueChanges=new l.bkB,this.statusChanges=new l.bkB}_calculateStatus(){return this._allControlsDisabled()?yi:this.errors?dr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bi)?bi:this._anyControlsHaveStatus(dr)?dr:ui}_anyControlsHaveStatus(ee){return this._anyControls($=>$.status===ee)}_anyControlsDirty(){return this._anyControls(ee=>ee.dirty)}_anyControlsTouched(){return this._anyControls(ee=>ee.touched)}_updatePristine(ee,$){const Ce=!this._anyControlsDirty(),_t=this.pristine!==Ce;this.pristine=Ce,this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee,$),_t&&this._events.next(new ct(this.pristine,$))}_updateTouched(ee={},$){this.touched=this._anyControlsTouched(),this._events.next(new Ze(this.touched,$)),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee,$)}_registerOnCollectionChange(ee){this._onCollectionChange=ee}_setUpdateStrategy(ee){Ot(ee)&&null!=ee.updateOn&&(this._updateOn=ee.updateOn)}_parentMarkedDirty(ee){return!ee&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ee){return null}_assignValidators(ee){this._rawValidators=Array.isArray(ee)?ee.slice():ee,this._composedValidatorFn=function $e(Q){return Array.isArray(Q)?ce(Q):Q||null}(this._rawValidators)}_assignAsyncValidators(ee){this._rawAsyncValidators=Array.isArray(ee)?ee.slice():ee,this._composedAsyncValidatorFn=function en(Q){return Array.isArray(Q)?at(Q):Q||null}(this._rawAsyncValidators)}}const wr=new l.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Gi}),Gi="always";function yr(Q,ee,$=Gi){(function Wt(Q,ee){const $=function Se(Q){return Q._rawValidators}(Q);null!==ee.validator?Q.setValidators(Xe($,ee.validator)):"function"==typeof $&&Q.setValidators([$]);const Ce=function Tt(Q){return Q._rawAsyncValidators}(Q);null!==ee.asyncValidator?Q.setAsyncValidators(Xe(Ce,ee.asyncValidator)):"function"==typeof Ce&&Q.setAsyncValidators([Ce]);const _t=()=>Q.updateValueAndValidity();li(ee._rawValidators,_t),li(ee._rawAsyncValidators,_t)})(Q,ee),ee.valueAccessor.writeValue(Q.value),(Q.disabled||"always"===$)&&ee.valueAccessor.setDisabledState?.(Q.disabled),function _e(Q,ee){ee.valueAccessor.registerOnChange($=>{Q._pendingValue=$,Q._pendingChange=!0,Q._pendingDirty=!0,"change"===Q.updateOn&&Y(Q,ee)})}(Q,ee),function Ve(Q,ee){const $=(Ce,_t)=>{ee.valueAccessor.writeValue(Ce),_t&&ee.viewToModelUpdate(Ce)};Q.registerOnChange($),ee._registerOnDestroy(()=>{Q._unregisterOnChange($)})}(Q,ee),function ie(Q,ee){ee.valueAccessor.registerOnTouched(()=>{Q._pendingTouched=!0,"blur"===Q.updateOn&&Q._pendingChange&&Y(Q,ee),"submit"!==Q.updateOn&&Q.markAsTouched()})}(Q,ee),function mi(Q,ee){if(ee.valueAccessor.setDisabledState){const $=Ce=>{ee.valueAccessor.setDisabledState(Ce)};Q.registerOnDisabledChange($),ee._registerOnDestroy(()=>{Q._unregisterOnDisabledChange($)})}}(Q,ee)}function li(Q,ee){Q.forEach($=>{$.registerOnValidatorChange&&$.registerOnValidatorChange(ee)})}function Y(Q,ee){Q._pendingDirty&&Q.markAsDirty(),Q.setValue(Q._pendingValue,{emitModelToViewChange:!1}),ee.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1}function Tn(Q,ee){const $=Q.indexOf(ee);$>-1&&Q.splice($,1)}function Vt(Q){return"object"==typeof Q&&null!==Q&&2===Object.keys(Q).length&&"value"in Q&&"disabled"in Q}Promise.resolve();const Kt=class extends Gr{constructor(ee=null,$,Ce){super(function Ge(Q){return(Ot(Q)?Q.validators:Q)||null}($),function vt(Q,ee){return(Ot(ee)?ee.asyncValidators:Q)||null}(Ce,$)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ee),this._setUpdateStrategy($),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ot($)&&($.nonNullable||$.initialValueIsDefault)&&(this.defaultValue=Vt(ee)?ee.value:ee)}setValue(ee,$={}){this.value=this._pendingValue=ee,this._onChange.length&&!1!==$.emitModelToViewChange&&this._onChange.forEach(Ce=>Ce(this.value,!1!==$.emitViewToModelChange)),this.updateValueAndValidity($)}patchValue(ee,$={}){this.setValue(ee,$)}reset(ee=this.defaultValue,$={}){this._applyFormState(ee),this.markAsPristine($),this.markAsUntouched($),this.setValue(this.value,$),this._pendingChange=!1}_updateValue(){}_anyControls(ee){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ee){this._onChange.push(ee)}_unregisterOnChange(ee){Tn(this._onChange,ee)}registerOnDisabledChange(ee){this._onDisabledChange.push(ee)}_unregisterOnDisabledChange(ee){Tn(this._onDisabledChange,ee)}_forEachChild(ee){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ee){Vt(ee)?(this.value=this._pendingValue=ee.value,ee.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ee}},Ar={provide:qn,useExisting:(0,l.Rfq)(()=>Ei)},xn=Promise.resolve();let Ei=(()=>{class Q extends qn{constructor($,Ce,_t,Nr,Qr,Ui){super(),this._changeDetectorRef=Qr,this.callSetDisabledState=Ui,this.control=new Kt,this._registered=!1,this.name="",this.update=new l.bkB,this._parent=$,this._setValidators(Ce),this._setAsyncValidators(_t),this.valueAccessor=function Gn(Q,ee){if(!ee)return null;let $,Ce,_t;return Array.isArray(ee),ee.forEach(Nr=>{Nr.constructor===rt?$=Nr:function _n(Q){return Object.getPrototypeOf(Q.constructor)===be}(Nr)?Ce=Nr:_t=Nr}),_t||Ce||$||null}(0,Nr)}ngOnChanges($){if(this._checkForErrors(),!this._registered||"name"in $){if(this._registered&&(this._checkName(),this.formDirective)){const Ce=$.name.previousValue;this.formDirective.removeControl({name:Ce,path:this._getPath(Ce)})}this._setUpControl()}"isDisabled"in $&&this._updateDisabled($),function Gt(Q,ee){if(!Q.hasOwnProperty("model"))return!1;const $=Q.model;return!!$.isFirstChange()||!Object.is(ee,$.currentValue)}($,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){yr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue($){xn.then(()=>{this.control.setValue($,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled($){const Ce=$.isDisabled.currentValue,_t=0!==Ce&&(0,l.L39)(Ce);xn.then(()=>{_t&&!this.control.disabled?this.control.disable():!_t&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath($){return this._parent?function Kr(Q,ee){return[...ee.path,Q]}($,this._parent):[$]}static{this.\u0275fac=function(Ce){return new(Ce||Q)(l.rXU(Ln,9),l.rXU(We,10),l.rXU(At,10),l.rXU(ve,10),l.rXU(l.gRc,8),l.rXU(wr,8))}}static{this.\u0275dir=l.FsC({type:Q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l.Jv_([Ar]),l.Vt3,l.OA$]})}}return Q})();const ts={provide:ve,useExisting:(0,l.Rfq)(()=>Lo),multi:!0};let Lo=(()=>{class Q extends be{writeValue($){this.setProperty("value",$??"")}registerOnChange($){this.onChange=Ce=>{$(""==Ce?null:parseFloat(Ce))}}static{this.\u0275fac=(()=>{let $;return function(_t){return($||($=l.xGo(Q)))(_t||Q)}})()}static{this.\u0275dir=l.FsC({type:Q,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Ce,_t){1&Ce&&l.bIt("input",function(Qr){return _t.onChange(Qr.target.value)})("blur",function(){return _t.onTouched()})},features:[l.Jv_([ts]),l.Vt3]})}}return Q})();const Fn=new l.nKC("");function si(Q){return"number"==typeof Q?Q:parseFloat(Q)}let mo=(()=>{class Q{constructor(){this._validator=Ke}ngOnChanges($){if(this.inputName in $){const Ce=this.normalizeInput($[this.inputName].currentValue);this._enabled=this.enabled(Ce),this._validator=this._enabled?this.createValidator(Ce):Ke,this._onChange&&this._onChange()}}validate($){return this._validator($)}registerOnValidatorChange($){this._onChange=$}enabled($){return null!=$}static{this.\u0275fac=function(Ce){return new(Ce||Q)}}static{this.\u0275dir=l.FsC({type:Q,features:[l.OA$]})}}return Q})();const Yo={provide:We,useExisting:(0,l.Rfq)(()=>zs),multi:!0};let zs=(()=>{class Q extends mo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=$=>si($),this.createValidator=$=>function ot(Q){return ee=>{if(yt(ee.value)||yt(Q))return null;const $=parseFloat(ee.value);return!isNaN($)&&$>Q?{max:{max:Q,actual:ee.value}}:null}}($)}static{this.\u0275fac=(()=>{let $;return function(_t){return($||($=l.xGo(Q)))(_t||Q)}})()}static{this.\u0275dir=l.FsC({type:Q,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Ce,_t){2&Ce&&l.BMQ("max",_t._enabled?_t.max:null)},inputs:{max:"max"},features:[l.Jv_([Yo]),l.Vt3]})}}return Q})();const Zs={provide:We,useExisting:(0,l.Rfq)(()=>Rs),multi:!0};let Rs=(()=>{class Q extends mo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=$=>si($),this.createValidator=$=>function Fe(Q){return ee=>{if(yt(ee.value)||yt(Q))return null;const $=parseFloat(ee.value);return!isNaN($)&&$<Q?{min:{min:Q,actual:ee.value}}:null}}($)}static{this.\u0275fac=(()=>{let $;return function(_t){return($||($=l.xGo(Q)))(_t||Q)}})()}static{this.\u0275dir=l.FsC({type:Q,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Ce,_t){2&Ce&&l.BMQ("min",_t._enabled?_t.min:null)},inputs:{min:"min"},features:[l.Jv_([Zs]),l.Vt3]})}}return Q})();const Tr={provide:We,useExisting:(0,l.Rfq)(()=>Ks),multi:!0};let Ks=(()=>{class Q extends mo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=$=>function rs(Q){return"number"==typeof Q?Q:parseInt(Q,10)}($),this.createValidator=$=>function He(Q){return ee=>function it(Q){return null!=Q&&"number"==typeof Q.length}(ee.value)&&ee.value.length>Q?{maxlength:{requiredLength:Q,actualLength:ee.value.length}}:null}($)}static{this.\u0275fac=(()=>{let $;return function(_t){return($||($=l.xGo(Q)))(_t||Q)}})()}static{this.\u0275dir=l.FsC({type:Q,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Ce,_t){2&Ce&&l.BMQ("maxlength",_t._enabled?_t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[l.Jv_([Tr]),l.Vt3]})}}return Q})();const Wa={provide:We,useExisting:(0,l.Rfq)(()=>to),multi:!0};let to=(()=>{class Q extends mo{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=$=>$,this.createValidator=$=>function wt(Q){if(!Q)return Ke;let ee,$;return"string"==typeof Q?($="","^"!==Q.charAt(0)&&($+="^"),$+=Q,"$"!==Q.charAt(Q.length-1)&&($+="$"),ee=new RegExp($)):($=Q.toString(),ee=Q),Ce=>{if(yt(Ce.value))return null;const _t=Ce.value;return ee.test(_t)?null:{pattern:{requiredPattern:$,actualValue:_t}}}}($)}static{this.\u0275fac=(()=>{let $;return function(_t){return($||($=l.xGo(Q)))(_t||Q)}})()}static{this.\u0275dir=l.FsC({type:Q,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(Ce,_t){2&Ce&&l.BMQ("pattern",_t._enabled?_t.pattern:null)},inputs:{pattern:"pattern"},features:[l.Jv_([Wa]),l.Vt3]})}}return Q})(),Xs=(()=>{class Q{static{this.\u0275fac=function(Ce){return new(Ce||Q)}}static{this.\u0275mod=l.$C({type:Q})}static{this.\u0275inj=l.G2t({})}}return Q})(),Ga=(()=>{class Q{static withConfig($){return{ngModule:Q,providers:[{provide:wr,useValue:$.callSetDisabledState??Gi}]}}static{this.\u0275fac=function(Ce){return new(Ce||Q)}}static{this.\u0275mod=l.$C({type:Q})}static{this.\u0275inj=l.G2t({imports:[Xs]})}}return Q})(),Ao=(()=>{class Q{static withConfig($){return{ngModule:Q,providers:[{provide:Fn,useValue:$.warnOnNgModelWithFormControl??"always"},{provide:wr,useValue:$.callSetDisabledState??Gi}]}}static{this.\u0275fac=function(Ce){return new(Ce||Q)}}static{this.\u0275mod=l.$C({type:Q})}static{this.\u0275inj=l.G2t({imports:[Xs]})}}return Q})()},345:(En,ht,N)=>{"use strict";N.d(ht,{Bb:()=>qn,hE:()=>zn,sG:()=>Nt});var l=N(177),U=N(4438);class J extends l.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class G extends J{static makeCurrent(){(0,l.ZD)(new G)}onAndCancel(ct,Ze,It){return ct.addEventListener(Ze,It),()=>{ct.removeEventListener(Ze,It)}}dispatchEvent(ct,Ze){ct.dispatchEvent(Ze)}remove(ct){ct.remove()}createElement(ct,Ze){return(Ze=Ze||this.getDefaultDocument()).createElement(ct)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ct){return ct.nodeType===Node.ELEMENT_NODE}isShadowRoot(ct){return ct instanceof DocumentFragment}getGlobalEventTarget(ct,Ze){return"window"===Ze?window:"document"===Ze?ct:"body"===Ze?ct.body:null}getBaseHref(ct){const Ze=function we(){return Re=Re||document.querySelector("base"),Re?Re.getAttribute("href"):null}();return null==Ze?null:function Z(Zt){return new URL(Zt,document.baseURI).pathname}(Ze)}resetBaseElement(){Re=null}getUserAgent(){return window.navigator.userAgent}getCookie(ct){return(0,l._b)(document.cookie,ct)}}let Re=null,ve=(()=>{class Zt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(It){return new(It||Zt)}}static{this.\u0275prov=U.jDH({token:Zt,factory:Zt.\u0275fac})}}return Zt})();const Te=new U.nKC("");let ue=(()=>{class Zt{constructor(Ze,It){this._zone=It,this._eventNameToPlugin=new Map,Ze.forEach(fn=>{fn.manager=this}),this._plugins=Ze.slice().reverse()}addEventListener(Ze,It,fn){return this._findPluginFor(It).addEventListener(Ze,It,fn)}getZone(){return this._zone}_findPluginFor(Ze){let It=this._eventNameToPlugin.get(Ze);if(It)return It;if(It=this._plugins.find(Bn=>Bn.supports(Ze)),!It)throw new U.wOt(5101,!1);return this._eventNameToPlugin.set(Ze,It),It}static{this.\u0275fac=function(It){return new(It||Zt)(U.KVO(Te),U.KVO(U.SKi))}}static{this.\u0275prov=U.jDH({token:Zt,factory:Zt.\u0275fac})}}return Zt})();class ke{constructor(ct){this._doc=ct}}const xe="ng-app-id";let fe=(()=>{class Zt{constructor(Ze,It,fn,Bn={}){this.doc=Ze,this.appId=It,this.nonce=fn,this.platformId=Bn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,l.Vy)(Bn),this.resetHostNodes()}addStyles(Ze){for(const It of Ze)1===this.changeUsageCount(It,1)&&this.onStyleAdded(It)}removeStyles(Ze){for(const It of Ze)this.changeUsageCount(It,-1)<=0&&this.onStyleRemoved(It)}ngOnDestroy(){const Ze=this.styleNodesInDOM;Ze&&(Ze.forEach(It=>It.remove()),Ze.clear());for(const It of this.getAllStyles())this.onStyleRemoved(It);this.resetHostNodes()}addHost(Ze){this.hostNodes.add(Ze);for(const It of this.getAllStyles())this.addStyleToHost(Ze,It)}removeHost(Ze){this.hostNodes.delete(Ze)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Ze){for(const It of this.hostNodes)this.addStyleToHost(It,Ze)}onStyleRemoved(Ze){const It=this.styleRef;It.get(Ze)?.elements?.forEach(fn=>fn.remove()),It.delete(Ze)}collectServerRenderedStyles(){const Ze=this.doc.head?.querySelectorAll(`style[${xe}="${this.appId}"]`);if(Ze?.length){const It=new Map;return Ze.forEach(fn=>{null!=fn.textContent&&It.set(fn.textContent,fn)}),It}return null}changeUsageCount(Ze,It){const fn=this.styleRef;if(fn.has(Ze)){const Bn=fn.get(Ze);return Bn.usage+=It,Bn.usage}return fn.set(Ze,{usage:It,elements:[]}),It}getStyleElement(Ze,It){const fn=this.styleNodesInDOM,Bn=fn?.get(It);if(Bn?.parentNode===Ze)return fn.delete(It),Bn.removeAttribute(xe),Bn;{const Ge=this.doc.createElement("style");return this.nonce&&Ge.setAttribute("nonce",this.nonce),Ge.textContent=It,this.platformIsServer&&Ge.setAttribute(xe,this.appId),Ze.appendChild(Ge),Ge}}addStyleToHost(Ze,It){const fn=this.getStyleElement(Ze,It),Bn=this.styleRef,Ge=Bn.get(It)?.elements;Ge?Ge.push(fn):Bn.set(It,{elements:[fn],usage:1})}resetHostNodes(){const Ze=this.hostNodes;Ze.clear(),Ze.add(this.doc.head)}static{this.\u0275fac=function(It){return new(It||Zt)(U.KVO(l.qQ),U.KVO(U.sZ2),U.KVO(U.BIS,8),U.KVO(U.Agw))}}static{this.\u0275prov=U.jDH({token:Zt,factory:Zt.\u0275fac})}}return Zt})();const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yt=/%COMP%/g,ze=new U.nKC("",{providedIn:"root",factory:()=>!0});function qe(Zt,ct){return ct.map(Ze=>Ze.replace(yt,Zt))}let nt=(()=>{class Zt{constructor(Ze,It,fn,Bn,Ge,$e,vt,en=null){this.eventManager=Ze,this.sharedStylesHost=It,this.appId=fn,this.removeStylesOnCompDestroy=Bn,this.doc=Ge,this.platformId=$e,this.ngZone=vt,this.nonce=en,this.rendererByCompId=new Map,this.platformIsServer=(0,l.Vy)($e),this.defaultRenderer=new bt(Ze,Ge,vt,this.platformIsServer)}createRenderer(Ze,It){if(!Ze||!It)return this.defaultRenderer;this.platformIsServer&&It.encapsulation===U.gXe.ShadowDom&&(It={...It,encapsulation:U.gXe.Emulated});const fn=this.getOrCreateRenderer(Ze,It);return fn instanceof kt?fn.applyToHost(Ze):fn instanceof Mt&&fn.applyStyles(),fn}getOrCreateRenderer(Ze,It){const fn=this.rendererByCompId;let Bn=fn.get(It.id);if(!Bn){const Ge=this.doc,$e=this.ngZone,vt=this.eventManager,en=this.sharedStylesHost,Ot=this.removeStylesOnCompDestroy,Pn=this.platformIsServer;switch(It.encapsulation){case U.gXe.Emulated:Bn=new kt(vt,en,It,this.appId,Ot,Ge,$e,Pn);break;case U.gXe.ShadowDom:return new Ke(vt,en,Ze,It,Ge,$e,this.nonce,Pn);default:Bn=new Mt(vt,en,It,Ot,Ge,$e,Pn)}fn.set(It.id,Bn)}return Bn}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(It){return new(It||Zt)(U.KVO(ue),U.KVO(fe),U.KVO(U.sZ2),U.KVO(ze),U.KVO(l.qQ),U.KVO(U.Agw),U.KVO(U.SKi),U.KVO(U.BIS))}}static{this.\u0275prov=U.jDH({token:Zt,factory:Zt.\u0275fac})}}return Zt})();class bt{constructor(ct,Ze,It,fn){this.eventManager=ct,this.doc=Ze,this.ngZone=It,this.platformIsServer=fn,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(ct,Ze){return Ze?this.doc.createElementNS(rt[Ze]||Ze,ct):this.doc.createElement(ct)}createComment(ct){return this.doc.createComment(ct)}createText(ct){return this.doc.createTextNode(ct)}appendChild(ct,Ze){(wt(ct)?ct.content:ct).appendChild(Ze)}insertBefore(ct,Ze,It){ct&&(wt(ct)?ct.content:ct).insertBefore(Ze,It)}removeChild(ct,Ze){Ze.remove()}selectRootElement(ct,Ze){let It="string"==typeof ct?this.doc.querySelector(ct):ct;if(!It)throw new U.wOt(-5104,!1);return Ze||(It.textContent=""),It}parentNode(ct){return ct.parentNode}nextSibling(ct){return ct.nextSibling}setAttribute(ct,Ze,It,fn){if(fn){Ze=fn+":"+Ze;const Bn=rt[fn];Bn?ct.setAttributeNS(Bn,Ze,It):ct.setAttribute(Ze,It)}else ct.setAttribute(Ze,It)}removeAttribute(ct,Ze,It){if(It){const fn=rt[It];fn?ct.removeAttributeNS(fn,Ze):ct.removeAttribute(`${It}:${Ze}`)}else ct.removeAttribute(Ze)}addClass(ct,Ze){ct.classList.add(Ze)}removeClass(ct,Ze){ct.classList.remove(Ze)}setStyle(ct,Ze,It,fn){fn&(U.czy.DashCase|U.czy.Important)?ct.style.setProperty(Ze,It,fn&U.czy.Important?"important":""):ct.style[Ze]=It}removeStyle(ct,Ze,It){It&U.czy.DashCase?ct.style.removeProperty(Ze):ct.style[Ze]=""}setProperty(ct,Ze,It){null!=ct&&(ct[Ze]=It)}setValue(ct,Ze){ct.nodeValue=Ze}listen(ct,Ze,It){if("string"==typeof ct&&!(ct=(0,l.QT)().getGlobalEventTarget(this.doc,ct)))throw new Error(`Unsupported event target ${ct} for event ${Ze}`);return this.eventManager.addEventListener(ct,Ze,this.decoratePreventDefault(It))}decoratePreventDefault(ct){return Ze=>{if("__ngUnwrap__"===Ze)return ct;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ct(Ze)):ct(Ze))&&Ze.preventDefault()}}}function wt(Zt){return"TEMPLATE"===Zt.tagName&&void 0!==Zt.content}class Ke extends bt{constructor(ct,Ze,It,fn,Bn,Ge,$e,vt){super(ct,Bn,Ge,vt),this.sharedStylesHost=Ze,this.hostEl=It,this.shadowRoot=It.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const en=qe(fn.id,fn.styles);for(const Ot of en){const Pn=document.createElement("style");$e&&Pn.setAttribute("nonce",$e),Pn.textContent=Ot,this.shadowRoot.appendChild(Pn)}}nodeOrShadowRoot(ct){return ct===this.hostEl?this.shadowRoot:ct}appendChild(ct,Ze){return super.appendChild(this.nodeOrShadowRoot(ct),Ze)}insertBefore(ct,Ze,It){return super.insertBefore(this.nodeOrShadowRoot(ct),Ze,It)}removeChild(ct,Ze){return super.removeChild(null,Ze)}parentNode(ct){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ct)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Mt extends bt{constructor(ct,Ze,It,fn,Bn,Ge,$e,vt){super(ct,Bn,Ge,$e),this.sharedStylesHost=Ze,this.removeStylesOnCompDestroy=fn,this.styles=vt?qe(vt,It.styles):It.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class kt extends Mt{constructor(ct,Ze,It,fn,Bn,Ge,$e,vt){const en=fn+"-"+It.id;super(ct,Ze,It,Bn,Ge,$e,vt,en),this.contentAttr=function Fe(Zt){return"_ngcontent-%COMP%".replace(yt,Zt)}(en),this.hostAttr=function ot(Zt){return"_nghost-%COMP%".replace(yt,Zt)}(en)}applyToHost(ct){this.applyStyles(),this.setAttribute(ct,this.hostAttr,"")}createElement(ct,Ze){const It=super.createElement(ct,Ze);return super.setAttribute(It,this.contentAttr,""),It}}let un=(()=>{class Zt extends ke{constructor(Ze){super(Ze)}supports(Ze){return!0}addEventListener(Ze,It,fn){return Ze.addEventListener(It,fn,!1),()=>this.removeEventListener(Ze,It,fn)}removeEventListener(Ze,It,fn){return Ze.removeEventListener(It,fn)}static{this.\u0275fac=function(It){return new(It||Zt)(U.KVO(l.qQ))}}static{this.\u0275prov=U.jDH({token:Zt,factory:Zt.\u0275fac})}}return Zt})();const tt=["alt","control","meta","shift"],De={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ie={alt:Zt=>Zt.altKey,control:Zt=>Zt.ctrlKey,meta:Zt=>Zt.metaKey,shift:Zt=>Zt.shiftKey};let Me=(()=>{class Zt extends ke{constructor(Ze){super(Ze)}supports(Ze){return null!=Zt.parseEventName(Ze)}addEventListener(Ze,It,fn){const Bn=Zt.parseEventName(It),Ge=Zt.eventCallback(Bn.fullKey,fn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.QT)().onAndCancel(Ze,Bn.domEventName,Ge))}static parseEventName(Ze){const It=Ze.toLowerCase().split("."),fn=It.shift();if(0===It.length||"keydown"!==fn&&"keyup"!==fn)return null;const Bn=Zt._normalizeKey(It.pop());let Ge="",$e=It.indexOf("code");if($e>-1&&(It.splice($e,1),Ge="code."),tt.forEach(en=>{const Ot=It.indexOf(en);Ot>-1&&(It.splice(Ot,1),Ge+=en+".")}),Ge+=Bn,0!=It.length||0===Bn.length)return null;const vt={};return vt.domEventName=fn,vt.fullKey=Ge,vt}static matchEventFullKeyCode(Ze,It){let fn=De[Ze.key]||Ze.key,Bn="";return It.indexOf("code.")>-1&&(fn=Ze.code,Bn="code."),!(null==fn||!fn)&&(fn=fn.toLowerCase()," "===fn?fn="space":"."===fn&&(fn="dot"),tt.forEach(Ge=>{Ge!==fn&&(0,Ie[Ge])(Ze)&&(Bn+=Ge+".")}),Bn+=fn,Bn===It)}static eventCallback(Ze,It,fn){return Bn=>{Zt.matchEventFullKeyCode(Bn,Ze)&&fn.runGuarded(()=>It(Bn))}}static _normalizeKey(Ze){return"esc"===Ze?"escape":Ze}static{this.\u0275fac=function(It){return new(It||Zt)(U.KVO(l.qQ))}}static{this.\u0275prov=U.jDH({token:Zt,factory:Zt.\u0275fac})}}return Zt})();const Nt=(0,U.oH4)(U.fpN,"browser",[{provide:U.Agw,useValue:l.AJ},{provide:U.PLl,useValue:function Se(){G.makeCurrent()},multi:!0},{provide:l.qQ,useFactory:function he(){return(0,U.TL$)(document),document},deps:[]}]),xt=new U.nKC(""),hn=[{provide:U.e01,useClass:class be{addToWindow(ct){U.JZv.getAngularTestability=(It,fn=!0)=>{const Bn=ct.findTestabilityInTree(It,fn);if(null==Bn)throw new U.wOt(5103,!1);return Bn},U.JZv.getAllAngularTestabilities=()=>ct.getAllTestabilities(),U.JZv.getAllAngularRootElements=()=>ct.getAllRootElements(),U.JZv.frameworkStabilizers||(U.JZv.frameworkStabilizers=[]),U.JZv.frameworkStabilizers.push(It=>{const fn=U.JZv.getAllAngularTestabilities();let Bn=fn.length;const Ge=function(){Bn--,0==Bn&&It()};fn.forEach($e=>{$e.whenStable(Ge)})})}findTestabilityInTree(ct,Ze,It){return null==Ze?null:ct.getTestability(Ze)??(It?(0,l.QT)().isShadowRoot(Ze)?this.findTestabilityInTree(ct,Ze.host,!0):this.findTestabilityInTree(ct,Ze.parentElement,!0):null)}},deps:[]},{provide:U.WHO,useClass:U.NYb,deps:[U.SKi,U.giA,U.e01]},{provide:U.NYb,useClass:U.NYb,deps:[U.SKi,U.giA,U.e01]}],Ln=[{provide:U.H8p,useValue:"root"},{provide:U.zcH,useFactory:function Tt(){return new U.zcH},deps:[]},{provide:Te,useClass:un,multi:!0,deps:[l.qQ,U.SKi,U.Agw]},{provide:Te,useClass:Me,multi:!0,deps:[l.qQ]},nt,fe,ue,{provide:U._9s,useExisting:nt},{provide:l.N0,useClass:ve,deps:[]},[]];let qn=(()=>{class Zt{constructor(Ze){}static withServerTransition(Ze){return{ngModule:Zt,providers:[{provide:U.sZ2,useValue:Ze.appId}]}}static{this.\u0275fac=function(It){return new(It||Zt)(U.KVO(xt,12))}}static{this.\u0275mod=U.$C({type:Zt})}static{this.\u0275inj=U.G2t({providers:[...Ln,...hn],imports:[l.MD,U.Hbi]})}}return Zt})(),zn=(()=>{class Zt{constructor(Ze){this._doc=Ze}getTitle(){return this._doc.title}setTitle(Ze){this._doc.title=Ze||""}static{this.\u0275fac=function(It){return new(It||Zt)(U.KVO(l.qQ))}}static{this.\u0275prov=U.jDH({token:Zt,factory:Zt.\u0275fac,providedIn:"root"})}}return Zt})()},6822:(En,ht,N)=>{"use strict";N.d(ht,{nX:()=>mn,Zp:()=>C,wF:()=>Gn,Z:()=>St,Xk:()=>st,Kp:()=>Hi,b:()=>an,Ix:()=>or,Wk:()=>Bi,iI:()=>Os,n3:()=>ni,Sd:()=>ur});var l=N(4438),U=N(4402),J=N(8455),G=N(7673),Re=N(4412),we=N(4572),Z=N(9350),be=N(8793),ve=N(9030),Te=N(1203),ue=N(1985),ke=N(8071);function xe(S,L){const R=(0,ke.T)(S)?S:()=>S,F=te=>te.error(R());return new ue.c(L?te=>L.schedule(F,0,te):F)}var fe=N(983),rt=N(8359),yt=N(9974),it=N(4360);function We(){return(0,yt.N)((S,L)=>{let R=null;S._refCount++;const F=(0,it._)(L,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(R=null);const te=S._connection,Ae=R;R=null,te&&(!Ae||te===Ae)&&te.unsubscribe(),L.unsubscribe()});S.subscribe(F),F.closed||(R=S.connect())})}class At extends ue.c{constructor(L,R){super(),this.source=L,this.subjectFactory=R,this._subject=null,this._refCount=0,this._connection=null,(0,yt.S)(L)&&(this.lift=L.lift)}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:L}=this;this._subject=this._connection=null,L?.unsubscribe()}connect(){let L=this._connection;if(!L){L=this._connection=new rt.yU;const R=this.getSubject();L.add(this.source.subscribe((0,it._)(R,void 0,()=>{this._teardown(),R.complete()},F=>{this._teardown(),R.error(F)},()=>this._teardown()))),L.closed&&(this._connection=null,L=rt.yU.EMPTY)}return L}refCount(){return We()(this)}}var Pt=N(1413),ze=N(177),Fe=N(6354),ot=N(5558),qe=N(6697),nt=N(9172),bt=N(5964),H=N(1397),He=N(1594),wt=N(274),Ke=N(8141),Mt=N(8750);function kt(S){return(0,yt.N)((L,R)=>{let Ae,F=null,te=!1;F=L.subscribe((0,it._)(R,void 0,void 0,Ye=>{Ae=(0,Mt.Tg)(S(Ye,kt(S)(L))),F?(F.unsubscribe(),F=null,Ae.subscribe(R)):te=!0})),te&&(F.unsubscribe(),F=null,Ae.subscribe(R))})}var un=N(2816),tt=N(9901);function De(S){return S<=0?()=>fe.w:(0,yt.N)((L,R)=>{let F=[];L.subscribe((0,it._)(R,te=>{F.push(te),S<F.length&&F.shift()},()=>{for(const te of F)R.next(te);R.complete()},void 0,()=>{F=null}))})}var Ie=N(3774),Me=N(3669),at=N(980),Xe=N(5343),Tt=N(6365),he=N(345);const st="primary",Nt=Symbol("RouteTitle");class xt{constructor(L){this.params=L||{}}has(L){return Object.prototype.hasOwnProperty.call(this.params,L)}get(L){if(this.has(L)){const R=this.params[L];return Array.isArray(R)?R[0]:R}return null}getAll(L){if(this.has(L)){const R=this.params[L];return Array.isArray(R)?R:[R]}return[]}get keys(){return Object.keys(this.params)}}function hn(S){return new xt(S)}function Ln(S,L,R){const F=R.path.split("/");if(F.length>S.length||"full"===R.pathMatch&&(L.hasChildren()||F.length<S.length))return null;const te={};for(let Ae=0;Ae<F.length;Ae++){const Ye=F[Ae],rn=S[Ae];if(":"===Ye[0])te[Ye.substring(1)]=rn;else if(Ye!==rn.path)return null}return{consumed:S.slice(0,F.length),posParams:te}}function kn(S,L){const R=S?Nn(S):void 0,F=L?Nn(L):void 0;if(!R||!F||R.length!=F.length)return!1;let te;for(let Ae=0;Ae<R.length;Ae++)if(te=R[Ae],!zn(S[te],L[te]))return!1;return!0}function Nn(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}function zn(S,L){if(Array.isArray(S)&&Array.isArray(L)){if(S.length!==L.length)return!1;const R=[...S].sort(),F=[...L].sort();return R.every((te,Ae)=>F[Ae]===te)}return S===L}function Yn(S){return S.length>0?S[S.length-1]:null}function ft(S){return(0,U.A)(S)?S:(0,l.jNT)(S)?(0,J.H)(Promise.resolve(S)):(0,G.of)(S)}const Xt={exact:function er(S,L,R){if(!Ir(S.segments,L.segments)||!Mr(S.segments,L.segments,R)||S.numberOfChildren!==L.numberOfChildren)return!1;for(const F in L.children)if(!S.children[F]||!er(S.children[F],L.children[F],R))return!1;return!0},subset:Xn},jt={exact:function br(S,L){return kn(S,L)},subset:function tr(S,L){return Object.keys(L).length<=Object.keys(S).length&&Object.keys(L).every(R=>zn(S[R],L[R]))},ignored:()=>!0};function On(S,L,R){return Xt[R.paths](S.root,L.root,R.matrixParams)&&jt[R.queryParams](S.queryParams,L.queryParams)&&!("exact"===R.fragment&&S.fragment!==L.fragment)}function Xn(S,L,R){return Dr(S,L,L.segments,R)}function Dr(S,L,R,F){if(S.segments.length>R.length){const te=S.segments.slice(0,R.length);return!(!Ir(te,R)||L.hasChildren()||!Mr(te,R,F))}if(S.segments.length===R.length){if(!Ir(S.segments,R)||!Mr(S.segments,R,F))return!1;for(const te in L.children)if(!S.children[te]||!Xn(S.children[te],L.children[te],F))return!1;return!0}{const te=R.slice(0,S.segments.length),Ae=R.slice(S.segments.length);return!!(Ir(S.segments,te)&&Mr(S.segments,te,F)&&S.children[st])&&Dr(S.children[st],L,Ae,F)}}function Mr(S,L,R){return L.every((F,te)=>jt[R](S[te].parameters,F.parameters))}class sr{constructor(L=new cr([],{}),R={},F=null){this.root=L,this.queryParams=R,this.fragment=F}get queryParamMap(){return this._queryParamMap??=hn(this.queryParams),this._queryParamMap}toString(){return Rr.serialize(this)}}class cr{constructor(L,R){this.segments=L,this.children=R,this.parent=null,Object.values(R).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ui(this)}}class Or{constructor(L,R){this.path=L,this.parameters=R}get parameterMap(){return this._parameterMap??=hn(this.parameters),this._parameterMap}toString(){return It(this)}}function Ir(S,L){return S.length===L.length&&S.every((R,F)=>R.path===L[F].path)}let ur=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=l.jDH({token:S,factory:()=>new ci,providedIn:"root"})}}return S})();class ci{parse(L){const R=new ai(L);return new sr(R.parseRootSegment(),R.parseQueryParams(),R.parseFragment())}serialize(L){const R=`/${dr(L.root,!0)}`,F=function Bn(S){const L=Object.entries(S).map(([R,F])=>Array.isArray(F)?F.map(te=>`${yi(R)}=${yi(te)}`).join("&"):`${yi(R)}=${yi(F)}`).filter(R=>R);return L.length?`?${L.join("&")}`:""}(L.queryParams);return`${R}${F}${"string"==typeof L.fragment?`#${function di(S){return encodeURI(S)}(L.fragment)}`:""}`}}const Rr=new ci;function ui(S){return S.segments.map(L=>It(L)).join("/")}function dr(S,L){if(!S.hasChildren())return ui(S);if(L){const R=S.children[st]?dr(S.children[st],!1):"",F=[];return Object.entries(S.children).forEach(([te,Ae])=>{te!==st&&F.push(`${te}:${dr(Ae,!1)}`)}),F.length>0?`${R}(${F.join("//")})`:R}{const R=function vr(S,L){let R=[];return Object.entries(S.children).forEach(([F,te])=>{F===st&&(R=R.concat(L(te,F)))}),Object.entries(S.children).forEach(([F,te])=>{F!==st&&(R=R.concat(L(te,F)))}),R}(S,(F,te)=>te===st?[dr(S.children[st],!1)]:[`${te}:${dr(F,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[st]?`${ui(S)}/${R[0]}`:`${ui(S)}/(${R.join("//")})`}}function bi(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yi(S){return bi(S).replace(/%3B/gi,";")}function Zt(S){return bi(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ct(S){return decodeURIComponent(S)}function Ze(S){return ct(S.replace(/\+/g,"%20"))}function It(S){return`${Zt(S.path)}${function fn(S){return Object.entries(S).map(([L,R])=>`;${Zt(L)}=${Zt(R)}`).join("")}(S.parameters)}`}const Ge=/^[^\/()?;#]+/;function $e(S){const L=S.match(Ge);return L?L[0]:""}const vt=/^[^\/()?;=#]+/,Ot=/^[^=?&#]+/,Qn=/^[^&#]+/;class ai{constructor(L){this.url=L,this.remaining=L}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cr([],{}):new cr([],this.parseChildren())}parseQueryParams(){const L={};if(this.consumeOptional("?"))do{this.parseQueryParam(L)}while(this.consumeOptional("&"));return L}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const L=[];for(this.peekStartsWith("(")||L.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),L.push(this.parseSegment());let R={};this.peekStartsWith("/(")&&(this.capture("/"),R=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(L.length>0||Object.keys(R).length>0)&&(F[st]=new cr(L,R)),F}parseSegment(){const L=$e(this.remaining);if(""===L&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(L),new Or(ct(L),this.parseMatrixParams())}parseMatrixParams(){const L={};for(;this.consumeOptional(";");)this.parseParam(L);return L}parseParam(L){const R=function en(S){const L=S.match(vt);return L?L[0]:""}(this.remaining);if(!R)return;this.capture(R);let F="";if(this.consumeOptional("=")){const te=$e(this.remaining);te&&(F=te,this.capture(F))}L[ct(R)]=ct(F)}parseQueryParam(L){const R=function Pn(S){const L=S.match(Ot);return L?L[0]:""}(this.remaining);if(!R)return;this.capture(R);let F="";if(this.consumeOptional("=")){const Ye=function Gr(S){const L=S.match(Qn);return L?L[0]:""}(this.remaining);Ye&&(F=Ye,this.capture(F))}const te=Ze(R),Ae=Ze(F);if(L.hasOwnProperty(te)){let Ye=L[te];Array.isArray(Ye)||(Ye=[Ye],L[te]=Ye),Ye.push(Ae)}else L[te]=Ae}parseParens(L){const R={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=$e(this.remaining),te=this.remaining[F.length];if("/"!==te&&")"!==te&&";"!==te)throw new l.wOt(4010,!1);let Ae;F.indexOf(":")>-1?(Ae=F.slice(0,F.indexOf(":")),this.capture(Ae),this.capture(":")):L&&(Ae=st);const Ye=this.parseChildren();R[Ae]=1===Object.keys(Ye).length?Ye[st]:new cr([],Ye),this.consumeOptional("//")}return R}peekStartsWith(L){return this.remaining.startsWith(L)}consumeOptional(L){return!!this.peekStartsWith(L)&&(this.remaining=this.remaining.substring(L.length),!0)}capture(L){if(!this.consumeOptional(L))throw new l.wOt(4011,!1)}}function kr(S){return S.segments.length>0?new cr([],{[st]:S}):S}function $r(S){const L={};for(const[F,te]of Object.entries(S.children)){const Ae=$r(te);if(F===st&&0===Ae.segments.length&&Ae.hasChildren())for(const[Ye,rn]of Object.entries(Ae.children))L[Ye]=rn;else(Ae.segments.length>0||Ae.hasChildren())&&(L[F]=Ae)}return function Dn(S){if(1===S.numberOfChildren&&S.children[st]){const L=S.children[st];return new cr(S.segments.concat(L.segments),L.children)}return S}(new cr(S.segments,L))}function ri(S){return S instanceof sr}function wr(S){let L;const te=kr(function R(Ae){const Ye={};for(const Lt of Ae.children){const Kn=R(Lt);Ye[Lt.outlet]=Kn}const rn=new cr(Ae.url,Ye);return Ae===S&&(L=rn),rn}(S.root));return L??te}function Gi(S,L,R,F){let te=S;for(;te.parent;)te=te.parent;if(0===L.length)return Mi(te,te,te,R,F);const Ae=function Wt(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new mi(!0,0,S);let L=0,R=!1;const F=S.reduce((te,Ae,Ye)=>{if("object"==typeof Ae&&null!=Ae){if(Ae.outlets){const rn={};return Object.entries(Ae.outlets).forEach(([Lt,Kn])=>{rn[Lt]="string"==typeof Kn?Kn.split("/"):Kn}),[...te,{outlets:rn}]}if(Ae.segmentPath)return[...te,Ae.segmentPath]}return"string"!=typeof Ae?[...te,Ae]:0===Ye?(Ae.split("/").forEach((rn,Lt)=>{0==Lt&&"."===rn||(0==Lt&&""===rn?R=!0:".."===rn?L++:""!=rn&&te.push(rn))}),te):[...te,Ae]},[]);return new mi(R,L,F)}(L);if(Ae.toRoot())return Mi(te,te,new cr([],{}),R,F);const Ye=function _e(S,L,R){if(S.isAbsolute)return new ae(L,!0,0);if(!R)return new ae(L,!1,NaN);if(null===R.parent)return new ae(R,!0,0);const F=Kr(S.commands[0])?0:1;return function ie(S,L,R){let F=S,te=L,Ae=R;for(;Ae>te;){if(Ae-=te,F=F.parent,!F)throw new l.wOt(4005,!1);te=F.segments.length}return new ae(F,!1,te-Ae)}(R,R.segments.length-1+F,S.numberOfDoubleDots)}(Ae,te,S),rn=Ye.processChildren?gt(Ye.segmentGroup,Ye.index,Ae.commands):Ve(Ye.segmentGroup,Ye.index,Ae.commands);return Mi(te,Ye.segmentGroup,rn,R,F)}function Kr(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function yr(S){return"object"==typeof S&&null!=S&&S.outlets}function Mi(S,L,R,F,te){let Ye,Ae={};F&&Object.entries(F).forEach(([Lt,Kn])=>{Ae[Lt]=Array.isArray(Kn)?Kn.map(Br=>`${Br}`):`${Kn}`}),Ye=S===L?R:li(S,L,R);const rn=kr($r(Ye));return new sr(rn,Ae,te)}function li(S,L,R){const F={};return Object.entries(S.children).forEach(([te,Ae])=>{F[te]=Ae===L?R:li(Ae,L,R)}),new cr(S.segments,F)}class mi{constructor(L,R,F){if(this.isAbsolute=L,this.numberOfDoubleDots=R,this.commands=F,L&&F.length>0&&Kr(F[0]))throw new l.wOt(4003,!1);const te=F.find(yr);if(te&&te!==Yn(F))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ae{constructor(L,R,F){this.segmentGroup=L,this.processChildren=R,this.index=F}}function Ve(S,L,R){if(S??=new cr([],{}),0===S.segments.length&&S.hasChildren())return gt(S,L,R);const F=function ln(S,L,R){let F=0,te=L;const Ae={match:!1,pathIndex:0,commandIndex:0};for(;te<S.segments.length;){if(F>=R.length)return Ae;const Ye=S.segments[te],rn=R[F];if(yr(rn))break;const Lt=`${rn}`,Kn=F<R.length-1?R[F+1]:null;if(te>0&&void 0===Lt)break;if(Lt&&Kn&&"object"==typeof Kn&&void 0===Kn.outlets){if(!Je(Lt,Kn,Ye))return Ae;F+=2}else{if(!Je(Lt,{},Ye))return Ae;F++}te++}return{match:!0,pathIndex:te,commandIndex:F}}(S,L,R),te=R.slice(F.commandIndex);if(F.match&&F.pathIndex<S.segments.length){const Ae=new cr(S.segments.slice(0,F.pathIndex),{});return Ae.children[st]=new cr(S.segments.slice(F.pathIndex),S.children),gt(Ae,0,te)}return F.match&&0===te.length?new cr(S.segments,{}):F.match&&!S.hasChildren()?Yt(S,L,R):F.match?gt(S,0,te):Yt(S,L,R)}function gt(S,L,R){if(0===R.length)return new cr(S.segments,{});{const F=function Y(S){return yr(S[0])?S[0].outlets:{[st]:S}}(R),te={};if(Object.keys(F).some(Ae=>Ae!==st)&&S.children[st]&&1===S.numberOfChildren&&0===S.children[st].segments.length){const Ae=gt(S.children[st],L,R);return new cr(S.segments,Ae.children)}return Object.entries(F).forEach(([Ae,Ye])=>{"string"==typeof Ye&&(Ye=[Ye]),null!==Ye&&(te[Ae]=Ve(S.children[Ae],L,Ye))}),Object.entries(S.children).forEach(([Ae,Ye])=>{void 0===F[Ae]&&(te[Ae]=Ye)}),new cr(S.segments,te)}}function Yt(S,L,R){const F=S.segments.slice(0,L);let te=0;for(;te<R.length;){const Ae=R[te];if(yr(Ae)){const Lt=pe(Ae.outlets);return new cr(F,Lt)}if(0===te&&Kr(R[0])){F.push(new Or(S.segments[L].path,Oe(R[0]))),te++;continue}const Ye=yr(Ae)?Ae.outlets[st]:`${Ae}`,rn=te<R.length-1?R[te+1]:null;Ye&&rn&&Kr(rn)?(F.push(new Or(Ye,Oe(rn))),te+=2):(F.push(new Or(Ye,{})),te++)}return new cr(F,{})}function pe(S){const L={};return Object.entries(S).forEach(([R,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(L[R]=Yt(new cr([],{}),0,F))}),L}function Oe(S){const L={};return Object.entries(S).forEach(([R,F])=>L[R]=`${F}`),L}function Je(S,L,R){return S==R.path&&kn(L,R.parameters)}const Ht="imperative";var Gt=function(S){return S[S.NavigationStart=0]="NavigationStart",S[S.NavigationEnd=1]="NavigationEnd",S[S.NavigationCancel=2]="NavigationCancel",S[S.NavigationError=3]="NavigationError",S[S.RoutesRecognized=4]="RoutesRecognized",S[S.ResolveStart=5]="ResolveStart",S[S.ResolveEnd=6]="ResolveEnd",S[S.GuardsCheckStart=7]="GuardsCheckStart",S[S.GuardsCheckEnd=8]="GuardsCheckEnd",S[S.RouteConfigLoadStart=9]="RouteConfigLoadStart",S[S.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",S[S.ChildActivationStart=11]="ChildActivationStart",S[S.ChildActivationEnd=12]="ChildActivationEnd",S[S.ActivationStart=13]="ActivationStart",S[S.ActivationEnd=14]="ActivationEnd",S[S.Scroll=15]="Scroll",S[S.NavigationSkipped=16]="NavigationSkipped",S}(Gt||{});class _n{constructor(L,R){this.id=L,this.url=R}}class St extends _n{constructor(L,R,F="imperative",te=null){super(L,R),this.type=Gt.NavigationStart,this.navigationTrigger=F,this.restoredState=te}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gn extends _n{constructor(L,R,F){super(L,R),this.urlAfterRedirects=F,this.type=Gt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Hn=function(S){return S[S.Redirect=0]="Redirect",S[S.SupersededByNewNavigation=1]="SupersededByNewNavigation",S[S.NoDataFromResolver=2]="NoDataFromResolver",S[S.GuardRejected=3]="GuardRejected",S}(Hn||{}),Lr=function(S){return S[S.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",S[S.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",S}(Lr||{});class Mn extends _n{constructor(L,R,F,te){super(L,R),this.reason=F,this.code=te,this.type=Gt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class In extends _n{constructor(L,R,F,te){super(L,R),this.reason=F,this.code=te,this.type=Gt.NavigationSkipped}}class _i extends _n{constructor(L,R,F,te){super(L,R),this.error=F,this.target=te,this.type=Gt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tn extends _n{constructor(L,R,F,te){super(L,R),this.urlAfterRedirects=F,this.state=te,this.type=Gt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vt extends _n{constructor(L,R,F,te){super(L,R),this.urlAfterRedirects=F,this.state=te,this.type=Gt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kt extends _n{constructor(L,R,F,te,Ae){super(L,R),this.urlAfterRedirects=F,this.state=te,this.shouldActivate=Ae,this.type=Gt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xr extends _n{constructor(L,R,F,te){super(L,R),this.urlAfterRedirects=F,this.state=te,this.type=Gt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qi extends _n{constructor(L,R,F,te){super(L,R),this.urlAfterRedirects=F,this.state=te,this.type=Gt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class de{constructor(L){this.route=L,this.type=Gt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ye{constructor(L){this.route=L,this.type=Gt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ut{constructor(L){this.snapshot=L,this.type=Gt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qt{constructor(L){this.snapshot=L,this.type=Gt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bn{constructor(L){this.snapshot=L,this.type=Gt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nr{constructor(L){this.snapshot=L,this.type=Gt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rr{constructor(L,R,F){this.routerEvent=L,this.position=R,this.anchor=F,this.type=Gt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ar{}class xn{constructor(L,R){this.url=L,this.navigationBehaviorOptions=R}}function Fn(S){return S.outlet||st}function Js(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let L=S.parent;L;L=L.parent){const R=L.routeConfig;if(R?._loadedInjector)return R._loadedInjector;if(R?._injector)return R._injector}return null}class Cs{get injector(){return Js(this.route?.snapshot)??this.rootInjector}set injector(L){}constructor(L){this.rootInjector=L,this.outlet=null,this.route=null,this.children=new C(this.rootInjector),this.attachRef=null}}let C=(()=>{class S{constructor(R){this.rootInjector=R,this.contexts=new Map}onChildOutletCreated(R,F){const te=this.getOrCreateContext(R);te.outlet=F,this.contexts.set(R,te)}onChildOutletDestroyed(R){const F=this.getContext(R);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const R=this.contexts;return this.contexts=new Map,R}onOutletReAttached(R){this.contexts=R}getOrCreateContext(R){let F=this.getContext(R);return F||(F=new Cs(this.rootInjector),this.contexts.set(R,F)),F}getContext(R){return this.contexts.get(R)||null}static{this.\u0275fac=function(F){return new(F||S)(l.KVO(l.uvJ))}}static{this.\u0275prov=l.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();class le{constructor(L){this._root=L}get root(){return this._root.value}parent(L){const R=this.pathFromRoot(L);return R.length>1?R[R.length-2]:null}children(L){const R=O(L,this._root);return R?R.children.map(F=>F.value):[]}firstChild(L){const R=O(L,this._root);return R&&R.children.length>0?R.children[0].value:null}siblings(L){const R=A(L,this._root);return R.length<2?[]:R[R.length-2].children.map(te=>te.value).filter(te=>te!==L)}pathFromRoot(L){return A(L,this._root).map(R=>R.value)}}function O(S,L){if(S===L.value)return L;for(const R of L.children){const F=O(S,R);if(F)return F}return null}function A(S,L){if(S===L.value)return[L];for(const R of L.children){const F=A(S,R);if(F.length)return F.unshift(L),F}return[]}class K{constructor(L,R){this.value=L,this.children=R}toString(){return`TreeNode(${this.value})`}}function Ue(S){const L={};return S&&S.children.forEach(R=>L[R.value.outlet]=R),L}class zt extends le{constructor(L,R){super(L),this.snapshot=R,pr(this,L)}toString(){return this.snapshot.toString()}}function dn(S){const L=function pn(S){const Ae=new Un([],{},{},"",{},st,S,null,{});return new Qe("",new K(Ae,[]))}(S),R=new Re.t([new Or("",{})]),F=new Re.t({}),te=new Re.t({}),Ae=new Re.t({}),Ye=new Re.t(""),rn=new mn(R,F,Ae,Ye,te,st,S,L.root);return rn.snapshot=L.root,new zt(new K(rn,[]),L)}class mn{constructor(L,R,F,te,Ae,Ye,rn,Lt){this.urlSubject=L,this.paramsSubject=R,this.queryParamsSubject=F,this.fragmentSubject=te,this.dataSubject=Ae,this.outlet=Ye,this.component=rn,this._futureSnapshot=Lt,this.title=this.dataSubject?.pipe((0,Fe.T)(Kn=>Kn[Nt]))??(0,G.of)(void 0),this.url=L,this.params=R,this.queryParams=F,this.fragment=te,this.data=Ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Fe.T)(L=>hn(L))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Fe.T)(L=>hn(L))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $n(S,L,R="emptyOnly"){let F;const{routeConfig:te}=S;return F=null===L||"always"!==R&&""!==te?.path&&(L.component||L.routeConfig?.loadComponent)?{params:{...S.params},data:{...S.data},resolve:{...S.data,...S._resolvedData??{}}}:{params:{...L.params,...S.params},data:{...L.data,...S.data},resolve:{...S.data,...L.data,...te?.data,...S._resolvedData}},te&&Xr(te)&&(F.resolve[Nt]=te.title),F}class Un{get title(){return this.data?.[Nt]}constructor(L,R,F,te,Ae,Ye,rn,Lt,Kn){this.url=L,this.params=R,this.queryParams=F,this.fragment=te,this.data=Ae,this.outlet=Ye,this.component=rn,this.routeConfig=Lt,this._resolve=Kn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qe extends le{constructor(L,R){super(R),this.url=L,pr(this,R)}toString(){return Pr(this._root)}}function pr(S,L){L.value._routerState=S,L.children.forEach(R=>pr(S,R))}function Pr(S){const L=S.children.length>0?` { ${S.children.map(Pr).join(", ")} } `:"";return`${S.value}${L}`}function xi(S){if(S.snapshot){const L=S.snapshot,R=S._futureSnapshot;S.snapshot=R,kn(L.queryParams,R.queryParams)||S.queryParamsSubject.next(R.queryParams),L.fragment!==R.fragment&&S.fragmentSubject.next(R.fragment),kn(L.params,R.params)||S.paramsSubject.next(R.params),function qn(S,L){if(S.length!==L.length)return!1;for(let R=0;R<S.length;++R)if(!kn(S[R],L[R]))return!1;return!0}(L.url,R.url)||S.urlSubject.next(R.url),kn(L.data,R.data)||S.dataSubject.next(R.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function Di(S,L){const R=kn(S.params,L.params)&&function Hr(S,L){return Ir(S,L)&&S.every((R,F)=>kn(R.parameters,L[F].parameters))}(S.url,L.url);return R&&!(!S.parent!=!L.parent)&&(!S.parent||Di(S.parent,L.parent))}function Xr(S){return"string"==typeof S.title||null===S.title}let ni=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=st,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)(C),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.inputBinder=(0,l.WQX)(si,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(R){if(R.name){const{firstChange:F,previousValue:te}=R.name;if(F)return;this.isTrackedInParentContexts(te)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(te)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(R){return this.parentContexts.getContext(R)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const R=this.parentContexts.getContext(this.name);R?.route&&(R.attachRef?this.attach(R.attachRef,R.route):this.activateWith(R.route,R.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const R=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(R.instance),R}attach(R,F){this.activated=R,this._activatedRoute=F,this.location.insert(R.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(R.instance)}deactivate(){if(this.activated){const R=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(R)}}activateWith(R,F){if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=R;const te=this.location,Ye=R.snapshot.component,rn=this.parentContexts.getOrCreateContext(this.name).children,Lt=new rs(R,rn,te.injector);this.activated=te.createComponent(Ye,{index:te.length,injector:Lt,environmentInjector:F}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275dir=l.FsC({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]})}}return S})();class rs{__ngOutletInjector(L){return new rs(this.route,this.childContexts,L)}constructor(L,R,F){this.route=L,this.childContexts=R,this.parent=F}get(L,R){return L===mn?this.route:L===C?this.childContexts:this.parent.get(L,R)}}const si=new l.nKC("");let mo=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(R){this.unsubscribeFromRouteData(R),this.subscribeToRouteData(R)}unsubscribeFromRouteData(R){this.outletDataSubscriptions.get(R)?.unsubscribe(),this.outletDataSubscriptions.delete(R)}subscribeToRouteData(R){const{activatedRoute:F}=R,te=(0,we.z)([F.queryParams,F.params,F.data]).pipe((0,ot.n)(([Ae,Ye,rn],Lt)=>(rn={...Ae,...Ye,...rn},0===Lt?(0,G.of)(rn):Promise.resolve(rn)))).subscribe(Ae=>{if(!R.isActivated||!R.activatedComponentRef||R.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(R);const Ye=(0,l.HJs)(F.component);if(Ye)for(const{templateName:rn}of Ye.inputs)R.activatedComponentRef.setInput(rn,Ae[rn]);else this.unsubscribeFromRouteData(R)});this.outletDataSubscriptions.set(R,te)}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=l.jDH({token:S,factory:S.\u0275fac})}}return S})();function zs(S,L,R){if(R&&S.shouldReuseRoute(L.value,R.value.snapshot)){const F=R.value;F._futureSnapshot=L.value;const te=function Zs(S,L,R){return L.children.map(F=>{for(const te of R.children)if(S.shouldReuseRoute(F.value,te.value.snapshot))return zs(S,F,te);return zs(S,F)})}(S,L,R);return new K(F,te)}{if(S.shouldAttach(L.value)){const Ae=S.retrieve(L.value);if(null!==Ae){const Ye=Ae.route;return Ye.value._futureSnapshot=L.value,Ye.children=L.children.map(rn=>zs(S,rn)),Ye}}const F=function Rs(S){return new mn(new Re.t(S.url),new Re.t(S.params),new Re.t(S.queryParams),new Re.t(S.fragment),new Re.t(S.data),S.outlet,S.component,S)}(L.value),te=L.children.map(Ae=>zs(S,Ae));return new K(F,te)}}class Jo{constructor(L,R){this.redirectTo=L,this.navigationBehaviorOptions=R}}const bo="ngNavigationCancelingError";function is(S,L){const{redirectTo:R,navigationBehaviorOptions:F}=ri(L)?{redirectTo:L,navigationBehaviorOptions:void 0}:L,te=ls(!1,Hn.Redirect);return te.url=R,te.navigationBehaviorOptions=F,te}function ls(S,L){const R=new Error(`NavigationCancelingError: ${S||""}`);return R[bo]=!0,R.cancellationCode=L,R}function Zo(S){return!!S&&S[bo]}class Tr{constructor(L,R,F,te,Ae){this.routeReuseStrategy=L,this.futureState=R,this.currState=F,this.forwardEvent=te,this.inputBindingEnabled=Ae}activate(L){const R=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(R,F,L),xi(this.futureState.root),this.activateChildRoutes(R,F,L)}deactivateChildRoutes(L,R,F){const te=Ue(R);L.children.forEach(Ae=>{const Ye=Ae.value.outlet;this.deactivateRoutes(Ae,te[Ye],F),delete te[Ye]}),Object.values(te).forEach(Ae=>{this.deactivateRouteAndItsChildren(Ae,F)})}deactivateRoutes(L,R,F){const te=L.value,Ae=R?R.value:null;if(te===Ae)if(te.component){const Ye=F.getContext(te.outlet);Ye&&this.deactivateChildRoutes(L,R,Ye.children)}else this.deactivateChildRoutes(L,R,F);else Ae&&this.deactivateRouteAndItsChildren(R,F)}deactivateRouteAndItsChildren(L,R){L.value.component&&this.routeReuseStrategy.shouldDetach(L.value.snapshot)?this.detachAndStoreRouteSubtree(L,R):this.deactivateRouteAndOutlet(L,R)}detachAndStoreRouteSubtree(L,R){const F=R.getContext(L.value.outlet),te=F&&L.value.component?F.children:R,Ae=Ue(L);for(const Ye of Object.values(Ae))this.deactivateRouteAndItsChildren(Ye,te);if(F&&F.outlet){const Ye=F.outlet.detach(),rn=F.children.onOutletDeactivated();this.routeReuseStrategy.store(L.value.snapshot,{componentRef:Ye,route:L,contexts:rn})}}deactivateRouteAndOutlet(L,R){const F=R.getContext(L.value.outlet),te=F&&L.value.component?F.children:R,Ae=Ue(L);for(const Ye of Object.values(Ae))this.deactivateRouteAndItsChildren(Ye,te);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(L,R,F){const te=Ue(R);L.children.forEach(Ae=>{this.activateRoutes(Ae,te[Ae.value.outlet],F),this.forwardEvent(new nr(Ae.value.snapshot))}),L.children.length&&this.forwardEvent(new Qt(L.value.snapshot))}activateRoutes(L,R,F){const te=L.value,Ae=R?R.value:null;if(xi(te),te===Ae)if(te.component){const Ye=F.getOrCreateContext(te.outlet);this.activateChildRoutes(L,R,Ye.children)}else this.activateChildRoutes(L,R,F);else if(te.component){const Ye=F.getOrCreateContext(te.outlet);if(this.routeReuseStrategy.shouldAttach(te.snapshot)){const rn=this.routeReuseStrategy.retrieve(te.snapshot);this.routeReuseStrategy.store(te.snapshot,null),Ye.children.onOutletReAttached(rn.contexts),Ye.attachRef=rn.componentRef,Ye.route=rn.route.value,Ye.outlet&&Ye.outlet.attach(rn.componentRef,rn.route.value),xi(rn.route.value),this.activateChildRoutes(L,null,Ye.children)}else Ye.attachRef=null,Ye.route=te,Ye.outlet&&Ye.outlet.activateWith(te,Ye.injector),this.activateChildRoutes(L,null,Ye.children)}else this.activateChildRoutes(L,null,F)}}class Ks{constructor(L){this.path=L,this.route=this.path[this.path.length-1]}}class Wa{constructor(L,R){this.component=L,this.route=R}}function to(S,L,R){const F=S._root;return vs(F,L?L._root:null,R,[F.value])}function js(S,L){const R=Symbol(),F=L.get(S,R);return F===R?"function"!=typeof S||(0,l.LfX)(S)?L.get(S):S:F}function vs(S,L,R,F,te={canDeactivateChecks:[],canActivateChecks:[]}){const Ae=Ue(L);return S.children.forEach(Ye=>{(function Xs(S,L,R,F,te={canDeactivateChecks:[],canActivateChecks:[]}){const Ae=S.value,Ye=L?L.value:null,rn=R?R.getContext(S.value.outlet):null;if(Ye&&Ae.routeConfig===Ye.routeConfig){const Lt=function zr(S,L,R){if("function"==typeof R)return R(S,L);switch(R){case"pathParamsChange":return!Ir(S.url,L.url);case"pathParamsOrQueryParamsChange":return!Ir(S.url,L.url)||!kn(S.queryParams,L.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Di(S,L)||!kn(S.queryParams,L.queryParams);default:return!Di(S,L)}}(Ye,Ae,Ae.routeConfig.runGuardsAndResolvers);Lt?te.canActivateChecks.push(new Ks(F)):(Ae.data=Ye.data,Ae._resolvedData=Ye._resolvedData),vs(S,L,Ae.component?rn?rn.children:null:R,F,te),Lt&&rn&&rn.outlet&&rn.outlet.isActivated&&te.canDeactivateChecks.push(new Wa(rn.outlet.component,Ye))}else Ye&&As(L,rn,te),te.canActivateChecks.push(new Ks(F)),vs(S,null,Ae.component?rn?rn.children:null:R,F,te)})(Ye,Ae[Ye.value.outlet],R,F.concat([Ye.value]),te),delete Ae[Ye.value.outlet]}),Object.entries(Ae).forEach(([Ye,rn])=>As(rn,R.getContext(Ye),te)),te}function As(S,L,R){const F=Ue(S),te=S.value;Object.entries(F).forEach(([Ae,Ye])=>{As(Ye,te.component?L?L.children.getContext(Ae):null:L,R)}),R.canDeactivateChecks.push(new Wa(te.component&&L&&L.outlet&&L.outlet.isActivated?L.outlet.component:null,te))}function Fo(S){return"function"==typeof S}function Ao(S){return S instanceof Z.G||"EmptyError"===S?.name}const Q=Symbol("INITIAL_VALUE");function ee(){return(0,ot.n)(S=>(0,we.z)(S.map(L=>L.pipe((0,qe.s)(1),(0,nt.Z)(Q)))).pipe((0,Fe.T)(L=>{for(const R of L)if(!0!==R){if(R===Q)return Q;if(!1===R||$(R))return R}return!0}),(0,bt.p)(L=>L!==Q),(0,qe.s)(1)))}function $(S){return ri(S)||S instanceof Jo}function Ni(S){return(0,Te.F)((0,Ke.M)(L=>{if("boolean"!=typeof L)throw is(0,L)}),(0,Fe.T)(L=>!0===L))}class gs{constructor(L){this.segmentGroup=L||null}}class hi extends Error{constructor(L){super(),this.urlTree=L}}function _o(S){return xe(new gs(S))}class Xi{constructor(L,R){this.urlSerializer=L,this.urlTree=R}lineralizeSegments(L,R){let F=[],te=R.root;for(;;){if(F=F.concat(te.segments),0===te.numberOfChildren)return(0,G.of)(F);if(te.numberOfChildren>1||!te.children[st])return xe(new l.wOt(4e3,!1));te=te.children[st]}}applyRedirectCommands(L,R,F,te,Ae){if("string"!=typeof R){const rn=R,{queryParams:Lt,fragment:Kn,routeConfig:Br,url:Jr,outlet:ps,params:aa,data:oi,title:Ho}=te,Po=(0,l.N4e)(Ae,()=>rn({params:aa,data:oi,queryParams:Lt,fragment:Kn,routeConfig:Br,url:Jr,outlet:ps,title:Ho}));if(Po instanceof sr)throw new hi(Po);R=Po}const Ye=this.applyRedirectCreateUrlTree(R,this.urlSerializer.parse(R),L,F);if("/"===R[0])throw new hi(Ye);return Ye}applyRedirectCreateUrlTree(L,R,F,te){const Ae=this.createSegmentGroup(L,R.root,F,te);return new sr(Ae,this.createQueryParams(R.queryParams,this.urlTree.queryParams),R.fragment)}createQueryParams(L,R){const F={};return Object.entries(L).forEach(([te,Ae])=>{if("string"==typeof Ae&&":"===Ae[0]){const rn=Ae.substring(1);F[te]=R[rn]}else F[te]=Ae}),F}createSegmentGroup(L,R,F,te){const Ae=this.createSegments(L,R.segments,F,te);let Ye={};return Object.entries(R.children).forEach(([rn,Lt])=>{Ye[rn]=this.createSegmentGroup(L,Lt,F,te)}),new cr(Ae,Ye)}createSegments(L,R,F,te){return R.map(Ae=>":"===Ae.path[0]?this.findPosParam(L,Ae,te):this.findOrReturn(Ae,F))}findPosParam(L,R,F){const te=F[R.path.substring(1)];if(!te)throw new l.wOt(4001,!1);return te}findOrReturn(L,R){let F=0;for(const te of R){if(te.path===L.path)return R.splice(F),te;F++}return L}}const Zr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uo(S,L,R,F,te){const Ae=Yi(S,L,R);return Ae.matched?(F=function Wn(S,L){return S.providers&&!S._injector&&(S._injector=(0,l.Ol2)(S.providers,L,`Route: ${S.path}`)),S._injector??L}(L,F),function cl(S,L,R,F){const te=L.canMatch;if(!te||0===te.length)return(0,G.of)(!0);const Ae=te.map(Ye=>{const rn=js(Ye,S);return ft(function Ga(S){return S&&Fo(S.canMatch)}(rn)?rn.canMatch(L,R):(0,l.N4e)(S,()=>rn(L,R)))});return(0,G.of)(Ae).pipe(ee(),Ni())}(F,L,R).pipe((0,Fe.T)(Ye=>!0===Ye?Ae:{...Zr}))):(0,G.of)(Ae)}function Yi(S,L,R){if("**"===L.path)return function qi(S){return{matched:!0,parameters:S.length>0?Yn(S).parameters:{},consumedSegments:S,remainingSegments:[],positionalParamSegments:{}}}(R);if(""===L.path)return"full"===L.pathMatch&&(S.hasChildren()||R.length>0)?{...Zr}:{matched:!0,consumedSegments:[],remainingSegments:R,parameters:{},positionalParamSegments:{}};const te=(L.matcher||Ln)(R,S,L);if(!te)return{...Zr};const Ae={};Object.entries(te.posParams??{}).forEach(([rn,Lt])=>{Ae[rn]=Lt.path});const Ye=te.consumed.length>0?{...Ae,...te.consumed[te.consumed.length-1].parameters}:Ae;return{matched:!0,consumedSegments:te.consumed,remainingSegments:R.slice(te.consumed.length),parameters:Ye,positionalParamSegments:te.posParams??{}}}function no(S,L,R,F){return R.length>0&&function dl(S,L,R){return R.some(F=>yo(S,L,F)&&Fn(F)!==st)}(S,R,F)?{segmentGroup:new cr(L,ul(F,new cr(R,S.children))),slicedSegments:[]}:0===R.length&&function _s(S,L,R){return R.some(F=>yo(S,L,F))}(S,R,F)?{segmentGroup:new cr(S.segments,Oa(S,R,F,S.children)),slicedSegments:R}:{segmentGroup:new cr(S.segments,S.children),slicedSegments:R}}function Oa(S,L,R,F){const te={};for(const Ae of R)if(yo(S,L,Ae)&&!F[Fn(Ae)]){const Ye=new cr([],{});te[Fn(Ae)]=Ye}return{...F,...te}}function ul(S,L){const R={};R[st]=L;for(const F of S)if(""===F.path&&Fn(F)!==st){const te=new cr([],{});R[Fn(F)]=te}return R}function yo(S,L,R){return(!(S.hasChildren()||L.length>0)||"full"!==R.pathMatch)&&""===R.path}class hl{}class uo{constructor(L,R,F,te,Ae,Ye,rn){this.injector=L,this.configLoader=R,this.rootComponentType=F,this.config=te,this.urlTree=Ae,this.paramsInheritanceStrategy=Ye,this.urlSerializer=rn,this.applyRedirects=new Xi(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(L){return new l.wOt(4002,`'${L.segmentGroup}'`)}recognize(){const L=no(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(L).pipe((0,Fe.T)(({children:R,rootSnapshot:F})=>{const te=new K(F,R),Ae=new Qe("",te),Ye=function Pi(S,L,R=null,F=null){return Gi(wr(S),L,R,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return Ye.queryParams=this.urlTree.queryParams,Ae.url=this.urlSerializer.serialize(Ye),{state:Ae,tree:Ye}}))}match(L){const R=new Un([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),st,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,L,st,R).pipe((0,Fe.T)(F=>({children:F,rootSnapshot:R})),kt(F=>{if(F instanceof hi)return this.urlTree=F.urlTree,this.match(F.urlTree.root);throw F instanceof gs?this.noMatchError(F):F}))}processSegmentGroup(L,R,F,te,Ae){return 0===F.segments.length&&F.hasChildren()?this.processChildren(L,R,F,Ae):this.processSegment(L,R,F,F.segments,te,!0,Ae).pipe((0,Fe.T)(Ye=>Ye instanceof K?[Ye]:[]))}processChildren(L,R,F,te){const Ae=[];for(const Ye of Object.keys(F.children))"primary"===Ye?Ae.unshift(Ye):Ae.push(Ye);return(0,J.H)(Ae).pipe((0,wt.H)(Ye=>{const rn=F.children[Ye],Lt=function as(S,L){const R=S.filter(F=>Fn(F)===L);return R.push(...S.filter(F=>Fn(F)!==L)),R}(R,Ye);return this.processSegmentGroup(L,Lt,rn,Ye,te)}),(0,un.S)((Ye,rn)=>(Ye.push(...rn),Ye)),(0,tt.U)(null),function ce(S,L){const R=arguments.length>=2;return F=>F.pipe(S?(0,bt.p)((te,Ae)=>S(te,Ae,F)):Me.D,De(1),R?(0,tt.U)(L):(0,Ie.v)(()=>new Z.G))}(),(0,H.Z)(Ye=>{if(null===Ye)return _o(F);const rn=fl(Ye);return function So(S){S.sort((L,R)=>L.value.outlet===st?-1:R.value.outlet===st?1:L.value.outlet.localeCompare(R.value.outlet))}(rn),(0,G.of)(rn)}))}processSegment(L,R,F,te,Ae,Ye,rn){return(0,J.H)(R).pipe((0,wt.H)(Lt=>this.processSegmentAgainstRoute(Lt._injector??L,R,Lt,F,te,Ae,Ye,rn).pipe(kt(Kn=>{if(Kn instanceof gs)return(0,G.of)(null);throw Kn}))),(0,He.$)(Lt=>!!Lt),kt(Lt=>{if(Ao(Lt))return function Eo(S,L,R){return 0===L.length&&!S.children[R]}(F,te,Ae)?(0,G.of)(new hl):_o(F);throw Lt}))}processSegmentAgainstRoute(L,R,F,te,Ae,Ye,rn,Lt){return Fn(F)===Ye||Ye!==st&&yo(te,Ae,F)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(L,te,F,Ae,Ye,Lt):this.allowRedirects&&rn?this.expandSegmentAgainstRouteUsingRedirect(L,te,R,F,Ae,Ye,Lt):_o(te):_o(te)}expandSegmentAgainstRouteUsingRedirect(L,R,F,te,Ae,Ye,rn){const{matched:Lt,parameters:Kn,consumedSegments:Br,positionalParamSegments:Jr,remainingSegments:ps}=Yi(R,te,Ae);if(!Lt)return _o(R);"string"==typeof te.redirectTo&&"/"===te.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const aa=new Un(Ae,Kn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ho(te),Fn(te),te.component??te._loadedComponent??null,te,gl(te)),oi=$n(aa,rn,this.paramsInheritanceStrategy);aa.params=Object.freeze(oi.params),aa.data=Object.freeze(oi.data);const Ho=this.applyRedirects.applyRedirectCommands(Br,te.redirectTo,Jr,aa,L);return this.applyRedirects.lineralizeSegments(te,Ho).pipe((0,H.Z)(Po=>this.processSegment(L,F,R,Po.concat(ps),Ye,!1,rn)))}matchSegmentAgainstRoute(L,R,F,te,Ae,Ye){const rn=Uo(R,F,te,L);return"**"===F.path&&(R.children={}),rn.pipe((0,ot.n)(Lt=>Lt.matched?this.getChildConfig(L=F._injector??L,F,te).pipe((0,ot.n)(({routes:Kn})=>{const Br=F._loadedInjector??L,{parameters:Jr,consumedSegments:ps,remainingSegments:aa}=Lt,oi=new Un(ps,Jr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ho(F),Fn(F),F.component??F._loadedComponent??null,F,gl(F)),Ho=$n(oi,Ye,this.paramsInheritanceStrategy);oi.params=Object.freeze(Ho.params),oi.data=Object.freeze(Ho.data);const{segmentGroup:Po,slicedSegments:Fa}=no(R,ps,aa,Kn);if(0===Fa.length&&Po.hasChildren())return this.processChildren(Br,Kn,Po,oi).pipe((0,Fe.T)(Ea=>new K(oi,Ea)));if(0===Kn.length&&0===Fa.length)return(0,G.of)(new K(oi,[]));const vc=Fn(F)===Ae;return this.processSegment(Br,Kn,Po,Fa,vc?st:Ae,!0,oi).pipe((0,Fe.T)(Ea=>new K(oi,Ea instanceof K?[Ea]:[])))})):_o(R)))}getChildConfig(L,R,F){return R.children?(0,G.of)({routes:R.children,injector:L}):R.loadChildren?void 0!==R._loadedRoutes?(0,G.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):function mc(S,L,R,F){const te=L.canLoad;if(void 0===te||0===te.length)return(0,G.of)(!0);const Ae=te.map(Ye=>{const rn=js(Ye,S);return ft(function Vi(S){return S&&Fo(S.canLoad)}(rn)?rn.canLoad(L,R):(0,l.N4e)(S,()=>rn(L,R)))});return(0,G.of)(Ae).pipe(ee(),Ni())}(L,R,F).pipe((0,H.Z)(te=>te?this.configLoader.loadChildren(L,R).pipe((0,Ke.M)(Ae=>{R._loadedRoutes=Ae.routes,R._loadedInjector=Ae.injector})):function qr(){return xe(ls(!1,Hn.GuardRejected))}())):(0,G.of)({routes:[],injector:L})}}function ta(S){const L=S.value.routeConfig;return L&&""===L.path}function fl(S){const L=[],R=new Set;for(const F of S){if(!ta(F)){L.push(F);continue}const te=L.find(Ae=>F.value.routeConfig===Ae.value.routeConfig);void 0!==te?(te.children.push(...F.children),R.add(te)):L.push(F)}for(const F of R){const te=fl(F.children);L.push(new K(F.value,te))}return L.filter(F=>!R.has(F))}function ho(S){return S.data||{}}function gl(S){return S.resolve||{}}function ra(S){const L=S.children.map(R=>ra(R)).flat();return[S,...L]}function Ro(S){return(0,ot.n)(L=>{const R=S(L);return R?(0,J.H)(R).pipe((0,Fe.T)(()=>L)):(0,G.of)(L)})}let ma=(()=>{class S{buildTitle(R){let F,te=R.root;for(;void 0!==te;)F=this.getResolvedTitleForRoute(te)??F,te=te.children.find(Ae=>Ae.outlet===st);return F}getResolvedTitleForRoute(R){return R.data[Nt]}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=l.jDH({token:S,factory:()=>(0,l.WQX)(Ji),providedIn:"root"})}}return S})(),Ji=(()=>{class S extends ma{constructor(R){super(),this.title=R}updateTitle(R){const F=this.buildTitle(R);void 0!==F&&this.title.setTitle(F)}static{this.\u0275fac=function(F){return new(F||S)(l.KVO(he.hE))}}static{this.\u0275prov=l.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const Ms=new l.nKC("",{providedIn:"root",factory:()=>({})});let ml=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275cmp=l.VBU({type:S,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(F,te){1&F&&l.nrm(0,"router-outlet")},dependencies:[ni],encapsulation:2})}}return S})();function Bo(S){const L=S.children&&S.children.map(Bo),R=L?{...S,children:L}:{...S};return!R.component&&!R.loadComponent&&(L||R.loadChildren)&&R.outlet&&R.outlet!==st&&(R.component=ml),R}const qa=new l.nKC("");let wl=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(R){if(this.componentLoaders.get(R))return this.componentLoaders.get(R);if(R._loadedComponent)return(0,G.of)(R._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(R);const F=ft(R.loadComponent()).pipe((0,Fe.T)(Oi),(0,Ke.M)(Ae=>{this.onLoadEndListener&&this.onLoadEndListener(R),R._loadedComponent=Ae}),(0,at.j)(()=>{this.componentLoaders.delete(R)})),te=new At(F,()=>new Pt.B).pipe(We());return this.componentLoaders.set(R,te),te}loadChildren(R,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,G.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const Ae=function ds(S,L,R,F){return ft(S.loadChildren()).pipe((0,Fe.T)(Oi),(0,H.Z)(te=>te instanceof l.Co$||Array.isArray(te)?(0,G.of)(te):(0,J.H)(L.compileModuleAsync(te))),(0,Fe.T)(te=>{F&&F(S);let Ae,Ye,rn=!1;return Array.isArray(te)?(Ye=te,!0):(Ae=te.create(R).injector,Ye=Ae.get(qa,[],{optional:!0,self:!0}).flat()),{routes:Ye.map(Bo),injector:Ae}}))}(F,this.compiler,R,this.onLoadEndListener).pipe((0,at.j)(()=>{this.childrenLoaders.delete(F)})),Ye=new At(Ae,()=>new Pt.B).pipe(We());return this.childrenLoaders.set(F,Ye),Ye}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=l.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function Oi(S){return function va(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Ds=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=l.jDH({token:S,factory:()=>(0,l.WQX)(Io),providedIn:"root"})}}return S})(),Io=(()=>{class S{shouldProcessUrl(R){return!0}extract(R){return R}merge(R,F){return R}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=l.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const ka=new l.nKC(""),La=new l.nKC("");function M(S,L,R){const F=S.get(La),te=S.get(ze.qQ);return S.get(l.SKi).runOutsideAngular(()=>{if(!te.startViewTransition||F.skipNextTransition)return F.skipNextTransition=!1,new Promise(Kn=>setTimeout(Kn));let Ae;const Ye=new Promise(Kn=>{Ae=Kn}),rn=te.startViewTransition(()=>(Ae(),function oe(S){return new Promise(L=>{(0,l.mal)({read:()=>setTimeout(L)},{injector:S})})}(S))),{onViewTransitionCreated:Lt}=F;return Lt&&(0,l.N4e)(S,()=>Lt({transition:rn,from:L,to:R})),Ye})}const B=new l.nKC("");let ne=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pt.B,this.transitionAbortSubject=new Pt.B,this.configLoader=(0,l.WQX)(wl),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(ur),this.rootContexts=(0,l.WQX)(C),this.location=(0,l.WQX)(ze.aZ),this.inputBindingEnabled=null!==(0,l.WQX)(si,{optional:!0}),this.titleStrategy=(0,l.WQX)(ma),this.options=(0,l.WQX)(Ms,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,l.WQX)(Ds),this.createViewTransition=(0,l.WQX)(ka,{optional:!0}),this.navigationErrorHandler=(0,l.WQX)(B,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,G.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=te=>this.events.next(new ye(te)),this.configLoader.onLoadStartListener=te=>this.events.next(new de(te))}complete(){this.transitions?.complete()}handleNavigationRequest(R){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...R,id:F})}setupNavigations(R,F,te){return this.transitions=new Re.t({id:0,currentUrlTree:F,currentRawUrl:F,extractedUrl:this.urlHandlingStrategy.extract(F),urlAfterRedirects:this.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ht,restoredState:null,currentSnapshot:te.snapshot,targetSnapshot:null,currentRouterState:te,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,bt.p)(Ae=>0!==Ae.id),(0,Fe.T)(Ae=>({...Ae,extractedUrl:this.urlHandlingStrategy.extract(Ae.rawUrl)})),(0,ot.n)(Ae=>{let Ye=!1,rn=!1;return(0,G.of)(Ae).pipe((0,ot.n)(Lt=>{if(this.navigationId>Ae.id)return this.cancelNavigationTransition(Ae,"",Hn.SupersededByNewNavigation),fe.w;this.currentTransition=Ae,this.currentNavigation={id:Lt.id,initialUrl:Lt.rawUrl,extractedUrl:Lt.extractedUrl,targetBrowserUrl:"string"==typeof Lt.extras.browserUrl?this.urlSerializer.parse(Lt.extras.browserUrl):Lt.extras.browserUrl,trigger:Lt.source,extras:Lt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Kn=!R.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Kn&&"reload"!==(Lt.extras.onSameUrlNavigation??R.onSameUrlNavigation)){const Jr="";return this.events.next(new In(Lt.id,this.urlSerializer.serialize(Lt.rawUrl),Jr,Lr.IgnoredSameUrlNavigation)),Lt.resolve(!1),fe.w}if(this.urlHandlingStrategy.shouldProcessUrl(Lt.rawUrl))return(0,G.of)(Lt).pipe((0,ot.n)(Jr=>{const ps=this.transitions?.getValue();return this.events.next(new St(Jr.id,this.urlSerializer.serialize(Jr.extractedUrl),Jr.source,Jr.restoredState)),ps!==this.transitions?.getValue()?fe.w:Promise.resolve(Jr)}),function ga(S,L,R,F,te,Ae){return(0,H.Z)(Ye=>function ro(S,L,R,F,te,Ae,Ye="emptyOnly"){return new uo(S,L,R,F,te,Ye,Ae).recognize()}(S,L,R,F,Ye.extractedUrl,te,Ae).pipe((0,Fe.T)(({state:rn,tree:Lt})=>({...Ye,targetSnapshot:rn,urlAfterRedirects:Lt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,R.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Ke.M)(Jr=>{Ae.targetSnapshot=Jr.targetSnapshot,Ae.urlAfterRedirects=Jr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Jr.urlAfterRedirects};const ps=new Tn(Jr.id,this.urlSerializer.serialize(Jr.extractedUrl),this.urlSerializer.serialize(Jr.urlAfterRedirects),Jr.targetSnapshot);this.events.next(ps)}));if(Kn&&this.urlHandlingStrategy.shouldProcessUrl(Lt.currentRawUrl)){const{id:Jr,extractedUrl:ps,source:aa,restoredState:oi,extras:Ho}=Lt,Po=new St(Jr,this.urlSerializer.serialize(ps),aa,oi);this.events.next(Po);const Fa=dn(this.rootComponentType).snapshot;return this.currentTransition=Ae={...Lt,targetSnapshot:Fa,urlAfterRedirects:ps,extras:{...Ho,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ps,(0,G.of)(Ae)}{const Jr="";return this.events.next(new In(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),Jr,Lr.IgnoredByUrlHandlingStrategy)),Lt.resolve(!1),fe.w}}),(0,Ke.M)(Lt=>{const Kn=new Vt(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),this.urlSerializer.serialize(Lt.urlAfterRedirects),Lt.targetSnapshot);this.events.next(Kn)}),(0,Fe.T)(Lt=>(this.currentTransition=Ae={...Lt,guards:to(Lt.targetSnapshot,Lt.currentSnapshot,this.rootContexts)},Ae)),function Ce(S,L){return(0,H.Z)(R=>{const{targetSnapshot:F,currentSnapshot:te,guards:{canActivateChecks:Ae,canDeactivateChecks:Ye}}=R;return 0===Ye.length&&0===Ae.length?(0,G.of)({...R,guardsResult:!0}):function _t(S,L,R,F){return(0,J.H)(S).pipe((0,H.Z)(te=>function Xl(S,L,R,F,te){const Ae=L&&L.routeConfig?L.routeConfig.canDeactivate:null;if(!Ae||0===Ae.length)return(0,G.of)(!0);const Ye=Ae.map(rn=>{const Lt=Js(L)??te,Kn=js(rn,Lt);return ft(function Kl(S){return S&&Fo(S.canDeactivate)}(Kn)?Kn.canDeactivate(S,L,R,F):(0,l.N4e)(Lt,()=>Kn(S,L,R,F))).pipe((0,He.$)())});return(0,G.of)(Ye).pipe(ee())}(te.component,te.route,R,L,F)),(0,He.$)(te=>!0!==te,!0))}(Ye,F,te,S).pipe((0,H.Z)(rn=>rn&&function Wc(S){return"boolean"==typeof S}(rn)?function Nr(S,L,R,F){return(0,J.H)(L).pipe((0,wt.H)(te=>(0,be.x)(function Ui(S,L){return null!==S&&L&&L(new ut(S)),(0,G.of)(!0)}(te.route.parent,F),function Qr(S,L){return null!==S&&L&&L(new bn(S)),(0,G.of)(!0)}(te.route,F),function vo(S,L,R){const F=L[L.length-1],Ae=L.slice(0,L.length-1).reverse().map(Ye=>function za(S){const L=S.routeConfig?S.routeConfig.canActivateChild:null;return L&&0!==L.length?{node:S,guards:L}:null}(Ye)).filter(Ye=>null!==Ye).map(Ye=>(0,ve.v)(()=>{const rn=Ye.guards.map(Lt=>{const Kn=Js(Ye.node)??R,Br=js(Lt,Kn);return ft(function Gl(S){return S&&Fo(S.canActivateChild)}(Br)?Br.canActivateChild(F,S):(0,l.N4e)(Kn,()=>Br(F,S))).pipe((0,He.$)())});return(0,G.of)(rn).pipe(ee())}));return(0,G.of)(Ae).pipe(ee())}(S,te.path,R),function Vo(S,L,R){const F=L.routeConfig?L.routeConfig.canActivate:null;if(!F||0===F.length)return(0,G.of)(!0);const te=F.map(Ae=>(0,ve.v)(()=>{const Ye=Js(L)??R,rn=js(Ae,Ye);return ft(function Na(S){return S&&Fo(S.canActivate)}(rn)?rn.canActivate(L,S):(0,l.N4e)(Ye,()=>rn(L,S))).pipe((0,He.$)())}));return(0,G.of)(te).pipe(ee())}(S,te.route,R))),(0,He.$)(te=>!0!==te,!0))}(F,Ae,S,L):(0,G.of)(rn)),(0,Fe.T)(rn=>({...R,guardsResult:rn})))})}(this.environmentInjector,Lt=>this.events.next(Lt)),(0,Ke.M)(Lt=>{if(Ae.guardsResult=Lt.guardsResult,Lt.guardsResult&&"boolean"!=typeof Lt.guardsResult)throw is(0,Lt.guardsResult);const Kn=new Kt(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),this.urlSerializer.serialize(Lt.urlAfterRedirects),Lt.targetSnapshot,!!Lt.guardsResult);this.events.next(Kn)}),(0,bt.p)(Lt=>!!Lt.guardsResult||(this.cancelNavigationTransition(Lt,"",Hn.GuardRejected),!1)),Ro(Lt=>{if(Lt.guards.canActivateChecks.length)return(0,G.of)(Lt).pipe((0,Ke.M)(Kn=>{const Br=new xr(Kn.id,this.urlSerializer.serialize(Kn.extractedUrl),this.urlSerializer.serialize(Kn.urlAfterRedirects),Kn.targetSnapshot);this.events.next(Br)}),(0,ot.n)(Kn=>{let Br=!1;return(0,G.of)(Kn).pipe(function na(S,L){return(0,H.Z)(R=>{const{targetSnapshot:F,guards:{canActivateChecks:te}}=R;if(!te.length)return(0,G.of)(R);const Ae=new Set(te.map(Lt=>Lt.route)),Ye=new Set;for(const Lt of Ae)if(!Ye.has(Lt))for(const Kn of ra(Lt))Ye.add(Kn);let rn=0;return(0,J.H)(Ye).pipe((0,wt.H)(Lt=>Ae.has(Lt)?function Ka(S,L,R,F){const te=S.routeConfig,Ae=S._resolve;return void 0!==te?.title&&!Xr(te)&&(Ae[Nt]=te.title),function Xa(S,L,R,F){const te=Nn(S);if(0===te.length)return(0,G.of)({});const Ae={};return(0,J.H)(te).pipe((0,H.Z)(Ye=>function ms(S,L,R,F){const te=Js(L)??F,Ae=js(S,te);return ft(Ae.resolve?Ae.resolve(L,R):(0,l.N4e)(te,()=>Ae(L,R)))}(S[Ye],L,R,F).pipe((0,He.$)(),(0,Ke.M)(rn=>{if(rn instanceof Jo)throw is(new ci,rn);Ae[Ye]=rn}))),De(1),function Pe(S){return(0,Fe.T)(()=>S)}(Ae),kt(Ye=>Ao(Ye)?fe.w:xe(Ye)))}(Ae,S,L,F).pipe((0,Fe.T)(Ye=>(S._resolvedData=Ye,S.data=$n(S,S.parent,R).resolve,null)))}(Lt,F,S,L):(Lt.data=$n(Lt,Lt.parent,S).resolve,(0,G.of)(void 0))),(0,Ke.M)(()=>rn++),De(1),(0,H.Z)(Lt=>rn===Ye.size?(0,G.of)(R):fe.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Ke.M)({next:()=>Br=!0,complete:()=>{Br||this.cancelNavigationTransition(Kn,"",Hn.NoDataFromResolver)}}))}),(0,Ke.M)(Kn=>{const Br=new Qi(Kn.id,this.urlSerializer.serialize(Kn.extractedUrl),this.urlSerializer.serialize(Kn.urlAfterRedirects),Kn.targetSnapshot);this.events.next(Br)}))}),Ro(Lt=>{const Kn=Br=>{const Jr=[];Br.routeConfig?.loadComponent&&!Br.routeConfig._loadedComponent&&Jr.push(this.configLoader.loadComponent(Br.routeConfig).pipe((0,Ke.M)(ps=>{Br.component=ps}),(0,Fe.T)(()=>{})));for(const ps of Br.children)Jr.push(...Kn(ps));return Jr};return(0,we.z)(Kn(Lt.targetSnapshot.root)).pipe((0,tt.U)(null),(0,qe.s)(1))}),Ro(()=>this.afterPreactivation()),(0,ot.n)(()=>{const{currentSnapshot:Lt,targetSnapshot:Kn}=Ae,Br=this.createViewTransition?.(this.environmentInjector,Lt.root,Kn.root);return Br?(0,J.H)(Br).pipe((0,Fe.T)(()=>Ae)):(0,G.of)(Ae)}),(0,Fe.T)(Lt=>{const Kn=function Yo(S,L,R){const F=zs(S,L._root,R?R._root:void 0);return new zt(F,L)}(R.routeReuseStrategy,Lt.targetSnapshot,Lt.currentRouterState);return this.currentTransition=Ae={...Lt,targetRouterState:Kn},this.currentNavigation.targetRouterState=Kn,Ae}),(0,Ke.M)(()=>{this.events.next(new Ar)}),((S,L,R,F)=>(0,Fe.T)(te=>(new Tr(L,te.targetRouterState,te.currentRouterState,R,F).activate(S),te)))(this.rootContexts,R.routeReuseStrategy,Lt=>this.events.next(Lt),this.inputBindingEnabled),(0,qe.s)(1),(0,Ke.M)({next:Lt=>{Ye=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gn(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),this.urlSerializer.serialize(Lt.urlAfterRedirects))),this.titleStrategy?.updateTitle(Lt.targetRouterState.snapshot),Lt.resolve(!0)},complete:()=>{Ye=!0}}),function Se(S){return(0,yt.N)((L,R)=>{(0,Mt.Tg)(S).subscribe((0,it._)(R,()=>R.complete(),Xe.l)),!R.closed&&L.subscribe(R)})}(this.transitionAbortSubject.pipe((0,Ke.M)(Lt=>{throw Lt}))),(0,at.j)(()=>{!Ye&&!rn&&this.cancelNavigationTransition(Ae,"",Hn.SupersededByNewNavigation),this.currentTransition?.id===Ae.id&&(this.currentNavigation=null,this.currentTransition=null)}),kt(Lt=>{if(rn=!0,Zo(Lt))this.events.next(new Mn(Ae.id,this.urlSerializer.serialize(Ae.extractedUrl),Lt.message,Lt.cancellationCode)),function Gs(S){return Zo(S)&&ri(S.url)}(Lt)?this.events.next(new xn(Lt.url,Lt.navigationBehaviorOptions)):Ae.resolve(!1);else{const Kn=new _i(Ae.id,this.urlSerializer.serialize(Ae.extractedUrl),Lt,Ae.targetSnapshot??void 0);try{const Br=(0,l.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Kn));if(Br instanceof Jo){const{message:Jr,cancellationCode:ps}=is(0,Br);this.events.next(new Mn(Ae.id,this.urlSerializer.serialize(Ae.extractedUrl),Jr,ps)),this.events.next(new xn(Br.redirectTo,Br.navigationBehaviorOptions))}else{this.events.next(Kn);const Jr=R.errorHandler(Lt);Ae.resolve(!!Jr)}}catch(Br){this.options.resolveNavigationPromiseOnError?Ae.resolve(!1):Ae.reject(Br)}}return fe.w}))}))}cancelNavigationTransition(R,F,te){const Ae=new Mn(R.id,this.urlSerializer.serialize(R.extractedUrl),F,te);this.events.next(Ae),R.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const R=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),F=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return R.toString()!==F?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=l.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function et(S){return S!==Ht}let an=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=l.jDH({token:S,factory:()=>(0,l.WQX)(fr),providedIn:"root"})}}return S})();class yn{shouldDetach(L){return!1}store(L,R){}shouldAttach(L){return!1}retrieve(L){return null}shouldReuseRoute(L,R){return L.routeConfig===R.routeConfig}}let fr=(()=>{class S extends yn{static{this.\u0275fac=(()=>{let R;return function(te){return(R||(R=l.xGo(S)))(te||S)}})()}static{this.\u0275prov=l.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),Ti=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=l.jDH({token:S,factory:()=>(0,l.WQX)(ss),providedIn:"root"})}}return S})(),ss=(()=>{class S extends Ti{constructor(){super(...arguments),this.location=(0,l.WQX)(ze.aZ),this.urlSerializer=(0,l.WQX)(ur),this.options=(0,l.WQX)(Ms,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,l.WQX)(Ds),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new sr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=dn(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(R){return this.location.subscribe(F=>{"popstate"===F.type&&R(F.url,F.state)})}handleRouterEvent(R,F){if(R instanceof St)this.stateMemento=this.createStateMemento();else if(R instanceof In)this.rawUrlTree=F.initialUrl;else if(R instanceof Tn){if("eager"===this.urlUpdateStrategy&&!F.extras.skipLocationChange){const te=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl);this.setBrowserUrl(F.targetBrowserUrl??te,F)}}else R instanceof Ar?(this.currentUrlTree=F.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&!F.extras.skipLocationChange&&this.setBrowserUrl(F.targetBrowserUrl??this.rawUrlTree,F)):R instanceof Mn&&(R.code===Hn.GuardRejected||R.code===Hn.NoDataFromResolver)?this.restoreHistory(F):R instanceof _i?this.restoreHistory(F,!0):R instanceof Gn&&(this.lastSuccessfulId=R.id,this.currentPageId=this.browserPageId)}setBrowserUrl(R,F){const te=R instanceof sr?this.urlSerializer.serialize(R):R;if(this.location.isCurrentPathEqualTo(te)||F.extras.replaceUrl){const Ye={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(te,"",Ye)}else{const Ae={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(te,"",Ae)}}restoreHistory(R,F=!1){if("computed"===this.canceledNavigationResolution){const Ae=this.currentPageId-this.browserPageId;0!==Ae?this.location.historyGo(Ae):this.currentUrlTree===R.finalUrl&&0===Ae&&(this.resetState(R),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(R),this.resetUrlToCurrentUrlTree())}resetState(R){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,R.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(R,F){return"computed"===this.canceledNavigationResolution?{navigationId:R,\u0275routerPageId:F}:{navigationId:R}}static{this.\u0275fac=(()=>{let R;return function(te){return(R||(R=l.xGo(S)))(te||S)}})()}static{this.\u0275prov=l.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();var Fi=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(Fi||{});function fi(S,L){S.events.pipe((0,bt.p)(R=>R instanceof Gn||R instanceof Mn||R instanceof _i||R instanceof In),(0,Fe.T)(R=>R instanceof Gn||R instanceof In?Fi.COMPLETE:R instanceof Mn&&(R.code===Hn.Redirect||R.code===Hn.SupersededByNewNavigation)?Fi.REDIRECTING:Fi.FAILED),(0,bt.p)(R=>R!==Fi.REDIRECTING),(0,qe.s)(1)).subscribe(()=>{L()})}function cs(S){throw S}const Vr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let or=(()=>{class S{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,l.WQX)(l.H3F),this.stateManager=(0,l.WQX)(Ti),this.options=(0,l.WQX)(Ms,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,l.WQX)(ne),this.urlSerializer=(0,l.WQX)(ur),this.location=(0,l.WQX)(ze.aZ),this.urlHandlingStrategy=(0,l.WQX)(Ds),this._events=new Pt.B,this.errorHandler=this.options.errorHandler||cs,this.navigated=!1,this.routeReuseStrategy=(0,l.WQX)(an),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,l.WQX)(qa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,l.WQX)(si,{optional:!0}),this.eventsSubscription=new rt.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:R=>{this.console.warn(R)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const R=this.navigationTransitions.events.subscribe(F=>{try{const te=this.navigationTransitions.currentTransition,Ae=this.navigationTransitions.currentNavigation;if(null!==te&&null!==Ae)if(this.stateManager.handleRouterEvent(F,Ae),F instanceof Mn&&F.code!==Hn.Redirect&&F.code!==Hn.SupersededByNewNavigation)this.navigated=!0;else if(F instanceof Gn)this.navigated=!0;else if(F instanceof xn){const Ye=F.navigationBehaviorOptions,rn=this.urlHandlingStrategy.merge(F.url,te.currentRawUrl),Lt={browserUrl:te.extras.browserUrl,info:te.extras.info,skipLocationChange:te.extras.skipLocationChange,replaceUrl:te.extras.replaceUrl||"eager"===this.urlUpdateStrategy||et(te.source),...Ye};this.scheduleNavigation(rn,Ht,null,Lt,{resolve:te.resolve,reject:te.reject,promise:te.promise})}(function ys(S){return!(S instanceof Ar||S instanceof xn)})(F)&&this._events.next(F)}catch(te){this.navigationTransitions.transitionAbortSubject.next(te)}});this.eventsSubscription.add(R)}resetRootComponentType(R){this.routerState.root.component=R,this.navigationTransitions.rootComponentType=R}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ht,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((R,F)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(R,"popstate",F)},0)})}navigateToSyncWithBrowser(R,F,te){const Ae={replaceUrl:!0},Ye=te?.navigationId?te:null;if(te){const Lt={...te};delete Lt.navigationId,delete Lt.\u0275routerPageId,0!==Object.keys(Lt).length&&(Ae.state=Lt)}const rn=this.parseUrl(R);this.scheduleNavigation(rn,F,Ye,Ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(R){this.config=R.map(Bo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(R,F={}){const{relativeTo:te,queryParams:Ae,fragment:Ye,queryParamsHandling:rn,preserveFragment:Lt}=F,Kn=Lt?this.currentUrlTree.fragment:Ye;let Jr,Br=null;switch(rn??this.options.defaultQueryParamsHandling){case"merge":Br={...this.currentUrlTree.queryParams,...Ae};break;case"preserve":Br=this.currentUrlTree.queryParams;break;default:Br=Ae||null}null!==Br&&(Br=this.removeEmptyProps(Br));try{Jr=wr(te?te.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof R[0]||"/"!==R[0][0])&&(R=[]),Jr=this.currentUrlTree.root}return Gi(Jr,R,Br,Kn??null)}navigateByUrl(R,F={skipLocationChange:!1}){const te=ri(R)?R:this.parseUrl(R),Ae=this.urlHandlingStrategy.merge(te,this.rawUrlTree);return this.scheduleNavigation(Ae,Ht,null,F)}navigate(R,F={skipLocationChange:!1}){return function vi(S){for(let L=0;L<S.length;L++)if(null==S[L])throw new l.wOt(4008,!1)}(R),this.navigateByUrl(this.createUrlTree(R,F),F)}serializeUrl(R){return this.urlSerializer.serialize(R)}parseUrl(R){try{return this.urlSerializer.parse(R)}catch{return this.urlSerializer.parse("/")}}isActive(R,F){let te;if(te=!0===F?{...Vr}:!1===F?{...Rn}:F,ri(R))return On(this.currentUrlTree,R,te);const Ae=this.parseUrl(R);return On(this.currentUrlTree,Ae,te)}removeEmptyProps(R){return Object.entries(R).reduce((F,[te,Ae])=>(null!=Ae&&(F[te]=Ae),F),{})}scheduleNavigation(R,F,te,Ae,Ye){if(this.disposed)return Promise.resolve(!1);let rn,Lt,Kn;Ye?(rn=Ye.resolve,Lt=Ye.reject,Kn=Ye.promise):Kn=new Promise((Jr,ps)=>{rn=Jr,Lt=ps});const Br=this.pendingTasks.add();return fi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Br))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:te,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:R,extras:Ae,resolve:rn,reject:Lt,promise:Kn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Kn.catch(Jr=>Promise.reject(Jr))}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=l.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),Bi=(()=>{class S{constructor(R,F,te,Ae,Ye,rn){this.router=R,this.route=F,this.tabIndexAttribute=te,this.renderer=Ae,this.el=Ye,this.locationStrategy=rn,this.href=null,this.onChanges=new Pt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Lt=Ye.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Lt||"area"===Lt,this.isAnchorElement?this.subscription=R.events.subscribe(Kn=>{Kn instanceof Gn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(R){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",R)}ngOnChanges(R){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(R){null==R?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=ri(R)||Array.isArray(R)?R:[R],this.setTabIndexIfNotOnNativeEl("0"))}onClick(R,F,te,Ae,Ye){const rn=this.urlTree;return!!(null===rn||this.isAnchorElement&&(0!==R||F||te||Ae||Ye||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(rn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const R=this.urlTree;this.href=null!==R&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(R)):null;const F=null===this.href?null:(0,l.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",F)}applyAttributeValue(R,F){const te=this.renderer,Ae=this.el.nativeElement;null!==F?te.setAttribute(Ae,R,F):te.removeAttribute(Ae,R)}get urlTree(){return null===this.routerLinkInput?null:ri(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(F){return new(F||S)(l.rXU(or),l.rXU(mn),l.kS0("tabindex"),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(ze.hb))}}static{this.\u0275dir=l.FsC({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(F,te){1&F&&l.bIt("click",function(Ye){return te.onClick(Ye.button,Ye.ctrlKey,Ye.shiftKey,Ye.altKey,Ye.metaKey)}),2&F&&l.BMQ("target",te.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",l.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",l.L39],replaceUrl:[2,"replaceUrl","replaceUrl",l.L39],routerLink:"routerLink"},standalone:!0,features:[l.GFd,l.OA$]})}}return S})();class Ci{}let Hi=(()=>{class S{preload(R,F){return F().pipe(kt(()=>(0,G.of)(null)))}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=l.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),Ur=(()=>{class S{constructor(R,F,te,Ae,Ye){this.router=R,this.injector=te,this.preloadingStrategy=Ae,this.loader=Ye}setUpPreloading(){this.subscription=this.router.events.pipe((0,bt.p)(R=>R instanceof Gn),(0,wt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(R,F){const te=[];for(const Ae of F){Ae.providers&&!Ae._injector&&(Ae._injector=(0,l.Ol2)(Ae.providers,R,`Route: ${Ae.path}`));const Ye=Ae._injector??R,rn=Ae._loadedInjector??Ye;(Ae.loadChildren&&!Ae._loadedRoutes&&void 0===Ae.canLoad||Ae.loadComponent&&!Ae._loadedComponent)&&te.push(this.preloadConfig(Ye,Ae)),(Ae.children||Ae._loadedRoutes)&&te.push(this.processRoutes(rn,Ae.children??Ae._loadedRoutes))}return(0,J.H)(te).pipe((0,Tt.U)())}preloadConfig(R,F){return this.preloadingStrategy.preload(F,()=>{let te;te=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(R,F):(0,G.of)(null);const Ae=te.pipe((0,H.Z)(Ye=>null===Ye?(0,G.of)(void 0):(F._loadedRoutes=Ye.routes,F._loadedInjector=Ye.injector,this.processRoutes(Ye.injector??R,Ye.routes))));if(F.loadComponent&&!F._loadedComponent){const Ye=this.loader.loadComponent(F);return(0,J.H)([Ae,Ye]).pipe((0,Tt.U)())}return Ae})}static{this.\u0275fac=function(F){return new(F||S)(l.KVO(or),l.KVO(l.Ql9),l.KVO(l.uvJ),l.KVO(Ci),l.KVO(wl))}}static{this.\u0275prov=l.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const $o=new l.nKC("");let ql=(()=>{class S{constructor(R,F,te,Ae,Ye={}){this.urlSerializer=R,this.transitions=F,this.viewportScroller=te,this.zone=Ae,this.options=Ye,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ye.scrollPositionRestoration||="disabled",Ye.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof St?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=R.navigationTrigger,this.restoredId=R.restoredState?R.restoredState.navigationId:0):R instanceof Gn?(this.lastId=R.id,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.urlAfterRedirects).fragment)):R instanceof In&&R.code===Lr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof rr&&(R.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(R.position):R.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(R.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(R,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rr(R,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(F){l.QTQ()}}static{this.\u0275prov=l.jDH({token:S,factory:S.\u0275fac})}}return S})();function oo(S,L){return{\u0275kind:S,\u0275providers:L}}function $i(){const S=(0,l.WQX)(l.zZn);return L=>{const R=S.get(l.o8S);if(L!==R.components[0])return;const F=S.get(or),te=S.get(Ql);1===S.get(fo)&&F.initialNavigation(),S.get(ia,null,l.$GK.Optional)?.setUpPreloading(),S.get($o,null,l.$GK.Optional)?.init(),F.resetRootComponentType(R.componentTypes[0]),te.closed||(te.next(),te.complete(),te.unsubscribe())}}const Ql=new l.nKC("",{factory:()=>new Pt.B}),fo=new l.nKC("",{providedIn:"root",factory:()=>1}),ia=new l.nKC("");function ya(S){return oo(0,[{provide:ia,useExisting:Ur},{provide:Ci,useExisting:S}])}function hs(S){return oo(9,[{provide:ka,useValue:M},{provide:La,useValue:{skipNextTransition:!!S?.skipInitialTransition,...S}}])}const fs=new l.nKC("ROUTER_FORROOT_GUARD"),Jl=[ze.aZ,{provide:ur,useClass:ci},or,C,{provide:mn,useFactory:function ki(S){return S.routerState.root},deps:[or]},wl,[]];let Os=(()=>{class S{constructor(R){}static forRoot(R,F){return{ngModule:S,providers:[Jl,[],{provide:qa,multi:!0,useValue:R},{provide:fs,useFactory:vl,deps:[[or,new l.Xx1,new l.kdw]]},{provide:Ms,useValue:F||{}},F?.useHash?{provide:ze.hb,useClass:ze.fw}:{provide:ze.hb,useClass:ze.Sm},{provide:$o,useFactory:()=>{const S=(0,l.WQX)(ze.Xr),L=(0,l.WQX)(l.SKi),R=(0,l.WQX)(Ms),F=(0,l.WQX)(ne),te=(0,l.WQX)(ur);return R.scrollOffset&&S.setOffset(R.scrollOffset),new ql(te,F,S,L,R)}},F?.preloadingStrategy?ya(F.preloadingStrategy).\u0275providers:[],F?.initialNavigation?Kc(F):[],F?.bindToComponentInputs?oo(8,[mo,{provide:si,useExisting:mo}]).\u0275providers:[],F?.enableViewTransitions?hs().\u0275providers:[],[{provide:Xc,useFactory:$i},{provide:l.iLQ,multi:!0,useExisting:Xc}]]}}static forChild(R){return{ngModule:S,providers:[{provide:qa,multi:!0,useValue:R}]}}static{this.\u0275fac=function(F){return new(F||S)(l.KVO(fs,8))}}static{this.\u0275mod=l.$C({type:S})}static{this.\u0275inj=l.G2t({})}}return S})();function vl(S){return"guarded"}function Kc(S){return["disabled"===S.initialNavigation?oo(3,[{provide:l.hnV,multi:!0,useFactory:()=>{const L=(0,l.WQX)(or);return()=>{L.setUpLocationChangeListener()}}},{provide:fo,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?oo(2,[{provide:fo,useValue:0},{provide:l.hnV,multi:!0,deps:[l.zZn],useFactory:L=>{const R=L.get(ze.hj,Promise.resolve());return()=>R.then(()=>new Promise(F=>{const te=L.get(or),Ae=L.get(Ql);fi(te,()=>{F(!0)}),L.get(ne).afterPreactivation=()=>(F(!0),Ae.closed?(0,G.of)(void 0):Ae),te.initialNavigation()}))}}]).\u0275providers:[]]}const Xc=new l.nKC("")},2872:(En,ht,N)=>{"use strict";N.d(ht,{Yq:()=>ft,TS:()=>kn,sR:()=>Nn,el:()=>Gr,Sb:()=>ci,QE:()=>ri,CF:()=>Ir,Rg:()=>Ge,p4:()=>Pi,jM:()=>mi,q9:()=>xt,Kb:()=>Wt,OD:()=>he,CE:()=>ai,pF:()=>kr,fL:()=>Gi,YV:()=>Ot,er:()=>wr,z3:()=>Kr});var l=N(467),U=N(4438),J=N(6822),G=N(177),Re=N(5531),we=N(4442);var Ke=N(1413),Mt=N(3726),kt=N(4412),un=N(4572),tt=N(7673),De=N(1635),Ie=N(5964),Me=N(5558),ce=N(3294),Pe=N(9417);const at=["tabsInner"];let he=(()=>{class ae{doc;_readyPromise;win;backButton=new Ke.B;keyboardDidShow=new Ke.B;keyboardDidHide=new Ke.B;pause=new Ke.B;resume=new Ke.B;resize=new Ke.B;constructor(ie,Y){this.doc=ie,Y.run(()=>{let Ve;this.win=ie.defaultView,this.backButton.subscribeWithPriority=function(gt,ln){return this.subscribe(Yt=>Yt.register(gt,pe=>Y.run(()=>ln(pe))))},Nt(this.pause,ie,"pause",Y),Nt(this.resume,ie,"resume",Y),Nt(this.backButton,ie,"ionBackButton",Y),Nt(this.resize,this.win,"resize",Y),Nt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",Y),Nt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",Y),this._readyPromise=new Promise(gt=>{Ve=gt}),this.win?.cordova?ie.addEventListener("deviceready",()=>{Ve("cordova")},{once:!0}):Ve("dom")})}is(ie){return(0,Re.a)(this.win,ie)}platforms(){return(0,Re.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(ie){return st(this.win.location.href,ie)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(ie){const Y=this.win.navigator;return!!(Y?.userAgent&&Y.userAgent.indexOf(ie)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}static \u0275fac=function(Y){return new(Y||ae)(U.KVO(G.qQ),U.KVO(U.SKi))};static \u0275prov=U.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const st=(ae,_e)=>{_e=_e.replace(/[[\]\\]/g,"\\$&");const Y=new RegExp("[\\?&]"+_e+"=([^&#]*)").exec(ae);return Y?decodeURIComponent(Y[1].replace(/\+/g," ")):null},Nt=(ae,_e,ie,Y)=>{_e&&_e.addEventListener(ie,Ve=>{Y.run(()=>{const gt=Ve?.detail;ae.next(gt)})})};let xt=(()=>{class ae{location;serializer;router;topOutlet;direction=Ln;animated=qn;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(ie,Y,Ve,gt){this.location=Y,this.serializer=Ve,this.router=gt,gt&&gt.events.subscribe(ln=>{if(ln instanceof J.Z){const Yt=ln.restoredState?ln.restoredState.navigationId:ln.id;this.guessDirection=this.guessAnimation=Yt<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?ln.id:Yt}}),ie.backButton.subscribeWithPriority(0,ln=>{this.pop(),ln()})}navigateForward(ie,Y={}){return this.setDirection("forward",Y.animated,Y.animationDirection,Y.animation),this.navigate(ie,Y)}navigateBack(ie,Y={}){return this.setDirection("back",Y.animated,Y.animationDirection,Y.animation),this.navigate(ie,Y)}navigateRoot(ie,Y={}){return this.setDirection("root",Y.animated,Y.animationDirection,Y.animation),this.navigate(ie,Y)}back(ie={animated:!0,animationDirection:"back"}){return this.setDirection("back",ie.animated,ie.animationDirection,ie.animation),this.location.back()}pop(){var ie=this;return(0,l.A)(function*(){let Y=ie.topOutlet;for(;Y;){if(yield Y.pop())return!0;Y=Y.parentOutlet}return!1})()}setDirection(ie,Y,Ve,gt){this.direction=ie,this.animated=hn(ie,Y,Ve),this.animationBuilder=gt}setTopOutlet(ie){this.topOutlet=ie}consumeTransition(){let Y,ie="root";const Ve=this.animationBuilder;return"auto"===this.direction?(ie=this.guessDirection,Y=this.guessAnimation):(Y=this.animated,ie=this.direction),this.direction=Ln,this.animated=qn,this.animationBuilder=void 0,{direction:ie,animation:Y,animationBuilder:Ve}}navigate(ie,Y){if(Array.isArray(ie))return this.router.navigate(ie,Y);{const Ve=this.serializer.parse(ie.toString());return void 0!==Y.queryParams&&(Ve.queryParams={...Y.queryParams}),void 0!==Y.fragment&&(Ve.fragment=Y.fragment),this.router.navigateByUrl(Ve,Y)}}static \u0275fac=function(Y){return new(Y||ae)(U.KVO(he),U.KVO(G.aZ),U.KVO(J.Sd),U.KVO(J.Ix,8))};static \u0275prov=U.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const hn=(ae,_e,ie)=>{if(!1!==_e){if(void 0!==ie)return ie;if("forward"===ae||"back"===ae)return ae;if("root"===ae&&!0===_e)return"forward"}},Ln="auto",qn=void 0;let kn=(()=>{class ae{get(ie,Y){const Ve=zn();return Ve?Ve.get(ie,Y):null}getBoolean(ie,Y){const Ve=zn();return!!Ve&&Ve.getBoolean(ie,Y)}getNumber(ie,Y){const Ve=zn();return Ve?Ve.getNumber(ie,Y):0}static \u0275fac=function(Y){return new(Y||ae)};static \u0275prov=U.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const Nn=new U.nKC("USERCONFIG"),zn=()=>{if(typeof window<"u"){const ae=window.Ionic;if(ae?.config)return ae.config}return null};class Yn{data;constructor(_e={}){this.data=_e,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(_e){return this.data[_e]}}let ft=(()=>{class ae{zone=(0,U.WQX)(U.SKi);applicationRef=(0,U.WQX)(U.o8S);config=(0,U.WQX)(Nn);create(ie,Y,Ve){return new Xt(ie,Y,this.applicationRef,this.zone,Ve,this.config.useSetInputAPI??!1)}static \u0275fac=function(Y){return new(Y||ae)};static \u0275prov=U.jDH({token:ae,factory:ae.\u0275fac})}return ae})();class Xt{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(_e,ie,Y,Ve,gt,ln){this.environmentInjector=_e,this.injector=ie,this.applicationRef=Y,this.zone=Ve,this.elementReferenceKey=gt,this.enableSignalsSupport=ln}attachViewToDom(_e,ie,Y,Ve){return this.zone.run(()=>new Promise(gt=>{const ln={...Y};void 0!==this.elementReferenceKey&&(ln[this.elementReferenceKey]=_e),gt(jt(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,_e,ie,ln,Ve,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(_e,ie){return this.zone.run(()=>new Promise(Y=>{const Ve=this.elRefMap.get(ie);if(Ve){Ve.destroy(),this.elRefMap.delete(ie);const gt=this.elEventsMap.get(ie);gt&&(gt(),this.elEventsMap.delete(ie))}Y()}))}}const jt=(ae,_e,ie,Y,Ve,gt,ln,Yt,pe,Oe,Je,Ht)=>{const Gt=U.zZn.create({providers:tr(pe),parent:ie}),_n=(0,U.a0P)(Yt,{environmentInjector:_e,elementInjector:Gt}),St=_n.instance,Gn=_n.location.nativeElement;if(pe)if(Je&&void 0!==St[Je]&&console.error(`[Ionic Error]: ${Je} is a reserved property when using ${ln.tagName.toLowerCase()}. Rename or remove the "${Je}" property from ${Yt.name}.`),!0===Ht&&void 0!==_n.setInput){const{modal:Lr,popover:Mn,...In}=pe;for(const _i in In)_n.setInput(_i,In[_i]);void 0!==Lr&&Object.assign(St,{modal:Lr}),void 0!==Mn&&Object.assign(St,{popover:Mn})}else Object.assign(St,pe);if(Oe)for(const Lr of Oe)Gn.classList.add(Lr);const Hn=br(ae,St,Gn);return ln.appendChild(Gn),Y.attachView(_n.hostView),Ve.set(Gn,_n),gt.set(Gn,Hn),Gn},On=[we.L,we.a,we.b,we.c,we.d],br=(ae,_e,ie)=>ae.run(()=>{const Y=On.filter(Ve=>"function"==typeof _e[Ve]).map(Ve=>{const gt=ln=>_e[Ve](ln.detail);return ie.addEventListener(Ve,gt),()=>ie.removeEventListener(Ve,gt)});return()=>Y.forEach(Ve=>Ve())}),er=new U.nKC("NavParamsToken"),tr=ae=>[{provide:er,useValue:ae},{provide:Yn,useFactory:Xn,deps:[er]}],Xn=ae=>new Yn(ae),Dr=(ae,_e)=>{const ie=ae.prototype;_e.forEach(Y=>{Object.defineProperty(ie,Y,{get(){return this.el[Y]},set(Ve){this.z.runOutsideAngular(()=>this.el[Y]=Ve)}})})},Mr=(ae,_e)=>{const ie=ae.prototype;_e.forEach(Y=>{ie[Y]=function(){const Ve=arguments;return this.z.runOutsideAngular(()=>this.el[Y].apply(this.el,Ve))}})},sr=(ae,_e,ie)=>{ie.forEach(Y=>ae[Y]=(0,Mt.R)(_e,Y))};function cr(ae){return function(ie){const{defineCustomElementFn:Y,inputs:Ve,methods:gt}=ae;return void 0!==Y&&Y(),Ve&&Dr(ie,Ve),gt&&Mr(ie,gt),ie}}const Or=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Hr=["present","dismiss","onDidDismiss","onWillDismiss"];let Ir=(()=>{let ae=class vC{z;template;isCmpOpen=!1;el;constructor(ie,Y,Ve){this.z=Ve,this.el=Y.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ie.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ie.detectChanges()}),sr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(Y){return new(Y||vC)(U.rXU(U.gRc),U.rXU(U.aKT),U.rXU(U.SKi))};static \u0275dir=U.FsC({type:vC,selectors:[["ion-popover"]],contentQueries:function(Y,Ve,gt){if(1&Y&&U.wni(gt,U.C4Q,5),2&Y){let ln;U.mGM(ln=U.lsd())&&(Ve.template=ln.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})};return ae=(0,De.Cg)([cr({inputs:Or,methods:Hr})],ae),ae})();const vr=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","expandToScroll","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],ur=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let ci=(()=>{let ae=class _C{z;template;isCmpOpen=!1;el;constructor(ie,Y,Ve){this.z=Ve,this.el=Y.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ie.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ie.detectChanges()}),sr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(Y){return new(Y||_C)(U.rXU(U.gRc),U.rXU(U.aKT),U.rXU(U.SKi))};static \u0275dir=U.FsC({type:_C,selectors:[["ion-modal"]],contentQueries:function(Y,Ve,gt){if(1&Y&&U.wni(gt,U.C4Q,5),2&Y){let ln;U.mGM(ln=U.lsd())&&(Ve.template=ln.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",expandToScroll:"expandToScroll",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})};return ae=(0,De.Cg)([cr({inputs:vr,methods:ur})],ae),ae})();const ui=(ae,_e)=>((ae=ae.filter(ie=>ie.stackId!==_e.stackId)).push(_e),ae),yi=(ae,_e)=>{const ie=ae.createUrlTree(["."],{relativeTo:_e});return ae.serializeUrl(ie)},di=(ae,_e)=>!_e||ae.stackId!==_e.stackId,Zt=(ae,_e)=>{if(!ae)return;const ie=ct(_e);for(let Y=0;Y<ie.length;Y++){if(Y>=ae.length)return ie[Y];if(ie[Y]!==ae[Y])return}},ct=ae=>ae.split("/").map(_e=>_e.trim()).filter(_e=>""!==_e),Ze=ae=>{ae&&(ae.ref.destroy(),ae.unlistenEvents())};class It{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(_e,ie,Y,Ve,gt,ln){this.containerEl=ie,this.router=Y,this.navCtrl=Ve,this.zone=gt,this.location=ln,this.tabsPrefix=void 0!==_e?ct(_e):void 0}createView(_e,ie){const Y=yi(this.router,ie),Ve=_e?.location?.nativeElement,gt=br(this.zone,_e.instance,Ve);return{id:this.nextId++,stackId:Zt(this.tabsPrefix,Y),unlistenEvents:gt,element:Ve,ref:_e,url:Y}}getExistingView(_e){const ie=yi(this.router,_e),Y=this.views.find(Ve=>Ve.url===ie);return Y&&Y.ref.changeDetectorRef.reattach(),Y}setActive(_e){const ie=this.navCtrl.consumeTransition();let{direction:Y,animation:Ve,animationBuilder:gt}=ie;const ln=this.activeView,Yt=di(_e,ln);Yt&&(Y="back",Ve=void 0);const pe=this.views.slice();let Oe;const Je=this.router;Je.getCurrentNavigation?Oe=Je.getCurrentNavigation():Je.navigations?.value&&(Oe=Je.navigations.value),Oe?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Ht=this.views.includes(_e),Gt=this.insertView(_e,Y);Ht||_e.ref.changeDetectorRef.detectChanges();const _n=_e.animationBuilder;return void 0===gt&&"back"===Y&&!Yt&&void 0!==_n&&(gt=_n),ln&&(ln.animationBuilder=gt),this.zone.runOutsideAngular(()=>this.wait(()=>(ln&&ln.ref.changeDetectorRef.detach(),_e.ref.changeDetectorRef.reattach(),this.transition(_e,ln,Ve,this.canGoBack(1),!1,gt).then(()=>fn(_e,Gt,pe,this.location,this.zone)).then(()=>({enteringView:_e,direction:Y,animation:Ve,tabSwitch:Yt})))))}canGoBack(_e,ie=this.getActiveStackId()){return this.getStack(ie).length>_e}pop(_e,ie=this.getActiveStackId()){return this.zone.run(()=>{const Y=this.getStack(ie);if(Y.length<=_e)return Promise.resolve(!1);const Ve=Y[Y.length-_e-1];let gt=Ve.url;const ln=Ve.savedData;if(ln){const pe=ln.get("primary");pe?.route?._routerState?.snapshot.url&&(gt=pe.route._routerState.snapshot.url)}const{animationBuilder:Yt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(gt,{...Ve.savedExtras,animation:Yt}).then(()=>!0)})}startBackTransition(){const _e=this.activeView;if(_e){const ie=this.getStack(_e.stackId),Y=ie[ie.length-2],Ve=Y.animationBuilder;return this.wait(()=>this.transition(Y,_e,"back",this.canGoBack(2),!0,Ve))}return Promise.resolve()}endBackTransition(_e){_e?(this.skipTransition=!0,this.pop(1)):this.activeView&&Bn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(_e){const ie=this.getStack(_e);return ie.length>0?ie[ie.length-1]:void 0}getRootUrl(_e){const ie=this.getStack(_e);return ie.length>0?ie[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ze),this.activeView=void 0,this.views=[]}getStack(_e){return this.views.filter(ie=>ie.stackId===_e)}insertView(_e,ie){return this.activeView=_e,this.views=((ae,_e,ie)=>"root"===ie?ui(ae,_e):"forward"===ie?((ae,_e)=>(ae.indexOf(_e)>=0?ae=ae.filter(Y=>Y.stackId!==_e.stackId||Y.id<=_e.id):ae.push(_e),ae))(ae,_e):((ae,_e)=>ae.indexOf(_e)>=0?ae.filter(Y=>Y.stackId!==_e.stackId||Y.id<=_e.id):ui(ae,_e))(ae,_e))(this.views,_e,ie),this.views.slice()}transition(_e,ie,Y,Ve,gt,ln){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(ie===_e)return Promise.resolve(!1);const Yt=_e?_e.element:void 0,pe=ie?ie.element:void 0,Oe=this.containerEl;return Yt&&Yt!==pe&&(Yt.classList.add("ion-page"),Yt.classList.add("ion-page-invisible"),Oe.commit)?Oe.commit(Yt,pe,{duration:void 0===Y?0:void 0,direction:Y,showGoBack:Ve,progressAnimation:gt,animationBuilder:ln}):Promise.resolve(!1)}wait(_e){var ie=this;return(0,l.A)(function*(){void 0!==ie.runningTask&&(yield ie.runningTask,ie.runningTask=void 0);const Y=ie.runningTask=_e();return Y.finally(()=>ie.runningTask=void 0),Y})()}}const fn=(ae,_e,ie,Y,Ve)=>"function"==typeof requestAnimationFrame?new Promise(gt=>{requestAnimationFrame(()=>{Bn(ae,_e,ie,Y,Ve),gt()})}):Promise.resolve(),Bn=(ae,_e,ie,Y,Ve)=>{Ve.run(()=>ie.filter(gt=>!_e.includes(gt)).forEach(Ze)),_e.forEach(gt=>{const Yt=Y.path().split("?")[0].split("#")[0];if(gt!==ae&&gt.url!==Yt){const pe=gt.element;pe.setAttribute("aria-hidden","true"),pe.classList.add("ion-page-hidden"),gt.ref.changeDetectorRef.detach()}})};let Ge=(()=>{class ae{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new kt.t(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=J.Xk;stackWillChange=new U.bkB;stackDidChange=new U.bkB;activateEvents=new U.bkB;deactivateEvents=new U.bkB;parentContexts=(0,U.WQX)(J.Zp);location=(0,U.WQX)(U.c1b);environmentInjector=(0,U.WQX)(U.uvJ);inputBinder=(0,U.WQX)(vt,{optional:!0});supportsBindingToComponentInputs=!0;config=(0,U.WQX)(kn);navCtrl=(0,U.WQX)(xt);set animation(ie){this.nativeEl.animation=ie}set animated(ie){this.nativeEl.animated=ie}set swipeGesture(ie){this._swipeGesture=ie,this.nativeEl.swipeHandler=ie?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Y=>this.stackCtrl.endBackTransition(Y)}:void 0}constructor(ie,Y,Ve,gt,ln,Yt,pe,Oe){this.parentOutlet=Oe,this.nativeEl=gt.nativeElement,this.name=ie||J.Xk,this.tabsPrefix="true"===Y?yi(ln,pe):void 0,this.stackCtrl=new It(this.tabsPrefix,this.nativeEl,ln,this.navCtrl,Yt,Ve),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const ie=this.getContext();ie?.route&&this.activateWith(ie.route,ie.injector)}new Promise(ie=>((ae,_e)=>{ae.componentOnReady?ae.componentOnReady().then(ie=>_e(ie)):(ae=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ae):"function"==typeof requestAnimationFrame?requestAnimationFrame(ae):setTimeout(ae)})(()=>_e(ae))})(this.nativeEl,ie)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(ie,Y){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Y=this.getContext();this.activatedView.savedData=new Map(Y.children.contexts);const Ve=this.activatedView.savedData.get("primary");if(Ve&&Y.route&&(Ve.route={...Y.route}),this.activatedView.savedExtras={},Y.route){const gt=Y.route.snapshot;this.activatedView.savedExtras.queryParams=gt.queryParams,this.activatedView.savedExtras.fragment=gt.fragment}}const ie=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ie)}}activateWith(ie,Y){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=ie;let Ve,gt=this.stackCtrl.getExistingView(ie);if(gt){Ve=this.activated=gt.ref;const Yt=gt.savedData;Yt&&(this.getContext().children.contexts=Yt),this.updateActivatedRouteProxy(Ve.instance,ie)}else{const Yt=ie._futureSnapshot,pe=this.parentContexts.getOrCreateContext(this.name).children,Oe=new kt.t(null),Je=this.createActivatedRouteProxy(Oe,ie),Ht=new $e(Je,pe,this.location.injector);Ve=this.activated=this.outletContent.createComponent(Yt.routeConfig.component??Yt.component,{index:this.outletContent.length,injector:Ht,environmentInjector:Y??this.environmentInjector}),Oe.next(Ve.instance),gt=this.stackCtrl.createView(this.activated,ie),this.proxyMap.set(Ve.instance,Je),this.currentActivatedRoute$.next({component:Ve.instance,activatedRoute:ie})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=gt,this.navCtrl.setTopOutlet(this);const ln=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:gt,tabSwitch:di(gt,ln)}),this.stackCtrl.setActive(gt).then(Yt=>{this.activateEvents.emit(Ve.instance),this.stackDidChange.emit(Yt)})}canGoBack(ie=1,Y){return this.stackCtrl.canGoBack(ie,Y)}pop(ie=1,Y){return this.stackCtrl.pop(ie,Y)}getLastUrl(ie){const Y=this.stackCtrl.getLastUrl(ie);return Y?Y.url:void 0}getLastRouteView(ie){return this.stackCtrl.getLastUrl(ie)}getRootView(ie){return this.stackCtrl.getRootUrl(ie)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(ie,Y){const Ve=new J.nX;return Ve._futureSnapshot=Y._futureSnapshot,Ve._routerState=Y._routerState,Ve.snapshot=Y.snapshot,Ve.outlet=Y.outlet,Ve.component=Y.component,Ve._paramMap=this.proxyObservable(ie,"paramMap"),Ve._queryParamMap=this.proxyObservable(ie,"queryParamMap"),Ve.url=this.proxyObservable(ie,"url"),Ve.params=this.proxyObservable(ie,"params"),Ve.queryParams=this.proxyObservable(ie,"queryParams"),Ve.fragment=this.proxyObservable(ie,"fragment"),Ve.data=this.proxyObservable(ie,"data"),Ve}proxyObservable(ie,Y){return ie.pipe((0,Ie.p)(Ve=>!!Ve),(0,Me.n)(Ve=>this.currentActivatedRoute$.pipe((0,Ie.p)(gt=>null!==gt&&gt.component===Ve),(0,Me.n)(gt=>gt&&gt.activatedRoute[Y]),(0,ce.F)())))}updateActivatedRouteProxy(ie,Y){const Ve=this.proxyMap.get(ie);if(!Ve)throw new Error("Could not find activated route proxy for view");Ve._futureSnapshot=Y._futureSnapshot,Ve._routerState=Y._routerState,Ve.snapshot=Y.snapshot,Ve.outlet=Y.outlet,Ve.component=Y.component,this.currentActivatedRoute$.next({component:ie,activatedRoute:Y})}static \u0275fac=function(Y){return new(Y||ae)(U.kS0("name"),U.kS0("tabs"),U.rXU(G.aZ),U.rXU(U.aKT),U.rXU(J.Ix),U.rXU(U.SKi),U.rXU(J.nX),U.rXU(ae,12))};static \u0275dir=U.FsC({type:ae,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})}return ae})();class $e{route;childContexts;parent;constructor(_e,ie,Y){this.route=_e,this.childContexts=ie,this.parent=Y}get(_e,ie){return _e===J.nX?this.route:_e===J.Zp?this.childContexts:this.parent.get(_e,ie)}}const vt=new U.nKC("");let en=(()=>{class ae{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(ie){this.unsubscribeFromRouteData(ie),this.subscribeToRouteData(ie)}unsubscribeFromRouteData(ie){this.outletDataSubscriptions.get(ie)?.unsubscribe(),this.outletDataSubscriptions.delete(ie)}subscribeToRouteData(ie){const{activatedRoute:Y}=ie,Ve=(0,un.z)([Y.queryParams,Y.params,Y.data]).pipe((0,Me.n)(([gt,ln,Yt],pe)=>(Yt={...gt,...ln,...Yt},0===pe?(0,tt.of)(Yt):Promise.resolve(Yt)))).subscribe(gt=>{if(!ie.isActivated||!ie.activatedComponentRef||ie.activatedRoute!==Y||null===Y.component)return void this.unsubscribeFromRouteData(ie);const ln=(0,U.HJs)(Y.component);if(ln)for(const{templateName:Yt}of ln.inputs)ie.activatedComponentRef.setInput(Yt,gt[Yt]);else this.unsubscribeFromRouteData(ie)});this.outletDataSubscriptions.set(ie,Ve)}static \u0275fac=function(Y){return new(Y||ae)};static \u0275prov=U.jDH({token:ae,factory:ae.\u0275fac})}return ae})();const Ot=()=>({provide:vt,useFactory:Pn,deps:[J.Ix]});function Pn(ae){return ae?.componentInputBindingEnabled?new en:null}const Qn=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Gr=(()=>{let ae=class yC{routerOutlet;navCtrl;config;r;z;el;constructor(ie,Y,Ve,gt,ln,Yt){this.routerOutlet=ie,this.navCtrl=Y,this.config=Ve,this.r=gt,this.z=ln,Yt.detach(),this.el=this.r.nativeElement}onClick(ie){const Y=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),ie.preventDefault()):null!=Y&&(this.navCtrl.navigateBack(Y,{animation:this.routerAnimation}),ie.preventDefault())}static \u0275fac=function(Y){return new(Y||yC)(U.rXU(Ge,8),U.rXU(xt),U.rXU(kn),U.rXU(U.aKT),U.rXU(U.SKi),U.rXU(U.gRc))};static \u0275dir=U.FsC({type:yC,hostBindings:function(Y,Ve){1&Y&&U.bIt("click",function(ln){return Ve.onClick(ln)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})};return ae=(0,De.Cg)([cr({inputs:Qn})],ae),ae})(),ai=(()=>{class ae{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(ie,Y,Ve,gt,ln){this.locationStrategy=ie,this.navCtrl=Y,this.elementRef=Ve,this.router=gt,this.routerLink=ln}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const Y=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(Y.tagName)&&"0"===Y.getAttribute("tabindex")&&Y.removeAttribute("tabindex")}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const ie=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ie}}onClick(ie){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),ie.preventDefault()}static \u0275fac=function(Y){return new(Y||ae)(U.rXU(G.hb),U.rXU(xt),U.rXU(U.aKT),U.rXU(J.Ix),U.rXU(J.Wk,8))};static \u0275dir=U.FsC({type:ae,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(Y,Ve){1&Y&&U.bIt("click",function(ln){return Ve.onClick(ln)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[U.OA$]})}return ae})(),kr=(()=>{class ae{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(ie,Y,Ve,gt,ln){this.locationStrategy=ie,this.navCtrl=Y,this.elementRef=Ve,this.router=gt,this.routerLink=ln}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const ie=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ie}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}static \u0275fac=function(Y){return new(Y||ae)(U.rXU(G.hb),U.rXU(xt),U.rXU(U.aKT),U.rXU(J.Ix),U.rXU(J.Wk,8))};static \u0275dir=U.FsC({type:ae,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(Y,Ve){1&Y&&U.bIt("click",function(){return Ve.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[U.OA$]})}return ae})();const $r=["animated","animation","root","rootParams","swipeGesture"],Dn=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let ri=(()=>{let ae=class EC{z;el;constructor(ie,Y,Ve,gt,ln,Yt){this.z=ln,Yt.detach(),this.el=ie.nativeElement,ie.nativeElement.delegate=gt.create(Y,Ve),sr(this,this.el,["ionNavDidChange","ionNavWillChange"])}static \u0275fac=function(Y){return new(Y||EC)(U.rXU(U.aKT),U.rXU(U.uvJ),U.rXU(U.zZn),U.rXU(ft),U.rXU(U.SKi),U.rXU(U.gRc))};static \u0275dir=U.FsC({type:EC,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})};return ae=(0,De.Cg)([cr({inputs:$r,methods:Dn})],ae),ae})(),Pi=(()=>{class ae{navCtrl;tabsInner;ionTabsWillChange=new U.bkB;ionTabsDidChange=new U.bkB;tabBarSlot="bottom";hasTab=!1;selectedTab;leavingTab;constructor(ie){this.navCtrl=ie}ngAfterViewInit(){const ie=this.tabs.length>0?this.tabs.first:void 0;ie&&(this.hasTab=!0,this.setActiveTab(ie.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:ie,tabSwitch:Y}){const Ve=ie.stackId;Y&&void 0!==Ve&&this.ionTabsWillChange.emit({tab:Ve})}onStackDidChange({enteringView:ie,tabSwitch:Y}){const Ve=ie.stackId;Y&&void 0!==Ve&&(this.tabBar&&(this.tabBar.selectedTab=Ve),this.ionTabsDidChange.emit({tab:Ve}))}select(ie){const Y="string"==typeof ie,Ve=Y?ie:ie.detail.tab;if(this.hasTab)return this.setActiveTab(Ve),void this.tabSwitch();const gt=this.outlet.getActiveStackId()===Ve,ln=`${this.outlet.tabsPrefix}/${Ve}`;if(Y||ie.stopPropagation(),gt){const Yt=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(Yt)?.url===ln)return;const Oe=this.outlet.getRootView(Ve);return this.navCtrl.navigateRoot(ln,{...Oe&&ln===Oe.url&&Oe.savedExtras,animated:!0,animationDirection:"back"})}{const Yt=this.outlet.getLastRouteView(Ve),pe=Yt?.url||ln,Oe=Yt?.savedExtras;return this.navCtrl.navigateRoot(pe,{...Oe,animated:!0,animationDirection:"back"})}}setActiveTab(ie){const Ve=this.tabs.find(gt=>gt.tab===ie);Ve?(this.leavingTab=this.selectedTab,this.selectedTab=Ve,this.ionTabsWillChange.emit({tab:ie}),Ve.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${ie}" does not exist`)}tabSwitch(){const{selectedTab:ie,leavingTab:Y}=this;this.tabBar&&ie&&(this.tabBar.selectedTab=ie.tab),Y?.tab!==ie?.tab&&Y?.el&&(Y.el.active=!1),ie&&this.ionTabsDidChange.emit({tab:ie.tab})}getSelected(){return this.hasTab?this.selectedTab?.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(ie=>{const Y=ie.el.getAttribute("slot");Y!==this.tabBarSlot&&(this.tabBarSlot=Y,this.relocateTabBar())})}relocateTabBar(){const ie=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(ie):this.tabsInner.nativeElement.after(ie)}static \u0275fac=function(Y){return new(Y||ae)(U.rXU(xt))};static \u0275dir=U.FsC({type:ae,selectors:[["ion-tabs"]],viewQuery:function(Y,Ve){if(1&Y&&U.GBs(at,7,U.aKT),2&Y){let gt;U.mGM(gt=U.lsd())&&(Ve.tabsInner=gt.first)}},hostBindings:function(Y,Ve){1&Y&&U.bIt("ionTabButtonClick",function(ln){return Ve.select(ln)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})}return ae})();const wr=ae=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ae):"function"==typeof requestAnimationFrame?requestAnimationFrame(ae):setTimeout(ae);let Gi=(()=>{class ae{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(ie,Y){this.injector=ie,this.elementRef=Y}writeValue(ie){this.elementRef.nativeElement.value=this.lastValue=ie,Kr(this.elementRef)}handleValueChange(ie,Y){ie===this.elementRef.nativeElement&&(Y!==this.lastValue&&(this.lastValue=Y,this.onChange(Y)),Kr(this.elementRef))}_handleBlurEvent(ie){ie===this.elementRef.nativeElement?(this.onTouched(),Kr(this.elementRef)):ie.closest("ion-radio-group")===this.elementRef.nativeElement&&this.onTouched()}registerOnChange(ie){this.onChange=ie}registerOnTouched(ie){this.onTouched=ie}setDisabledState(ie){this.elementRef.nativeElement.disabled=ie}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let ie;try{ie=this.injector.get(Pe.vO)}catch{}if(!ie)return;ie.statusChanges&&(this.statusChanges=ie.statusChanges.subscribe(()=>Kr(this.elementRef)));const Y=ie.control;Y&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(gt=>{if(typeof Y[gt]<"u"){const ln=Y[gt].bind(Y);Y[gt]=(...Yt)=>{ln(...Yt),Kr(this.elementRef)}}})}static \u0275fac=function(Y){return new(Y||ae)(U.rXU(U.zZn),U.rXU(U.aKT))};static \u0275dir=U.FsC({type:ae,hostBindings:function(Y,Ve){1&Y&&U.bIt("ionBlur",function(ln){return Ve._handleBlurEvent(ln.target)})}})}return ae})();const Kr=ae=>{wr(()=>{const _e=ae.nativeElement,ie=null!=_e.value&&_e.value.toString().length>0,Y=yr(_e);Mi(_e,Y);const Ve=_e.closest("ion-item");Ve&&Mi(Ve,ie?[...Y,"item-has-value"]:Y)})},yr=ae=>{const _e=ae.classList,ie=[];for(let Y=0;Y<_e.length;Y++){const Ve=_e.item(Y);null!==Ve&&li(Ve,"ng-")&&ie.push(`ion-${Ve.substring(3)}`)}return ie},Mi=(ae,_e)=>{const ie=ae.classList;ie.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),ie.add(..._e)},li=(ae,_e)=>ae.substring(0,_e.length)===_e;class mi{shouldDetach(_e){return!1}shouldAttach(_e){return!1}store(_e,ie){}retrieve(_e){return null}shouldReuseRoute(_e,ie){if(_e.routeConfig!==ie.routeConfig)return!1;const Y=_e.params,Ve=ie.params,gt=Object.keys(Y),ln=Object.keys(Ve);if(gt.length!==ln.length)return!1;for(const Yt of gt)if(Ve[Yt]!==Y[Yt])return!1;return!0}}class Wt{ctrl;constructor(_e){this.ctrl=_e}create(_e){return this.ctrl.create(_e||{})}dismiss(_e,ie,Y){return this.ctrl.dismiss(_e,ie,Y)}getTop(){return this.ctrl.getTop()}}},7125:(En,ht,N)=>{"use strict";N.d(ht,{hG:()=>Ei,U1:()=>Ln,el:()=>Qi,Jm:()=>ft,QW:()=>Xt,b_:()=>jt,I9:()=>On,ME:()=>br,tN:()=>tr,W9:()=>sr,eU:()=>Rr,iq:()=>ui,uz:()=>ct,Dg:()=>Ze,A7:()=>Ge,he:()=>$e,nf:()=>vt,oS:()=>Pn,MC:()=>Qn,cA:()=>Gr,Rg:()=>Kt,BC:()=>In,ai:()=>Vt,bv:()=>Cs,Xi:()=>Ai,W3:()=>ii,IE:()=>ns,N7:()=>ye,K_:()=>Ii});var l=N(4438),U=N(9417),J=N(2872),G=N(1635),Re=N(3726),we=N(177),Z=N(6822),xe=(N(9986),N(5248),N(1935),N(5062),N(8607),N(4346)),fe=N(464),yt=(N(6032),N(4626)),We=(N(8476),N(6317));N(9144),N(1970),N(6221);var qe=N(467);const nt=xe.i,bt=function(){var C=(0,qe.A)(function*(le,O){if(!(typeof window>"u"))return yield nt(),(0,We.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"step":["stepChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[1,"ion-segment-content"]]],["ion-segment-view",[[33,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select-modal",[[34,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"expandToScroll":[4,"expand-to-scroll"],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"setFocus":[64]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"required":[4],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[36,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032],"helperText":[1,"helper-text"],"errorText":[1,"error-text"],"setFocus":[64]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),O)});return function(O,A){return C.apply(this,arguments)}}(),H=["*"],He=["outletContent"],at=(C,le)=>{const O=C.prototype;le.forEach(A=>{Object.defineProperty(O,A,{get(){return this.el[A]},set(K){this.z.runOutsideAngular(()=>this.el[A]=K)},configurable:!0})})},Xe=(C,le)=>{const O=C.prototype;le.forEach(A=>{O[A]=function(){const K=arguments;return this.z.runOutsideAngular(()=>this.el[A].apply(this.el,K))}})},Se=(C,le,O)=>{O.forEach(A=>C[A]=(0,Re.R)(le,A))};function he(C){return function(O){const{defineCustomElementFn:A,inputs:K,methods:Ue}=C;return void 0!==A&&A(),K&&at(O,K),Ue&&Xe(O,Ue),O}}let Ln=(()=>{let C=class bC{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement}static \u0275fac=function(A){return new(A||bC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:bC,selectors:[["ion-app"]],ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({methods:["setFocus"]})],C),C})(),ft=(()=>{let C=class MC{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement,Se(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(A){return new(A||MC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:MC,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],C),C})(),Xt=(()=>{let C=class xC{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement}static \u0275fac=function(A){return new(A||xC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:xC,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["collapse"]})],C),C})(),jt=(()=>{let C=class NC{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement}static \u0275fac=function(A){return new(A||NC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:NC,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],C),C})(),On=(()=>{let C=class OC{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement}static \u0275fac=function(A){return new(A||OC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:OC,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["mode"]})],C),C})(),br=(()=>{let C=class kC{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement}static \u0275fac=function(A){return new(A||kC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:kC,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["color","mode","translucent"]})],C),C})(),tr=(()=>{let C=class FC{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement}static \u0275fac=function(A){return new(A||FC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:FC,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["color","mode"]})],C),C})(),sr=(()=>{let C=class $C{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement,Se(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}static \u0275fac=function(A){return new(A||$C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:$C,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],C),C})(),Rr=(()=>{let C=class qC{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement}static \u0275fac=function(A){return new(A||qC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:qC,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["collapse","mode","translucent"]})],C),C})(),ui=(()=>{let C=class QC{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement}static \u0275fac=function(A){return new(A||QC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:QC,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],C),C})(),ct=(()=>{let C=class nw{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement}static \u0275fac=function(A){return new(A||nw)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:nw,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],C),C})(),Ze=(()=>{let C=class rw{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement}static \u0275fac=function(A){return new(A||rw)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:rw,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["color","mode","sticky"]})],C),C})(),Ge=(()=>{let C=class aw{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement,Se(this,this.el,["ionDrag"])}static \u0275fac=function(A){return new(A||aw)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:aw,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],C),C})(),$e=(()=>{let C=class lw{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement}static \u0275fac=function(A){return new(A||lw)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:lw,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["color","mode","position"]})],C),C})(),vt=(()=>{let C=class cw{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement}static \u0275fac=function(A){return new(A||cw)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:cw,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],C),C})(),Pn=(()=>{let C=class hw{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement,Se(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}static \u0275fac=function(A){return new(A||hw)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:hw,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],C),C})(),Qn=(()=>{let C=class fw{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement}static \u0275fac=function(A){return new(A||fw)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:fw,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["autoHide","color","disabled","menu","mode","type"]})],C),C})(),Gr=(()=>{let C=class pw{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement}static \u0275fac=function(A){return new(A||pw)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:pw,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["autoHide","menu"]})],C),C})(),In=(()=>{let C=class Xw{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement}static \u0275fac=function(A){return new(A||Xw)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:Xw,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["color","size"]})],C),C})(),Vt=(()=>{let C=class Yw{z;el;constructor(O,A,K){this.z=K,O.detach(),this.el=A.nativeElement}static \u0275fac=function(A){return new(A||Yw)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:Yw,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([he({inputs:["color","mode"]})],C),C})(),Kt=(()=>{class C extends J.Rg{parentOutlet;outletContent;constructor(O,A,K,Ue,zt,dn,pn,mn){super(O,A,K,Ue,zt,dn,pn,mn),this.parentOutlet=mn}static \u0275fac=function(A){return new(A||C)(l.kS0("name"),l.kS0("tabs"),l.rXU(we.aZ),l.rXU(l.aKT),l.rXU(Z.Ix),l.rXU(l.SKi),l.rXU(Z.nX),l.rXU(C,12))};static \u0275cmp=l.VBU({type:C,selectors:[["ion-router-outlet"]],viewQuery:function(A,K){if(1&A&&l.GBs(He,7,l.c1b),2&A){let Ue;l.mGM(Ue=l.lsd())&&(K.outletContent=Ue.first)}},features:[l.Vt3],ngContentSelectors:H,decls:3,vars:0,consts:[["outletContent",""]],template:function(A,K){1&A&&(l.NAR(),l.qex(0,null,0),l.SdG(2),l.bVm())},encapsulation:2})}return C})(),Qi=(()=>{class C extends J.el{constructor(O,A,K,Ue,zt,dn){super(O,A,K,Ue,zt,dn)}static \u0275fac=function(A){return new(A||C)(l.rXU(Kt,8),l.rXU(J.q9),l.rXU(J.TS),l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(l.gRc))};static \u0275cmp=l.VBU({type:C,selectors:[["ion-back-button"]],features:[l.Vt3],ngContentSelectors:H,decls:1,vars:0,template:function(A,K){1&A&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})}return C})(),ye=(()=>{class C extends J.CE{static \u0275fac=(()=>{let O;return function(K){return(O||(O=l.xGo(C)))(K||C)}})();static \u0275dir=l.FsC({type:C,selectors:[["","routerLink","",5,"a",5,"area"]],features:[l.Vt3]})}return C})();const nr={provide:U.cz,useExisting:(0,l.Rfq)(()=>rr),multi:!0};let rr=(()=>{class C extends U.zX{static \u0275fac=(()=>{let O;return function(K){return(O||(O=l.xGo(C)))(K||C)}})();static \u0275dir=l.FsC({type:C,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(A,K){2&A&&l.BMQ("max",K._enabled?K.max:null)},features:[l.Jv_([nr]),l.Vt3]})}return C})();const Ar={provide:U.cz,useExisting:(0,l.Rfq)(()=>xn),multi:!0};let xn=(()=>{class C extends U.VZ{static \u0275fac=(()=>{let O;return function(K){return(O||(O=l.xGo(C)))(K||C)}})();static \u0275dir=l.FsC({type:C,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(A,K){2&A&&l.BMQ("min",K._enabled?K.min:null)},features:[l.Jv_([Ar]),l.Vt3]})}return C})(),Ei=(()=>{class C extends J.Kb{constructor(){super(yt.a)}static \u0275fac=function(A){return new(A||C)};static \u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),Ai=(()=>{class C extends J.Kb{constructor(){super(yt.l)}static \u0275fac=function(A){return new(A||C)};static \u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),ii=(()=>{class C extends J.Kb{angularDelegate=(0,l.WQX)(J.Yq);injector=(0,l.WQX)(l.zZn);environmentInjector=(0,l.WQX)(l.uvJ);constructor(){super(yt.m)}create(O){return super.create({...O,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}static \u0275fac=function(A){return new(A||C)};static \u0275prov=l.jDH({token:C,factory:C.\u0275fac})}return C})();class ns extends J.Kb{angularDelegate=(0,l.WQX)(J.Yq);injector=(0,l.WQX)(l.zZn);environmentInjector=(0,l.WQX)(l.uvJ);constructor(){super(yt.c)}create(le){return super.create({...le,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let Ii=(()=>{class C extends J.Kb{constructor(){super(yt.t)}static \u0275fac=function(A){return new(A||C)};static \u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const Fn=(C,le,O)=>()=>{const A=le.defaultView;if(A&&typeof window<"u"){(0,fe.s)({...C,_zoneGate:Ue=>O.run(Ue)});const K="__zone_symbol__addEventListener"in le.body?"__zone_symbol__addEventListener":"addEventListener";return function ot(){var C=[];if(typeof window<"u"){var le=window;(!le.customElements||le.Element&&(!le.Element.prototype.closest||!le.Element.prototype.matches||!le.Element.prototype.remove||!le.Element.prototype.getRootNode))&&C.push(N.e(7278).then(N.t.bind(N,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||le.NodeList&&!le.NodeList.prototype.forEach||!le.fetch||!function(){try{var A=new URL("b","http://a");return A.pathname="c%20d","http://a/c%20d"===A.href&&A.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&C.push(N.e(9329).then(N.t.bind(N,7783,23)))}return Promise.all(C)}().then(()=>bt(A,{exclude:["ion-tabs"],syncQueue:!0,raf:J.er,jmp:Ue=>O.runOutsideAngular(Ue),ael(Ue,zt,dn,pn){Ue[K](zt,dn,pn)},rel(Ue,zt,dn,pn){Ue.removeEventListener(zt,dn,pn)}}))}};let Cs=(()=>{class C{static forRoot(O={}){return{ngModule:C,providers:[{provide:J.sR,useValue:O},{provide:l.hnV,useFactory:Fn,multi:!0,deps:[J.sR,we.qQ,l.SKi]},J.Yq,(0,J.YV)()]}}static \u0275fac=function(A){return new(A||C)};static \u0275mod=l.$C({type:C});static \u0275inj=l.G2t({providers:[ii,ns],imports:[we.MD]})}return C})()},8018:(En,ht,N)=>{"use strict";N.d(ht,{D9:()=>ce,Wr:()=>ke,c$:()=>Ie,h:()=>Xe});var l=N(4438),U=N(7673),J=N(4402),G=N(7468),Re=N(8793),we=N(9030),Z=N(6697),be=N(6496),ve=N(6354),Te=N(274),ue=N(5558);class ke{}let xe=(()=>{class Se extends ke{getTranslation(he){return(0,U.of)({})}static \u0275fac=(()=>{let he;return function(Nt){return(he||(he=l.xGo(Se)))(Nt||Se)}})();static \u0275prov=l.jDH({token:Se,factory:Se.\u0275fac})}return Se})();class fe{}let rt=(()=>{class Se{handle(he){return he.key}static \u0275fac=function(st){return new(st||Se)};static \u0275prov=l.jDH({token:Se,factory:Se.\u0275fac})}return Se})();function yt(Se,Tt){if(Se===Tt)return!0;if(null===Se||null===Tt)return!1;if(Se!=Se&&Tt!=Tt)return!0;const he=typeof Se;let Nt,xt,hn;if(he==typeof Tt&&"object"==he){if(!Array.isArray(Se)){if(Array.isArray(Tt))return!1;for(xt in hn=Object.create(null),Se){if(!yt(Se[xt],Tt[xt]))return!1;hn[xt]=!0}for(xt in Tt)if(!(xt in hn)&&typeof Tt[xt]<"u")return!1;return!0}if(!Array.isArray(Tt))return!1;if((Nt=Se.length)==Tt.length){for(xt=0;xt<Nt;xt++)if(!yt(Se[xt],Tt[xt]))return!1;return!0}}return!1}function it(Se){return typeof Se<"u"&&null!==Se}function We(Se){return At(Se)&&!Pt(Se)&&null!==Se}function At(Se){return"object"==typeof Se}function Pt(Se){return Array.isArray(Se)}function ze(Se){return"string"==typeof Se}function ot(Se,Tt){const he=Object.assign({},Se);return At(Se)?(At(Se)&&At(Tt)&&Object.keys(Tt).forEach(st=>{We(Tt[st])?st in Se?he[st]=ot(Se[st],Tt[st]):Object.assign(he,{[st]:Tt[st]}):Object.assign(he,{[st]:Tt[st]})}),he):ot({},Tt)}function qe(Se,Tt){const he=Tt.split(".");Tt="";do{Tt+=he.shift(),it(Se)&&it(Se[Tt])&&(We(Se[Tt])||Pt(Se[Tt])||!he.length)?(Se=Se[Tt],Tt=""):he.length?Tt+=".":Se=void 0}while(he.length);return Se}class bt{}let H=(()=>{class Se extends bt{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(he,st){return ze(he)?this.interpolateString(he,st):function Fe(Se){return"function"==typeof Se}(he)?this.interpolateFunction(he,st):void 0}interpolateFunction(he,st){return he(st)}interpolateString(he,st){return st?he.replace(this.templateMatcher,(Nt,xt)=>{const hn=qe(st,xt);return it(hn)?hn:Nt}):he}static \u0275fac=(()=>{let he;return function(Nt){return(he||(he=l.xGo(Se)))(Nt||Se)}})();static \u0275prov=l.jDH({token:Se,factory:Se.\u0275fac})}return Se})();class He{}let wt=(()=>{class Se extends He{compile(he,st){return he}compileTranslations(he,st){return he}static \u0275fac=(()=>{let he;return function(Nt){return(he||(he=l.xGo(Se)))(Nt||Se)}})();static \u0275prov=l.jDH({token:Se,factory:Se.\u0275fac})}return Se})();class Ke{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new l.bkB;onLangChange=new l.bkB;onDefaultLangChange=new l.bkB}const Mt=new l.nKC("ISOLATE_TRANSLATE_SERVICE"),kt=new l.nKC("USE_DEFAULT_LANG"),un=new l.nKC("DEFAULT_LANGUAGE"),tt=new l.nKC("USE_EXTEND"),De=Se=>(0,J.A)(Se)?Se:(0,U.of)(Se);let Ie=(()=>{class Se{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(he){this.store.defaultLang=he}get currentLang(){return this.store.currentLang}set currentLang(he){this.store.currentLang=he}get langs(){return this.store.langs}set langs(he){this.store.langs=he}get translations(){return this.store.translations}set translations(he){this.store.translations=he}constructor(he,st,Nt,xt,hn,Ln=!0,qn=!1,kn=!1,Nn){this.store=he,this.currentLoader=st,this.compiler=Nt,this.parser=xt,this.missingTranslationHandler=hn,this.useDefaultLang=Ln,this.extend=kn,qn&&(this.store=new Ke),Nn&&this.setDefaultLang(Nn)}setDefaultLang(he){if(he===this.defaultLang)return;const st=this.retrieveTranslations(he);typeof st<"u"?(null==this.defaultLang&&(this.defaultLang=he),st.pipe((0,Z.s)(1)).subscribe(()=>{this.changeDefaultLang(he)})):this.changeDefaultLang(he)}getDefaultLang(){return this.defaultLang}use(he){if(this.lastUseLanguage=he,he===this.currentLang)return(0,U.of)(this.translations[he]);this.currentLang||(this.currentLang=he);const st=this.retrieveTranslations(he);return(0,J.A)(st)?(st.pipe((0,Z.s)(1)).subscribe(()=>{this.changeLang(he)}),st):(this.changeLang(he),(0,U.of)(this.translations[he]))}changeLang(he){he===this.lastUseLanguage&&(this.currentLang=he,this.onLangChange.emit({lang:he,translations:this.translations[he]}),null==this.defaultLang&&this.changeDefaultLang(he))}retrieveTranslations(he){if(typeof this.translations[he]>"u"||this.extend)return this._translationRequests[he]=this._translationRequests[he]||this.loadAndCompileTranslations(he),this._translationRequests[he]}getTranslation(he){return this.loadAndCompileTranslations(he)}loadAndCompileTranslations(he){this.pending=!0;const st=this.currentLoader.getTranslation(he).pipe((0,be.t)(1),(0,Z.s)(1));return this.loadingTranslations=st.pipe((0,ve.T)(Nt=>this.compiler.compileTranslations(Nt,he)),(0,be.t)(1),(0,Z.s)(1)),this.loadingTranslations.subscribe({next:Nt=>{this.translations[he]=this.extend&&this.translations[he]?{...Nt,...this.translations[he]}:Nt,this.updateLangs(),this.pending=!1},error:Nt=>{this.pending=!1}}),st}setTranslation(he,st,Nt=!1){const xt=this.compiler.compileTranslations(st,he);this.translations[he]=(Nt||this.extend)&&this.translations[he]?ot(this.translations[he],xt):xt,this.updateLangs(),this.onTranslationChange.emit({lang:he,translations:this.translations[he]})}getLangs(){return this.langs}addLangs(he){const st=he.filter(Nt=>!this.langs.includes(Nt));st.length>0&&(this.langs=[...this.langs,...st])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(he,st,Nt){let xt;if(he&&(xt=this.runInterpolation(qe(he,st),Nt)),void 0===xt&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(xt=this.runInterpolation(qe(this.translations[this.defaultLang],st),Nt)),void 0===xt){const hn={key:st,translateService:this};typeof Nt<"u"&&(hn.interpolateParams=Nt),xt=this.missingTranslationHandler.handle(hn)}return void 0!==xt?xt:st}runInterpolation(he,st){if(Pt(he))return he.map(Nt=>this.runInterpolation(Nt,st));if(We(he)){const Nt={};for(const xt in he){const hn=this.runInterpolation(he[xt],st);void 0!==hn&&(Nt[xt]=hn)}return Nt}return this.parser.interpolate(he,st)}getParsedResult(he,st,Nt){if(st instanceof Array){const xt={};let hn=!1;for(const qn of st)xt[qn]=this.getParsedResultForKey(he,qn,Nt),hn=hn||(0,J.A)(xt[qn]);if(!hn)return xt;const Ln=st.map(qn=>De(xt[qn]));return(0,G.p)(Ln).pipe((0,ve.T)(qn=>{const kn={};return qn.forEach((Nn,zn)=>{kn[st[zn]]=Nn}),kn}))}return this.getParsedResultForKey(he,st,Nt)}get(he,st){if(!it(he)||!he.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe((0,Te.H)(Nt=>De(this.getParsedResult(Nt,he,st)))):De(this.getParsedResult(this.translations[this.currentLang],he,st))}getStreamOnTranslationChange(he,st){if(!it(he)||!he.length)throw new Error('Parameter "key" is required and cannot be empty');return(0,Re.x)((0,we.v)(()=>this.get(he,st)),this.onTranslationChange.pipe((0,ue.n)(Nt=>{const xt=this.getParsedResult(Nt.translations,he,st);return De(xt)})))}stream(he,st){if(!it(he)||!he.length)throw new Error('Parameter "key" required');return(0,Re.x)((0,we.v)(()=>this.get(he,st)),this.onLangChange.pipe((0,ue.n)(Nt=>{const xt=this.getParsedResult(Nt.translations,he,st);return De(xt)})))}instant(he,st){if(!it(he)||0===he.length)throw new Error('Parameter "key" is required and cannot be empty');const Nt=this.getParsedResult(this.translations[this.currentLang],he,st);return(0,J.A)(Nt)?Array.isArray(he)?he.reduce((xt,hn)=>(xt[hn]=hn,xt),{}):he:Nt}set(he,st,Nt=this.currentLang){(function nt(Se,Tt,he){const st=Tt.split(".");let Nt=Se;for(let xt=0;xt<st.length;xt++){const hn=st[xt];xt===st.length-1?Nt[hn]=he:((!Nt[hn]||!We(Nt[hn]))&&(Nt[hn]={}),Nt=Nt[hn])}})(this.translations[Nt],he,ze(st)?this.compiler.compile(st,Nt):this.compiler.compileTranslations(st,Nt)),this.updateLangs(),this.onTranslationChange.emit({lang:Nt,translations:this.translations[Nt]})}changeDefaultLang(he){this.defaultLang=he,this.onDefaultLangChange.emit({lang:he,translations:this.translations[he]})}reloadLang(he){return this.resetLang(he),this.loadAndCompileTranslations(he)}resetLang(he){delete this._translationRequests[he],delete this.translations[he]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;const he=this.getBrowserCultureLang();return he?he.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(st){return new(st||Se)(l.KVO(Ke),l.KVO(ke),l.KVO(He),l.KVO(bt),l.KVO(fe),l.KVO(kt),l.KVO(Mt),l.KVO(tt),l.KVO(un))};static \u0275prov=l.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})(),ce=(()=>{class Se{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(he,st){this.translate=he,this._ref=st}updateValue(he,st,Nt){const xt=hn=>{this.value=void 0!==hn?hn:he,this.lastKey=he,this._ref.markForCheck()};if(Nt){const hn=this.translate.getParsedResult(Nt,he,st);(0,J.A)(hn)?hn.subscribe(xt):xt(hn)}this.translate.get(he,st).subscribe(xt)}transform(he,...st){if(!he||!he.length)return he;if(yt(he,this.lastKey)&&yt(st,this.lastParams))return this.value;let Nt;if(it(st[0])&&st.length)if(ze(st[0])&&st[0].length){const xt=st[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{Nt=JSON.parse(xt)}catch(hn){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${st[0]}`)}}else We(st[0])&&(Nt=st[0]);return this.lastKey=he,this.lastParams=st,this.updateValue(he,Nt),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(xt=>{this.lastKey&&xt.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(he,Nt,xt.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(xt=>{this.lastKey&&(this.lastKey=null,this.updateValue(he,Nt,xt.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(he,Nt))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(st){return new(st||Se)(l.rXU(Ie,16),l.rXU(l.gRc,16))};static \u0275pipe=l.EJ8({name:"translate",type:Se,pure:!1,standalone:!0});static \u0275prov=l.jDH({token:Se,factory:Se.\u0275fac})}return Se})(),Xe=(()=>{class Se{static forRoot(he={}){return{ngModule:Se,providers:[he.loader||{provide:ke,useClass:xe},he.compiler||{provide:He,useClass:wt},he.parser||{provide:bt,useClass:H},he.missingTranslationHandler||{provide:fe,useClass:rt},Ke,{provide:Mt,useValue:he.isolate},{provide:kt,useValue:he.useDefaultLang},{provide:tt,useValue:he.extend},{provide:un,useValue:he.defaultLanguage},Ie]}}static forChild(he={}){return{ngModule:Se,providers:[he.loader||{provide:ke,useClass:xe},he.compiler||{provide:He,useClass:wt},he.parser||{provide:bt,useClass:H},he.missingTranslationHandler||{provide:fe,useClass:rt},{provide:Mt,useValue:he.isolate},{provide:kt,useValue:he.useDefaultLang},{provide:tt,useValue:he.extend},{provide:un,useValue:he.defaultLanguage},Ie]}}static \u0275fac=function(st){return new(st||Se)};static \u0275mod=l.$C({type:Se});static \u0275inj=l.G2t({})}return Se})()},467:(En,ht,N)=>{"use strict";function l(J,G,Re,we,Z,be,ve){try{var Te=J[be](ve),ue=Te.value}catch(ke){return void Re(ke)}Te.done?G(ue):Promise.resolve(ue).then(we,Z)}function U(J){return function(){var G=this,Re=arguments;return new Promise(function(we,Z){var be=J.apply(G,Re);function ve(ue){l(be,we,Z,ve,Te,"next",ue)}function Te(ue){l(be,we,Z,ve,Te,"throw",ue)}ve(void 0)})}}N.d(ht,{A:()=>U})},1635:(En,ht,N)=>{"use strict";function G(ce,Pe){var at={};for(var Xe in ce)Object.prototype.hasOwnProperty.call(ce,Xe)&&Pe.indexOf(Xe)<0&&(at[Xe]=ce[Xe]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(Xe=Object.getOwnPropertySymbols(ce);Se<Xe.length;Se++)Pe.indexOf(Xe[Se])<0&&Object.prototype.propertyIsEnumerable.call(ce,Xe[Se])&&(at[Xe[Se]]=ce[Xe[Se]])}return at}function Re(ce,Pe,at,Xe){var he,Se=arguments.length,Tt=Se<3?Pe:null===Xe?Xe=Object.getOwnPropertyDescriptor(Pe,at):Xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Tt=Reflect.decorate(ce,Pe,at,Xe);else for(var st=ce.length-1;st>=0;st--)(he=ce[st])&&(Tt=(Se<3?he(Tt):Se>3?he(Pe,at,Tt):he(Pe,at))||Tt);return Se>3&&Tt&&Object.defineProperty(Pe,at,Tt),Tt}function ke(ce,Pe,at,Xe){return new(at||(at=Promise))(function(Tt,he){function st(hn){try{xt(Xe.next(hn))}catch(Ln){he(Ln)}}function Nt(hn){try{xt(Xe.throw(hn))}catch(Ln){he(Ln)}}function xt(hn){hn.done?Tt(hn.value):function Se(Tt){return Tt instanceof at?Tt:new at(function(he){he(Tt)})}(hn.value).then(st,Nt)}xt((Xe=Xe.apply(ce,Pe||[])).next())})}function ze(ce){return this instanceof ze?(this.v=ce,this):new ze(ce)}function Fe(ce,Pe,at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,Xe=at.apply(ce,Pe||[]),Tt=[];return Se=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),st("next"),st("throw"),st("return",function he(kn){return function(Nn){return Promise.resolve(Nn).then(kn,Ln)}}),Se[Symbol.asyncIterator]=function(){return this},Se;function st(kn,Nn){Xe[kn]&&(Se[kn]=function(zn){return new Promise(function(Yn,ft){Tt.push([kn,zn,Yn,ft])>1||Nt(kn,zn)})},Nn&&(Se[kn]=Nn(Se[kn])))}function Nt(kn,Nn){try{!function xt(kn){kn.value instanceof ze?Promise.resolve(kn.value.v).then(hn,Ln):qn(Tt[0][2],kn)}(Xe[kn](Nn))}catch(zn){qn(Tt[0][3],zn)}}function hn(kn){Nt("next",kn)}function Ln(kn){Nt("throw",kn)}function qn(kn,Nn){kn(Nn),Tt.shift(),Tt.length&&Nt(Tt[0][0],Tt[0][1])}}function qe(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at,Pe=ce[Symbol.asyncIterator];return Pe?Pe.call(ce):(ce=function yt(ce){var Pe="function"==typeof Symbol&&Symbol.iterator,at=Pe&&ce[Pe],Xe=0;if(at)return at.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&Xe>=ce.length&&(ce=void 0),{value:ce&&ce[Xe++],done:!ce}}};throw new TypeError(Pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),at={},Xe("next"),Xe("throw"),Xe("return"),at[Symbol.asyncIterator]=function(){return this},at);function Xe(Tt){at[Tt]=ce[Tt]&&function(he){return new Promise(function(st,Nt){!function Se(Tt,he,st,Nt){Promise.resolve(Nt).then(function(xt){Tt({value:xt,done:st})},he)}(st,Nt,(he=ce[Tt](he)).done,he.value)})}}}N.d(ht,{AQ:()=>Fe,Cg:()=>Re,N3:()=>ze,Tt:()=>G,sH:()=>ke,xN:()=>qe}),"function"==typeof SuppressedError&&SuppressedError}},En=>{En(En.s=6059)}]);