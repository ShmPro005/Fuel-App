"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4961],{4961:(P,u,s)=>{s.r(u),s.d(u,{UserLoginPageModule:()=>j});var p=s(177),c=s(9417),l=s(7125),g=s(6822),_=s(467),e=s(4438),d=s(4009),m=s(7703),h=s(7150),f=s(8018);function N(i,a){1&i&&(e.j41(0,"div",12),e.nrm(1,"img",13),e.k0s())}function b(i,a){1&i&&(e.j41(0,"p",19),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.JRh(e.bMT(2,1,"INVALID_PHONE")))}function x(i,a){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"div",14)(2,"label",15),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",16),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.Name,n)||(o.Name=n),e.Njj(n)}),e.bIt("keypress",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.utilService.allowOnlyLetters(n))}),e.k0s()(),e.j41(6,"div",14)(7,"label",15),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",17),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.phoneNumber,n)||(o.phoneNumber=n),e.Njj(n)}),e.bIt("keypress",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.utilService.allowOnlyNumbers(n))}),e.k0s()(),e.DNE(11,b,3,3,"p",18),e.bVm()}if(2&i){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,5,"NAME")),e.R7$(2),e.R50("ngModel",t.Name),e.R7$(3),e.JRh(e.bMT(9,7,"PHONE_NUMBER")),e.R7$(2),e.R50("ngModel",t.phoneNumber),e.R7$(),e.Y8G("ngIf",t.phoneNumber&&!t.isValidPhone())}}function v(i,a){1&i&&(e.j41(0,"p",19),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.JRh(e.bMT(2,1,"INVALID_PHONE")))}function M(i,a){1&i&&(e.j41(0,"p",19),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.JRh(e.bMT(2,1,"INVALID_EMAIL")))}function I(i,a){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"div",14)(2,"label",15),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",16),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.Name,n)||(o.Name=n),e.Njj(n)}),e.bIt("keypress",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.utilService.allowOnlyLetters(n))}),e.k0s()(),e.j41(6,"div",14)(7,"label",15),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",16),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.surName,n)||(o.surName=n),e.Njj(n)}),e.bIt("keypress",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.utilService.allowOnlyLetters(n))}),e.k0s()(),e.j41(11,"div",14)(12,"label",15),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",20),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.village,n)||(o.village=n),e.Njj(n)}),e.k0s()(),e.j41(16,"div",14)(17,"label",15),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"input",17),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.phoneNumber,n)||(o.phoneNumber=n),e.Njj(n)}),e.bIt("keypress",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.utilService.allowOnlyNumbers(n))}),e.k0s()(),e.DNE(21,v,3,3,"p",18),e.j41(22,"div",14)(23,"label",15),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"input",21),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.email,n)||(o.email=n),e.Njj(n)}),e.k0s()(),e.DNE(27,M,3,3,"p",18),e.bVm()}if(2&i){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,12,"NAME")),e.R7$(2),e.R50("ngModel",t.Name),e.R7$(3),e.JRh(e.bMT(9,14,"SURNAME")),e.R7$(2),e.R50("ngModel",t.surName),e.R7$(3),e.JRh(e.bMT(14,16,"ADDRESS_VILLAGE")),e.R7$(2),e.R50("ngModel",t.village),e.R7$(3),e.JRh(e.bMT(19,18,"PHONE_NUMBER")),e.R7$(2),e.R50("ngModel",t.phoneNumber),e.R7$(),e.Y8G("ngIf",t.phoneNumber&&!t.isValidPhone()),e.R7$(3),e.JRh(e.bMT(25,20,"EMAIL_OPTIONAL")),e.R7$(2),e.R50("ngModel",t.email),e.R7$(),e.Y8G("ngIf",t.email&&!t.isValidEmail())}}function k(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.login())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("disabled",!t.Name||!t.isValidPhone()),e.R7$(),e.SpI(" ",e.bMT(2,2,"LOGIN")," ")}}function T(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createAccount())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("disabled",!t.isFormValid()),e.R7$(),e.SpI(" ",e.bMT(2,2,"CREATE")," ")}}function R(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"p",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.switchToCreateAccount())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&i&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"NO_ACCOUNT_MSG")," "))}function C(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",25)(1,"p",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.switchToLogin())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&i&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"ALREADY_HAVE_ACCOUNT_MSG")," "))}const E=[{path:"",component:(()=>{class i{constructor(t,r,n,o){this.authService=t,this.router=r,this.utilService=n,this.translationService=o,this.surName="",this.Name="",this.village="",this.email="",this.phoneNumber="",this.isNewUser=!1}switchToCreateAccount(){this.isNewUser=!0}switchToLogin(){this.isNewUser=!1}isValidEmail(){return!this.email||/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.email)}isValidPhone(){return 10===this.phoneNumber.length&&/^\d+$/.test(this.phoneNumber)}isFormValid(){return""!==this.surName.trim()&&""!==this.Name.trim()&&""!==this.village.trim()&&this.isValidPhone()&&this.isValidEmail()}login(){var t=this;return(0,_.A)(function*(){if(t.phoneNumber&&10===t.phoneNumber.length&&/^\d+$/.test(t.phoneNumber)){t.utilService.showLoading("Checking account...");try{const r=yield t.authService.getUserData(t.phoneNumber);r?(localStorage.setItem("userData",JSON.stringify(r)),localStorage.setItem("userToken",r.token||""),t.utilService.dismissLoading(),t.router.navigate(["/tabs/home"]),t.utilService.showToast("Login successfully!"),t.isNewUser=!1,t.resetForm()):(t.utilService.dismissLoading(),t.utilService.showToast("No account found. Please create one!",2e3,"warning"),t.isNewUser=!0,t.resetForm())}catch(r){t.utilService.dismissLoading(),t.utilService.showToast("Error checking account. Try again!",2e3,"danger"),console.error("Login Error:",r)}}else t.utilService.showToast("Enter a valid 10-digit phone number!")})()}createAccount(){var t=this;return(0,_.A)(function*(){if(t.isFormValid()){t.utilService.showLoading("Creating account...");try{const r={surName:t.surName,Name:t.Name,fullName:`${t.Name} ${t.surName}`,village:t.village,email:t.email||null,phoneNumber:t.phoneNumber};yield t.authService.saveUserData(r),t.resetForm(),t.utilService.dismissLoading(),t.router.navigate(["/tabs/home"]),t.utilService.showToast("Account created successfully!"),t.isNewUser=!1}catch(r){t.utilService.dismissLoading(),t.utilService.showToast("Account creation failed. Try again!",2e3,"danger"),console.error("Account Creation Error:",r)}}else t.utilService.showToast("Please fill all required fields correctly!",2e3,"warning")})()}resetForm(){this.surName="",this.village="",this.email=""}static{this.\u0275fac=function(r){return new(r||i)(e.rXU(d.u),e.rXU(g.Ix),e.rXU(m.a),e.rXU(h.L))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-user-login"]],decls:22,vars:14,consts:[[1,"custom-header-toolbar"],[1,"title"],["slot","end"],[3,"click"],["height","35px","src","../../../assets/icon/fuel icon/languages.png"],["class","logo-container",4,"ngIf"],[1,"common-title"],[1,"custom-gap"],[4,"ngIf"],["class","custome-button",3,"disabled","click",4,"ngIf"],["class","create-account",4,"ngIf"],["class","back-to-login",4,"ngIf"],[1,"logo-container"],["src","../../../assets/image/pmp.png","alt","App Logo",1,"app-logo"],[1,"input-group"],[1,"input-group__label"],["type","text",1,"input-group__input",3,"ngModelChange","keypress","ngModel"],["type","tel","maxlength","10",1,"input-group__input",3,"ngModelChange","keypress","ngModel"],["class","error-text",4,"ngIf"],[1,"error-text"],["type","text",1,"input-group__input",3,"ngModelChange","ngModel"],["type","email",1,"input-group__input",3,"ngModelChange","ngModel"],[1,"custome-button",3,"click","disabled"],[1,"create-account"],[1,"create-account-text",3,"click"],[1,"back-to-login"],[1,"link-text",3,"click"]],template:function(r,n){1&r&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),e.EFF(3,"Fuel Mitra"),e.k0s(),e.j41(4,"ion-buttons",2)(5,"ion-button",3),e.bIt("click",function(){return n.translationService.changeLanguage()}),e.nrm(6,"img",4),e.k0s()()()(),e.j41(7,"ion-content")(8,"div"),e.DNE(9,N,2,0,"div",5),e.j41(10,"div",6)(11,"ion-title"),e.EFF(12),e.nI1(13,"translate"),e.nI1(14,"translate"),e.k0s()(),e.nrm(15,"div",7),e.DNE(16,x,12,9,"ng-container",8)(17,I,28,22,"ng-container",8)(18,k,3,4,"ion-button",9)(19,T,3,4,"ion-button",9)(20,R,4,3,"div",10)(21,C,4,3,"div",11),e.k0s()()),2&r&&(e.R7$(8),e.HbH(n.isNewUser?"container3":"container_01"),e.R7$(),e.Y8G("ngIf",!n.isNewUser),e.R7$(3),e.JRh(n.isNewUser?e.bMT(13,10,"CREATE_ACCOUNT"):e.bMT(14,12,"LOGIN")),e.R7$(4),e.Y8G("ngIf",!n.isNewUser),e.R7$(),e.Y8G("ngIf",n.isNewUser),e.R7$(),e.Y8G("ngIf",!n.isNewUser),e.R7$(),e.Y8G("ngIf",n.isNewUser),e.R7$(),e.Y8G("ngIf",!n.isNewUser),e.R7$(),e.Y8G("ngIf",n.isNewUser))},dependencies:[p.bT,c.me,c.BC,c.tU,c.vS,l.Jm,l.QW,l.W9,l.eU,l.BC,l.ai,f.D9],styles:[".title[_ngcontent-%COMP%]{text-align:center;padding-left:90px}.container_01[_ngcontent-%COMP%]{flex:1;background:linear-gradient(100deg,#402,#006);padding:55px 20px;display:flex;flex-direction:column;height:100vh;gap:15px;align-items:center;background-color:#fff;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 460 55'%3E%3Cg fill='none' fill-rule='evenodd' stroke='%23fff' stroke-width='7' opacity='.1'%3E%3Cpath d='M-345 34.5s57.5-13.8 115-13.8 115 13.8 115 13.8S-57.5 48.3 0 48.3s115-13.8 115-13.8 57.5-13.8 115-13.8 115 13.8 115 13.8 57.5 13.8 115 13.8 115-13.8 115-13.8'/%3E%3Cpath d='M-345 20.7s57.5-13.8 115-13.8 115 13.8 115 13.8S-57.5 34.5 0 34.5s115-13.8 115-13.8S172.5 6.9 230 6.9s115 13.8 115 13.8 57.5 13.8 115 13.8 115-13.8 115-13.8m-920 27.6s57.5-13.8 115-13.8 115 13.8 115 13.8S-57.5 62.1 0 62.1s115-13.8 115-13.8 57.5-13.8 115-13.8 115 13.8 115 13.8 57.5 13.8 115 13.8 115-13.8 115-13.8'/%3E%3Cpath d='M-345 6.9s57.5-13.8 115-13.8S-115 6.9-115 6.9-57.5 20.7 0 20.7 115 6.9 115 6.9 172.5-6.9 230-6.9 345 6.9 345 6.9s57.5 13.8 115 13.8S575 6.9 575 6.9'/%3E%3Cpath d='M-345-6.9s57.5-13.8 115-13.8S-115-6.9-115-6.9-57.5 6.9 0 6.9 115-6.9 115-6.9s57.5-13.8 115-13.8S345-6.9 345-6.9 402.5 6.9 460 6.9 575-6.9 575-6.9m-920 69s57.5-13.8 115-13.8 115 13.8 115 13.8S-57.5 75.9 0 75.9s115-13.8 115-13.8 57.5-13.8 115-13.8 115 13.8 115 13.8 57.5 13.8 115 13.8 115-13.8 115-13.8'/%3E%3C/g%3E%3C/svg%3E%0A\"),linear-gradient(80deg,#202,#006);background-size:50vw auto,100% 100%;z-index:999}.create-account-text[_ngcontent-%COMP%]{color:#007bff;text-decoration:underline;cursor:pointer;font-weight:700;text-align:center;margin-top:10px;font-size:12px}.create-account-text[_ngcontent-%COMP%]:hover{color:#0056b3}.link-text[_ngcontent-%COMP%]{color:#007bff;text-decoration:underline;cursor:pointer;font-weight:700;text-align:center;margin-top:10px;font-size:12px}.link-text[_ngcontent-%COMP%]:hover{color:#0056b3}.container3[_ngcontent-%COMP%]{flex:1;background:linear-gradient(100deg,#402,#006);padding:90px 20px;display:flex;flex-direction:column;height:100vh;gap:15px;align-items:center;background-color:#fff;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 460 55'%3E%3Cg fill='none' fill-rule='evenodd' stroke='%23fff' stroke-width='7' opacity='.1'%3E%3Cpath d='M-345 34.5s57.5-13.8 115-13.8 115 13.8 115 13.8S-57.5 48.3 0 48.3s115-13.8 115-13.8 57.5-13.8 115-13.8 115 13.8 115 13.8 57.5 13.8 115 13.8 115-13.8 115-13.8'/%3E%3Cpath d='M-345 20.7s57.5-13.8 115-13.8 115 13.8 115 13.8S-57.5 34.5 0 34.5s115-13.8 115-13.8S172.5 6.9 230 6.9s115 13.8 115 13.8 57.5 13.8 115 13.8 115-13.8 115-13.8m-920 27.6s57.5-13.8 115-13.8 115 13.8 115 13.8S-57.5 62.1 0 62.1s115-13.8 115-13.8 57.5-13.8 115-13.8 115 13.8 115 13.8 57.5 13.8 115 13.8 115-13.8 115-13.8'/%3E%3Cpath d='M-345 6.9s57.5-13.8 115-13.8S-115 6.9-115 6.9-57.5 20.7 0 20.7 115 6.9 115 6.9 172.5-6.9 230-6.9 345 6.9 345 6.9s57.5 13.8 115 13.8S575 6.9 575 6.9'/%3E%3Cpath d='M-345-6.9s57.5-13.8 115-13.8S-115-6.9-115-6.9-57.5 6.9 0 6.9 115-6.9 115-6.9s57.5-13.8 115-13.8S345-6.9 345-6.9 402.5 6.9 460 6.9 575-6.9 575-6.9m-920 69s57.5-13.8 115-13.8 115 13.8 115 13.8S-57.5 75.9 0 75.9s115-13.8 115-13.8 57.5-13.8 115-13.8 115 13.8 115 13.8 57.5 13.8 115 13.8 115-13.8 115-13.8'/%3E%3C/g%3E%3C/svg%3E%0A\"),linear-gradient(80deg,#202,#006);background-size:50vw auto,100% 100%;z-index:999}.app-logo[_ngcontent-%COMP%]{width:200px;height:200px}.custome-button[_ngcontent-%COMP%]{width:100%;max-width:400px;margin-top:20px;font-size:18px;font-weight:700;background:linear-gradient(90deg,#514d93,#02a361 0%,#0f8a94);color:#fff;border-radius:12px}.error-text[_ngcontent-%COMP%]{color:red;font-size:12px;margin-left:15px}"]})}}return i})()}];let U=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[g.iI.forChild(E),g.iI]})}}return i})();var L=s(8454);let j=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[p.MD,c.YN,l.bv,L.G,U]})}}return i})()}}]);