(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1401:(In,dt,N)=>{"use strict";N.d(dt,{$L:()=>Ot,$g:()=>Ie,A4:()=>ue,Am:()=>ir,As:()=>Nt,Bd:()=>We,Cv:()=>Nn,FA:()=>Ct,Fy:()=>Ye,HN:()=>Pr,Hk:()=>Z,I9:()=>Jn,Im:()=>mt,K3:()=>Q,KA:()=>Ae,Ku:()=>Bn,Ll:()=>H,OE:()=>gr,T9:()=>Ke,Uj:()=>ve,XA:()=>Le,ZQ:()=>Ze,bD:()=>Ht,c1:()=>ze,cY:()=>at,dI:()=>pr,eX:()=>Pe,g:()=>De,gR:()=>Un,gz:()=>Nr,hp:()=>Hn,jZ:()=>Dt,kH:()=>Gt,kj:()=>pi,lT:()=>qe,lV:()=>kt,mS:()=>xe,nr:()=>Me,oD:()=>fi,od:()=>Tr,p7:()=>bt,qc:()=>xn,sr:()=>Mt,tD:()=>Rr,u:()=>Te,vA:()=>U,yw:()=>Xn,zW:()=>le,zw:()=>Ne});const l={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},U=function(Ge,$e){if(!Ge)throw Z($e)},Z=function(Ge){return new Error("Firebase Database ("+l.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Ge)},G=function(Ge){const $e=[];let vt=0;for(let Jt=0;Jt<Ge.length;Jt++){let xt=Ge.charCodeAt(Jt);xt<128?$e[vt++]=xt:xt<2048?($e[vt++]=xt>>6|192,$e[vt++]=63&xt|128):55296==(64512&xt)&&Jt+1<Ge.length&&56320==(64512&Ge.charCodeAt(Jt+1))?(xt=65536+((1023&xt)<<10)+(1023&Ge.charCodeAt(++Jt)),$e[vt++]=xt>>18|240,$e[vt++]=xt>>12&63|128,$e[vt++]=xt>>6&63|128,$e[vt++]=63&xt|128):($e[vt++]=xt>>12|224,$e[vt++]=xt>>6&63|128,$e[vt++]=63&xt|128)}return $e},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ge,$e){if(!Array.isArray(Ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const vt=$e?this.byteToCharMapWebSafe_:this.byteToCharMap_,Jt=[];for(let xt=0;xt<Ge.length;xt+=3){const Fn=Ge[xt],qn=xt+1<Ge.length,Jr=qn?Ge[xt+1]:0,gi=xt+2<Ge.length,xr=gi?Ge[xt+2]:0;let Wr=(15&Jr)<<2|xr>>6,kr=63&xr;gi||(kr=64,qn||(Wr=64)),Jt.push(vt[Fn>>2],vt[(3&Fn)<<4|Jr>>4],vt[Wr],vt[kr])}return Jt.join("")},encodeString(Ge,$e){return this.HAS_NATIVE_SUPPORT&&!$e?btoa(Ge):this.encodeByteArray(G(Ge),$e)},decodeString(Ge,$e){return this.HAS_NATIVE_SUPPORT&&!$e?atob(Ge):function(Ge){const $e=[];let vt=0,Jt=0;for(;vt<Ge.length;){const xt=Ge[vt++];if(xt<128)$e[Jt++]=String.fromCharCode(xt);else if(xt>191&&xt<224){const Fn=Ge[vt++];$e[Jt++]=String.fromCharCode((31&xt)<<6|63&Fn)}else if(xt>239&&xt<365){const gi=((7&xt)<<18|(63&Ge[vt++])<<12|(63&Ge[vt++])<<6|63&Ge[vt++])-65536;$e[Jt++]=String.fromCharCode(55296+(gi>>10)),$e[Jt++]=String.fromCharCode(56320+(1023&gi))}else{const Fn=Ge[vt++],qn=Ge[vt++];$e[Jt++]=String.fromCharCode((15&xt)<<12|(63&Fn)<<6|63&qn)}}return $e.join("")}(this.decodeStringToByteArray(Ge,$e))},decodeStringToByteArray(Ge,$e){this.init_();const vt=$e?this.charToByteMapWebSafe_:this.charToByteMap_,Jt=[];for(let xt=0;xt<Ge.length;){const Fn=vt[Ge.charAt(xt++)],Jr=xt<Ge.length?vt[Ge.charAt(xt)]:0;++xt;const xr=xt<Ge.length?vt[Ge.charAt(xt)]:64;++xt;const Sn=xt<Ge.length?vt[Ge.charAt(xt)]:64;if(++xt,null==Fn||null==Jr||null==xr||null==Sn)throw new be;Jt.push(Fn<<2|Jr>>4),64!==xr&&(Jt.push(Jr<<4&240|xr>>2),64!==Sn&&Jt.push(xr<<6&192|Sn))}return Jt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ge=0;Ge<this.ENCODED_VALS.length;Ge++)this.byteToCharMap_[Ge]=this.ENCODED_VALS.charAt(Ge),this.charToByteMap_[this.byteToCharMap_[Ge]]=Ge,this.byteToCharMapWebSafe_[Ge]=this.ENCODED_VALS_WEBSAFE.charAt(Ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ge]]=Ge,Ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ge)]=Ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ge)]=Ge)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ae=function(Ge){const $e=G(Ge);return Q.encodeByteArray($e,!0)},ve=function(Ge){return Ae(Ge).replace(/\./g,"")},Te=function(Ge){try{return Q.decodeString(Ge,!0)}catch($e){console.error("base64Decode failed: ",$e)}return null};function ue(Ge){return Ne(void 0,Ge)}function Ne(Ge,$e){if(!($e instanceof Object))return $e;switch($e.constructor){case Date:return new Date($e.getTime());case Object:void 0===Ge&&(Ge={});break;case Array:Ge=[];break;default:return $e}for(const vt in $e)!$e.hasOwnProperty(vt)||!pe(vt)||(Ge[vt]=Ne(Ge[vt],$e[vt]));return Ge}function pe(Ge){return"__proto__"!==Ge}function xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const He=()=>{try{return xe().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ge=process.env.__FIREBASE_DEFAULTS__;return Ge?JSON.parse(Ge):void 0})()||(()=>{if(typeof document>"u")return;let Ge;try{Ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $e=Ge&&Te(Ge[1]);return $e&&JSON.parse($e)})()}catch(Ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ge}`)}},Ke=()=>{var Ge;return null===(Ge=He())||void 0===Ge?void 0:Ge.config},Le=Ge=>{var $e;return null===($e=He())||void 0===$e?void 0:$e[`_${Ge}`]};class at{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($e,vt)=>{this.resolve=$e,this.reject=vt})}wrapCallback($e){return(vt,Jt)=>{vt?this.reject(vt):this.resolve(Jt),"function"==typeof $e&&(this.promise.catch(()=>{}),1===$e.length?$e(vt):$e(vt,Jt))}}}function Ye(Ge,$e){if(Ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Jt=$e||"demo-project",xt=Ge.iat||0,Fn=Ge.sub||Ge.user_id;if(!Fn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qn=Object.assign({iss:`https://securetoken.google.com/${Jt}`,aud:Jt,iat:xt,exp:xt+3600,auth_time:xt,sub:Fn,user_id:Fn,firebase:{sign_in_provider:"custom",identities:{}}},Ge);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(qn)),""].join(".")}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function H(){var Ge;const $e=null===(Ge=He())||void 0===Ge?void 0:Ge.forceEnvironment;if("node"===$e)return!0;if("browser"===$e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function We(){return typeof window<"u"||bt()}function bt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ze(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Mt(){const Ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ge&&void 0!==Ge.id}function kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qe(){const Ge=Ze();return Ge.indexOf("MSIE ")>=0||Ge.indexOf("Trident/")>=0}function Ie(){return!0===l.NODE_CLIENT||!0===l.NODE_ADMIN}function Me(){return!H()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function le(){try{return"object"==typeof indexedDB}catch{return!1}}function Pe(){return new Promise((Ge,$e)=>{try{let vt=!0;const Jt="validate-browser-context-for-indexeddb-analytics-module",xt=self.indexedDB.open(Jt);xt.onsuccess=()=>{xt.result.close(),vt||self.indexedDB.deleteDatabase(Jt),Ge(!0)},xt.onupgradeneeded=()=>{vt=!1},xt.onerror=()=>{var Fn;$e((null===(Fn=xt.error)||void 0===Fn?void 0:Fn.message)||"")}}catch(vt){$e(vt)}})}class De extends Error{constructor($e,vt,Jt){super(vt),this.code=$e,this.customData=Jt,this.name="FirebaseError",Object.setPrototypeOf(this,De.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ct.prototype.create)}}class Ct{constructor($e,vt,Jt){this.service=$e,this.serviceName=vt,this.errors=Jt}create($e,...vt){const Jt=vt[0]||{},xt=`${this.service}/${$e}`,Fn=this.errors[$e],qn=Fn?function fe(Ge,$e){return Ge.replace(st,(vt,Jt)=>{const xt=$e[Jt];return null!=xt?String(xt):`<${Jt}?>`})}(Fn,Jt):"Error";return new De(xt,`${this.serviceName}: ${qn} (${xt}).`,Jt)}}const st=/\{\$([^}]+)}/g;function Ot(Ge){return JSON.parse(Ge)}function Nt(Ge){return JSON.stringify(Ge)}const hn=function(Ge){let $e={},vt={},Jt={},xt="";try{const Fn=Ge.split(".");$e=Ot(Te(Fn[0])||""),vt=Ot(Te(Fn[1])||""),xt=Fn[2],Jt=vt.d||{},delete vt.d}catch{}return{header:$e,claims:vt,data:Jt,signature:xt}},Nn=function(Ge){const vt=hn(Ge).claims;return!!vt&&"object"==typeof vt&&vt.hasOwnProperty("iat")},xn=function(Ge){const $e=hn(Ge).claims;return"object"==typeof $e&&!0===$e.admin};function Un(Ge,$e){return Object.prototype.hasOwnProperty.call(Ge,$e)}function Xn(Ge,$e){if(Object.prototype.hasOwnProperty.call(Ge,$e))return Ge[$e]}function mt(Ge){for(const $e in Ge)if(Object.prototype.hasOwnProperty.call(Ge,$e))return!1;return!0}function Gt(Ge,$e,vt){const Jt={};for(const xt in Ge)Object.prototype.hasOwnProperty.call(Ge,xt)&&(Jt[xt]=$e.call(vt,Ge[xt],xt,Ge));return Jt}function Ht(Ge,$e){if(Ge===$e)return!0;const vt=Object.keys(Ge),Jt=Object.keys($e);for(const xt of vt){if(!Jt.includes(xt))return!1;const Fn=Ge[xt],qn=$e[xt];if(Mn(Fn)&&Mn(qn)){if(!Ht(Fn,qn))return!1}else if(Fn!==qn)return!1}for(const xt of Jt)if(!vt.includes(xt))return!1;return!0}function Mn(Ge){return null!==Ge&&"object"==typeof Ge}function ir(Ge){const $e=[];for(const[vt,Jt]of Object.entries(Ge))Array.isArray(Jt)?Jt.forEach(xt=>{$e.push(encodeURIComponent(vt)+"="+encodeURIComponent(xt))}):$e.push(encodeURIComponent(vt)+"="+encodeURIComponent(Jt));return $e.length?"&"+$e.join("&"):""}function Jn(Ge){const $e={};return Ge.replace(/^\?/,"").split("&").forEach(Jt=>{if(Jt){const[xt,Fn]=Jt.split("=");$e[decodeURIComponent(xt)]=decodeURIComponent(Fn)}}),$e}function Hn(Ge){const $e=Ge.indexOf("?");if(!$e)return"";const vt=Ge.indexOf("#",$e);return Ge.substring($e,vt>0?vt:void 0)}class Nr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $e=1;$e<this.blockSize;++$e)this.pad_[$e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($e,vt){vt||(vt=0);const Jt=this.W_;if("string"==typeof $e)for(let Sn=0;Sn<16;Sn++)Jt[Sn]=$e.charCodeAt(vt)<<24|$e.charCodeAt(vt+1)<<16|$e.charCodeAt(vt+2)<<8|$e.charCodeAt(vt+3),vt+=4;else for(let Sn=0;Sn<16;Sn++)Jt[Sn]=$e[vt]<<24|$e[vt+1]<<16|$e[vt+2]<<8|$e[vt+3],vt+=4;for(let Sn=16;Sn<80;Sn++){const Wr=Jt[Sn-3]^Jt[Sn-8]^Jt[Sn-14]^Jt[Sn-16];Jt[Sn]=4294967295&(Wr<<1|Wr>>>31)}let xr,Vr,xt=this.chain_[0],Fn=this.chain_[1],qn=this.chain_[2],Jr=this.chain_[3],gi=this.chain_[4];for(let Sn=0;Sn<80;Sn++){Sn<40?Sn<20?(xr=Jr^Fn&(qn^Jr),Vr=1518500249):(xr=Fn^qn^Jr,Vr=1859775393):Sn<60?(xr=Fn&qn|Jr&(Fn|qn),Vr=2400959708):(xr=Fn^qn^Jr,Vr=3395469782);const Wr=(xt<<5|xt>>>27)+xr+gi+Vr+Jt[Sn]&4294967295;gi=Jr,Jr=qn,qn=4294967295&(Fn<<30|Fn>>>2),Fn=xt,xt=Wr}this.chain_[0]=this.chain_[0]+xt&4294967295,this.chain_[1]=this.chain_[1]+Fn&4294967295,this.chain_[2]=this.chain_[2]+qn&4294967295,this.chain_[3]=this.chain_[3]+Jr&4294967295,this.chain_[4]=this.chain_[4]+gi&4294967295}update($e,vt){if(null==$e)return;void 0===vt&&(vt=$e.length);const Jt=vt-this.blockSize;let xt=0;const Fn=this.buf_;let qn=this.inbuf_;for(;xt<vt;){if(0===qn)for(;xt<=Jt;)this.compress_($e,xt),xt+=this.blockSize;if("string"==typeof $e){for(;xt<vt;)if(Fn[qn]=$e.charCodeAt(xt),++qn,++xt,qn===this.blockSize){this.compress_(Fn),qn=0;break}}else for(;xt<vt;)if(Fn[qn]=$e[xt],++qn,++xt,qn===this.blockSize){this.compress_(Fn),qn=0;break}}this.inbuf_=qn,this.total_+=vt}digest(){const $e=[];let vt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let xt=this.blockSize-1;xt>=56;xt--)this.buf_[xt]=255&vt,vt/=256;this.compress_(this.buf_);let Jt=0;for(let xt=0;xt<5;xt++)for(let Fn=24;Fn>=0;Fn-=8)$e[Jt]=this.chain_[xt]>>Fn&255,++Jt;return $e}}function Rr(Ge,$e){const vt=new rr(Ge,$e);return vt.subscribe.bind(vt)}class rr{constructor($e,vt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=vt,this.task.then(()=>{$e(this)}).catch(Jt=>{this.error(Jt)})}next($e){this.forEachObserver(vt=>{vt.next($e)})}error($e){this.forEachObserver(vt=>{vt.error($e)}),this.close($e)}complete(){this.forEachObserver($e=>{$e.complete()}),this.close()}subscribe($e,vt,Jt){let xt;if(void 0===$e&&void 0===vt&&void 0===Jt)throw new Error("Missing Observer.");xt=function Or(Ge,$e){if("object"!=typeof Ge||null===Ge)return!1;for(const vt of $e)if(vt in Ge&&"function"==typeof Ge[vt])return!0;return!1}($e,["next","error","complete"])?$e:{next:$e,error:vt,complete:Jt},void 0===xt.next&&(xt.next=Qr),void 0===xt.error&&(xt.error=Qr),void 0===xt.complete&&(xt.complete=Qr);const Fn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?xt.error(this.finalError):xt.complete()}catch{}}),this.observers.push(xt),Fn}unsubscribeOne($e){void 0===this.observers||void 0===this.observers[$e]||(delete this.observers[$e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($e){if(!this.finalized)for(let vt=0;vt<this.observers.length;vt++)this.sendOne(vt,$e)}sendOne($e,vt){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$e])try{vt(this.observers[$e])}catch(Jt){typeof console<"u"&&console.error&&console.error(Jt)}})}close($e){this.finalized||(this.finalized=!0,void 0!==$e&&(this.finalError=$e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qr(){}const Tr=function(Ge,$e,vt,Jt){let xt;if(Jt<$e?xt="at least "+$e:Jt>vt&&(xt=0===vt?"none":"no more than "+vt),xt)throw new Error(Ge+" failed: Was called with "+Jt+(1===Jt?" argument.":" arguments.")+" Expects "+xt+".")};function pr(Ge,$e){return`${Ge} failed: ${$e} argument `}function fi(Ge,$e,vt,Jt){if((!Jt||vt)&&"function"!=typeof vt)throw new Error(pr(Ge,$e)+"must be a valid function.")}function Pr(Ge,$e,vt,Jt){if((!Jt||vt)&&("object"!=typeof vt||null===vt))throw new Error(pr(Ge,$e)+"must be a valid context object.")}const pi=function(Ge){const $e=[];let vt=0;for(let Jt=0;Jt<Ge.length;Jt++){let xt=Ge.charCodeAt(Jt);if(xt>=55296&&xt<=56319){const Fn=xt-55296;Jt++,U(Jt<Ge.length,"Surrogate pair missing trail surrogate."),xt=65536+(Fn<<10)+(Ge.charCodeAt(Jt)-56320)}xt<128?$e[vt++]=xt:xt<2048?($e[vt++]=xt>>6|192,$e[vt++]=63&xt|128):xt<65536?($e[vt++]=xt>>12|224,$e[vt++]=xt>>6&63|128,$e[vt++]=63&xt|128):($e[vt++]=xt>>18|240,$e[vt++]=xt>>12&63|128,$e[vt++]=xt>>6&63|128,$e[vt++]=63&xt|128)}return $e},gr=function(Ge){let $e=0;for(let vt=0;vt<Ge.length;vt++){const Jt=Ge.charCodeAt(vt);Jt<128?$e++:Jt<2048?$e+=2:Jt>=55296&&Jt<=56319?($e+=4,vt++):$e+=3}return $e};function Bn(Ge){return Ge&&Ge._delegate?Ge._delegate:Ge}},2844:(In,dt,N)=>{"use strict";N.d(dt,{O:()=>l});var l=function(U){return U.NOT_REQUIRED="NOT_REQUIRED",U.OBTAINED="OBTAINED",U.REQUIRED="REQUIRED",U.UNKNOWN="UNKNOWN",U}(l||{})},5083:(In,dt,N)=>{"use strict";N.d(dt,{E_:()=>it,F3:()=>xe,I9:()=>ve,Ii:()=>pe});var l=N(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var Ae=function(bt){return bt.Unimplemented="UNIMPLEMENTED",bt.Unavailable="UNAVAILABLE",bt}(Ae||{});class ve extends Error{constructor(ze,Mt,kt){super(ze),this.message=ze,this.code=Mt,this.data=kt}}const ue=bt=>{var ze,Mt,kt,cn,qe;const Se=bt.CapacitorCustomPlatform||null,Ie=bt.Capacitor||{},Me=Ie.Plugins=Ie.Plugins||{},le=bt.CapacitorPlatforms,ot=(null===(ze=le?.currentPlatform)||void 0===ze?void 0:ze.getPlatform)||(()=>null!==Se?Se.name:(bt=>{var ze,Mt;return bt?.androidBridge?"android":null!==(Mt=null===(ze=bt?.webkit)||void 0===ze?void 0:ze.messageHandlers)&&void 0!==Mt&&Mt.bridge?"ios":"web"})(bt)),De=(null===(Mt=le?.currentPlatform)||void 0===Mt?void 0:Mt.isNativePlatform)||(()=>"web"!==ot()),fe=(null===(kt=le?.currentPlatform)||void 0===kt?void 0:kt.isPluginAvailable)||(xn=>{const Un=Vn.get(xn);return!(!Un?.platforms.has(ot())&&!Ot(xn))}),Ot=(null===(cn=le?.currentPlatform)||void 0===cn?void 0:cn.getPluginHeader)||(xn=>{var Un;return null===(Un=Ie.PluginHeaders)||void 0===Un?void 0:Un.find(Xn=>Xn.name===xn)}),Vn=new Map,Nn=(null===(qe=le?.currentPlatform)||void 0===qe?void 0:qe.registerPlugin)||((xn,Un={})=>{const Xn=Vn.get(xn);if(Xn)return console.warn(`Capacitor plugin "${xn}" already registered. Cannot register plugins twice.`),Xn.proxy;const mt=ot(),Gt=Ot(xn);let Ht;const Mn=function(){var rr=(0,l.A)(function*(){return!Ht&&mt in Un?Ht=Ht="function"==typeof Un[mt]?yield Un[mt]():Un[mt]:null!==Se&&!Ht&&"web"in Un&&(Ht=Ht="function"==typeof Un.web?yield Un.web():Un.web),Ht});return function(){return rr.apply(this,arguments)}}(),ir=rr=>{let dr;const Or=(...Qr)=>{const Tr=Mn().then(pr=>{const _r=((rr,dr)=>{var Or,Qr;if(!Gt){if(rr)return null===(Qr=rr[dr])||void 0===Qr?void 0:Qr.bind(rr);throw new ve(`"${xn}" plugin is not implemented on ${mt}`,Ae.Unimplemented)}{const Tr=Gt?.methods.find(pr=>dr===pr.name);if(Tr)return"promise"===Tr.rtype?pr=>Ie.nativePromise(xn,dr.toString(),pr):(pr,_r)=>Ie.nativeCallback(xn,dr.toString(),pr,_r);if(rr)return null===(Or=rr[dr])||void 0===Or?void 0:Or.bind(rr)}})(pr,rr);if(_r){const fi=_r(...Qr);return dr=fi?.remove,fi}throw new ve(`"${xn}.${rr}()" is not implemented on ${mt}`,Ae.Unimplemented)});return"addListener"===rr&&(Tr.remove=(0,l.A)(function*(){return dr()})),Tr};return Or.toString=()=>`${rr.toString()}() { [capacitor code] }`,Object.defineProperty(Or,"name",{value:rr,writable:!1,configurable:!1}),Or},Jn=ir("addListener"),Hn=ir("removeListener"),Nr=(rr,dr)=>{const Or=Jn({eventName:rr},dr),Qr=function(){var pr=(0,l.A)(function*(){const _r=yield Or;Hn({eventName:rr,callbackId:_r},dr)});return function(){return pr.apply(this,arguments)}}(),Tr=new Promise(pr=>Or.then(()=>pr({remove:Qr})));return Tr.remove=(0,l.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Qr()}),Tr},Rr=new Proxy({},{get(rr,dr){switch(dr){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Gt?Nr:Jn;case"removeListener":return Hn;default:return ir(dr)}}});return Me[xn]=Rr,Vn.set(xn,{name:xn,proxy:Rr,platforms:new Set([...Object.keys(Un),...Gt?[mt]:[]])}),Rr});return Ie.convertFileSrc||(Ie.convertFileSrc=xn=>xn),Ie.getPlatform=ot,Ie.handleError=xn=>bt.console.error(xn),Ie.isNativePlatform=De,Ie.isPluginAvailable=fe,Ie.pluginMethodNoop=(xn,Un,Xn)=>Promise.reject(`${Xn} does not have an implementation of "${Un}".`),Ie.registerPlugin=Nn,Ie.Exception=ve,Ie.DEBUG=!!Ie.DEBUG,Ie.isLoggingEnabled=!!Ie.isLoggingEnabled,Ie.platform=Ie.getPlatform(),Ie.isNative=Ie.isNativePlatform(),Ie},pe=(bt=>bt.Capacitor=ue(bt))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),xe=pe.registerPlugin;class it{constructor(ze){this.listeners={},this.retainedEventArguments={},this.windowListeners={},ze&&(console.warn(`Capacitor WebPlugin "${ze.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=ze)}addListener(ze,Mt){var kt=this;let cn=!1;this.listeners[ze]||(this.listeners[ze]=[],cn=!0),this.listeners[ze].push(Mt);const Se=this.windowListeners[ze];Se&&!Se.registered&&this.addWindowListener(Se),cn&&this.sendRetainedArgumentsForEvent(ze);const Ie=function(){var le=(0,l.A)(function*(){return kt.removeListener(ze,Mt)});return function(){return le.apply(this,arguments)}}();return Promise.resolve({remove:Ie})}removeAllListeners(){var ze=this;return(0,l.A)(function*(){ze.listeners={};for(const Mt in ze.windowListeners)ze.removeWindowListener(ze.windowListeners[Mt]);ze.windowListeners={}})()}notifyListeners(ze,Mt,kt){const cn=this.listeners[ze];if(cn)cn.forEach(qe=>qe(Mt));else if(kt){let qe=this.retainedEventArguments[ze];qe||(qe=[]),qe.push(Mt),this.retainedEventArguments[ze]=qe}}hasListeners(ze){return!!this.listeners[ze].length}registerWindowListener(ze,Mt){this.windowListeners[Mt]={registered:!1,windowEventName:ze,pluginEventName:Mt,handler:kt=>{this.notifyListeners(Mt,kt)}}}unimplemented(ze="not implemented"){return new pe.Exception(ze,Ae.Unimplemented)}unavailable(ze="not available"){return new pe.Exception(ze,Ae.Unavailable)}removeListener(ze,Mt){var kt=this;return(0,l.A)(function*(){const cn=kt.listeners[ze];if(!cn)return;const qe=cn.indexOf(Mt);kt.listeners[ze].splice(qe,1),kt.listeners[ze].length||kt.removeWindowListener(kt.windowListeners[ze])})()}addWindowListener(ze){window.addEventListener(ze.windowEventName,ze.handler),ze.registered=!0}removeWindowListener(ze){ze&&(window.removeEventListener(ze.windowEventName,ze.handler),ze.registered=!1)}sendRetainedArgumentsForEvent(ze){const Mt=this.retainedEventArguments[ze];Mt&&(delete this.retainedEventArguments[ze],Mt.forEach(kt=>{this.notifyListeners(ze,kt)}))}}const At=bt=>encodeURIComponent(bt).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Pt=bt=>bt.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ke extends it{getCookies(){return(0,l.A)(function*(){const ze=document.cookie,Mt={};return ze.split(";").forEach(kt=>{if(kt.length<=0)return;let[cn,qe]=kt.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");cn=Pt(cn).trim(),qe=Pt(qe).trim(),Mt[cn]=qe}),Mt})()}setCookie(ze){return(0,l.A)(function*(){try{const Mt=At(ze.key),kt=At(ze.value),cn=`; expires=${(ze.expires||"").replace("expires=","")}`,qe=(ze.path||"/").replace("path=",""),Se=null!=ze.url&&ze.url.length>0?`domain=${ze.url}`:"";document.cookie=`${Mt}=${kt||""}${cn}; path=${qe}; ${Se};`}catch(Mt){return Promise.reject(Mt)}})()}deleteCookie(ze){return(0,l.A)(function*(){try{document.cookie=`${ze.key}=; Max-Age=0`}catch(Mt){return Promise.reject(Mt)}})()}clearCookies(){return(0,l.A)(function*(){try{const ze=document.cookie.split(";")||[];for(const Mt of ze)document.cookie=Mt.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(ze){return Promise.reject(ze)}})()}clearAllCookies(){var ze=this;return(0,l.A)(function*(){try{yield ze.clearCookies()}catch(Mt){return Promise.reject(Mt)}})()}}xe("CapacitorCookies",{web:()=>new Ke});const at=function(){var bt=(0,l.A)(function*(ze){return new Promise((Mt,kt)=>{const cn=new FileReader;cn.onload=()=>{const qe=cn.result;Mt(qe.indexOf(",")>=0?qe.split(",")[1]:qe)},cn.onerror=qe=>kt(qe),cn.readAsDataURL(ze)})});return function(Mt){return bt.apply(this,arguments)}}();class H extends it{request(ze){return(0,l.A)(function*(){const Mt=((bt,ze={})=>{const Mt=Object.assign({method:bt.method||"GET",headers:bt.headers},ze),cn=((bt={})=>{const ze=Object.keys(bt);return Object.keys(bt).map(cn=>cn.toLocaleLowerCase()).reduce((cn,qe,Se)=>(cn[qe]=bt[ze[Se]],cn),{})})(bt.headers)["content-type"]||"";if("string"==typeof bt.data)Mt.body=bt.data;else if(cn.includes("application/x-www-form-urlencoded")){const qe=new URLSearchParams;for(const[Se,Ie]of Object.entries(bt.data||{}))qe.set(Se,Ie);Mt.body=qe.toString()}else if(cn.includes("multipart/form-data")||bt.data instanceof FormData){const qe=new FormData;if(bt.data instanceof FormData)bt.data.forEach((Ie,Me)=>{qe.append(Me,Ie)});else for(const Ie of Object.keys(bt.data))qe.append(Ie,bt.data[Ie]);Mt.body=qe;const Se=new Headers(Mt.headers);Se.delete("content-type"),Mt.headers=Se}else(cn.includes("application/json")||"object"==typeof bt.data)&&(Mt.body=JSON.stringify(bt.data));return Mt})(ze,ze.webFetchExtra),kt=((bt,ze=!0)=>bt?Object.entries(bt).reduce((kt,cn)=>{const[qe,Se]=cn;let Ie,Me;return Array.isArray(Se)?(Me="",Se.forEach(le=>{Ie=ze?encodeURIComponent(le):le,Me+=`${qe}=${Ie}&`}),Me.slice(0,-1)):(Ie=ze?encodeURIComponent(Se):Se,Me=`${qe}=${Ie}`),`${kt}&${Me}`},"").substr(1):null)(ze.params,ze.shouldEncodeUrlParams),cn=kt?`${ze.url}?${kt}`:ze.url,qe=yield fetch(cn,Mt),Se=qe.headers.get("content-type")||"";let Me,le,{responseType:Ie="text"}=qe.ok?ze:{};switch(Se.includes("application/json")&&(Ie="json"),Ie){case"arraybuffer":case"blob":le=yield qe.blob(),Me=yield at(le);break;case"json":Me=yield qe.json();break;default:Me=yield qe.text()}const Pe={};return qe.headers.forEach((ot,Xe)=>{Pe[Xe]=ot}),{data:Me,headers:Pe,status:qe.status,url:qe.url}})()}get(ze){var Mt=this;return(0,l.A)(function*(){return Mt.request(Object.assign(Object.assign({},ze),{method:"GET"}))})()}post(ze){var Mt=this;return(0,l.A)(function*(){return Mt.request(Object.assign(Object.assign({},ze),{method:"POST"}))})()}put(ze){var Mt=this;return(0,l.A)(function*(){return Mt.request(Object.assign(Object.assign({},ze),{method:"PUT"}))})()}patch(ze){var Mt=this;return(0,l.A)(function*(){return Mt.request(Object.assign(Object.assign({},ze),{method:"PATCH"}))})()}delete(ze){var Mt=this;return(0,l.A)(function*(){return Mt.request(Object.assign(Object.assign({},ze),{method:"DELETE"}))})()}}xe("CapacitorHttp",{web:()=>new H})},2233:(In,dt,N)=>{"use strict";N.d(dt,{S:()=>U});const U=(0,N(5083).F3)("Share",{web:()=>N.e(1227).then(N.bind(N,1227)).then(Z=>new Z.ShareWeb)})},4442:(In,dt,N)=>{"use strict";N.d(dt,{L:()=>Re,a:()=>Q,b:()=>be,c:()=>Ae,d:()=>ve,g:()=>qe}),N(5531);const Re="ionViewWillEnter",Q="ionViewDidEnter",be="ionViewWillLeave",Ae="ionViewDidLeave",ve="ionViewWillUnload",qe=Se=>Se.classList.contains("ion-page")?Se:Se.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Se},5531:(In,dt,N)=>{"use strict";N.d(dt,{a:()=>Te,c:()=>U,g:()=>ve});class l{constructor(){this.m=new Map}reset(Se){this.m=new Map(Object.entries(Se))}get(Se,Ie){const Me=this.m.get(Se);return void 0!==Me?Me:Ie}getBoolean(Se,Ie=!1){const Me=this.m.get(Se);return void 0===Me?Ie:"string"==typeof Me?"true"===Me:!!Me}getNumber(Se,Ie){const Me=parseFloat(this.m.get(Se));return isNaN(Me)?void 0!==Ie?Ie:NaN:Me}set(Se,Ie){this.m.set(Se,Ie)}}const U=new l,ve=qe=>ue(qe),Te=(qe,Se)=>("string"==typeof qe&&(Se=qe,qe=void 0),ve(qe).includes(Se)),ue=(qe=window)=>{if(typeof qe>"u")return[];qe.Ionic=qe.Ionic||{};let Se=qe.Ionic.platforms;return null==Se&&(Se=qe.Ionic.platforms=Ne(qe),Se.forEach(Ie=>qe.document.documentElement.classList.add(`plt-${Ie}`))),Se},Ne=qe=>{const Se=U.get("platform");return Object.keys(ze).filter(Ie=>{const Me=Se?.[Ie];return"function"==typeof Me?Me(qe):ze[Ie](qe)})},xe=qe=>!!(We(qe,/iPad/i)||We(qe,/Macintosh/i)&&Ke(qe)),it=qe=>We(qe,/android|sink/i),Ke=qe=>bt(qe,"(any-pointer:coarse)"),at=qe=>Ye(qe)||Ze(qe),Ye=qe=>!!(qe.cordova||qe.phonegap||qe.PhoneGap),Ze=qe=>{const Se=qe.Capacitor;return!!(Se?.isNative||Se?.isNativePlatform&&Se.isNativePlatform())},We=(qe,Se)=>Se.test(qe.navigator.userAgent),bt=(qe,Se)=>{var Ie;return null===(Ie=qe.matchMedia)||void 0===Ie?void 0:Ie.call(qe,Se).matches},ze={ipad:xe,iphone:qe=>We(qe,/iPhone/i),ios:qe=>We(qe,/iPhone|iPod/i)||xe(qe),android:it,phablet:qe=>{const Se=qe.innerWidth,Ie=qe.innerHeight,Me=Math.min(Se,Ie),le=Math.max(Se,Ie);return Me>390&&Me<520&&le>620&&le<800},tablet:qe=>{const Se=qe.innerWidth,Ie=qe.innerHeight,Me=Math.min(Se,Ie),le=Math.max(Se,Ie);return xe(qe)||(qe=>it(qe)&&!We(qe,/mobile/i))(qe)||Me>460&&Me<820&&le>780&&le<1400},cordova:Ye,capacitor:Ze,electron:qe=>We(qe,/electron/i),pwa:qe=>{var Se;return!!(null!==(Se=qe.matchMedia)&&void 0!==Se&&Se.call(qe,"(display-mode: standalone)").matches||qe.navigator.standalone)},mobile:Ke,mobileweb:qe=>Ke(qe)&&!at(qe),desktop:qe=>!Ke(qe),hybrid:at}},9986:(In,dt,N)=>{"use strict";N.d(dt,{c:()=>Q});var l=N(8476);let U;const G=(be,Ae,ve)=>{const Te=Ae.startsWith("animation")?(be=>(void 0===U&&(U=void 0===be.style.animationName&&void 0!==be.style.webkitAnimationName?"-webkit-":""),U))(be):"";be.style.setProperty(Te+Ae,ve)},Re=(be=[],Ae)=>{if(void 0!==Ae){const ve=Array.isArray(Ae)?Ae:[Ae];return[...be,...ve]}return be},Q=be=>{let Ae,ve,Te,ue,Ne,pe,He,Dt,H,We,kt,xe=[],nt=[],yt=[],it=!1,At={},Pt=[],Ke=[],Le={},at=0,Ye=!1,Ze=!1,bt=!0,ze=!1,Mt=!0,cn=!1;const qe=be,Se=[],Ie=[],Me=[],le=[],Pe=[],ot=[],Xe=[],De=[],Ct=[],fe=[],st=[],Ot="function"==typeof AnimationEffect||void 0!==l.w&&"function"==typeof l.w.AnimationEffect,Nt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Ot,hn=()=>st,Un=(J,Ve)=>{const pt=Ve.findIndex(an=>an.c===J);pt>-1&&Ve.splice(pt,1)},mt=(J,Ve)=>((Ve?.oneTimeCallback?Ie:Se).push({c:J,o:Ve}),kt),Ht=()=>{Nt&&(st.forEach(J=>{J.cancel()}),st.length=0)},Mn=()=>{ot.forEach(J=>{J?.parentNode&&J.parentNode.removeChild(J)}),ot.length=0},_r=()=>void 0!==Ne?Ne:He?He.getFill():"both",fi=()=>void 0!==Dt?Dt:void 0!==pe?pe:He?He.getDirection():"normal",Pr=()=>Ye?"linear":void 0!==Te?Te:He?He.getEasing():"linear",pi=()=>Ze?0:void 0!==H?H:void 0!==ve?ve:He?He.getDuration():0,gr=()=>void 0!==ue?ue:He?He.getIterations():1,bi=()=>void 0!==We?We:void 0!==Ae?Ae:He?He.getDelay():0,qn=()=>{0!==at&&(at--,0===at&&((()=>{Ct.forEach(Qt=>Qt()),fe.forEach(Qt=>Qt());const J=bt?1:0,Ve=Pt,pt=Ke,an=Le;le.forEach(Qt=>{const de=Qt.classList;Ve.forEach(Ue=>de.add(Ue)),pt.forEach(Ue=>de.remove(Ue));for(const Ue in an)an.hasOwnProperty(Ue)&&G(Qt,Ue,an[Ue])}),H=void 0,Dt=void 0,We=void 0,Se.forEach(Qt=>Qt.c(J,kt)),Ie.forEach(Qt=>Qt.c(J,kt)),Ie.length=0,Mt=!0,bt&&(ze=!0),bt=!0})(),He&&He.animationFinish()))},gi=()=>{(()=>{Xe.forEach(an=>an()),De.forEach(an=>an());const J=nt,Ve=yt,pt=At;le.forEach(an=>{const Qt=an.classList;J.forEach(de=>Qt.add(de)),Ve.forEach(de=>Qt.remove(de));for(const de in pt)pt.hasOwnProperty(de)&&G(an,de,pt[de])})})(),xe.length>0&&Nt&&(le.forEach(J=>{const Ve=J.animate(xe,{id:qe,delay:bi(),duration:pi(),easing:Pr(),iterations:gr(),fill:_r(),direction:fi()});Ve.pause(),st.push(Ve)}),st.length>0&&(st[0].onfinish=()=>{qn()})),it=!0},xr=J=>{J=Math.min(Math.max(J,0),.9999),Nt&&st.forEach(Ve=>{Ve.currentTime=Ve.effect.getComputedTiming().delay+pi()*J,Ve.pause()})},Vr=J=>{st.forEach(Ve=>{Ve.effect.updateTiming({delay:bi(),duration:pi(),easing:Pr(),iterations:gr(),fill:_r(),direction:fi()})}),void 0!==J&&xr(J)},Sn=(J=!1,Ve=!0,pt)=>(J&&Pe.forEach(an=>{an.update(J,Ve,pt)}),Nt&&Vr(pt),kt),Gi=()=>{it&&(Nt?st.forEach(J=>{J.pause()}):le.forEach(J=>{G(J,"animation-play-state","paused")}),cn=!0)},$i=J=>new Promise(Ve=>{J?.sync&&(Ze=!0,mt(()=>Ze=!1,{oneTimeCallback:!0})),it||gi(),ze&&(Nt&&(xr(0),Vr()),ze=!1),Mt&&(at=Pe.length+1,Mt=!1);const pt=()=>{Un(an,Ie),Ve()},an=()=>{Un(pt,Me),Ve()};mt(an,{oneTimeCallback:!0}),(J=>{Me.push({c:J,o:{oneTimeCallback:!0}})})(pt),Pe.forEach(Qt=>{Qt.play()}),Nt?(st.forEach(J=>{J.play()}),(0===xe.length||0===le.length)&&qn()):qn(),cn=!1}),ae=(J,Ve)=>{const pt=xe[0];return void 0===pt||void 0!==pt.offset&&0!==pt.offset?xe=[{offset:0,[J]:Ve},...xe]:pt[J]=Ve,kt};return kt={parentAnimation:He,elements:le,childAnimations:Pe,id:qe,animationFinish:qn,from:ae,to:(J,Ve)=>{const pt=xe[xe.length-1];return void 0===pt||void 0!==pt.offset&&1!==pt.offset?xe=[...xe,{offset:1,[J]:Ve}]:pt[J]=Ve,kt},fromTo:(J,Ve,pt)=>ae(J,Ve).to(J,pt),parent:J=>(He=J,kt),play:$i,pause:()=>(Pe.forEach(J=>{J.pause()}),Gi(),kt),stop:()=>{Pe.forEach(J=>{J.stop()}),it&&(Ht(),it=!1),Ye=!1,Ze=!1,Mt=!0,Dt=void 0,H=void 0,We=void 0,at=0,ze=!1,bt=!0,cn=!1,Me.forEach(J=>J.c(0,kt)),Me.length=0},destroy:J=>(Pe.forEach(Ve=>{Ve.destroy(J)}),(J=>{Ht(),J&&Mn()})(J),le.length=0,Pe.length=0,xe.length=0,Se.length=0,Ie.length=0,it=!1,Mt=!0,kt),keyframes:J=>{const Ve=xe!==J;return xe=J,Ve&&(J=>{Nt&&hn().forEach(Ve=>{const pt=Ve.effect;if(pt.setKeyframes)pt.setKeyframes(J);else{const an=new KeyframeEffect(pt.target,J,pt.getTiming());Ve.effect=an}})})(xe),kt},addAnimation:J=>{if(null!=J)if(Array.isArray(J))for(const Ve of J)Ve.parent(kt),Pe.push(Ve);else J.parent(kt),Pe.push(J);return kt},addElement:J=>{if(null!=J)if(1===J.nodeType)le.push(J);else if(J.length>=0)for(let Ve=0;Ve<J.length;Ve++)le.push(J[Ve]);else console.error("Invalid addElement value");return kt},update:Sn,fill:J=>(Ne=J,Sn(!0),kt),direction:J=>(pe=J,Sn(!0),kt),iterations:J=>(ue=J,Sn(!0),kt),duration:J=>(!Nt&&0===J&&(J=1),ve=J,Sn(!0),kt),easing:J=>(Te=J,Sn(!0),kt),delay:J=>(Ae=J,Sn(!0),kt),getWebAnimations:hn,getKeyframes:()=>xe,getFill:_r,getDirection:fi,getDelay:bi,getIterations:gr,getEasing:Pr,getDuration:pi,afterAddRead:J=>(Ct.push(J),kt),afterAddWrite:J=>(fe.push(J),kt),afterClearStyles:(J=[])=>{for(const Ve of J)Le[Ve]="";return kt},afterStyles:(J={})=>(Le=J,kt),afterRemoveClass:J=>(Ke=Re(Ke,J),kt),afterAddClass:J=>(Pt=Re(Pt,J),kt),beforeAddRead:J=>(Xe.push(J),kt),beforeAddWrite:J=>(De.push(J),kt),beforeClearStyles:(J=[])=>{for(const Ve of J)At[Ve]="";return kt},beforeStyles:(J={})=>(At=J,kt),beforeRemoveClass:J=>(yt=Re(yt,J),kt),beforeAddClass:J=>(nt=Re(nt,J),kt),onFinish:mt,isRunning:()=>0!==at&&!cn,progressStart:(J=!1,Ve)=>(Pe.forEach(pt=>{pt.progressStart(J,Ve)}),Gi(),Ye=J,it||gi(),Sn(!1,!0,Ve),kt),progressStep:J=>(Pe.forEach(Ve=>{Ve.progressStep(J)}),xr(J),kt),progressEnd:(J,Ve,pt)=>(Ye=!1,Pe.forEach(an=>{an.progressEnd(J,Ve,pt)}),void 0!==pt&&(H=pt),ze=!1,bt=!0,0===J?(Dt="reverse"===fi()?"normal":"reverse","reverse"===Dt&&(bt=!1),Nt?(Sn(),xr(1-Ve)):(We=(1-Ve)*pi()*-1,Sn(!1,!1))):1===J&&(Nt?(Sn(),xr(Ve)):(We=Ve*pi()*-1,Sn(!1,!1))),void 0!==J&&!He&&$i(),kt)}}},464:(In,dt,N)=>{"use strict";N.d(dt,{E:()=>Te,a:()=>l,s:()=>Ae});const l=ue=>{try{if(ue instanceof be)return ue.value;if(!G()||"string"!=typeof ue||""===ue)return ue;if(ue.includes("onload="))return"";const Ne=document.createDocumentFragment(),pe=document.createElement("div");Ne.appendChild(pe),pe.innerHTML=ue,Q.forEach(it=>{const He=Ne.querySelectorAll(it);for(let At=He.length-1;At>=0;At--){const Pt=He[At];Pt.parentNode?Pt.parentNode.removeChild(Pt):Ne.removeChild(Pt);const Ke=Z(Pt);for(let Le=0;Le<Ke.length;Le++)U(Ke[Le])}});const xe=Z(Ne);for(let it=0;it<xe.length;it++)U(xe[it]);const nt=document.createElement("div");nt.appendChild(Ne);const yt=nt.querySelector("div");return null!==yt?yt.innerHTML:nt.innerHTML}catch(Ne){return console.error(Ne),""}},U=ue=>{if(ue.nodeType&&1!==ue.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ue.attributes instanceof NamedNodeMap))return void ue.remove();for(let pe=ue.attributes.length-1;pe>=0;pe--){const xe=ue.attributes.item(pe),nt=xe.name;if(!Re.includes(nt.toLowerCase())){ue.removeAttribute(nt);continue}const yt=xe.value,it=ue[nt];(null!=yt&&yt.toLowerCase().includes("javascript:")||null!=it&&it.toLowerCase().includes("javascript:"))&&ue.removeAttribute(nt)}const Ne=Z(ue);for(let pe=0;pe<Ne.length;pe++)U(Ne[pe])},Z=ue=>null!=ue.children?ue.children:ue.childNodes,G=()=>{var ue;const Ne=window,pe=null===(ue=Ne?.Ionic)||void 0===ue?void 0:ue.config;return!pe||(pe.get?pe.get("sanitizerEnabled",!0):!0===pe.sanitizerEnabled||void 0===pe.sanitizerEnabled)},Re=["class","id","href","src","name","slot"],Q=["script","style","iframe","meta","link","object","embed"];class be{constructor(Ne){this.value=Ne}}const Ae=ue=>{const Ne=window,pe=Ne.Ionic;if(!pe||!pe.config||"Object"===pe.config.constructor.name)return Ne.Ionic=Ne.Ionic||{},Ne.Ionic.config=Object.assign(Object.assign({},Ne.Ionic.config),ue),Ne.Ionic.config},Te=!1},3345:(In,dt,N)=>{"use strict";N.d(dt,{C:()=>Re,a:()=>Z,d:()=>G});var l=N(467),U=N(1559);const Z=function(){var Q=(0,l.A)(function*(be,Ae,ve,Te,ue,Ne){var pe;if(be)return be.attachViewToDom(Ae,ve,ue,Te);if(!(Ne||"string"==typeof ve||ve instanceof HTMLElement))throw new Error("framework delegate is missing");const xe="string"==typeof ve?null===(pe=Ae.ownerDocument)||void 0===pe?void 0:pe.createElement(ve):ve;return Te&&Te.forEach(nt=>xe.classList.add(nt)),ue&&Object.assign(xe,ue),Ae.appendChild(xe),yield new Promise(nt=>(0,U.c)(xe,nt)),xe});return function(Ae,ve,Te,ue,Ne,pe){return Q.apply(this,arguments)}}(),G=(Q,be)=>{if(be){if(Q)return Q.removeViewFromDom(be.parentElement,be);be.remove()}return Promise.resolve()},Re=()=>{let Q,be;return{attachViewToDom:function(){var Te=(0,l.A)(function*(ue,Ne,pe={},xe=[]){var nt,yt;let it;if(Q=ue,Ne){const At="string"==typeof Ne?null===(nt=Q.ownerDocument)||void 0===nt?void 0:nt.createElement(Ne):Ne;xe.forEach(Pt=>At.classList.add(Pt)),Object.assign(At,pe),Q.appendChild(At),it=At,yield new Promise(Pt=>(0,U.c)(At,Pt))}else if(Q.children.length>0&&("ION-MODAL"===Q.tagName||"ION-POPOVER"===Q.tagName)&&!(it=Q.children[0]).classList.contains("ion-delegate-host")){const Pt=null===(yt=Q.ownerDocument)||void 0===yt?void 0:yt.createElement("div");Pt.classList.add("ion-delegate-host"),xe.forEach(Ke=>Pt.classList.add(Ke)),Pt.append(...Q.children),Q.appendChild(Pt),it=Pt}const He=document.querySelector("ion-app")||document.body;return be=document.createComment("ionic teleport"),Q.parentNode.insertBefore(be,Q),He.appendChild(Q),it??Q});return function(Ne,pe){return Te.apply(this,arguments)}}(),removeViewFromDom:()=>(Q&&be&&(be.parentNode.insertBefore(Q,be),be.remove()),Promise.resolve())}}},1970:(In,dt,N)=>{"use strict";N.d(dt,{B:()=>G,G:()=>Re});class U{constructor(be,Ae,ve,Te,ue){this.id=Ae,this.name=ve,this.disableScroll=ue,this.priority=1e6*Te+Ae,this.ctrl=be}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const be=this.ctrl.capture(this.name,this.id,this.priority);return be&&this.disableScroll&&this.ctrl.disableScroll(this.id),be}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Z{constructor(be,Ae,ve,Te){this.id=Ae,this.disable=ve,this.disableScroll=Te,this.ctrl=be}block(){if(this.ctrl){if(this.disable)for(const be of this.disable)this.ctrl.disableGesture(be,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const be of this.disable)this.ctrl.enableGesture(be,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const G="backdrop-no-scroll",Re=new class l{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(be){var Ae;return new U(this,this.newID(),be.name,null!==(Ae=be.priority)&&void 0!==Ae?Ae:0,!!be.disableScroll)}createBlocker(be={}){return new Z(this,this.newID(),be.disable,!!be.disableScroll)}start(be,Ae,ve){return this.canStart(be)?(this.requestedStart.set(Ae,ve),!0):(this.requestedStart.delete(Ae),!1)}capture(be,Ae,ve){if(!this.start(be,Ae,ve))return!1;const Te=this.requestedStart;let ue=-1e4;if(Te.forEach(Ne=>{ue=Math.max(ue,Ne)}),ue===ve){this.capturedId=Ae,Te.clear();const Ne=new CustomEvent("ionGestureCaptured",{detail:{gestureName:be}});return document.dispatchEvent(Ne),!0}return Te.delete(Ae),!1}release(be){this.requestedStart.delete(be),this.capturedId===be&&(this.capturedId=void 0)}disableGesture(be,Ae){let ve=this.disabledGestures.get(be);void 0===ve&&(ve=new Set,this.disabledGestures.set(be,ve)),ve.add(Ae)}enableGesture(be,Ae){const ve=this.disabledGestures.get(be);void 0!==ve&&ve.delete(Ae)}disableScroll(be){this.disabledScroll.add(be),1===this.disabledScroll.size&&document.body.classList.add(G)}enableScroll(be){this.disabledScroll.delete(be),0===this.disabledScroll.size&&document.body.classList.remove(G)}canStart(be){return!(void 0!==this.capturedId||this.isDisabled(be))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(be){const Ae=this.disabledGestures.get(be);return!!(Ae&&Ae.size>0)}newID(){return this.gestureId++,this.gestureId}}},6221:(In,dt,N)=>{"use strict";N.r(dt),N.d(dt,{MENU_BACK_BUTTON_PRIORITY:()=>ve,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ae,blockHardwareBackButton:()=>Q,shouldUseCloseWatcher:()=>Re,startHardwareBackButton:()=>be});var l=N(467),U=N(8476),Z=N(4346);N(6317);const Re=()=>Z.c.get("experimentalCloseWatcher",!1)&&void 0!==U.w&&"CloseWatcher"in U.w,Q=()=>{document.addEventListener("backbutton",()=>{})},be=()=>{const Te=document;let ue=!1;const Ne=()=>{if(ue)return;let pe=0,xe=[];const nt=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(He,At){xe.push({priority:He,handler:At,id:pe++})}}});Te.dispatchEvent(nt);const yt=function(){var He=(0,l.A)(function*(At){try{if(At?.handler){const Pt=At.handler(it);null!=Pt&&(yield Pt)}}catch(Pt){console.error(Pt)}});return function(Pt){return He.apply(this,arguments)}}(),it=()=>{if(xe.length>0){let He={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};xe.forEach(At=>{At.priority>=He.priority&&(He=At)}),ue=!0,xe=xe.filter(At=>At.id!==He.id),yt(He).then(()=>ue=!1)}};it()};if(Re()){let pe;const xe=()=>{pe?.destroy(),pe=new U.w.CloseWatcher,pe.onclose=()=>{Ne(),xe()}};xe()}else Te.addEventListener("backbutton",Ne)},Ae=100,ve=99},1559:(In,dt,N)=>{"use strict";N.d(dt,{a:()=>Ae,b:()=>ve,c:()=>Z,d:()=>xe,e:()=>At,f:()=>pe,g:()=>Te,h:()=>Re,i:()=>be,j:()=>nt,k:()=>G,l:()=>at,m:()=>Ne,n:()=>yt,o:()=>Le,p:()=>He,q:()=>Pt,r:()=>ue,s:()=>Ke,t:()=>l,u:()=>it});const l=(Ye,Ze=0)=>new Promise(Dt=>{U(Ye,Ze,Dt)}),U=(Ye,Ze=0,Dt)=>{let H,We;const bt={passive:!0},Mt=()=>{H&&H()},kt=cn=>{(void 0===cn||Ye===cn.target)&&(Mt(),Dt(cn))};return Ye&&(Ye.addEventListener("webkitTransitionEnd",kt,bt),Ye.addEventListener("transitionend",kt,bt),We=setTimeout(kt,Ze+500),H=()=>{void 0!==We&&(clearTimeout(We),We=void 0),Ye.removeEventListener("webkitTransitionEnd",kt,bt),Ye.removeEventListener("transitionend",kt,bt)}),Mt},Z=(Ye,Ze)=>{Ye.componentOnReady?Ye.componentOnReady().then(Dt=>Ze(Dt)):ue(()=>Ze(Ye))},G=Ye=>void 0!==Ye.componentOnReady,Re=(Ye,Ze=[])=>{const Dt={};return Ze.forEach(H=>{Ye.hasAttribute(H)&&(null!==Ye.getAttribute(H)&&(Dt[H]=Ye.getAttribute(H)),Ye.removeAttribute(H))}),Dt},Q=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],be=(Ye,Ze)=>{let Dt=Q;return Ze&&Ze.length>0&&(Dt=Dt.filter(H=>!Ze.includes(H))),Re(Ye,Dt)},Ae=(Ye,Ze,Dt,H)=>Ye.addEventListener(Ze,Dt,H),ve=(Ye,Ze,Dt,H)=>Ye.removeEventListener(Ze,Dt,H),Te=(Ye,Ze=Ye)=>Ye.shadowRoot||Ze,ue=Ye=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ye):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ye):setTimeout(Ye),Ne=Ye=>!!Ye.shadowRoot&&!!Ye.attachShadow,pe=Ye=>{if(Ye.focus(),Ye.classList.contains("ion-focusable")){const Ze=Ye.closest("ion-app");Ze&&Ze.setFocus([Ye])}},xe=(Ye,Ze,Dt,H,We)=>{if(Ye||Ne(Ze)){let bt=Ze.querySelector("input.aux-input");bt||(bt=Ze.ownerDocument.createElement("input"),bt.type="hidden",bt.classList.add("aux-input"),Ze.appendChild(bt)),bt.disabled=We,bt.name=Dt,bt.value=H||""}},nt=(Ye,Ze,Dt)=>Math.max(Ye,Math.min(Ze,Dt)),yt=(Ye,Ze)=>{if(!Ye){const Dt="ASSERT: "+Ze;throw console.error(Dt),new Error(Dt)}},it=Ye=>{if(Ye){const Ze=Ye.changedTouches;if(Ze&&Ze.length>0){const Dt=Ze[0];return{x:Dt.clientX,y:Dt.clientY}}if(void 0!==Ye.pageX)return{x:Ye.pageX,y:Ye.pageY}}return{x:0,y:0}},He=Ye=>{const Ze="rtl"===document.dir;switch(Ye){case"start":return Ze;case"end":return!Ze;default:throw new Error(`"${Ye}" is not a valid value for [side]. Use "start" or "end" instead.`)}},At=(Ye,Ze)=>{const Dt=Ye._original||Ye;return{_original:Ye,emit:Pt(Dt.emit.bind(Dt),Ze)}},Pt=(Ye,Ze=0)=>{let Dt;return(...H)=>{clearTimeout(Dt),Dt=setTimeout(Ye,Ze,...H)}},Ke=(Ye,Ze)=>{if(Ye??(Ye={}),Ze??(Ze={}),Ye===Ze)return!0;const Dt=Object.keys(Ye);if(Dt.length!==Object.keys(Ze).length)return!1;for(const H of Dt)if(!(H in Ze)||Ye[H]!==Ze[H])return!1;return!0},Le=Ye=>{let Ze=Ye.nextSibling;for(;Ze;){if(Ze.nodeType===Node.ELEMENT_NODE&&null!==Ze)return Ze;Ze=Ze.nextSibling}return null},at=Ye=>"number"==typeof Ye&&!isNaN(Ye)&&isFinite(Ye)},8607:(In,dt,N)=>{"use strict";N.r(dt),N.d(dt,{GESTURE_CONTROLLER:()=>l.G,createGesture:()=>ve});var l=N(1970);const U=(pe,xe,nt,yt)=>{const it=Z(pe)?{capture:!!yt.capture,passive:!!yt.passive}:!!yt.capture;let He,At;return pe.__zone_symbol__addEventListener?(He="__zone_symbol__addEventListener",At="__zone_symbol__removeEventListener"):(He="addEventListener",At="removeEventListener"),pe[He](xe,nt,it),()=>{pe[At](xe,nt,it)}},Z=pe=>{if(void 0===G)try{const xe=Object.defineProperty({},"passive",{get:()=>{G=!0}});pe.addEventListener("optsTest",()=>{},xe)}catch{G=!1}return!!G};let G;const be=pe=>pe instanceof Document?pe:pe.ownerDocument,ve=pe=>{let xe=!1,nt=!1,yt=!0,it=!1;const He=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},pe),At=He.canStart,Pt=He.onWillStart,Ke=He.onStart,Le=He.onEnd,at=He.notCaptured,Ye=He.onMove,Ze=He.threshold,Dt=He.passive,H=He.blurOnStart,We={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},bt=((pe,xe,nt)=>{const yt=nt*(Math.PI/180),it="x"===pe,He=Math.cos(yt),At=xe*xe;let Pt=0,Ke=0,Le=!1,at=0;return{start(Ye,Ze){Pt=Ye,Ke=Ze,at=0,Le=!0},detect(Ye,Ze){if(!Le)return!1;const Dt=Ye-Pt,H=Ze-Ke,We=Dt*Dt+H*H;if(We<At)return!1;const bt=Math.sqrt(We),ze=(it?Dt:H)/bt;return at=ze>He?1:ze<-He?-1:0,Le=!1,!0},isGesture:()=>0!==at,getDirection:()=>at}})(He.direction,He.threshold,He.maxAngle),ze=l.G.createGesture({name:pe.gestureName,priority:pe.gesturePriority,disableScroll:pe.disableScroll}),cn=()=>{xe&&(it=!1,Ye&&Ye(We))},qe=()=>!!ze.capture()&&(xe=!0,yt=!1,We.startX=We.currentX,We.startY=We.currentY,We.startTime=We.currentTime,Pt?Pt(We).then(Ie):Ie(),!0),Ie=()=>{H&&(()=>{if(typeof document<"u"){const Xe=document.activeElement;Xe?.blur&&Xe.blur()}})(),Ke&&Ke(We),yt=!0},Me=()=>{xe=!1,nt=!1,it=!1,yt=!0,ze.release()},le=Xe=>{const De=xe,Ct=yt;if(Me(),Ct){if(Te(We,Xe),De)return void(Le&&Le(We));at&&at(We)}},Pe=((pe,xe,nt,yt,it)=>{let He,At,Pt,Ke,Le,at,Ye,Ze=0;const Dt=Se=>{Ze=Date.now()+2e3,xe(Se)&&(!At&&nt&&(At=U(pe,"touchmove",nt,it)),Pt||(Pt=U(Se.target,"touchend",We,it)),Ke||(Ke=U(Se.target,"touchcancel",We,it)))},H=Se=>{Ze>Date.now()||xe(Se)&&(!at&&nt&&(at=U(be(pe),"mousemove",nt,it)),Ye||(Ye=U(be(pe),"mouseup",bt,it)))},We=Se=>{ze(),yt&&yt(Se)},bt=Se=>{Mt(),yt&&yt(Se)},ze=()=>{At&&At(),Pt&&Pt(),Ke&&Ke(),At=Pt=Ke=void 0},Mt=()=>{at&&at(),Ye&&Ye(),at=Ye=void 0},kt=()=>{ze(),Mt()},cn=(Se=!0)=>{Se?(He||(He=U(pe,"touchstart",Dt,it)),Le||(Le=U(pe,"mousedown",H,it))):(He&&He(),Le&&Le(),He=Le=void 0,kt())};return{enable:cn,stop:kt,destroy:()=>{cn(!1),yt=nt=xe=void 0}}})(He.el,Xe=>{const De=Ne(Xe);return!(nt||!yt||(ue(Xe,We),We.startX=We.currentX,We.startY=We.currentY,We.startTime=We.currentTime=De,We.velocityX=We.velocityY=We.deltaX=We.deltaY=0,We.event=Xe,At&&!1===At(We))||(ze.release(),!ze.start()))&&(nt=!0,0===Ze?qe():(bt.start(We.startX,We.startY),!0))},Xe=>{xe?!it&&yt&&(it=!0,Te(We,Xe),requestAnimationFrame(cn)):(Te(We,Xe),bt.detect(We.currentX,We.currentY)&&(!bt.isGesture()||!qe())&&ot())},le,{capture:!1,passive:Dt}),ot=()=>{Me(),Pe.stop(),at&&at(We)};return{enable(Xe=!0){Xe||(xe&&le(void 0),Me()),Pe.enable(Xe)},destroy(){ze.destroy(),Pe.destroy()}}},Te=(pe,xe)=>{if(!xe)return;const nt=pe.currentX,yt=pe.currentY,it=pe.currentTime;ue(xe,pe);const He=pe.currentX,At=pe.currentY,Ke=(pe.currentTime=Ne(xe))-it;if(Ke>0&&Ke<100){const at=(At-yt)/Ke;pe.velocityX=(He-nt)/Ke*.7+.3*pe.velocityX,pe.velocityY=.7*at+.3*pe.velocityY}pe.deltaX=He-pe.startX,pe.deltaY=At-pe.startY,pe.event=xe},ue=(pe,xe)=>{let nt=0,yt=0;if(pe){const it=pe.changedTouches;if(it&&it.length>0){const He=it[0];nt=He.clientX,yt=He.clientY}else void 0!==pe.pageX&&(nt=pe.pageX,yt=pe.pageY)}xe.currentX=nt,xe.currentY=yt},Ne=pe=>pe.timeStamp||Date.now()},6317:(In,dt,N)=>{"use strict";N.d(dt,{B:()=>Q,a:()=>pr,b:()=>Xr,c:()=>pi,d:()=>De,e:()=>Jn,f:()=>Pr,g:()=>_r,h:()=>Er,i:()=>Qn,j:()=>fe,r:()=>ve,w:()=>Ct});var l=N(467);var G=Object.defineProperty,Q={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},be=new WeakMap,Ae=C=>be.get(C),ve=(C,ce)=>be.set(ce.$lazyInstance$=C,ce),ue=(C,ce)=>ce in C,Ne=(C,ce)=>(0,console.error)(C,ce),pe=new Map,nt=new Map,yt=[],Ke="s-id",Ze="slot-fb{display:contents}slot-fb[hidden]{display:none}",Dt="http://www.w3.org/1999/xlink",H=typeof window<"u"?window:{},We=H.document||{head:{}},ze={$flags$:0,$resourcesUrl$:"",jmp:C=>C(),raf:C=>requestAnimationFrame(C),ael:(C,ce,O,S)=>C.addEventListener(ce,O,S),rel:(C,ce,O,S)=>C.removeEventListener(ce,O,S),ce:(C,ce)=>new CustomEvent(C,ce)},kt=(()=>{let C=!1;try{We.addEventListener("e",null,Object.defineProperty({},"passive",{get(){C=!0}}))}catch{}return C})(),qe=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Se=!1,Ie=[],Me=[],le=(C,ce)=>O=>{C.push(O),Se||(Se=!0,ce&&4&ze.$flags$?Xe(ot):ze.raf(ot))},Pe=C=>{for(let ce=0;ce<C.length;ce++)try{C[ce](performance.now())}catch(O){Ne(O)}C.length=0},ot=()=>{Pe(Ie),Pe(Me),(Se=Ie.length>0)&&ze.raf(ot)},Xe=C=>Promise.resolve(void 0).then(C),De=le(Ie,!1),Ct=le(Me,!0),fe=C=>{const ce=new URL(C,ze.$resourcesUrl$);return ce.origin!==H.location.origin?ce.href:ce.pathname},st={},Vn=C=>"object"==(C=typeof C)||"function"===C;function Gn(C){var ce,O,S;return null!=(S=null==(O=null==(ce=C.head)?void 0:ce.querySelector('meta[name="csp-nonce"]'))?void 0:O.getAttribute("content"))?S:void 0}((C,ce)=>{for(var O in ce)G(C,O,{get:ce[O],enumerable:!0})})({},{err:()=>Un,map:()=>Xn,ok:()=>xn,unwrap:()=>mt,unwrapErr:()=>Gt});var xn=C=>({isOk:!0,isErr:!1,value:C}),Un=C=>({isOk:!1,isErr:!0,value:C});function Xn(C,ce){if(C.isOk){const O=ce(C.value);return O instanceof Promise?O.then(S=>xn(S)):xn(O)}if(C.isErr)return Un(C.value);throw"should never get here"}var mt=C=>{if(C.isOk)return C.value;throw C.value},Gt=C=>{if(C.isErr)return C.value;throw C.value},Er=(C,ce,...O)=>{let S=null,K=null,Fe=null,Zt=!1,un=!1;const gn=[],fn=et=>{for(let On=0;On<et.length;On++)S=et[On],Array.isArray(S)?fn(S):null!=S&&"boolean"!=typeof S&&((Zt="function"!=typeof C&&!Vn(S))&&(S=String(S)),Zt&&un?gn[gn.length-1].$text$+=S:gn.push(Zt?ir(null,S):S),un=Zt)};if(fn(O),ce){ce.key&&(K=ce.key),ce.name&&(Fe=ce.name);{const et=ce.className||ce.class;et&&(ce.class="object"!=typeof et?et:Object.keys(et).filter(On=>et[On]).join(" "))}}if("function"==typeof C)return C(null===ce?{}:ce,gn,Nr);const jn=ir(C,null);return jn.$attrs$=ce,gn.length>0&&(jn.$children$=gn),jn.$key$=K,jn.$name$=Fe,jn},ir=(C,ce)=>({$flags$:0,$tag$:C,$text$:ce,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Jn={},Nr={forEach:(C,ce)=>C.map(Rr).forEach(ce),map:(C,ce)=>C.map(Rr).map(ce).map(rr)},Rr=C=>({vattrs:C.$attrs$,vchildren:C.$children$,vkey:C.$key$,vname:C.$name$,vtag:C.$tag$,vtext:C.$text$}),rr=C=>{if("function"==typeof C.vtag){const O={...C.vattrs};return C.vkey&&(O.key=C.vkey),C.vname&&(O.name=C.vname),Er(C.vtag,O,...C.vchildren||[])}const ce=ir(C.vtag,C.vtext);return ce.$attrs$=C.vattrs,ce.$children$=C.vchildren,ce.$key$=C.vkey,ce.$name$=C.vname,ce},Or=(C,ce,O,S,K,Fe,Zt)=>{let un,gn,fn,jn;if(1===Fe.nodeType){if(un=Fe.getAttribute("c-id"),un&&(gn=un.split("."),(gn[0]===Zt||"0"===gn[0])&&(fn={$flags$:0,$hostId$:gn[0],$nodeId$:gn[1],$depth$:gn[2],$index$:gn[3],$tag$:Fe.tagName.toLowerCase(),$elm$:Fe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ce.push(fn),Fe.removeAttribute("c-id"),C.$children$||(C.$children$=[]),C.$children$[fn.$index$]=fn,C=fn,S&&"0"===fn.$depth$&&(S[fn.$index$]=fn.$elm$))),Fe.shadowRoot)for(jn=Fe.shadowRoot.childNodes.length-1;jn>=0;jn--)Or(C,ce,O,S,K,Fe.shadowRoot.childNodes[jn],Zt);for(jn=Fe.childNodes.length-1;jn>=0;jn--)Or(C,ce,O,S,K,Fe.childNodes[jn],Zt)}else if(8===Fe.nodeType)gn=Fe.nodeValue.split("."),(gn[1]===Zt||"0"===gn[1])&&(un=gn[0],fn={$flags$:0,$hostId$:gn[1],$nodeId$:gn[2],$depth$:gn[3],$index$:gn[4],$elm$:Fe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===un?(fn.$elm$=Fe.nextSibling,fn.$elm$&&3===fn.$elm$.nodeType&&(fn.$text$=fn.$elm$.textContent,ce.push(fn),Fe.remove(),C.$children$||(C.$children$=[]),C.$children$[fn.$index$]=fn,S&&"0"===fn.$depth$&&(S[fn.$index$]=fn.$elm$))):fn.$hostId$===Zt&&("s"===un?(fn.$tag$="slot",Fe["s-sn"]=gn[5]?fn.$name$=gn[5]:"",Fe["s-sr"]=!0,S&&(fn.$elm$=We.createElement(fn.$tag$),fn.$name$&&fn.$elm$.setAttribute("name",fn.$name$),Fe.parentNode.insertBefore(fn.$elm$,Fe),Fe.remove(),"0"===fn.$depth$&&(S[fn.$index$]=fn.$elm$)),O.push(fn),C.$children$||(C.$children$=[]),C.$children$[fn.$index$]=fn):"r"===un&&(S?Fe.remove():(K["s-cr"]=Fe,Fe["s-cn"]=!0))));else if(C&&"style"===C.$tag$){const et=ir(null,Fe.textContent);et.$elm$=Fe,et.$index$="0",C.$children$=[et]}},Qr=(C,ce)=>{if(1===C.nodeType){let O=0;if(C.shadowRoot)for(;O<C.shadowRoot.childNodes.length;O++)Qr(C.shadowRoot.childNodes[O],ce);for(O=0;O<C.childNodes.length;O++)Qr(C.childNodes[O],ce)}else if(8===C.nodeType){const O=C.nodeValue.split(".");"o"===O[0]&&(ce.set(O[1]+"."+O[2],C),C.nodeValue="",C["s-en"]=O[3])}},pr=C=>yt.push(C),_r=C=>Ae(C).$modeName$,Pr=C=>Ae(C).$hostElement$,pi=(C,ce,O)=>{const S=Pr(C);return{emit:K=>gr(S,ce,{bubbles:!!(4&O),composed:!!(2&O),cancelable:!!(1&O),detail:K})}},gr=(C,ce,O)=>{const S=ze.ce(ce,O);return C.dispatchEvent(S),S},bi=new WeakMap,Ai=(C,ce,O)=>{var S;const K=ht(ce,O),Fe=nt.get(K);if(C=11===C.nodeType?C:We,Fe)if("string"==typeof Fe){let un,Zt=bi.get(C=C.head||C);if(Zt||bi.set(C,Zt=new Set),!Zt.has(K)){if(C.host&&(un=C.querySelector(`[sty-id="${K}"]`)))un.innerHTML=Fe;else{un=We.createElement("style"),un.innerHTML=Fe;const gn=null!=(S=ze.$nonce$)?S:Gn(We);null!=gn&&un.setAttribute("nonce",gn),(!(1&ce.$flags$)||1&ce.$flags$&&"HEAD"!==C.nodeName)&&C.insertBefore(un,C.querySelector("link"))}4&ce.$flags$&&(un.innerHTML+=Ze),Zt&&Zt.add(K)}}else C.adoptedStyleSheets.includes(Fe)||(C.adoptedStyleSheets=[...C.adoptedStyleSheets,Fe]);return K},ht=(C,ce)=>"sc-"+(ce&&32&C.$flags$?C.$tagName$+"-"+ce:C.$tagName$),rt=(C,ce,O,S,K,Fe)=>{if(O!==S){let Zt=ue(C,ce),un=ce.toLowerCase();if("class"===ce){const gn=C.classList,fn=dn(O),jn=dn(S);gn.remove(...fn.filter(et=>et&&!jn.includes(et))),gn.add(...jn.filter(et=>et&&!fn.includes(et)))}else if("style"===ce){for(const gn in O)(!S||null==S[gn])&&(gn.includes("-")?C.style.removeProperty(gn):C.style[gn]="");for(const gn in S)(!O||S[gn]!==O[gn])&&(gn.includes("-")?C.style.setProperty(gn,S[gn]):C.style[gn]=S[gn])}else if("key"!==ce)if("ref"===ce)S&&S(C);else if(Zt||"o"!==ce[0]||"n"!==ce[1]){const gn=Vn(S);if((Zt||gn&&null!==S)&&!K)try{if(C.tagName.includes("-"))C[ce]=S;else{const jn=S??"";"list"===ce?Zt=!1:(null==O||C[ce]!=jn)&&(C[ce]=jn)}}catch{}let fn=!1;un!==(un=un.replace(/^xlink\:?/,""))&&(ce=un,fn=!0),null==S||!1===S?(!1!==S||""===C.getAttribute(ce))&&(fn?C.removeAttributeNS(Dt,ce):C.removeAttribute(ce)):(!Zt||4&Fe||K)&&!gn&&(S=!0===S?"":S,fn?C.setAttributeNS(Dt,ce,S):C.setAttribute(ce,S))}else if(ce="-"===ce[2]?ce.slice(3):ue(H,un)?un.slice(2):un[2]+ce.slice(3),O||S){const gn=ce.endsWith(Bn);ce=ce.replace(Ge,""),O&&ze.rel(C,ce,O,gn),S&&ze.ael(C,ce,S,gn)}}},Tt=/\s/,dn=C=>C?C.split(Tt):[],Bn="Capture",Ge=new RegExp(Bn+"$"),$e=(C,ce,O)=>{const S=11===ce.$elm$.nodeType&&ce.$elm$.host?ce.$elm$.host:ce.$elm$,K=C&&C.$attrs$||st,Fe=ce.$attrs$||st;for(const Zt of vt(Object.keys(K)))Zt in Fe||rt(S,Zt,K[Zt],void 0,O,ce.$flags$);for(const Zt of vt(Object.keys(Fe)))rt(S,Zt,K[Zt],Fe[Zt],O,ce.$flags$)};function vt(C){return C.includes("ref")?[...C.filter(ce=>"ref"!==ce),"ref"]:C}var Jt,xt,Fn,qn=!1,Jr=!1,gi=!1,xr=!1,Vr=(C,ce,O,S)=>{var K;const Fe=ce.$children$[O];let un,gn,fn,Zt=0;if(qn||(gi=!0,"slot"===Fe.$tag$&&(Jt&&S.classList.add(Jt+"-s"),Fe.$flags$|=Fe.$children$?2:1)),null!==Fe.$text$)un=Fe.$elm$=We.createTextNode(Fe.$text$);else if(1&Fe.$flags$)un=Fe.$elm$=We.createTextNode("");else{if(xr||(xr="svg"===Fe.$tag$),un=Fe.$elm$=We.createElementNS(xr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!qn&&2&Fe.$flags$?"slot-fb":Fe.$tag$),xr&&"foreignObject"===Fe.$tag$&&(xr=!1),$e(null,Fe,xr),!!un.getRootNode().querySelector("body")&&(C=>null!=C)(Jt)&&un["s-si"]!==Jt&&un.classList.add(un["s-si"]=Jt),pt(un,S),Fe.$children$)for(Zt=0;Zt<Fe.$children$.length;++Zt)gn=Vr(C,Fe,Zt,un),gn&&un.appendChild(gn);"svg"===Fe.$tag$?xr=!1:"foreignObject"===un.tagName&&(xr=!0)}return un["s-hn"]=Fn,3&Fe.$flags$&&(un["s-sr"]=!0,un["s-cr"]=xt,un["s-sn"]=Fe.$name$||"",un["s-rf"]=null==(K=Fe.$attrs$)?void 0:K.ref,fn=C&&C.$children$&&C.$children$[O],fn&&fn.$tag$===Fe.$tag$&&C.$elm$&&Sn(C.$elm$)),un},Sn=C=>{ze.$flags$|=1;const ce=C.closest(Fn.toLowerCase());if(null!=ce){const O=Array.from(ce.childNodes).find(K=>K["s-cr"]),S=Array.from(C.childNodes);for(const K of O?S.reverse():S)null!=K["s-sh"]&&(J(ce,K,O??null),K["s-sh"]=void 0,gi=!0)}ze.$flags$&=-2},Wr=(C,ce)=>{ze.$flags$|=1;const O=Array.from(C.childNodes);if(C["s-sr"]){let S=C;for(;S=S.nextSibling;)S&&S["s-sn"]===C["s-sn"]&&S["s-sh"]===Fn&&O.push(S)}for(let S=O.length-1;S>=0;S--){const K=O[S];K["s-hn"]!==Fn&&K["s-ol"]&&(J(wi(K),K,Ar(K)),K["s-ol"].remove(),K["s-ol"]=void 0,K["s-sh"]=void 0,gi=!0),ce&&Wr(K,ce)}ze.$flags$&=-2},kr=(C,ce,O,S,K,Fe)=>{let un,Zt=C["s-cr"]&&C["s-cr"].parentNode||C;for(Zt.shadowRoot&&Zt.tagName===Fn&&(Zt=Zt.shadowRoot);K<=Fe;++K)S[K]&&(un=Vr(null,O,K,C),un&&(S[K].$elm$=un,J(Zt,un,Ar(ce))))},Oi=(C,ce,O)=>{for(let S=ce;S<=O;++S){const K=C[S];if(K){const Fe=K.$elm$;ie(K),Fe&&(Jr=!0,Fe["s-ol"]?Fe["s-ol"].remove():Wr(Fe,!0),Fe.remove())}}},Ur=(C,ce,O=!1)=>!(C.$tag$!==ce.$tag$||("slot"===C.$tag$?"$nodeId$"in C&&O&&8!==C.$elm$.nodeType||C.$name$!==ce.$name$:!O&&C.$key$!==ce.$key$)),Ar=C=>C&&C["s-ol"]||C,wi=C=>(C["s-ol"]?C["s-ol"]:C).parentNode,ti=(C,ce,O=!1)=>{const S=ce.$elm$=C.$elm$,K=C.$children$,Fe=ce.$children$,Zt=ce.$tag$,un=ce.$text$;let gn;null===un?(xr="svg"===Zt||"foreignObject"!==Zt&&xr,"slot"!==Zt||qn?$e(C,ce,xr):C.$name$!==ce.$name$&&(ce.$elm$["s-sn"]=ce.$name$||"",Sn(ce.$elm$.parentElement)),null!==K&&null!==Fe?((C,ce,O,S,K=!1)=>{let Li,mi,Fe=0,Zt=0,un=0,gn=0,fn=ce.length-1,jn=ce[0],et=ce[fn],On=S.length-1,lr=S[0],Gr=S[On];for(;Fe<=fn&&Zt<=On;)if(null==jn)jn=ce[++Fe];else if(null==et)et=ce[--fn];else if(null==lr)lr=S[++Zt];else if(null==Gr)Gr=S[--On];else if(Ur(jn,lr,K))ti(jn,lr,K),jn=ce[++Fe],lr=S[++Zt];else if(Ur(et,Gr,K))ti(et,Gr,K),et=ce[--fn],Gr=S[--On];else if(Ur(jn,Gr,K))("slot"===jn.$tag$||"slot"===Gr.$tag$)&&Wr(jn.$elm$.parentNode,!1),ti(jn,Gr,K),J(C,jn.$elm$,et.$elm$.nextSibling),jn=ce[++Fe],Gr=S[--On];else if(Ur(et,lr,K))("slot"===jn.$tag$||"slot"===Gr.$tag$)&&Wr(et.$elm$.parentNode,!1),ti(et,lr,K),J(C,et.$elm$,jn.$elm$),et=ce[--fn],lr=S[++Zt];else{for(un=-1,gn=Fe;gn<=fn;++gn)if(ce[gn]&&null!==ce[gn].$key$&&ce[gn].$key$===lr.$key$){un=gn;break}un>=0?(mi=ce[un],mi.$tag$!==lr.$tag$?Li=Vr(ce&&ce[Zt],O,un,C):(ti(mi,lr,K),ce[un]=void 0,Li=mi.$elm$),lr=S[++Zt]):(Li=Vr(ce&&ce[Zt],O,Zt,C),lr=S[++Zt]),Li&&J(wi(jn.$elm$),Li,Ar(jn.$elm$))}Fe>fn?kr(C,null==S[On+1]?null:S[On+1].$elm$,O,S,Zt,On):Zt>On&&Oi(ce,Fe,fn)})(S,K,ce,Fe,O):null!==Fe?(null!==C.$text$&&(S.textContent=""),kr(S,null,ce,Fe,0,Fe.length-1)):!O&&null!==K&&Oi(K,0,K.length-1),xr&&"svg"===Zt&&(xr=!1)):(gn=S["s-cr"])?gn.parentNode.textContent=un:C.$text$!==un&&(S.data=un)},$i=C=>{const ce=C.childNodes;for(const O of ce)if(1===O.nodeType){if(O["s-sr"]){const S=O["s-sn"];O.hidden=!1;for(const K of ce)if(K!==O)if(K["s-hn"]!==O["s-hn"]||""!==S){if(1===K.nodeType&&(S===K.getAttribute("slot")||S===K["s-sn"])||3===K.nodeType&&S===K["s-sn"]){O.hidden=!0;break}}else if(1===K.nodeType||3===K.nodeType&&""!==K.textContent.trim()){O.hidden=!0;break}}$i(O)}},zt=[],ae=C=>{let ce,O,S;for(const K of C.childNodes){if(K["s-sr"]&&(ce=K["s-cr"])&&ce.parentNode){O=ce.parentNode.childNodes;const Fe=K["s-sn"];for(S=O.length-1;S>=0;S--)if(ce=O[S],!(ce["s-cn"]||ce["s-nr"]||ce["s-hn"]===K["s-hn"]||ce["s-sh"]&&ce["s-sh"]===K["s-hn"]))if(_e(ce,Fe)){let Zt=zt.find(un=>un.$nodeToRelocate$===ce);Jr=!0,ce["s-sn"]=ce["s-sn"]||Fe,Zt?(Zt.$nodeToRelocate$["s-sh"]=K["s-hn"],Zt.$slotRefNode$=K):(ce["s-sh"]=K["s-hn"],zt.push({$slotRefNode$:K,$nodeToRelocate$:ce})),ce["s-sr"]&&zt.map(un=>{_e(un.$nodeToRelocate$,ce["s-sn"])&&(Zt=zt.find(gn=>gn.$nodeToRelocate$===ce),Zt&&!un.$slotRefNode$&&(un.$slotRefNode$=Zt.$slotRefNode$))})}else zt.some(Zt=>Zt.$nodeToRelocate$===ce)||zt.push({$nodeToRelocate$:ce})}1===K.nodeType&&ae(K)}},_e=(C,ce)=>1===C.nodeType?null===C.getAttribute("slot")&&""===ce||C.getAttribute("slot")===ce:C["s-sn"]===ce||""===ce,ie=C=>{C.$attrs$&&C.$attrs$.ref&&C.$attrs$.ref(null),C.$children$&&C.$children$.map(ie)},J=(C,ce,O)=>{const S=C?.insertBefore(ce,O);return pt(ce,C),S},Ve=C=>{const ce=[];return C&&ce.push(...C["s-scs"]||[],C["s-si"],C["s-sc"],...Ve(C.parentElement)),ce},pt=(C,ce,O=!1)=>{var S;if(C&&ce&&1===C.nodeType){const K=new Set(Ve(ce).filter(Boolean));if(K.size&&(null==(S=C.classList)||S.add(...C["s-scs"]=[...K]),C["s-ol"]||O))for(const Fe of Array.from(C.childNodes))pt(Fe,C,!0)}},Qt=(C,ce)=>{ce&&!C.$onRenderResolve$&&ce["s-p"]&&ce["s-p"].push(new Promise(O=>C.$onRenderResolve$=O))},de=(C,ce)=>{if(C.$flags$|=16,!(4&C.$flags$))return Qt(C,C.$ancestorComponent$),Ct(()=>Ue(C,ce));C.$flags$|=512},Ue=(C,ce)=>{const K=C.$lazyInstance$;if(!K)throw new Error(`Can't render component <${C.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let Fe;return ce&&(C.$flags$|=256,C.$queuedListeners$&&(C.$queuedListeners$.map(([Zt,un])=>En(K,Zt,un)),C.$queuedListeners$=void 0),Fe=En(K,"componentWillLoad")),Fe=Qe(Fe,()=>En(K,"componentWillRender")),Qe(Fe,()=>Xt(C,K,ce))},Qe=(C,ce)=>Wt(C)?C.then(ce).catch(O=>{console.error(O),ce()}):ce(),Wt=C=>C instanceof Promise||C&&C.then&&"function"==typeof C.then,Xt=function(){var C=(0,l.A)(function*(ce,O,S){var K;const Fe=ce.$hostElement$,un=Fe["s-rc"];S&&(C=>{const ce=C.$cmpMeta$,O=C.$hostElement$,S=ce.$flags$,Fe=Ai(O.shadowRoot?O.shadowRoot:O.getRootNode(),ce,C.$modeName$);10&S&&2&S&&(O["s-sc"]=Fe,O.classList.add(Fe+"-h"),2&S&&O.classList.add(Fe+"-s"))})(ce);Et(ce,O,Fe,S),un&&(un.map(fn=>fn()),Fe["s-rc"]=void 0);{const fn=null!=(K=Fe["s-p"])?K:[],jn=()=>_n(ce);0===fn.length?jn():(Promise.all(fn).then(jn),ce.$flags$|=4,fn.length=0)}});return function(O,S,K){return C.apply(this,arguments)}}(),Et=(C,ce,O,S)=>{try{ce=ce.render&&ce.render(),C.$flags$&=-17,C.$flags$|=2,((C,ce,O=!1)=>{var S,K,Fe,Zt,un;const gn=C.$hostElement$,fn=C.$cmpMeta$,jn=C.$vnode$||ir(null,null),et=(C=>C&&C.$tag$===Jn)(ce)?ce:Er(null,null,ce);if(Fn=gn.tagName,fn.$attrsToReflect$&&(et.$attrs$=et.$attrs$||{},fn.$attrsToReflect$.map(([On,lr])=>et.$attrs$[lr]=gn[On])),O&&et.$attrs$)for(const On of Object.keys(et.$attrs$))gn.hasAttribute(On)&&!["key","ref","style","class"].includes(On)&&(et.$attrs$[On]=gn[On]);if(et.$tag$=null,et.$flags$|=4,C.$vnode$=et,et.$elm$=jn.$elm$=gn.shadowRoot||gn,Jt=gn["s-sc"],qn=!!(1&fn.$flags$),xt=gn["s-cr"],Jr=!1,ti(jn,et,O),ze.$flags$|=1,gi){ae(et.$elm$);for(const On of zt){const lr=On.$nodeToRelocate$;if(!lr["s-ol"]){const Gr=We.createTextNode("");Gr["s-nr"]=lr,J(lr.parentNode,lr["s-ol"]=Gr,lr)}}for(const On of zt){const lr=On.$nodeToRelocate$,Gr=On.$slotRefNode$;if(Gr){const Li=Gr.parentNode;let mi=Gr.nextSibling;if(mi&&1===mi.nodeType){let qr=null==(S=lr["s-ol"])?void 0:S.previousSibling;for(;qr;){let Ti=null!=(K=qr["s-nr"])?K:null;if(Ti&&Ti["s-sn"]===lr["s-sn"]&&Li===Ti.parentNode){for(Ti=Ti.nextSibling;Ti===lr||Ti?.["s-sr"];)Ti=Ti?.nextSibling;if(!Ti||!Ti["s-nr"]){mi=Ti;break}}qr=qr.previousSibling}}(!mi&&Li!==lr.parentNode||lr.nextSibling!==mi)&&lr!==mi&&(J(Li,lr,mi),1===lr.nodeType&&(lr.hidden=null!=(Fe=lr["s-ih"])&&Fe)),lr&&"function"==typeof Gr["s-rf"]&&Gr["s-rf"](lr)}else 1===lr.nodeType&&(O&&(lr["s-ih"]=null!=(Zt=lr.hidden)&&Zt),lr.hidden=!0)}}if(Jr&&$i(et.$elm$),ze.$flags$&=-2,zt.length=0,2&fn.$flags$)for(const On of et.$elm$.childNodes)On["s-hn"]!==Fn&&!On["s-sh"]&&(O&&null==On["s-ih"]&&(On["s-ih"]=null!=(un=On.hidden)&&un),On.hidden=!0);xt=void 0})(C,ce,S)}catch(K){Ne(K,C.$hostElement$)}return null},_n=C=>{const O=C.$hostElement$,K=C.$lazyInstance$,Fe=C.$ancestorComponent$;En(K,"componentDidRender"),64&C.$flags$?En(K,"componentDidUpdate"):(C.$flags$|=64,kn(O),En(K,"componentDidLoad"),C.$onReadyResolve$(O),Fe||Yn()),C.$onInstanceResolve$(O),C.$onRenderResolve$&&(C.$onRenderResolve$(),C.$onRenderResolve$=void 0),512&C.$flags$&&Xe(()=>de(C,!1)),C.$flags$&=-517},Qn=C=>{{const ce=Ae(C),O=ce.$hostElement$.isConnected;return O&&2==(18&ce.$flags$)&&de(ce,!1),O}},Yn=C=>{kn(We.documentElement),Xe(()=>gr(H,"appload",{detail:{namespace:"ionic"}}))},En=(C,ce,O)=>{if(C&&C[ce])try{return C[ce](O)}catch(S){Ne(S)}},kn=C=>C.classList.add("hydrated"),Lt=(C,ce,O)=>{var S,K;const Fe=C.prototype;if(ce.$members$||ce.$watchers$||C.watchers){C.watchers&&!ce.$watchers$&&(ce.$watchers$=C.watchers);const Zt=Object.entries(null!=(S=ce.$members$)?S:{});if(Zt.map(([un,[gn]])=>{31&gn||2&O&&32&gn?Object.defineProperty(Fe,un,{get(){return((C,ce)=>Ae(this).$instanceValues$.get(ce))(0,un)},set(fn){((C,ce,O,S)=>{const K=Ae(C);if(!K)throw new Error(`Couldn't find host element for "${S.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const Fe=K.$hostElement$,Zt=K.$instanceValues$.get(ce),un=K.$flags$,gn=K.$lazyInstance$;O=((C,ce)=>null==C||Vn(C)?C:4&ce?"false"!==C&&(""===C||!!C):2&ce?parseFloat(C):1&ce?String(C):C)(O,S.$members$[ce][0]);const fn=Number.isNaN(Zt)&&Number.isNaN(O);if((!(8&un)||void 0===Zt)&&O!==Zt&&!fn&&(K.$instanceValues$.set(ce,O),gn)){if(S.$watchers$&&128&un){const et=S.$watchers$[ce];et&&et.map(On=>{try{gn[On](O,Zt,ce)}catch(lr){Ne(lr,Fe)}})}2==(18&un)&&de(K,!1)}})(this,un,fn,ce)},configurable:!0,enumerable:!0}):1&O&&64&gn&&Object.defineProperty(Fe,un,{value(...fn){var jn;const et=Ae(this);return null==(jn=et?.$onInstancePromise$)?void 0:jn.then(()=>{var On;return null==(On=et.$lazyInstance$)?void 0:On[un](...fn)})}})}),1&O){const un=new Map;Fe.attributeChangedCallback=function(gn,fn,jn){ze.jmp(()=>{var et;const On=un.get(gn);if(this.hasOwnProperty(On))jn=this[On],delete this[On];else{if(Fe.hasOwnProperty(On)&&"number"==typeof this[On]&&this[On]==jn)return;if(null==On){const lr=Ae(this),Gr=lr?.$flags$;if(Gr&&!(8&Gr)&&128&Gr&&jn!==fn){const Li=lr.$lazyInstance$,mi=null==(et=ce.$watchers$)?void 0:et[gn];mi?.forEach(qr=>{null!=Li[qr]&&Li[qr].call(Li,jn,fn,gn)})}return}}this[On]=(null!==jn||"boolean"!=typeof this[On])&&jn})},C.observedAttributes=Array.from(new Set([...Object.keys(null!=(K=ce.$watchers$)?K:{}),...Zt.filter(([gn,fn])=>15&fn[0]).map(([gn,fn])=>{var jn;const et=fn[1]||gn;return un.set(et,gn),512&fn[0]&&(null==(jn=ce.$attrsToReflect$)||jn.push([gn,et])),et})]))}}return C},on=function(){var C=(0,l.A)(function*(ce,O,S,K){let Fe;if(!(32&O.$flags$)){if(O.$flags$|=32,S.$lazyBundleId$){const fn=(C=>{const S=C.$tagName$.replace(/-/g,"_"),K=C.$lazyBundleId$;if(!K)return;const Fe=pe.get(K);return Fe?Fe[S]:N(8996)(`./${K}.entry.js`).then(Zt=>(pe.set(K,Zt),Zt[S]),Ne)})(S);if(fn&&"then"in fn){const et=()=>{};Fe=yield fn,et()}else Fe=fn;if(!Fe)throw new Error(`Constructor for "${S.$tagName$}#${O.$modeName$}" was not found`);Fe.isProxied||(S.$watchers$=Fe.watchers,Lt(Fe,S,2),Fe.isProxied=!0);const jn=()=>{};O.$flags$|=8;try{new Fe(O)}catch(et){Ne(et)}O.$flags$&=-9,O.$flags$|=128,jn(),ar(O.$lazyInstance$)}else Fe=ce.constructor,customElements.whenDefined(ce.localName).then(()=>O.$flags$|=128);if(Fe&&Fe.style){let fn;"string"==typeof Fe.style?fn=Fe.style:"string"!=typeof Fe.style&&(O.$modeName$=(C=>yt.map(ce=>ce(C)).find(ce=>!!ce))(ce),O.$modeName$&&(fn=Fe.style[O.$modeName$]));const jn=ht(S,O.$modeName$);if(!nt.has(jn)){const et=()=>{};((C,ce,O)=>{let S=nt.get(C);qe&&O?(S=S||new CSSStyleSheet,"string"==typeof S?S=ce:S.replaceSync(ce)):S=ce,nt.set(C,S)})(jn,fn,!!(1&S.$flags$)),et()}}}const Zt=O.$ancestorComponent$,un=()=>de(O,!0);Zt&&Zt["s-rc"]?Zt["s-rc"].push(un):un()});return function(O,S,K,Fe){return C.apply(this,arguments)}}(),ar=C=>{En(C,"connectedCallback")},ts=C=>{const ce=C["s-cr"]=We.createComment("");ce["s-cn"]=!0,J(C,ce,C.firstChild)},he=C=>{En(C,"disconnectedCallback")},ye=function(){var C=(0,l.A)(function*(ce){if(!(1&ze.$flags$)){const O=Ae(ce);O.$rmListeners$&&(O.$rmListeners$.map(S=>S()),O.$rmListeners$=void 0),O?.$lazyInstance$?he(O.$lazyInstance$):O?.$onReadyPromise$&&O.$onReadyPromise$.then(()=>he(O.$lazyInstance$))}});return function(O){return C.apply(this,arguments)}}(),qt=C=>{const ce=C.cloneNode;C.cloneNode=function(O){const S=this,K=S.shadowRoot&&true,Fe=ce.call(S,!!K&&O);if(!K&&O){let un,gn,Zt=0;const fn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Zt<S.childNodes.length;Zt++)un=S.childNodes[Zt]["s-nr"],gn=fn.every(jn=>!S.childNodes[Zt][jn]),un&&(Fe.__appendChild?Fe.__appendChild(un.cloneNode(!0)):Fe.appendChild(un.cloneNode(!0))),gn&&Fe.appendChild(S.childNodes[Zt].cloneNode(!0))}return Fe}},wn=C=>{C.__appendChild=C.appendChild,C.appendChild=function(ce){const O=ce["s-sn"]=So(ce),S=ur(this.childNodes,O,this.tagName);if(S){const K=zr(S,O),Fe=K[K.length-1],Zt=J(Fe.parentNode,ce,Fe.nextSibling);return $i(this),Zt}return this.__appendChild(ce)}},Zn=C=>{C.__removeChild=C.removeChild,C.removeChild=function(ce){if(ce&&typeof ce["s-sn"]<"u"){const O=ur(this.childNodes,ce["s-sn"],this.tagName);if(O){const K=zr(O,ce["s-sn"]).find(Fe=>Fe===ce);if(K)return K.remove(),void $i(this)}}return this.__removeChild(ce)}},er=C=>{const ce=C.prepend;C.prepend=function(...O){O.forEach(S=>{"string"==typeof S&&(S=this.ownerDocument.createTextNode(S));const K=S["s-sn"]=So(S),Fe=ur(this.childNodes,K,this.tagName);if(Fe){const Zt=document.createTextNode("");Zt["s-nr"]=S,Fe["s-cr"].parentNode.__appendChild(Zt),S["s-ol"]=Zt;const gn=zr(Fe,K)[0];return J(gn.parentNode,S,gn.nextSibling)}return 1===S.nodeType&&S.getAttribute("slot")&&(S.hidden=!0),ce.call(this,S)})}},Cr=C=>{C.append=function(...ce){ce.forEach(O=>{"string"==typeof O&&(O=this.ownerDocument.createTextNode(O)),this.appendChild(O)})}},Pn=C=>{const ce=C.insertAdjacentHTML;C.insertAdjacentHTML=function(O,S){if("afterbegin"!==O&&"beforeend"!==O)return ce.call(this,O,S);const K=this.ownerDocument.createElement("_");let Fe;if(K.innerHTML=S,"afterbegin"===O)for(;Fe=K.firstChild;)this.prepend(Fe);else if("beforeend"===O)for(;Fe=K.firstChild;)this.append(Fe)}},tr=C=>{C.insertAdjacentText=function(ce,O){this.insertAdjacentHTML(ce,O)}},Br=C=>{const ce=C.insertAdjacentElement;C.insertAdjacentElement=function(O,S){return"afterbegin"!==O&&"beforeend"!==O?ce.call(this,O,S):"afterbegin"===O?(this.prepend(S),S):("beforeend"===O&&this.append(S),S)}},hs=C=>{const ce=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(C,"__textContent",ce),Object.defineProperty(C,"textContent",{get(){return" "+mr(this.childNodes).map(K=>{var Fe,Zt;const un=[];let gn=K.nextSibling;for(;gn&&gn["s-sn"]===K["s-sn"];)(3===gn.nodeType||1===gn.nodeType)&&un.push(null!=(Zt=null==(Fe=gn.textContent)?void 0:Fe.trim())?Zt:""),gn=gn.nextSibling;return un.filter(fn=>""!==fn).join(" ")}).filter(K=>""!==K).join(" ")+" "},set(O){mr(this.childNodes).forEach(K=>{let Fe=K.nextSibling;for(;Fe&&Fe["s-sn"]===K["s-sn"];){const Zt=Fe;Fe=Fe.nextSibling,Zt.remove()}if(""===K["s-sn"]){const Zt=this.ownerDocument.createTextNode(O);Zt["s-sn"]="",J(K.parentElement,Zt,K.nextSibling)}else K.remove()})}})},Ri=(C,ce)=>{class O extends Array{item(K){return this[K]}}if(8&ce.$flags$){const S=C.__lookupGetter__("childNodes");Object.defineProperty(C,"children",{get(){return this.childNodes.map(K=>1===K.nodeType)}}),Object.defineProperty(C,"childElementCount",{get:()=>C.children.length}),Object.defineProperty(C,"childNodes",{get(){const K=S.call(this);if(!(1&ze.$flags$)&&2&Ae(this).$flags$){const Fe=new O;for(let Zt=0;Zt<K.length;Zt++){const un=K[Zt]["s-nr"];un&&Fe.push(un)}return Fe}return O.from(K)}})}},mr=C=>{const ce=[];for(const O of Array.from(C))O["s-sr"]&&ce.push(O),ce.push(...mr(O.childNodes));return ce},So=C=>C["s-sn"]||1===C.nodeType&&C.getAttribute("slot")||"",ur=(C,ce,O)=>{let K,S=0;for(;S<C.length;S++)if(K=C[S],K["s-sr"]&&K["s-sn"]===ce&&K["s-hn"]===O||(K=ur(K.childNodes,ce,O),K))return K;return null},zr=(C,ce)=>{const O=[C];for(;(C=C.nextSibling)&&C["s-sn"]===ce;)O.push(C);return O},Xr=(C,ce={})=>{var O;const K=[],Fe=ce.exclude||[],Zt=H.customElements,un=We.head,gn=un.querySelector("meta[charset]"),fn=We.createElement("style"),jn=[];let et,On=!0;Object.assign(ze,ce),ze.$resourcesUrl$=new URL(ce.resourcesUrl||"./",We.baseURI).href,ze.$flags$|=2;let lr=!1;if(C.map(Gr=>{Gr[1].map(Li=>{var mi;const qr={$flags$:Li[0],$tagName$:Li[1],$members$:Li[2],$listeners$:Li[3]};4&qr.$flags$&&(lr=!0),qr.$members$=Li[2],qr.$listeners$=Li[3],qr.$attrsToReflect$=[],qr.$watchers$=null!=(mi=Li[4])?mi:{};const Ti=qr.$tagName$,Fi=class extends HTMLElement{constructor(Ei){if(super(Ei),this.hasRegisteredEventListeners=!1,((C,ce)=>{const O={$flags$:0,$hostElement$:C,$cmpMeta$:ce,$instanceValues$:new Map};O.$onInstancePromise$=new Promise(S=>O.$onInstanceResolve$=S),O.$onReadyPromise$=new Promise(S=>O.$onReadyResolve$=S),C["s-p"]=[],C["s-rc"]=[],be.set(C,O)})(Ei=this,qr),1&qr.$flags$)if(Ei.shadowRoot){if("open"!==Ei.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${qr.$tagName$}! Mode is set to ${Ei.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Ei.attachShadow({mode:"open",delegatesFocus:!!(16&qr.$flags$)})}connectedCallback(){const Ei=Ae(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Wn(this,Ei,qr.$listeners$)),et&&(clearTimeout(et),et=null),On?jn.push(this):ze.jmp(()=>(C=>{if(!(1&ze.$flags$)){const ce=Ae(C),O=ce.$cmpMeta$,S=()=>{};if(1&ce.$flags$)Wn(C,ce,O.$listeners$),ce?.$lazyInstance$?ar(ce.$lazyInstance$):ce?.$onReadyPromise$&&ce.$onReadyPromise$.then(()=>ar(ce.$lazyInstance$));else{let K;if(ce.$flags$|=1,K=C.getAttribute(Ke),K){if(1&O.$flags$){const Fe=Ai(C.shadowRoot,O,C.getAttribute("s-mode"));C.classList.remove(Fe+"-h",Fe+"-s")}((C,ce,O,S)=>{const Fe=C.shadowRoot,Zt=[],gn=Fe?[]:null,fn=S.$vnode$=ir(ce,null);ze.$orgLocNodes$||Qr(We.body,ze.$orgLocNodes$=new Map),C[Ke]=O,C.removeAttribute(Ke),Or(fn,Zt,[],gn,C,C,O),Zt.map(jn=>{const et=jn.$hostId$+"."+jn.$nodeId$,On=ze.$orgLocNodes$.get(et),lr=jn.$elm$;On&&""===On["s-en"]&&On.parentNode.insertBefore(lr,On.nextSibling),Fe||(lr["s-hn"]=ce,On&&(lr["s-ol"]=On,lr["s-ol"]["s-nr"]=lr)),ze.$orgLocNodes$.delete(et)}),Fe&&gn.map(jn=>{jn&&Fe.appendChild(jn)})})(C,O.$tagName$,K,ce)}K||12&O.$flags$&&ts(C);{let Fe=C;for(;Fe=Fe.parentNode||Fe.host;)if(1===Fe.nodeType&&Fe.hasAttribute("s-id")&&Fe["s-p"]||Fe["s-p"]){Qt(ce,ce.$ancestorComponent$=Fe);break}}O.$members$&&Object.entries(O.$members$).map(([Fe,[Zt]])=>{if(31&Zt&&C.hasOwnProperty(Fe)){const un=C[Fe];delete C[Fe],C[Fe]=un}}),on(C,ce,O)}S()}})(this))}disconnectedCallback(){ze.jmp(()=>ye(this))}componentOnReady(){return Ae(this).$onReadyPromise$}};2&qr.$flags$&&((C,ce)=>{qt(C),wn(C),Cr(C),er(C),Br(C),Pn(C),tr(C),hs(C),Ri(C,ce),Zn(C)})(Fi.prototype,qr),qr.$lazyBundleId$=Gr[0],!Fe.includes(Ti)&&!Zt.get(Ti)&&(K.push(Ti),Zt.define(Ti,Lt(Fi,qr,1)))})}),K.length>0&&(lr&&(fn.textContent+=Ze),fn.textContent+=K.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",fn.innerHTML.length)){fn.setAttribute("data-styles","");const Gr=null!=(O=ze.$nonce$)?O:Gn(We);null!=Gr&&fn.setAttribute("nonce",Gr),un.insertBefore(fn,gn?gn.nextSibling:un.firstChild)}On=!1,jn.length?jn.map(Gr=>Gr.connectedCallback()):ze.jmp(()=>et=setTimeout(Yn,30))},Wn=(C,ce,O,S)=>{O&&O.map(([K,Fe,Zt])=>{const un=fs(C,K),gn=zi(ce,Zt),fn=Ts(K);ze.ael(un,Fe,gn,fn),(ce.$rmListeners$=ce.$rmListeners$||[]).push(()=>ze.rel(un,Fe,gn,fn))})},zi=(C,ce)=>O=>{var S;try{256&C.$flags$?null==(S=C.$lazyInstance$)||S[ce](O):(C.$queuedListeners$=C.$queuedListeners$||[]).push([ce,O])}catch(K){Ne(K)}},fs=(C,ce)=>4&ce?We:8&ce?H:16&ce?We.body:C,Ts=C=>kt?{passive:!!(1&C),capture:!!(2&C)}:!!(2&C)},9144:(In,dt,N)=>{"use strict";N.d(dt,{a:()=>Z,b:()=>G,p:()=>U});var l=N(4346);const U=(Re,...Q)=>{const be=l.c.get("logLevel","WARN");if(["WARN"].includes(be))return console.warn(`[Ionic Warning]: ${Re}`,...Q)},Z=(Re,...Q)=>{const be=l.c.get("logLevel","ERROR");if(["ERROR","WARN"].includes(be))return console.error(`[Ionic Error]: ${Re}`,...Q)},G=(Re,...Q)=>console.error(`<${Re.tagName.toLowerCase()}> must be used inside ${Q.join(" or ")}.`)},5248:(In,dt,N)=>{"use strict";N.d(dt,{b:()=>Ae,c:()=>ve,d:()=>Te,e:()=>kt,g:()=>Se,l:()=>ze,s:()=>cn,t:()=>He,w:()=>Mt});var l=N(467),U=N(4346),Z=N(6317),G=N(9144),Re=N(1559);const Ae="ionViewWillLeave",ve="ionViewDidLeave",Te="ionViewWillUnload",ue=Ie=>{Ie.tabIndex=-1,Ie.focus()},Ne=Ie=>null!==Ie.offsetParent,xe="ion-last-focus",it_saveViewFocus=le=>{if(U.c.get("focusManagerPriority",!1)){const ot=document.activeElement;null!==ot&&le?.contains(ot)&&ot.setAttribute(xe,"true")}},it_setViewFocus=le=>{const Pe=U.c.get("focusManagerPriority",!1);if(Array.isArray(Pe)&&!le.contains(document.activeElement)){const ot=le.querySelector(`[${xe}]`);if(ot&&Ne(ot))return void ue(ot);for(const Xe of Pe)switch(Xe){case"content":const De=le.querySelector('main, [role="main"]');if(De&&Ne(De))return void ue(De);break;case"heading":const Ct=le.querySelector('h1, [role="heading"][aria-level="1"]');if(Ct&&Ne(Ct))return void ue(Ct);break;case"banner":const fe=le.querySelector('header, [role="banner"]');if(fe&&Ne(fe))return void ue(fe);break;default:(0,G.p)(`Unrecognized focus manager priority value ${Xe}`)}ue(le)}},He=Ie=>new Promise((Me,le)=>{(0,Z.w)(()=>{At(Ie),Pt(Ie).then(Pe=>{Pe.animation&&Pe.animation.destroy(),Ke(Ie),Me(Pe)},Pe=>{Ke(Ie),le(Pe)})})}),At=Ie=>{const Me=Ie.enteringEl,le=Ie.leavingEl;it_saveViewFocus(le),qe(Me,le,Ie.direction),Ie.showGoBack?Me.classList.add("can-go-back"):Me.classList.remove("can-go-back"),cn(Me,!1),Me.style.setProperty("pointer-events","none"),le&&(cn(le,!1),le.style.setProperty("pointer-events","none"))},Pt=function(){var Ie=(0,l.A)(function*(Me){const le=yield Le(Me);return le&&Z.B.isBrowser?at(le,Me):Ye(Me)});return function(le){return Ie.apply(this,arguments)}}(),Ke=Ie=>{const Me=Ie.enteringEl,le=Ie.leavingEl;Me.classList.remove("ion-page-invisible"),Me.style.removeProperty("pointer-events"),void 0!==le&&(le.classList.remove("ion-page-invisible"),le.style.removeProperty("pointer-events")),it_setViewFocus(Me)},Le=function(){var Ie=(0,l.A)(function*(Me){return Me.leavingEl&&Me.animated&&0!==Me.duration?Me.animationBuilder?Me.animationBuilder:"ios"===Me.mode?(yield Promise.resolve().then(N.bind(N,1935))).iosTransitionAnimation:(yield Promise.resolve().then(N.bind(N,5062))).mdTransitionAnimation:void 0});return function(le){return Ie.apply(this,arguments)}}(),at=function(){var Ie=(0,l.A)(function*(Me,le){yield Ze(le,!0);const Pe=Me(le.baseEl,le);We(le.enteringEl,le.leavingEl);const ot=yield H(Pe,le);return le.progressCallback&&le.progressCallback(void 0),ot&&bt(le.enteringEl,le.leavingEl),{hasCompleted:ot,animation:Pe}});return function(le,Pe){return Ie.apply(this,arguments)}}(),Ye=function(){var Ie=(0,l.A)(function*(Me){const le=Me.enteringEl,Pe=Me.leavingEl,ot=U.c.get("focusManagerPriority",!1);return yield Ze(Me,ot),We(le,Pe),bt(le,Pe),{hasCompleted:!0}});return function(le){return Ie.apply(this,arguments)}}(),Ze=function(){var Ie=(0,l.A)(function*(Me,le){(void 0!==Me.deepWait?Me.deepWait:le)&&(yield Promise.all([kt(Me.enteringEl),kt(Me.leavingEl)])),yield Dt(Me.viewIsReady,Me.enteringEl)});return function(le,Pe){return Ie.apply(this,arguments)}}(),Dt=function(){var Ie=(0,l.A)(function*(Me,le){Me&&(yield Me(le))});return function(le,Pe){return Ie.apply(this,arguments)}}(),H=(Ie,Me)=>{const le=Me.progressCallback,Pe=new Promise(ot=>{Ie.onFinish(Xe=>ot(1===Xe))});return le?(Ie.progressStart(!0),le(Ie)):Ie.play(),Pe},We=(Ie,Me)=>{ze(Me,Ae),ze(Ie,"ionViewWillEnter")},bt=(Ie,Me)=>{ze(Ie,"ionViewDidEnter"),ze(Me,ve)},ze=(Ie,Me)=>{if(Ie){const le=new CustomEvent(Me,{bubbles:!1,cancelable:!1});Ie.dispatchEvent(le)}},Mt=()=>new Promise(Ie=>(0,Re.r)(()=>(0,Re.r)(()=>Ie()))),kt=function(){var Ie=(0,l.A)(function*(Me){const le=Me;if(le){if(null!=le.componentOnReady){if(null!=(yield le.componentOnReady()))return}else if(null!=le.__registerHost)return void(yield new Promise(ot=>(0,Re.r)(ot)));yield Promise.all(Array.from(le.children).map(kt))}});return function(le){return Ie.apply(this,arguments)}}(),cn=(Ie,Me)=>{Me?(Ie.setAttribute("aria-hidden","true"),Ie.classList.add("ion-page-hidden")):(Ie.hidden=!1,Ie.removeAttribute("aria-hidden"),Ie.classList.remove("ion-page-hidden"))},qe=(Ie,Me,le)=>{void 0!==Ie&&(Ie.style.zIndex="back"===le?"99":"101"),void 0!==Me&&(Me.style.zIndex="100")},Se=Ie=>Ie.classList.contains("ion-page")?Ie:Ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ie},8476:(In,dt,N)=>{"use strict";N.d(dt,{d:()=>U,w:()=>l});const l=typeof window<"u"?window:void 0,U=typeof document<"u"?document:void 0},6032:(In,dt,N)=>{"use strict";N.d(dt,{m:()=>pe});var l=N(467),U=N(8476),Z=N(6221),G=N(9144),Re=N(1559),Q=N(4346),be=N(9986);const Ae=xe=>(0,be.c)().duration(xe?400:300),ve=xe=>{let nt,yt;const it=xe.width+8,He=(0,be.c)(),At=(0,be.c)();xe.isEndSide?(nt=it+"px",yt="0px"):(nt=-it+"px",yt="0px"),He.addElement(xe.menuInnerEl).fromTo("transform",`translateX(${nt})`,`translateX(${yt})`);const Ke="ios"===(0,Q.b)(xe),Le=Ke?.2:.25;return At.addElement(xe.backdropEl).fromTo("opacity",.01,Le),Ae(Ke).addAnimation([He,At])},Te=xe=>{let nt,yt;const it=(0,Q.b)(xe),He=xe.width;xe.isEndSide?(nt=-He+"px",yt=He+"px"):(nt=He+"px",yt=-He+"px");const At=(0,be.c)().addElement(xe.menuInnerEl).fromTo("transform",`translateX(${yt})`,"translateX(0px)"),Pt=(0,be.c)().addElement(xe.contentEl).fromTo("transform","translateX(0px)",`translateX(${nt})`),Ke=(0,be.c)().addElement(xe.backdropEl).fromTo("opacity",.01,.32);return Ae("ios"===it).addAnimation([At,Pt,Ke])},ue=xe=>{const nt=(0,Q.b)(xe),yt=xe.width*(xe.isEndSide?-1:1)+"px",it=(0,be.c)().addElement(xe.contentEl).fromTo("transform","translateX(0px)",`translateX(${yt})`);return Ae("ios"===nt).addAnimation(it)},pe=(()=>{const xe=new Map,nt=[],yt=function(){var Me=(0,l.A)(function*(le){const Pe=yield at(le,!0);return!!Pe&&Pe.open()});return function(Pe){return Me.apply(this,arguments)}}(),it=function(){var Me=(0,l.A)(function*(le){const Pe=yield void 0!==le?at(le,!0):Ye();return void 0!==Pe&&Pe.close()});return function(Pe){return Me.apply(this,arguments)}}(),He=function(){var Me=(0,l.A)(function*(le){const Pe=yield at(le,!0);return!!Pe&&Pe.toggle()});return function(Pe){return Me.apply(this,arguments)}}(),At=function(){var Me=(0,l.A)(function*(le,Pe){const ot=yield at(Pe);return ot&&(ot.disabled=!le),ot});return function(Pe,ot){return Me.apply(this,arguments)}}(),Pt=function(){var Me=(0,l.A)(function*(le,Pe){const ot=yield at(Pe);return ot&&(ot.swipeGesture=le),ot});return function(Pe,ot){return Me.apply(this,arguments)}}(),Ke=function(){var Me=(0,l.A)(function*(le){if(null!=le){const Pe=yield at(le);return void 0!==Pe&&Pe.isOpen()}return void 0!==(yield Ye())});return function(Pe){return Me.apply(this,arguments)}}(),Le=function(){var Me=(0,l.A)(function*(le){const Pe=yield at(le);return!!Pe&&!Pe.disabled});return function(Pe){return Me.apply(this,arguments)}}(),at=function(){var Me=(0,l.A)(function*(le,Pe=!1){if(yield Ie(),"start"===le||"end"===le){const Xe=nt.filter(Ct=>Ct.side===le&&!Ct.disabled);if(Xe.length>=1)return Xe.length>1&&Pe&&(0,G.p)(`menuController queried for a menu on the "${le}" side, but ${Xe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Xe.map(Ct=>Ct.el)),Xe[0].el;const De=nt.filter(Ct=>Ct.side===le);if(De.length>=1)return De.length>1&&Pe&&(0,G.p)(`menuController queried for a menu on the "${le}" side, but ${De.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,De.map(Ct=>Ct.el)),De[0].el}else if(null!=le)return Se(Xe=>Xe.menuId===le);return Se(Xe=>!Xe.disabled)||(nt.length>0?nt[0].el:void 0)});return function(Pe){return Me.apply(this,arguments)}}(),Ye=function(){var Me=(0,l.A)(function*(){return yield Ie(),kt()});return function(){return Me.apply(this,arguments)}}(),Ze=function(){var Me=(0,l.A)(function*(){return yield Ie(),cn()});return function(){return Me.apply(this,arguments)}}(),Dt=function(){var Me=(0,l.A)(function*(){return yield Ie(),qe()});return function(){return Me.apply(this,arguments)}}(),H=(Me,le)=>{xe.set(Me,le)},ze=function(){var Me=(0,l.A)(function*(le,Pe,ot,Xe){if(qe())return!1;if(Pe){const De=yield Ye();De&&le.el!==De&&(yield De.setOpen(!1,!1))}return le._setOpen(Pe,ot,Xe)});return function(Pe,ot,Xe,De){return Me.apply(this,arguments)}}(),kt=()=>Se(Me=>Me._isOpen),cn=()=>nt.map(Me=>Me.el),qe=()=>nt.some(Me=>Me.isAnimating),Se=Me=>{const le=nt.find(Me);if(void 0!==le)return le.el},Ie=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Me=>new Promise(le=>(0,Re.c)(Me,le))));return H("reveal",ue),H("push",Te),H("overlay",ve),null==U.d||U.d.addEventListener("ionBackButton",Me=>{const le=kt();le&&Me.detail.register(Z.MENU_BACK_BUTTON_PRIORITY,()=>le.close())}),{registerAnimation:H,get:at,getMenus:Ze,getOpen:Ye,isEnabled:Le,swipeGesture:Pt,isAnimating:Dt,isOpen:Ke,enable:At,toggle:He,close:it,open:yt,_getOpenSync:kt,_createAnimation:(Me,le)=>{const Pe=xe.get(Me);if(!Pe)throw new Error("animation not registered");return Pe(le)},_register:Me=>{nt.indexOf(Me)<0&&nt.push(Me)},_unregister:Me=>{const le=nt.indexOf(Me);le>-1&&nt.splice(le,1)},_setOpen:ze}})()},4346:(In,dt,N)=>{"use strict";N.d(dt,{a:()=>ue,b:()=>cn,c:()=>Z,i:()=>qe});var l=N(6317);class U{constructor(){this.m=new Map}reset(Ie){this.m=new Map(Object.entries(Ie))}get(Ie,Me){const le=this.m.get(Ie);return void 0!==le?le:Me}getBoolean(Ie,Me=!1){const le=this.m.get(Ie);return void 0===le?Me:"string"==typeof le?"true"===le:!!le}getNumber(Ie,Me){const le=parseFloat(this.m.get(Ie));return isNaN(le)?void 0!==Me?Me:NaN:le}set(Ie,Me){this.m.set(Ie,Me)}}const Z=new U,ve="ionic-persist-config",ue=(Se,Ie)=>("string"==typeof Se&&(Ie=Se,Se=void 0),(Se=>Ne(Se))(Se).includes(Ie)),Ne=(Se=window)=>{if(typeof Se>"u")return[];Se.Ionic=Se.Ionic||{};let Ie=Se.Ionic.platforms;return null==Ie&&(Ie=Se.Ionic.platforms=pe(Se),Ie.forEach(Me=>Se.document.documentElement.classList.add(`plt-${Me}`))),Ie},pe=Se=>{const Ie=Z.get("platform");return Object.keys(Mt).filter(Me=>{const le=Ie?.[Me];return"function"==typeof le?le(Se):Mt[Me](Se)})},nt=Se=>!!(bt(Se,/iPad/i)||bt(Se,/Macintosh/i)&&Le(Se)),He=Se=>bt(Se,/android|sink/i),Le=Se=>ze(Se,"(any-pointer:coarse)"),Ye=Se=>Ze(Se)||Dt(Se),Ze=Se=>!!(Se.cordova||Se.phonegap||Se.PhoneGap),Dt=Se=>{const Ie=Se.Capacitor;return!!(Ie?.isNative||Ie?.isNativePlatform&&Ie.isNativePlatform())},bt=(Se,Ie)=>Ie.test(Se.navigator.userAgent),ze=(Se,Ie)=>{var Me;return null===(Me=Se.matchMedia)||void 0===Me?void 0:Me.call(Se,Ie).matches},Mt={ipad:nt,iphone:Se=>bt(Se,/iPhone/i),ios:Se=>bt(Se,/iPhone|iPod/i)||nt(Se),android:He,phablet:Se=>{const Ie=Se.innerWidth,Me=Se.innerHeight,le=Math.min(Ie,Me),Pe=Math.max(Ie,Me);return le>390&&le<520&&Pe>620&&Pe<800},tablet:Se=>{const Ie=Se.innerWidth,Me=Se.innerHeight,le=Math.min(Ie,Me),Pe=Math.max(Ie,Me);return nt(Se)||(Se=>He(Se)&&!bt(Se,/mobile/i))(Se)||le>460&&le<820&&Pe>780&&Pe<1400},cordova:Ze,capacitor:Dt,electron:Se=>bt(Se,/electron/i),pwa:Se=>{var Ie;return!!(null!==(Ie=Se.matchMedia)&&void 0!==Ie&&Ie.call(Se,"(display-mode: standalone)").matches||Se.navigator.standalone)},mobile:Le,mobileweb:Se=>Le(Se)&&!Ye(Se),desktop:Se=>!Le(Se),hybrid:Ye};let kt;const cn=Se=>Se&&(0,l.g)(Se)||kt,qe=(Se={})=>{if(typeof window>"u")return;const Ie=window.document,Me=window,le=Me.Ionic=Me.Ionic||{},Pe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Se=>{try{const Ie=Se.sessionStorage.getItem(ve);return null!==Ie?JSON.parse(Ie):{}}catch{return{}}})(Me)),{persistConfig:!1}),le.config),(Se=>{const Ie={};return Se.location.search.slice(1).split("&").map(Me=>Me.split("=")).map(([Me,le])=>{try{return[decodeURIComponent(Me),decodeURIComponent(le)]}catch{return["",""]}}).filter(([Me])=>((Se,Ie)=>Se.substr(0,Ie.length)===Ie)(Me,"ionic:")).map(([Me,le])=>[Me.slice(6),le]).forEach(([Me,le])=>{Ie[Me]=le}),Ie})(Me)),Se);Z.reset(Pe),Z.getBoolean("persistConfig")&&((Se,Ie)=>{try{Se.sessionStorage.setItem(ve,JSON.stringify(Ie))}catch{return}})(Me,Pe),Ne(Me),le.config=Z,le.mode=kt=Z.get("mode",Ie.documentElement.getAttribute("mode")||(ue(Me,"ios")?"ios":"md")),Z.set("mode",kt),Ie.documentElement.setAttribute("mode",kt),Ie.documentElement.classList.add(kt),Z.getBoolean("_testing")&&Z.set("animated",!1);const ot=De=>{var Ct;return null===(Ct=De.tagName)||void 0===Ct?void 0:Ct.startsWith("ION-")},Xe=De=>["ios","md"].includes(De);(0,l.a)(De=>{for(;De;){const Ct=De.mode||De.getAttribute("mode");if(Ct){if(Xe(Ct))return Ct;ot(De)&&console.warn('Invalid ionic mode: "'+Ct+'", expected: "ios" or "md"')}De=De.parentElement}return kt})}},1935:(In,dt,N)=>{"use strict";N.r(dt),N.d(dt,{iosTransitionAnimation:()=>nt,shadow:()=>ve});var l=N(9986),U=N(5248);N(8476),N(4346),N(6317),N(9144);const Ae=it=>document.querySelector(`${it}.ion-cloned-element`),ve=it=>it.shadowRoot||it,Te=it=>{const He="ION-TABS"===it.tagName?it:it.querySelector("ion-tabs"),At="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=He){const Pt=He.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Pt?Pt.querySelector(At):null}return it.querySelector(At)},ue=(it,He)=>{const At="ION-TABS"===it.tagName?it:it.querySelector("ion-tabs");let Pt=[];if(null!=At){const Ke=At.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ke&&(Pt=Ke.querySelectorAll("ion-buttons"))}else Pt=it.querySelectorAll("ion-buttons");for(const Ke of Pt){const Le=Ke.closest("ion-header"),at=Le&&!Le.classList.contains("header-collapse-condense-inactive"),Ye=Ke.querySelector("ion-back-button"),Ze=Ke.classList.contains("buttons-collapse");if(null!==Ye&&("start"===Ke.slot||""===Ke.slot)&&(Ze&&at&&He||!Ze))return Ye}return null},pe=(it,He,At,Pt,Ke,Le,at,Ye,Ze)=>{var Dt,H;const We=He?`calc(100% - ${Ke.right+4}px)`:Ke.left-4+"px",bt=He?"right":"left",ze=He?"left":"right",Mt=He?"right":"left";let kt=1,cn=1,qe=`scale(${cn})`;const Se="scale(1)";if(Le&&at){const Ht=(null===(Dt=Le.textContent)||void 0===Dt?void 0:Dt.trim())===(null===(H=Ye.textContent)||void 0===H?void 0:H.trim());kt=Ze.width/at.width,cn=(Ze.height-yt)/at.height,qe=Ht?`scale(${kt}, ${cn})`:`scale(${cn})`}const Me=ve(Pt).querySelector("ion-icon").getBoundingClientRect(),le=He?Me.width/2-(Me.right-Ke.right)+"px":Ke.left-Me.width/2+"px",Pe=He?`-${window.innerWidth-Ke.right}px`:`${Ke.left}px`,ot=`${Ze.top}px`,Xe=`${Ke.top}px`,fe=At?[{offset:0,transform:`translate3d(${Pe}, ${Xe}, 0)`},{offset:1,transform:`translate3d(${le}, ${ot}, 0)`}]:[{offset:0,transform:`translate3d(${le}, ${ot}, 0)`},{offset:1,transform:`translate3d(${Pe}, ${Xe}, 0)`}],Nt=At?[{offset:0,opacity:1,transform:Se},{offset:1,opacity:0,transform:qe}]:[{offset:0,opacity:0,transform:qe},{offset:1,opacity:1,transform:Se}],Gn=At?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Nn=(0,l.c)(),xn=(0,l.c)(),Un=(0,l.c)(),Xn=Ae("ion-back-button"),mt=ve(Xn).querySelector(".button-text"),Gt=ve(Xn).querySelector("ion-icon");Xn.text=Pt.text,Xn.mode=Pt.mode,Xn.icon=Pt.icon,Xn.color=Pt.color,Xn.disabled=Pt.disabled,Xn.style.setProperty("display","block"),Xn.style.setProperty("position","fixed"),xn.addElement(Gt),Nn.addElement(mt),Un.addElement(Xn),Un.beforeStyles({position:"absolute",top:"0px",[Mt]:"0px"}).beforeAddWrite(()=>{Pt.style.setProperty("display","none"),Xn.style.setProperty(bt,We)}).afterAddWrite(()=>{Pt.style.setProperty("display",""),Xn.style.setProperty("display","none"),Xn.style.removeProperty(bt)}).keyframes(fe),Nn.beforeStyles({"transform-origin":`${bt} top`}).keyframes(Nt),xn.beforeStyles({"transform-origin":`${ze} center`}).keyframes(Gn),it.addAnimation([Nn,xn,Un])},xe=(it,He,At,Pt,Ke,Le,at,Ye,Ze)=>{var Dt,H;const We=He?"right":"left",bt=He?`calc(100% - ${Ke.right}px)`:`${Ke.left}px`,Mt=`${Ke.top}px`;let cn=He?`-${window.innerWidth-at.right-8}px`:`${at.x+8}px`,qe=.5;const Se="scale(1)";let Ie=`scale(${qe})`;if(Ye&&Ze){cn=He?`-${window.innerWidth-Ze.right-8}px`:Ze.x-8+"px";const st=(null===(Dt=Ye.textContent)||void 0===Dt?void 0:Dt.trim())===(null===(H=Pt.textContent)||void 0===H?void 0:H.trim());qe=Ze.height/(Le.height-yt),Ie=st?`scale(${Ze.width/Le.width}, ${qe})`:`scale(${qe})`}const Pe=at.top+at.height/2-Ke.height*qe/2+"px",De=At?[{offset:0,opacity:0,transform:`translate3d(${cn}, ${Pe}, 0) ${Ie}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Mt}, 0) ${Se}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Mt}, 0) ${Se}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${cn}, ${Pe}, 0) ${Ie}`}],Ct=Ae("ion-title"),fe=(0,l.c)();Ct.innerText=Pt.innerText,Ct.size=Pt.size,Ct.color=Pt.color,fe.addElement(Ct),fe.beforeStyles({"transform-origin":`${We} top`,height:`${Ke.height}px`,display:"",position:"relative",[We]:bt}).beforeAddWrite(()=>{Pt.style.setProperty("opacity","0")}).afterAddWrite(()=>{Pt.style.setProperty("opacity",""),Ct.style.setProperty("display","none")}).keyframes(De),it.addAnimation(fe)},nt=(it,He)=>{var At;try{const Pt="cubic-bezier(0.32,0.72,0,1)",Ke="opacity",Le="transform",at="0%",Ze="rtl"===it.ownerDocument.dir,Dt=Ze?"-99.5%":"99.5%",H=Ze?"33%":"-33%",We=He.enteringEl,bt=He.leavingEl,ze="back"===He.direction,Mt=We.querySelector(":scope > ion-content"),kt=We.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),cn=We.querySelectorAll(":scope > ion-header > ion-toolbar"),qe=(0,l.c)(),Se=(0,l.c)();if(qe.addElement(We).duration((null!==(At=He.duration)&&void 0!==At?At:0)||540).easing(He.easing||Pt).fill("both").beforeRemoveClass("ion-page-invisible"),bt&&null!=it){const Pe=(0,l.c)();Pe.addElement(it),qe.addAnimation(Pe)}if(Mt||0!==cn.length||0!==kt.length?(Se.addElement(Mt),Se.addElement(kt)):Se.addElement(We.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),qe.addAnimation(Se),ze?Se.beforeClearStyles([Ke]).fromTo("transform",`translateX(${H})`,`translateX(${at})`).fromTo(Ke,.8,1):Se.beforeClearStyles([Ke]).fromTo("transform",`translateX(${Dt})`,`translateX(${at})`),Mt){const Pe=ve(Mt).querySelector(".transition-effect");if(Pe){const ot=Pe.querySelector(".transition-cover"),Xe=Pe.querySelector(".transition-shadow"),De=(0,l.c)(),Ct=(0,l.c)(),fe=(0,l.c)();De.addElement(Pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ct.addElement(ot).beforeClearStyles([Ke]).fromTo(Ke,0,.1),fe.addElement(Xe).beforeClearStyles([Ke]).fromTo(Ke,.03,.7),De.addAnimation([Ct,fe]),Se.addAnimation([De])}}const Ie=We.querySelector("ion-header.header-collapse-condense"),{forward:Me,backward:le}=((it,He,At,Pt,Ke)=>{const Le=ue(Pt,At),at=Te(Ke),Ye=Te(Pt),Ze=ue(Ke,At),Dt=null!==Le&&null!==at&&!At,H=null!==Ye&&null!==Ze&&At;if(Dt){const We=at.getBoundingClientRect(),bt=Le.getBoundingClientRect(),ze=ve(Le).querySelector(".button-text"),Mt=ze?.getBoundingClientRect(),cn=ve(at).querySelector(".toolbar-title").getBoundingClientRect();xe(it,He,At,at,We,cn,bt,ze,Mt),pe(it,He,At,Le,bt,ze,Mt,at,cn)}else if(H){const We=Ye.getBoundingClientRect(),bt=Ze.getBoundingClientRect(),ze=ve(Ze).querySelector(".button-text"),Mt=ze?.getBoundingClientRect(),cn=ve(Ye).querySelector(".toolbar-title").getBoundingClientRect();xe(it,He,At,Ye,We,cn,bt,ze,Mt),pe(it,He,At,Ze,bt,ze,Mt,Ye,cn)}return{forward:Dt,backward:H}})(qe,Ze,ze,We,bt);if(cn.forEach(Pe=>{const ot=(0,l.c)();ot.addElement(Pe),qe.addAnimation(ot);const Xe=(0,l.c)();Xe.addElement(Pe.querySelector("ion-title"));const De=(0,l.c)(),Ct=Array.from(Pe.querySelectorAll("ion-buttons,[menuToggle]")),fe=Pe.closest("ion-header"),st=fe?.classList.contains("header-collapse-condense-inactive");let Ot;Ot=Ct.filter(ze?Nn=>{const xn=Nn.classList.contains("buttons-collapse");return xn&&!st||!xn}:Nn=>!Nn.classList.contains("buttons-collapse")),De.addElement(Ot);const Nt=(0,l.c)();Nt.addElement(Pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const hn=(0,l.c)();hn.addElement(ve(Pe).querySelector(".toolbar-background"));const Vn=(0,l.c)(),Gn=Pe.querySelector("ion-back-button");if(Gn&&Vn.addElement(Gn),ot.addAnimation([Xe,De,Nt,hn,Vn]),De.fromTo(Ke,.01,1),Nt.fromTo(Ke,.01,1),ze)st||Xe.fromTo("transform",`translateX(${H})`,`translateX(${at})`).fromTo(Ke,.01,1),Nt.fromTo("transform",`translateX(${H})`,`translateX(${at})`),Vn.fromTo(Ke,.01,1);else if(Ie||Xe.fromTo("transform",`translateX(${Dt})`,`translateX(${at})`).fromTo(Ke,.01,1),Nt.fromTo("transform",`translateX(${Dt})`,`translateX(${at})`),hn.beforeClearStyles([Ke,"transform"]),fe?.translucent?hn.fromTo("transform",Ze?"translateX(-100%)":"translateX(100%)","translateX(0px)"):hn.fromTo(Ke,.01,"var(--opacity)"),Me||Vn.fromTo(Ke,.01,1),Gn&&!Me){const xn=(0,l.c)();xn.addElement(ve(Gn).querySelector(".button-text")).fromTo("transform",Ze?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ot.addAnimation(xn)}}),bt){const Pe=(0,l.c)(),ot=bt.querySelector(":scope > ion-content"),Xe=bt.querySelectorAll(":scope > ion-header > ion-toolbar"),De=bt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ot||0!==Xe.length||0!==De.length?(Pe.addElement(ot),Pe.addElement(De)):Pe.addElement(bt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),qe.addAnimation(Pe),ze){Pe.beforeClearStyles([Ke]).fromTo("transform",`translateX(${at})`,Ze?"translateX(-100%)":"translateX(100%)");const Ct=(0,U.g)(bt);qe.afterAddWrite(()=>{"normal"===qe.getDirection()&&Ct.style.setProperty("display","none")})}else Pe.fromTo("transform",`translateX(${at})`,`translateX(${H})`).fromTo(Ke,1,.8);if(ot){const Ct=ve(ot).querySelector(".transition-effect");if(Ct){const fe=Ct.querySelector(".transition-cover"),st=Ct.querySelector(".transition-shadow"),Ot=(0,l.c)(),Nt=(0,l.c)(),hn=(0,l.c)();Ot.addElement(Ct).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Nt.addElement(fe).beforeClearStyles([Ke]).fromTo(Ke,.1,0),hn.addElement(st).beforeClearStyles([Ke]).fromTo(Ke,.7,.03),Ot.addAnimation([Nt,hn]),Pe.addAnimation([Ot])}}Xe.forEach(Ct=>{const fe=(0,l.c)();fe.addElement(Ct);const st=(0,l.c)();st.addElement(Ct.querySelector("ion-title"));const Ot=(0,l.c)(),Nt=Ct.querySelectorAll("ion-buttons,[menuToggle]"),hn=Ct.closest("ion-header"),Vn=hn?.classList.contains("header-collapse-condense-inactive"),Gn=Array.from(Nt).filter(Gt=>{const Ht=Gt.classList.contains("buttons-collapse");return Ht&&!Vn||!Ht});Ot.addElement(Gn);const Nn=(0,l.c)(),xn=Ct.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");xn.length>0&&Nn.addElement(xn);const Un=(0,l.c)();Un.addElement(ve(Ct).querySelector(".toolbar-background"));const Xn=(0,l.c)(),mt=Ct.querySelector("ion-back-button");if(mt&&Xn.addElement(mt),fe.addAnimation([st,Ot,Nn,Xn,Un]),qe.addAnimation(fe),Xn.fromTo(Ke,.99,0),Ot.fromTo(Ke,.99,0),Nn.fromTo(Ke,.99,0),ze){if(Vn||st.fromTo("transform",`translateX(${at})`,Ze?"translateX(-100%)":"translateX(100%)").fromTo(Ke,.99,0),Nn.fromTo("transform",`translateX(${at})`,Ze?"translateX(-100%)":"translateX(100%)"),Un.beforeClearStyles([Ke,"transform"]),hn?.translucent?Un.fromTo("transform","translateX(0px)",Ze?"translateX(-100%)":"translateX(100%)"):Un.fromTo(Ke,"var(--opacity)",0),mt&&!le){const Ht=(0,l.c)();Ht.addElement(ve(mt).querySelector(".button-text")).fromTo("transform",`translateX(${at})`,`translateX(${(Ze?-124:124)+"px"})`),fe.addAnimation(Ht)}}else Vn||st.fromTo("transform",`translateX(${at})`,`translateX(${H})`).fromTo(Ke,.99,0).afterClearStyles([Le,Ke]),Nn.fromTo("transform",`translateX(${at})`,`translateX(${H})`).afterClearStyles([Le,Ke]),Xn.afterClearStyles([Ke]),st.afterClearStyles([Ke]),Ot.afterClearStyles([Ke])})}return qe}catch(Pt){throw Pt}},yt=10},5062:(In,dt,N)=>{"use strict";N.r(dt),N.d(dt,{mdTransitionAnimation:()=>be});var l=N(9986),U=N(5248);N(8476),N(4346),N(6317),N(9144);const be=(Ae,ve)=>{var Te,ue,Ne;const nt="back"===ve.direction,it=ve.leavingEl,He=(0,U.g)(ve.enteringEl),At=He.querySelector("ion-toolbar"),Pt=(0,l.c)();if(Pt.addElement(He).fill("both").beforeRemoveClass("ion-page-invisible"),nt?Pt.duration((null!==(Te=ve.duration)&&void 0!==Te?Te:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Pt.duration((null!==(ue=ve.duration)&&void 0!==ue?ue:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),At){const Ke=(0,l.c)();Ke.addElement(At),Pt.addAnimation(Ke)}if(it&&nt){Pt.duration((null!==(Ne=ve.duration)&&void 0!==Ne?Ne:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ke=(0,l.c)();Ke.addElement((0,U.g)(it)).onFinish(Le=>{1===Le&&Ke.elements.length>0&&Ke.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Pt.addAnimation(Ke)}return Pt}},4626:(In,dt,N)=>{"use strict";N.d(dt,{B:()=>Ot,F:()=>Xn,G:()=>Nt,O:()=>hn,a:()=>it,b:()=>He,c:()=>Le,d:()=>Vn,e:()=>Gn,f:()=>Ie,g:()=>le,h:()=>Xe,i:()=>Ct,j:()=>Ye,k:()=>Ze,l:()=>At,m:()=>Pt,n:()=>Te,o:()=>qe,q:()=>ue,s:()=>st,t:()=>at});var l=N(467),U=N(8476),Z=N(1559),G=N(6221),Re=N(4346),Q=N(3345),be=N(1970),Ae=N(9144);const ve='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Te=(mt,Gt)=>{const Ht=mt.querySelector(ve);Ne(Ht,Gt??mt)},ue=(mt,Gt)=>{const Ht=Array.from(mt.querySelectorAll(ve));Ne(Ht.length>0?Ht[Ht.length-1]:null,Gt??mt)},Ne=(mt,Gt)=>{let Ht=mt;const Mn=mt?.shadowRoot;if(Mn&&(Ht=Mn.querySelector(ve)||mt),Ht){const Er=Ht.closest("ion-radio-group");Er?Er.setFocus():(0,Z.f)(Ht)}else Gt.focus()};let pe=0,xe=0;const nt=new WeakMap,yt=mt=>({create:Gt=>Dt(mt,Gt),dismiss:(Gt,Ht,Mn)=>Mt(document,Gt,Ht,mt,Mn),getTop:()=>(0,l.A)(function*(){return qe(document,mt)})()}),it=yt("ion-alert"),He=yt("ion-action-sheet"),At=yt("ion-loading"),Pt=yt("ion-modal"),Le=yt("ion-popover"),at=yt("ion-toast"),Ye=mt=>{typeof document<"u"&&ze(document);const Gt=pe++;mt.overlayIndex=Gt},Ze=mt=>(mt.hasAttribute("id")||(mt.id="ion-overlay-"+ ++xe),mt.id),Dt=(mt,Gt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(mt).then(()=>{const Ht=document.createElement(mt);return Ht.classList.add("overlay-hidden"),Object.assign(Ht,Object.assign(Object.assign({},Gt),{hasController:!0})),Pe(document).appendChild(Ht),new Promise(Mn=>(0,Z.c)(Ht,Mn))}):Promise.resolve(),We=(mt,Gt)=>{let Ht=mt;const Mn=mt?.shadowRoot;Mn&&(Ht=Mn.querySelector(ve)||mt),Ht?(0,Z.f)(Ht):Gt.focus()},ze=mt=>{0===pe&&(pe=1,mt.addEventListener("focus",Gt=>{((mt,Gt)=>{const Ht=qe(Gt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),Mn=mt.target;Ht&&Mn&&!Ht.classList.contains(Xn)&&(Ht.shadowRoot?(()=>{if(Ht.contains(Mn))Ht.lastFocus=Mn;else if("ION-TOAST"===Mn.tagName)We(Ht.lastFocus,Ht);else{const Jn=Ht.lastFocus;Te(Ht),Jn===Gt.activeElement&&ue(Ht),Ht.lastFocus=Gt.activeElement}})():(()=>{if(Ht===Mn)Ht.lastFocus=void 0;else if("ION-TOAST"===Mn.tagName)We(Ht.lastFocus,Ht);else{const Jn=(0,Z.g)(Ht);if(!Jn.contains(Mn))return;const Hn=Jn.querySelector(".ion-overlay-wrapper");if(!Hn)return;if(Hn.contains(Mn)||Mn===Jn.querySelector("ion-backdrop"))Ht.lastFocus=Mn;else{const Nr=Ht.lastFocus;Te(Hn,Ht),Nr===Gt.activeElement&&ue(Hn,Ht),Ht.lastFocus=Gt.activeElement}}})())})(Gt,mt)},!0),mt.addEventListener("ionBackButton",Gt=>{const Ht=qe(mt);Ht?.backdropDismiss&&Gt.detail.register(G.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Ht.dismiss(void 0,Ot)})}),(0,G.shouldUseCloseWatcher)()||mt.addEventListener("keydown",Gt=>{if("Escape"===Gt.key){const Ht=qe(mt);Ht?.backdropDismiss&&Ht.dismiss(void 0,Ot)}}))},Mt=(mt,Gt,Ht,Mn,Er)=>{const ir=qe(mt,Mn,Er);return ir?ir.dismiss(Gt,Ht):Promise.reject("overlay does not exist")},cn=(mt,Gt)=>((mt,Gt)=>(void 0===Gt&&(Gt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(mt.querySelectorAll(Gt)).filter(Ht=>Ht.overlayIndex>0)))(mt,Gt).filter(Ht=>!(mt=>mt.classList.contains("overlay-hidden"))(Ht)),qe=(mt,Gt,Ht)=>{const Mn=cn(mt,Gt);return void 0===Ht?Mn[Mn.length-1]:Mn.find(Er=>Er.id===Ht)},Se=(mt=!1)=>{const Ht=Pe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ht&&(mt?Ht.setAttribute("aria-hidden","true"):Ht.removeAttribute("aria-hidden"))},Ie=function(){var mt=(0,l.A)(function*(Gt,Ht,Mn,Er,ir){var Jn,Hn;if(Gt.presented)return;"ION-TOAST"!==Gt.el.tagName&&Se(!0),document.body.classList.add(be.B),xn(Gt.el),Nn(Gt.el),Gt.presented=!0,Gt.willPresent.emit(),null===(Jn=Gt.willPresentShorthand)||void 0===Jn||Jn.emit();const Nr=(0,Re.b)(Gt),Rr=Gt.enterAnimation?Gt.enterAnimation:Re.c.get(Ht,"ios"===Nr?Mn:Er);(yield ot(Gt,Rr,Gt.el,ir))&&(Gt.didPresent.emit(),null===(Hn=Gt.didPresentShorthand)||void 0===Hn||Hn.emit()),"ION-TOAST"!==Gt.el.tagName&&Me(Gt.el),Gt.keyboardClose&&(null===document.activeElement||!Gt.el.contains(document.activeElement))&&Gt.el.focus(),Gt.el.removeAttribute("aria-hidden")});return function(Ht,Mn,Er,ir,Jn){return mt.apply(this,arguments)}}(),Me=function(){var mt=(0,l.A)(function*(Gt){let Ht=document.activeElement;if(!Ht)return;const Mn=Ht?.shadowRoot;Mn&&(Ht=Mn.querySelector(ve)||Ht),yield Gt.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Ht.focus()});return function(Ht){return mt.apply(this,arguments)}}(),le=function(){var mt=(0,l.A)(function*(Gt,Ht,Mn,Er,ir,Jn,Hn){var Nr,Rr;if(!Gt.presented)return!1;const rr=void 0!==U.d?cn(U.d).filter(Or=>"ION-TOAST"!==Or.tagName):[];1===rr.length&&rr[0].id===Gt.el.id&&(Se(!1),document.body.classList.remove(be.B)),Gt.presented=!1;try{Nn(Gt.el),Gt.el.style.setProperty("pointer-events","none"),Gt.willDismiss.emit({data:Ht,role:Mn}),null===(Nr=Gt.willDismissShorthand)||void 0===Nr||Nr.emit({data:Ht,role:Mn});const Or=(0,Re.b)(Gt),Qr=Gt.leaveAnimation?Gt.leaveAnimation:Re.c.get(Er,"ios"===Or?ir:Jn);Mn!==Nt&&(yield ot(Gt,Qr,Gt.el,Hn)),Gt.didDismiss.emit({data:Ht,role:Mn}),null===(Rr=Gt.didDismissShorthand)||void 0===Rr||Rr.emit({data:Ht,role:Mn}),(nt.get(Gt)||[]).forEach(pr=>pr.destroy()),nt.delete(Gt),Gt.el.classList.add("overlay-hidden"),Gt.el.style.removeProperty("pointer-events"),void 0!==Gt.el.lastFocus&&(Gt.el.lastFocus=void 0)}catch(Or){console.error(Or)}return Gt.el.remove(),Un(),!0});return function(Ht,Mn,Er,ir,Jn,Hn,Nr){return mt.apply(this,arguments)}}(),Pe=mt=>mt.querySelector("ion-app")||mt.body,ot=function(){var mt=(0,l.A)(function*(Gt,Ht,Mn,Er){Mn.classList.remove("overlay-hidden");const Jn=Ht(Gt.el,Er);(!Gt.animated||!Re.c.getBoolean("animated",!0))&&Jn.duration(0),Gt.keyboardClose&&Jn.beforeAddWrite(()=>{const Nr=Mn.ownerDocument.activeElement;Nr?.matches("input,ion-input, ion-textarea")&&Nr.blur()});const Hn=nt.get(Gt)||[];return nt.set(Gt,[...Hn,Jn]),yield Jn.play(),!0});return function(Ht,Mn,Er,ir){return mt.apply(this,arguments)}}(),Xe=(mt,Gt)=>{let Ht;const Mn=new Promise(Er=>Ht=Er);return De(mt,Gt,Er=>{Ht(Er.detail)}),Mn},De=(mt,Gt,Ht)=>{const Mn=Er=>{(0,Z.b)(mt,Gt,Mn),Ht(Er)};(0,Z.a)(mt,Gt,Mn)},Ct=mt=>"cancel"===mt||mt===Ot,fe=mt=>mt(),st=(mt,Gt)=>{if("function"==typeof mt)return Re.c.get("_zoneGate",fe)(()=>{try{return mt(Gt)}catch(Mn){throw Mn}})},Ot="backdrop",Nt="gesture",hn=39,Vn=mt=>{let Ht,Gt=!1;const Mn=(0,Q.C)(),Er=(Hn=!1)=>{if(Ht&&!Hn)return{delegate:Ht,inline:Gt};const{el:Nr,hasController:Rr,delegate:rr}=mt;return Gt=null!==Nr.parentNode&&!Rr,Ht=Gt?rr||Mn:rr,{inline:Gt,delegate:Ht}};return{attachViewToDom:function(){var Hn=(0,l.A)(function*(Nr){const{delegate:Rr}=Er(!0);if(Rr)return yield Rr.attachViewToDom(mt.el,Nr);const{hasController:rr}=mt;if(rr&&void 0!==Nr)throw new Error("framework delegate is missing");return null});return function(Rr){return Hn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Hn}=Er();Hn&&void 0!==mt.el&&Hn.removeViewFromDom(mt.el.parentElement,mt.el)}}},Gn=()=>{let mt;const Gt=()=>{mt&&(mt(),mt=void 0)};return{addClickListener:(Mn,Er)=>{Gt();const ir=void 0!==Er?document.getElementById(Er):null;ir?mt=((Hn,Nr)=>{const Rr=()=>{Nr.present()};return Hn.addEventListener("click",Rr),()=>{Hn.removeEventListener("click",Rr)}})(ir,Mn):(0,Ae.p)(`A trigger element with the ID "${Er}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Mn)},removeClickListener:Gt}},Nn=mt=>{void 0!==U.d&&(0,Re.a)("android")&&mt.setAttribute("aria-hidden","true")},xn=mt=>{var Gt;if(void 0===U.d)return;const Ht=cn(U.d);for(let Mn=Ht.length-1;Mn>=0;Mn--){const Er=Ht[Mn],ir=null!==(Gt=Ht[Mn+1])&&void 0!==Gt?Gt:mt;(ir.hasAttribute("aria-hidden")||"ION-TOAST"!==ir.tagName)&&Er.setAttribute("aria-hidden","true")}},Un=()=>{if(void 0===U.d)return;const mt=cn(U.d);for(let Gt=mt.length-1;Gt>=0;Gt--){const Ht=mt[Gt];if(Ht.removeAttribute("aria-hidden"),"ION-TOAST"!==Ht.tagName)break}},Xn="ion-disable-focus-trap"},4409:(In,dt,N)=>{"use strict";N.d(dt,{l:()=>Te});var l=N(467),U=N(2233),Z=N(4438),G=N(5940),Re=N(7703),Q=N(6822),be=N(7150),Ae=N(8018),ve=N(7125);let Te=(()=>{class ue{constructor(pe,xe,nt,yt,it){this.adsService=pe,this.utilService=xe,this.router=nt,this.translationService=yt,this.translateService=it,this.isMenuOpen=!1,this.appUrl="https://example.com",this.userData={}}ngOnInit(){this.loadUserData()}loadUserData(){const pe=localStorage.getItem("userData");this.userData=pe?JSON.parse(pe):null}onMenuOpen(){}onMenuClose(){}redirectToPrivacy(){this.utilService.redirectTo="privacy-policy",this.router.navigate(["/tabs/privacy-policy"])}otherApplication(){window.open("https://play.google.com/store/apps/details?id=com.ms.imageTotext","_blank")}writeReview(){window.open("https://play.google.com/store/apps/details?id=com.msproducts.fuelApp","_blank")}shareApps(){var pe=this;return(0,l.A)(function*(){const xe="https://play.google.com/store/apps/details?id=com.msproducts.fuelApp";pe.utilService.showLoading("Sharing...");const yt={en:`\u26fd Fuel Calculation Made Easy! \u{1f697}\u{1f4a8}\n  \n  Calculate fuel costs and efficiency effortlessly with our smart fuel calculation app! Know your trip costs before hitting the road.\n  \n  \u{1f6e2}\ufe0f CNG, Petrol, and Diesel fuel type calculations.\n\n  \u{1f4ca} Key Features:\n  \u2705 Calculate total fuel cost, mileage, and fuel efficiency.\n  \u2705 Keep track of your fuel expenses with history logs.\n  \u2705 Simple and user-friendly interface.\n  \u2705 Instant sharing of trip details with friends and family.\n  \n  \u{1f4f2} Download now: ${xe}\n  After installing, view the shared record under the 'History' section.`,hi:`\u26fd \u0908\u0902\u0927\u0928 \u0917\u0923\u0928\u093e \u0906\u0938\u093e\u0928! \u{1f697}\u{1f4a8}\n  \n  \u0939\u092e\u093e\u0930\u0947 \u0938\u094d\u092e\u093e\u0930\u094d\u091f \u0908\u0902\u0927\u0928 \u0917\u0923\u0928\u093e \u0910\u092a \u0915\u0947 \u0938\u093e\u0925 \u0905\u092a\u0928\u0947 \u092f\u093e\u0924\u094d\u0930\u093e \u0916\u0930\u094d\u091a\u094b\u0902 \u0915\u0940 \u0917\u0923\u0928\u093e \u0915\u0930\u0947\u0902! \u0938\u0921\u093c\u0915 \u092a\u0930 \u091c\u093e\u0928\u0947 \u0938\u0947 \u092a\u0939\u0932\u0947 \u0905\u092a\u0928\u0947 \u092f\u093e\u0924\u094d\u0930\u093e \u0916\u0930\u094d\u091a\u094b\u0902 \u0915\u094b \u091c\u093e\u0928\u0947\u0902\u0964\n  \n  \u{1f6e2}\ufe0f \u0938\u0940\u090f\u0928\u091c\u0940, \u092a\u0947\u091f\u094d\u0930\u094b\u0932 \u0914\u0930 \u0921\u0940\u091c\u0932 \u0908\u0902\u0927\u0928 \u092a\u094d\u0930\u0915\u093e\u0930 \u0915\u0940 \u0917\u0923\u0928\u093e \u0915\u093e \u0938\u092e\u0930\u094d\u0925\u0928 \u0915\u0930\u0924\u093e \u0939\u0948\u0964\n\n  \u{1f4ca} \u092e\u0941\u0916\u094d\u092f \u0935\u093f\u0936\u0947\u0937\u0924\u093e\u090f\u0901:\n  \u2705 \u0915\u0941\u0932 \u0908\u0902\u0927\u0928 \u0932\u093e\u0917\u0924, \u092e\u093e\u0907\u0932\u0947\u091c \u0914\u0930 \u0926\u0915\u094d\u0937\u0924\u093e \u0915\u0940 \u0917\u0923\u0928\u093e \u0915\u0930\u0947\u0902\u0964\n  \u2705 \u0905\u092a\u0928\u0947 \u0908\u0902\u0927\u0928 \u0916\u0930\u094d\u091a\u094b\u0902 \u0915\u093e \u0930\u093f\u0915\u0949\u0930\u094d\u0921 \u0930\u0916\u0947\u0902\u0964\n  \u2705 \u0938\u0930\u0932 \u0914\u0930 \u0909\u092a\u092f\u094b\u0917\u0915\u0930\u094d\u0924\u093e \u0915\u0947 \u0905\u0928\u0941\u0915\u0942\u0932 \u0907\u0902\u091f\u0930\u092b\u093c\u0947\u0938\u0964\n  \u2705 \u092f\u093e\u0924\u094d\u0930\u093e \u0935\u093f\u0935\u0930\u0923 \u0924\u0941\u0930\u0902\u0924 \u0938\u093e\u091d\u093e \u0915\u0930\u0947\u0902\u0964\n  \n  \u{1f4f2} \u0905\u092d\u0940 \u0921\u093e\u0909\u0928\u0932\u094b\u0921 \u0915\u0930\u0947\u0902: ${xe}\n  \u0907\u0902\u0938\u094d\u091f\u0949\u0932 \u0915\u0930\u0928\u0947 \u0915\u0947 \u092c\u093e\u0926, \u0938\u093e\u091d\u093e \u0915\u093f\u090f \u0917\u090f \u0930\u093f\u0915\u0949\u0930\u094d\u0921 \u0915\u094b '\u0907\u0924\u093f\u0939\u093e\u0938' \u0905\u0928\u0941\u092d\u093e\u0917 \u092e\u0947\u0902 \u0926\u0947\u0916\u0947\u0902\u0964`,gu:`\u26fd \u0ab8\u0ab0\u0ab3 \u0a87\u0a82\u0aa7\u0aa3 \u0a97\u0aa3\u0aa4\u0ab0\u0ac0! \u{1f697}\u{1f4a8}\n  \n  \u0a85\u0aae\u0abe\u0ab0\u0abe \u0ab8\u0acd\u0aae\u0abe\u0ab0\u0acd\u0a9f \u0a87\u0a82\u0aa7\u0aa3 \u0a97\u0aa3\u0aa4\u0ab0\u0ac0 \u0a8f\u0aaa \u0ab8\u0abe\u0aa5\u0ac7 \u0aa4\u0aae\u0abe\u0ab0\u0abe \u0aaa\u0acd\u0ab0\u0ab5\u0abe\u0ab8 \u0a96\u0ab0\u0acd\u0a9a\u0acb\u0aa8\u0ac0 \u0a97\u0aa3\u0aa4\u0ab0\u0ac0 \u0a95\u0ab0\u0acb! \u0ab0\u0acb\u0aa1 \u0aaa\u0ab0 \u0a9c\u0ab5\u0abe \u0aae\u0abe\u0a9f\u0ac7 \u0aa4\u0aae\u0abe\u0ab0\u0abe \u0a96\u0ab0\u0acd\u0a9a\u0acb \u0a9c\u0abe\u0aa3\u0acb.\n  \n  \u{1f4b0}\u{1f6e2}\ufe0f \u0ab8\u0ac0\u0a8f\u0aa8\u0a9c\u0ac0, \u0aaa\u0ac7\u0a9f\u0acd\u0ab0\u0acb\u0ab2 \u0a85\u0aa8\u0ac7 \u0aa1\u0ac0\u0a9d\u0ab2 \u0aaa\u0acd\u0ab0\u0a95\u0abe\u0ab0\u0aa8\u0abe \u0a87\u0a82\u0aa7\u0aa3 \u0a96\u0ab0\u0acd\u0a9a\u0aa8\u0ac0 \u0a97\u0aa3\u0aa4\u0ab0\u0ac0 \u0a95\u0ab0\u0ab5\u0abe\u0aae\u0abe\u0a82 \u0aae\u0aa6\u0aa6 \u0a95\u0ab0\u0ac7 \u0a9b\u0ac7.\n\n  \u{1f4ca} \u0aae\u0ac1\u0a96\u0acd\u0aaf Features:\n  \u2705 \u0a95\u0ac1\u0ab2 \u0a87\u0a82\u0aa7\u0aa3 \u0a96\u0ab0\u0acd\u0a9a, \u0aae\u0abe\u0a88\u0ab2\u0ac7\u0a9c \u0a85\u0aa8\u0ac7 \u0a95\u0abe\u0ab0\u0acd\u0aaf\u0a95\u0acd\u0ab7\u0aae\u0aa4\u0abe \u0a97\u0aa3\u0acb.\n  \u2705 \u0aa4\u0aae\u0abe\u0ab0\u0abe \u0a87\u0a82\u0aa7\u0aa3 \u0a96\u0ab0\u0acd\u0a9a\u0acb\u0aa8\u0abe \u0ab0\u0ac7\u0a95\u0acb\u0ab0\u0acd\u0aa1 \u0ab0\u0abe\u0a96\u0acb.\n  \u2705 \u0ab8\u0ab0\u0ab3 \u0a85\u0aa8\u0ac7 \u0ab5\u0aaa\u0ab0\u0abe\u0ab6\u0a95\u0ab0\u0acd\u0aa4\u0abe \u0aae\u0ac8\u0aa4\u0acd\u0ab0\u0ac0\u0aaa\u0ac2\u0ab0\u0acd\u0aa3 \u0a87\u0aa8\u0acd\u0a9f\u0ab0\u0aab\u0ac7\u0ab8.\n  \u2705 \u0aaa\u0acd\u0ab0\u0ab5\u0abe\u0ab8 \u0ab5\u0abf\u0a97\u0aa4\u0acb \u0aa4\u0abe\u0aa4\u0acd\u0a95\u0abe\u0ab2\u0abf\u0a95 \u0ab6\u0ac7\u0ab0 \u0a95\u0ab0\u0acb.\n  \n  \u{1f4f2} \u0ab9\u0aae\u0aa3\u0abe\u0a82 \u0aa1\u0abe\u0a89\u0aa8\u0ab2\u0acb\u0aa1 \u0a95\u0ab0\u0acb: ${xe}`},it=yt[pe.translateService.currentLang||"en"]||yt.en;try{yield U.S.share({title:pe.translateService.instant("SHARE_TITLE"),text:it,dialogTitle:pe.translateService.instant("SHARE_DIALOG_TITLE")}),pe.utilService.dismissLoading()}catch(He){console.error("Sharing failed:",He),pe.utilService.dismissLoading()}})()}logout(){localStorage.removeItem("userData"),localStorage.removeItem("userToken"),localStorage.removeItem("selectedFuel"),this.utilService.updateState("changeLanguage"),this.router.navigate(["/user-login"])}static{this.\u0275fac=function(xe){return new(xe||ue)(Z.rXU(G.g),Z.rXU(Re.a),Z.rXU(Q.Ix),Z.rXU(be.L),Z.rXU(Ae.c$))}}static{this.\u0275cmp=Z.VBU({type:ue,selectors:[["app-menu"]],decls:56,vars:22,consts:[["menu",""],["content-id","main-content","side","start",3,"ionDidOpen","ionDidClose"],[1,"custom-header-toolbar"],[1,"profile-container"],["src","../../../assets/image/avatar.jpg","alt","User Avatar",1,"profile-avatar"],[1,"user-name"],[1,"container"],["auto-hide","true"],["routerLink","/tabs/home","routerDirection","root"],["src","../../../assets/icon/fuel icon/gas-station.png","alt",""],[3,"click"],["src","../../../assets/icon/fuel icon/languages.png","alt",""],["src","../../../assets/icon/share.png","alt",""],["routerLink","/tabs/home","routerDirection","root",3,"click"],["src","../../../assets/icon/app.png","alt",""],["src","../../../assets/icon/star0.png","alt",""],["src","../../../assets/icon/fuel icon/privacy-policy1.png","alt",""],["src","../../../assets/icon/fuel icon/logout.png","alt",""],[1,"fuel-img"],["src","../../../assets/image/pmp.png","alt","Fuel Selection"],["id","main-content"]],template:function(xe,nt){if(1&xe){const yt=Z.RV6();Z.j41(0,"ion-menu",1,0),Z.bIt("ionDidOpen",function(){return Z.eBV(yt),Z.Njj(nt.onMenuOpen())})("ionDidClose",function(){return Z.eBV(yt),Z.Njj(nt.onMenuClose())}),Z.j41(2,"ion-header")(3,"ion-toolbar",2)(4,"div",3),Z.nrm(5,"img",4),Z.j41(6,"p",5),Z.EFF(7),Z.k0s()()()(),Z.j41(8,"ion-content")(9,"div",6)(10,"ion-list")(11,"ion-menu-toggle",7)(12,"ion-item",8),Z.nrm(13,"img",9),Z.j41(14,"ion-label"),Z.EFF(15),Z.nI1(16,"translate"),Z.k0s()()(),Z.j41(17,"ion-menu-toggle",7)(18,"ion-item",10),Z.bIt("click",function(){return Z.eBV(yt),Z.Njj(nt.translationService.changeLanguage())}),Z.nrm(19,"img",11),Z.j41(20,"ion-label"),Z.EFF(21),Z.nI1(22,"translate"),Z.k0s()()(),Z.j41(23,"ion-menu-toggle",7)(24,"ion-item",10),Z.bIt("click",function(){return Z.eBV(yt),Z.Njj(nt.shareApps())}),Z.nrm(25,"img",12),Z.j41(26,"ion-label"),Z.EFF(27),Z.nI1(28,"translate"),Z.k0s()()(),Z.j41(29,"ion-menu-toggle",7)(30,"ion-item",13),Z.bIt("click",function(){return Z.eBV(yt),Z.Njj(nt.otherApplication())}),Z.nrm(31,"img",14),Z.j41(32,"ion-label"),Z.EFF(33),Z.nI1(34,"translate"),Z.k0s()()(),Z.j41(35,"ion-menu-toggle",7)(36,"ion-item",13),Z.bIt("click",function(){return Z.eBV(yt),Z.Njj(nt.writeReview())}),Z.nrm(37,"img",15),Z.j41(38,"ion-label"),Z.EFF(39),Z.nI1(40,"translate"),Z.k0s()()(),Z.j41(41,"ion-menu-toggle",7)(42,"ion-item",10),Z.bIt("click",function(){return Z.eBV(yt),Z.Njj(nt.redirectToPrivacy())}),Z.nrm(43,"img",16),Z.j41(44,"ion-label"),Z.EFF(45),Z.nI1(46,"translate"),Z.k0s()()(),Z.j41(47,"ion-menu-toggle",7)(48,"ion-item",10),Z.bIt("click",function(){return Z.eBV(yt),Z.Njj(nt.logout())}),Z.nrm(49,"img",17),Z.j41(50,"ion-label"),Z.EFF(51),Z.nI1(52,"translate"),Z.k0s()()()()(),Z.j41(53,"div",18),Z.nrm(54,"img",19),Z.k0s()()(),Z.nrm(55,"ion-router-outlet",20)}2&xe&&(Z.R7$(7),Z.JRh((null==nt.userData?null:nt.userData.fullName)||"Guest User"),Z.R7$(8),Z.JRh(Z.bMT(16,8,"HOME")),Z.R7$(6),Z.JRh(Z.bMT(22,10,"CHANGE_LANGUAGE")),Z.R7$(6),Z.JRh(Z.bMT(28,12,"SHARE_APP")),Z.R7$(6),Z.JRh(Z.bMT(34,14,"OUR_OTHER_APPS")),Z.R7$(6),Z.JRh(Z.bMT(40,16,"WRITE_REVIEW")),Z.R7$(6),Z.JRh(Z.bMT(46,18,"PRIVACY_POLICY")),Z.R7$(6),Z.JRh(Z.bMT(52,20,"LOGOUT")))},dependencies:[ve.W9,ve.eU,ve.uz,ve.he,ve.nf,ve.oS,ve.cA,ve.ai,ve.Rg,ve.N7,Q.Wk,Ae.D9],styles:["ion-list[_ngcontent-%COMP%]{position:absolute;top:100px;width:100%;background:transparent}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;color:#fff}.user-name[_ngcontent-%COMP%]{text-transform:capitalize}.profile-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.profile-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:10px}ion-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:10px}ion-label[_ngcontent-%COMP%]{font-size:16px}.fuel-img[_ngcontent-%COMP%]{position:absolute;bottom:50px;justify-content:center;display:flex}"]})}}return ue})()},8454:(In,dt,N)=>{"use strict";N.d(dt,{G:()=>Re});var l=N(177),U=N(7125),Z=N(8018),G=N(4438);let Re=(()=>{class Q{static{this.\u0275fac=function(ve){return new(ve||Q)}}static{this.\u0275mod=G.$C({type:Q})}static{this.\u0275inj=G.G2t({imports:[l.MD,U.bv,Z.h,Z.h]})}}return Q})()},5940:(In,dt,N)=>{"use strict";N.d(dt,{g:()=>Ke});var l=N(467),U=N(5083),Re=function(Le){return Le.TOP_CENTER="TOP_CENTER",Le.CENTER="CENTER",Le.BOTTOM_CENTER="BOTTOM_CENTER",Le}(Re||{}),Q=function(Le){return Le.BANNER="BANNER",Le.FULL_BANNER="FULL_BANNER",Le.LARGE_BANNER="LARGE_BANNER",Le.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",Le.LEADERBOARD="LEADERBOARD",Le.ADAPTIVE_BANNER="ADAPTIVE_BANNER",Le.SMART_BANNER="SMART_BANNER",Le}(Q||{}),be=function(Le){return Le.Loaded="interstitialAdLoaded",Le.FailedToLoad="interstitialAdFailedToLoad",Le.Showed="interstitialAdShowed",Le.FailedToShow="interstitialAdFailedToShow",Le.Dismissed="interstitialAdDismissed",Le}(be||{}),ve=function(Le){return Le.Loaded="onRewardedVideoAdLoaded",Le.FailedToLoad="onRewardedVideoAdFailedToLoad",Le.Showed="onRewardedVideoAdShowed",Le.FailedToShow="onRewardedVideoAdFailedToShow",Le.Dismissed="onRewardedVideoAdDismissed",Le.Rewarded="onRewardedVideoAdReward",Le}(ve||{});N(2844);const Ne=(0,U.F3)("AdMob",{web:()=>N.e(6077).then(N.bind(N,6077)).then(Le=>new Le.AdMobWeb)}),pe=(0,U.F3)("SafeArea",{web:()=>N.e(7267).then(N.bind(N,7267)).then(Le=>new Le.SafeAreaWeb)}),xe=(0,U.F3)("Device",{web:()=>N.e(8622).then(N.bind(N,8622)).then(Le=>new Le.DeviceWeb)});var nt=N(4438),yt=N(1626),it=N(7125),He=N(2872),At=N(6822),Pt=N(1941);let Ke=(()=>{class Le{constructor(Ye,Ze,Dt,H,We){this.http=Ye,this.alertController=Ze,this.router=Dt,this.platform=H,this.loadingService=We,this.isBannerShown=!1,this.isBannerHidden=!1,this.marginTop=0,this.ANDROID_ADMOB_BANNER_ID="ca-app-pub-1047405219515945/2955326580",this.ANDROID_ADMOB_REWARDED_ID="ca-app-pub-1047405219515945/9340803359",this.ANDROID_ADMOB_INTERSTITAIL_REWARDED_ID="ca-app-pub-1047405219515945/7313405815",this.ANDROID_ADMOB_INTERSTITAIL_ID="ca-app-pub-1047405219515945/8601586699"}initializeAdMobSDK(){return(0,l.A)(function*(){yield Ne.initialize()})()}showAdMobBanner(){var Ye=this;return(0,l.A)(function*(){if(!Ye.isBannerShown)try{const Ze=yield xe.getInfo(),Dt=parseInt(Ze.osVersion||"0",10);if("android"===Ze.platform&&Dt>=13){const H=yield pe.getSafeAreaInsets(),{insets:We}=H,bt={adId:Ye.ANDROID_ADMOB_BANNER_ID,adSize:Q.FULL_BANNER,position:Re.BOTTOM_CENTER,margin:We.bottom};yield Ne.showBanner(bt),console.log(`Banner shown with safe area margin: ${We.bottom}px`)}else{const H={adId:Ye.ANDROID_ADMOB_BANNER_ID,adSize:Q.FULL_BANNER,position:Re.BOTTOM_CENTER};yield Ne.showBanner(H),console.log("Banner shown without safe area margin")}Ye.isBannerShown=!0}catch(Ze){console.error("Failed to show banner ad:",Ze)}})()}hideAdMobBanner(){return(0,l.A)(function*(){yield Ne.hideBanner()})()}resumeAdMobBanner(){return(0,l.A)(function*(){yield Ne.resumeBanner()})()}hideAdMobBanner_old(Ye){Ye?(this.isBannerHidden=!0,Ne.hideBanner()):this.resumeAdMobBanner()}resumeAdMobBanner_old(){try{Ne.resumeBanner(),this.isBannerHidden=!1}catch(Ye){console.error("Failed to hide banner ad:",Ye)}}removeAdMobBanner(){Ne.removeBanner(),this.isBannerShown=!1}showAdMobRewardedAd(){var Ye=this;return(0,l.A)(function*(){Ye.loadingService.startLoader(),Ne.addListener(ve.Loaded,H=>{Ye.loadingService.stopLoader()}),Ne.addListener(ve.FailedToLoad,H=>{setTimeout(()=>{Ye.loadingService.stopLoader()},3e3)});const Ze=yield Ne.addListener(ve.Rewarded,H=>{Ze.remove(),Ye.loadingService.stopLoader()}),Dt={adId:Ye.ANDROID_ADMOB_INTERSTITAIL_REWARDED_ID};yield Ne.prepareRewardVideoAd(Dt),yield Ne.showRewardVideoAd()})()}showAdMobInterstitialAd(){var Ye=this;return(0,l.A)(function*(){Ye.loadingService.startLoader(),Ne.addListener(be.Loaded,We=>{setTimeout(()=>{Ye.loadingService.stopLoader()},3e3)}),Ne.addListener(be.FailedToLoad,We=>{setTimeout(()=>{Ye.loadingService.stopLoader()},3e3)});const Ze=yield pe.getSafeAreaInsets(),{insets:Dt}=Ze,H={adId:Ye.ANDROID_ADMOB_INTERSTITAIL_ID,margin:Dt.bottom};yield Ne.prepareInterstitial(H),yield Ne.showInterstitial()})()}getSafeArea(){return(0,l.A)(function*(){return yield pe.getSafeAreaInsets()})()}static{this.\u0275fac=function(Ze){return new(Ze||Le)(nt.KVO(yt.Qq),nt.KVO(it.hG),nt.KVO(At.Ix),nt.KVO(He.OD),nt.KVO(Pt.U))}}static{this.\u0275prov=nt.jDH({token:Le,factory:Le.\u0275fac})}}return Le})()},4009:(In,dt,N)=>{"use strict";N.d(dt,{u:()=>Re});var l=N(467),U=N(4438),Z=N(49),G=N(6822);let Re=(()=>{class Q{constructor(Ae,ve){this.db=Ae,this.router=ve}generateToken(){return Math.random().toString(36).substr(2)+Math.random().toString(36).substr(2)}getUserData(Ae){var ve=this;return(0,l.A)(function*(){const Te=yield ve.db.database.ref("users").orderByChild("phoneNumber").equalTo(Ae).once("value");if(Te.exists()){const ue=Object.keys(Te.val())[0];return Te.val()[ue]}return null})()}saveUserData(Ae){var ve=this;return(0,l.A)(function*(){yield ve.db.object(`users/${Ae.village}`).set({surName:Ae.surName,name:Ae.Name,fullName:Ae.fullName,village:Ae.village,email:Ae.email||null,phoneNumber:Ae.phoneNumber,createdAt:(new Date).toISOString(),token:ve.generateToken()}),localStorage.setItem("userData",JSON.stringify(Ae)),localStorage.setItem("userToken",ve.generateToken())})()}static{this.\u0275fac=function(ve){return new(ve||Q)(U.KVO(Z.w$),U.KVO(G.Ix))}}static{this.\u0275prov=U.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}}return Q})()},4518:(In,dt,N)=>{"use strict";N.d(dt,{p:()=>Te});var l=N(467);const Z=(0,N(5083).F3)("App",{web:()=>N.e(9303).then(N.bind(N,9303)).then(ue=>new ue.AppWeb)});var G=N(4438),Re=N(7125),Q=N(5940);let be=(()=>{class ue{constructor(pe,xe){this.popoverController=pe,this.adsService=xe}ngOnInit(){}confirmExit(){this.popoverController.dismiss({confirmExit:!0})}cancelExit(){this.popoverController.dismiss({confirmExit:!1})}static{this.\u0275fac=function(xe){return new(xe||ue)(G.rXU(Re.IE),G.rXU(Q.g))}}static{this.\u0275cmp=G.VBU({type:ue,selectors:[["app-confirm-exit-popover"]],decls:12,vars:0,consts:[[2,"text-align","center"],[1,"ion-padding"],[1,"text-center"],[1,"button-row"],["color","danger",3,"click"],["color","primary",3,"click"]],template:function(xe,nt){1&xe&&(G.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),G.EFF(3,"Exit App"),G.k0s()()(),G.j41(4,"ion-content",1)(5,"p",2),G.EFF(6,"Are you sure you want to exit the app?"),G.k0s(),G.j41(7,"div",3)(8,"ion-button",4),G.bIt("click",function(){return nt.confirmExit()}),G.EFF(9,"Exit"),G.k0s(),G.j41(10,"ion-button",5),G.bIt("click",function(){return nt.cancelExit()}),G.EFF(11,"Cancel"),G.k0s()()())},dependencies:[Re.Jm,Re.W9,Re.eU,Re.BC,Re.ai],styles:["ion-header[_ngcontent-%COMP%]{--webkit-box-shadow: none;box-shadow:none;border-bottom:1px solid gray}.button-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px}.text-center[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}ion-button[_ngcontent-%COMP%]{flex:1;max-width:120px;--box-shadow: none}"]})}}return ue})();var Ae=N(2872),ve=N(6822);let Te=(()=>{class ue{constructor(pe,xe,nt){this.platform=pe,this.popoverController=xe,this.router=nt,this.backPressCount=0,this.isPopoverOpen=!1}initializeBackButtonHandler(){var pe=this;this.platform.backButton.subscribeWithPriority(10,(0,l.A)(function*(){const xe=pe.router.url;xe.includes("/tabs/home")?pe.handleExit():(xe.includes("/tabs/scan"),pe.router.navigate(["/tabs/home"]))}))}handleExit(){var pe=this;return(0,l.A)(function*(){if(pe.isPopoverOpen)return;if(0===pe.backPressCount)return pe.backPressCount++,void(pe.backPressTimer=setTimeout(()=>{pe.backPressCount=0},2e3));clearTimeout(pe.backPressTimer),pe.backPressCount=0,pe.isPopoverOpen=!0;const xe=yield pe.popoverController.create({component:be,backdropDismiss:!1,cssClass:"custom-popover-class"});yield xe.present();const{data:nt}=yield xe.onDidDismiss();pe.isPopoverOpen=!1,nt&&nt.confirmExit&&Z.minimizeApp()})()}static{this.\u0275fac=function(xe){return new(xe||ue)(G.KVO(Ae.OD),G.KVO(Re.IE),G.KVO(ve.Ix))}}static{this.\u0275prov=G.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"})}}return ue})()},3651:(In,dt,N)=>{"use strict";N.d(dt,{Y:()=>Z});var l=N(4438),U=N(7703);let Z=(()=>{class G{constructor(Q){this.utilService=Q,this.dbName="FuelCalculatorDB",this.dbVersion=1,this.storeName="fuel_cost_history",this.db=null,this.initDatabase()}initDatabase(){const Q=indexedDB.open(this.dbName,this.dbVersion);Q.onupgradeneeded=be=>{const Ae=be.target.result;Ae.objectStoreNames.contains(this.storeName)||Ae.createObjectStore(this.storeName,{keyPath:"id",autoIncrement:!0}).createIndex("date","date",{unique:!1})},Q.onsuccess=be=>{this.db=be.target.result},Q.onerror=be=>{console.error("Error initializing IndexedDB:",be.target.error)}}saveRecord(Q){return new Promise((be,Ae)=>{if(!this.db)return void Ae("Database not initialized");const ue=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).add(Q);ue.onsuccess=Ne=>{be(Ne.target.result)},ue.onerror=Ne=>{console.error("Error saving record:",Ne.target.error),Ae(Ne.target.error)}})}getAllRecords(){return new Promise((Q,be)=>{if(!this.db)return console.error("Database is not initialized."),void be("Database not initialized");try{const Te=this.db.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();Te.onsuccess=ue=>{Q(ue.target.result)},Te.onerror=ue=>{console.error("Error retrieving records:",ue.target.error),be("Failed to retrieve records.")}}catch(Ae){console.error("Unexpected error in getAllRecords:",Ae),be("Unexpected error retrieving records.")}})}updateRecord(Q){return new Promise((be,Ae)=>{if(!this.db)return void Ae("Database not initialized");if(!Q.id)return void Ae("Record ID is missing");const ue=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(Q);ue.onsuccess=()=>{be()},ue.onerror=Ne=>{console.error("Error updating record:",Ne.target.error),Ae(Ne.target.error)}})}deleteRecord(Q){return new Promise((be,Ae)=>{if(!this.db)return Ae("Database not initialized"),void this.utilService.dismissLoading();const ue=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(Q);ue.onsuccess=()=>{this.utilService.dismissLoading(),be()},ue.onerror=Ne=>{console.error("Error deleting record:",Ne.target.error),this.utilService.dismissLoading(),Ae(Ne.target.error)}})}clearAllRecords(){return new Promise((Q,be)=>{if(!this.db)return void be("Database not initialized");const Te=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).clear();Te.onsuccess=()=>{Q()},Te.onerror=ue=>{console.error("Error clearing records:",ue.target.error),be(ue.target.error)}})}static{this.\u0275fac=function(be){return new(be||G)(l.KVO(U.a))}}static{this.\u0275prov=l.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})()},1941:(In,dt,N)=>{"use strict";N.d(dt,{U:()=>Re});var l=N(467),U=N(4438);let Z=(()=>{class Q{constructor(){}ngOnInit(){}static{this.\u0275fac=function(ve){return new(ve||Q)}}static{this.\u0275cmp=U.VBU({type:Q,selectors:[["app-custom-loader"]],decls:6,vars:0,consts:[[1,"loader"],[1,"loaderParent"],[1,"loaderChild"],[1,"lds-ripple"]],template:function(ve,Te){1&ve&&(U.nrm(0,"div",0),U.j41(1,"div",1)(2,"div",2)(3,"div",3),U.nrm(4,"div")(5,"div"),U.k0s()()())},styles:[".loaderParent[_ngcontent-%COMP%]{height:100%;position:relative;background:#0006}.loaderParent[_ngcontent-%COMP%]   .loaderChild[_ngcontent-%COMP%]{margin:0;text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.loaderParent[_ngcontent-%COMP%]   .lds-ripple[_ngcontent-%COMP%]{display:inline-block;position:relative;width:64px;height:64px}.loaderParent[_ngcontent-%COMP%]   .lds-ripple[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;border:4px solid #fff;opacity:1;border-radius:50%;animation:_ngcontent-%COMP%_lds-ripple 1s cubic-bezier(0,.2,.8,1) infinite}.loaderParent[_ngcontent-%COMP%]   .lds-ripple[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.5s}@keyframes _ngcontent-%COMP%_lds-ripple{0%{top:28px;left:28px;width:0;height:0;opacity:1}to{top:-1px;left:-1px;width:58px;height:58px;opacity:0}}"]})}}return Q})();var G=N(7125);let Re=(()=>{class Q{constructor(Ae){this.modalCtrl=Ae}startLoader(){var Ae=this;return(0,l.A)(function*(){return Ae.modal=yield Ae.modalCtrl.create({component:Z,cssClass:"loader-modal",backdropDismiss:!1}),yield Ae.modal.present()})()}stopLoader(){this.modal.dismiss()}static{this.\u0275fac=function(ve){return new(ve||Q)(U.KVO(G.W3))}}static{this.\u0275prov=U.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}}return Q})()},2191:(In,dt,N)=>{"use strict";N.d(dt,{A:()=>Q});var l=N(467);const Z=(0,N(5083).F3)("Network",{web:()=>N.e(3780).then(N.bind(N,3780)).then(be=>new be.NetworkWeb)});var G=N(4412),Re=N(4438);let Q=(()=>{class be{constructor(ve){this.zone=ve,this.networkStatus=new G.t(!0),this.initializeNetworkListener()}initializeNetworkListener(){var ve=this;return(0,l.A)(function*(){const Te=yield Z.getStatus();ve.zone.run(()=>{ve.networkStatus.next(Te.connected)}),Z.addListener("networkStatusChange",ue=>{ve.zone.run(()=>{ve.networkStatus.next(ue.connected)})})})()}getNetworkStatus(){return this.networkStatus.asObservable()}static{this.\u0275fac=function(Te){return new(Te||be)(Re.KVO(Re.SKi))}}static{this.\u0275prov=Re.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},7150:(In,dt,N)=>{"use strict";N.d(dt,{L:()=>Re});var l=N(4438),U=N(8018),Z=N(6822),G=N(7703);let Re=(()=>{class Q{constructor(Ae,ve,Te){this.translate=Ae,this.router=ve,this.utilService=Te}changeFuelType(){this.utilService.updateState("changeFuelType"),this.router.navigate(["tabs/language-selection"])}changeLanguage(){this.utilService.updateState("changeLanguage"),this.router.navigate(["tabs/language-selection"])}initTranslate(){const Ae=localStorage.getItem("appLanguage");if(Ae)this.translate.use(Ae);else{const ve=this.translate.getBrowserLang();this.translate.use(ve?.match(/en|hi|gu/)?ve:"en")}}setLanguage(Ae){this.translate.use(Ae),localStorage.setItem("appLanguage",Ae)}static{this.\u0275fac=function(ve){return new(ve||Q)(l.KVO(U.c$),l.KVO(Z.Ix),l.KVO(G.a))}}static{this.\u0275prov=l.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}}return Q})()},7703:(In,dt,N)=>{"use strict";N.d(dt,{a:()=>Re});var l=N(467),U=N(4412),Z=N(4438),G=N(7125);let Re=(()=>{class Q{constructor(Ae,ve,Te){this.alertController=Ae,this.toastController=ve,this.loadingController=Te,this.stateSubject=new U.t(""),this.state$=this.stateSubject.asObservable(),this.updateFuelType=new U.t(!1),this.fuelState$=this.updateFuelType.asObservable(),this.loading=null,this.isLoading=!1,this.redirectTo="",this.isOnline=!0}updateState(Ae){this.stateSubject.next(Ae)}updateFuelState(Ae){this.updateFuelType.next(Ae)}showLoading(Ae="Please wait..."){var ve=this;return(0,l.A)(function*(){ve.isLoading?console.warn("Loading is already active, skipping duplicate call"):(ve.isLoading=!0,ve.loading=yield ve.loadingController.create({spinner:"lines",cssClass:"custom-loading",backdropDismiss:!1}),yield ve.loading.present())})()}dismissLoading(){var Ae=this;return(0,l.A)(function*(){Ae.loading&&(yield Ae.loading.dismiss(),Ae.loading=null),Ae.isLoading=!1})()}showMessageModal(Ae,ve,Te="OK"){var ue=this;return(0,l.A)(function*(){yield(yield ue.alertController.create({header:Ae,message:ve,buttons:[{text:Te,cssClass:"alert-button-primary",handler:()=>{}}],cssClass:"alert-modal-class",backdropDismiss:!0})).present()})()}showConfirmationAlert(Ae,ve,Te){var ue=this;return(0,l.A)(function*(){yield(yield ue.alertController.create({header:"Confirm",message:Ae,backdropDismiss:!1,buttons:[{text:"No",role:"cancel",handler:Te},{text:"Yes",handler:ve}]})).present()})()}showToast(Ae,ve=1e3,Te="success"){var ue=this;return(0,l.A)(function*(){yield(yield ue.toastController.create({message:Ae,duration:ve,color:Te,position:"top"})).present()})()}allowOnlyLetters(Ae){const ve=Ae.key.charCodeAt(0);ve>=65&&ve<=90||ve>=97&&ve<=122||32===ve||Ae.preventDefault()}allowOnlyNumbers(Ae){const ve=Ae.key.charCodeAt(0);ve>=48&&ve<=57||Ae.preventDefault()}static{this.\u0275fac=function(ve){return new(ve||Q)(Z.KVO(G.hG),Z.KVO(G.K_),Z.KVO(G.Xi))}}static{this.\u0275prov=Z.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}}return Q})()},6059:(In,dt,N)=>{"use strict";var l=N(345),Z=(N(4511),N(6822)),G=N(2872),Re=N(7125),Q=N(467),be=N(5083),Ae=function(a){return a.Dark="DARK",a.Light="LIGHT",a.Default="DEFAULT",a}(Ae||{});const Ne=(0,be.F3)("StatusBar");var pe=N(4438),xe=N(7150);let nt=(()=>{class a{constructor(r,o){this.popoverCtrl=r,this.translationService=o}selectLanguage(r){this.translationService.setLanguage(r),this.popoverCtrl.dismiss()}static{this.\u0275fac=function(o){return new(o||a)(pe.rXU(Re.IE),pe.rXU(xe.L))}}static{this.\u0275cmp=pe.VBU({type:a,selectors:[["app-language-popover"]],decls:11,vars:0,consts:[[1,"ion-padding"],["button","",3,"click"]],template:function(o,u){1&o&&(pe.j41(0,"ion-content",0)(1,"ion-list")(2,"ion-item",1),pe.bIt("click",function(){return u.selectLanguage("en")}),pe.j41(3,"ion-label"),pe.EFF(4,"English"),pe.k0s()(),pe.j41(5,"ion-item",1),pe.bIt("click",function(){return u.selectLanguage("hi")}),pe.j41(6,"ion-label"),pe.EFF(7,"\u0939\u093f\u0902\u0926\u0940"),pe.k0s()(),pe.j41(8,"ion-item",1),pe.bIt("click",function(){return u.selectLanguage("gu")}),pe.j41(9,"ion-label"),pe.EFF(10,"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0"),pe.k0s()()()())},dependencies:[Re.W9,Re.uz,Re.he,Re.nf]})}}return a})();function yt(a,t){this.v=a,this.k=t}function it(a){return new yt(a,0)}function At(a){var t,r;function o(m,E){try{var P=a[m](E),k=P.value,q=k instanceof yt;Promise.resolve(q?k.v:k).then(function(ge){if(q){var Be="return"===m?"return":"next";if(!k.k||ge.done)return o(Be,ge);ge=a[Be](ge).value}u(P.done?"return":"normal",ge)},function(ge){o("throw",ge)})}catch(ge){u("throw",ge)}}function u(m,E){switch(m){case"return":t.resolve({value:E,done:!0});break;case"throw":t.reject(E);break;default:t.resolve({value:E,done:!1})}(t=t.next)?o(t.key,t.arg):r=null}this._invoke=function(m,E){return new Promise(function(P,k){var q={key:m,arg:E,resolve:P,reject:k,next:null};r?r=r.next=q:(t=r=q,o(m,E))})},"function"!=typeof a.return&&(this.return=void 0)}At.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},At.prototype.next=function(a){return this._invoke("next",a)},At.prototype.throw=function(a){return this._invoke("throw",a)},At.prototype.return=function(a){return this._invoke("return",a)};const Pt=(a,t)=>t.some(r=>a instanceof r);let Ke,Le;const Ze=new WeakMap,Dt=new WeakMap,H=new WeakMap;let ze={get(a,t,r){if(a instanceof IDBTransaction){if("done"===t)return Ze.get(a);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return qe(a[t])},set:(a,t,r)=>(a[t]=r,!0),has:(a,t)=>a instanceof IDBTransaction&&("done"===t||"store"===t)||t in a};function Mt(a){ze=a(ze)}function cn(a){return"function"==typeof a?function kt(a){return function Ye(){return Le||(Le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(a)?function(...t){return a.apply(Se(this),t),qe(this.request)}:function(...t){return qe(a.apply(Se(this),t))}}(a):(a instanceof IDBTransaction&&function bt(a){if(Ze.has(a))return;const t=new Promise((r,o)=>{const u=()=>{a.removeEventListener("complete",m),a.removeEventListener("error",E),a.removeEventListener("abort",E)},m=()=>{r(),u()},E=()=>{o(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",m),a.addEventListener("error",E),a.addEventListener("abort",E)});Ze.set(a,t)}(a),Pt(a,function at(){return Ke||(Ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(a,ze):a)}function qe(a){if(a instanceof IDBRequest)return function We(a){const t=new Promise((r,o)=>{const u=()=>{a.removeEventListener("success",m),a.removeEventListener("error",E)},m=()=>{r(qe(a.result)),u()},E=()=>{o(a.error),u()};a.addEventListener("success",m),a.addEventListener("error",E)});return H.set(t,a),t}(a);if(Dt.has(a))return Dt.get(a);const t=cn(a);return t!==a&&(Dt.set(a,t),H.set(t,a)),t}const Se=a=>H.get(a),le=["get","getKey","getAll","getAllKeys","count"],Pe=["put","add","delete","clear"],ot=new Map;function Xe(a,t){if(!(a instanceof IDBDatabase)||t in a||"string"!=typeof t)return;if(ot.get(t))return ot.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,u=Pe.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!u&&!le.includes(r))return;const m=function(){var E=(0,Q.A)(function*(P,...k){const q=this.transaction(P,u?"readwrite":"readonly");let ge=q.store;return o&&(ge=ge.index(k.shift())),(yield Promise.all([ge[r](...k),u&&q.done]))[0]});return function(k){return E.apply(this,arguments)}}();return ot.set(t,m),m}Mt(a=>({...a,get:(t,r,o)=>Xe(t,r)||a.get(t,r,o),has:(t,r)=>!!Xe(t,r)||a.has(t,r)}));const De=["continue","continuePrimaryKey","advance"],Ct={},fe=new WeakMap,st=new WeakMap,Ot={get(a,t){if(!De.includes(t))return a[t];let r=Ct[t];return r||(r=Ct[t]=function(...o){fe.set(this,st.get(this)[t](...o))}),r}};function Nt(){return hn.apply(this,arguments)}function hn(){return hn=function He(a){return function(){return new At(a.apply(this,arguments))}}(function*(...a){let t=this;if(t instanceof IDBCursor||(t=yield it(t.openCursor(...a))),!t)return;const r=new Proxy(t,Ot);for(st.set(r,t),H.set(r,Se(t));t;)yield r,t=yield it(fe.get(r)||t.continue()),fe.delete(r)}),hn.apply(this,arguments)}function Vn(a,t){return t===Symbol.asyncIterator&&Pt(a,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&Pt(a,[IDBIndex,IDBObjectStore])}Mt(a=>({...a,get:(t,r,o)=>Vn(t,r)?Nt:a.get(t,r,o),has:(t,r)=>Vn(t,r)||a.has(t,r)}));let Gn=(()=>{class a{constructor(){this.initDB()}initDB(){var r=this;return(0,Q.A)(function*(){r.dbPromise=function Ie(a,t,{blocked:r,upgrade:o,blocking:u,terminated:m}={}){const E=indexedDB.open(a,t),P=qe(E);return o&&E.addEventListener("upgradeneeded",k=>{o(qe(E.result),k.oldVersion,k.newVersion,qe(E.transaction),k)}),r&&E.addEventListener("blocked",k=>r(k.oldVersion,k.newVersion,k)),P.then(k=>{m&&k.addEventListener("close",()=>m()),u&&k.addEventListener("versionchange",q=>u(q.oldVersion,q.newVersion,q))}).catch(()=>{}),P}("FuelAppDataBase",1,{upgrade(o){o.objectStoreNames.contains("fuelRecords")||o.createObjectStore("fuelRecords",{keyPath:"id",autoIncrement:!0}).createIndex("id","id",{unique:!0})}})})()}addItem(r){var o=this;return(0,Q.A)(function*(){return yield(yield o.dbPromise).add("fuelRecords",{id:Date.now(),...r})})()}getAllItems(){var r=this;return(0,Q.A)(function*(){return yield(yield r.dbPromise).getAll("fuelRecords")})()}getItemById(r){var o=this;return(0,Q.A)(function*(){return yield(yield o.dbPromise).get("fuelRecords",r)})()}updateItem(r,o){var u=this;return(0,Q.A)(function*(){yield(yield u.dbPromise).put("fuelRecords",{id:r,...o})})()}deleteItem(r){var o=this;return(0,Q.A)(function*(){yield(yield o.dbPromise).delete("fuelRecords",r)})()}static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275prov=pe.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var Nn=N(5940),xn=N(4518),Un=function(a){return a.Prompt="PROMPT",a.Camera="CAMERA",a.Photos="PHOTOS",a}(Un||{}),Xn=function(a){return a.Rear="REAR",a.Front="FRONT",a}(Xn||{});class Gt extends be.E_{getPhoto(t){var r=this;return(0,Q.A)(function*(){return new Promise(function(){var o=(0,Q.A)(function*(u,m){if(t.webUseInput||t.source===Un.Photos)r.fileInputExperience(t,u,m);else if(t.source===Un.Prompt){let E=document.querySelector("pwa-action-sheet");E||(E=document.createElement("pwa-action-sheet"),document.body.appendChild(E)),E.header=t.promptLabelHeader||"Photo",E.cancelable=!1,E.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],E.addEventListener("onSelection",function(){var P=(0,Q.A)(function*(k){0===k.detail?r.fileInputExperience(t,u,m):r.cameraExperience(t,u,m)});return function(k){return P.apply(this,arguments)}}())}else r.cameraExperience(t,u,m)});return function(u,m){return o.apply(this,arguments)}}())})()}pickImages(t){var r=this;return(0,Q.A)(function*(){return new Promise(function(){var o=(0,Q.A)(function*(u,m){r.multipleFileInputExperience(u,m)});return function(u,m){return o.apply(this,arguments)}}())})()}cameraExperience(t,r,o){var u=this;return(0,Q.A)(function*(){if(customElements.get("pwa-camera-modal")){const m=document.createElement("pwa-camera-modal");m.facingMode=t.direction===Xn.Front?"user":"environment",document.body.appendChild(m);try{yield m.componentOnReady(),m.addEventListener("onPhoto",function(){var E=(0,Q.A)(function*(P){const k=P.detail;null===k?o(new be.I9("User cancelled photos app")):k instanceof Error?o(k):r(yield u._getCameraPhoto(k,t)),m.dismiss(),document.body.removeChild(m)});return function(P){return E.apply(this,arguments)}}()),m.present()}catch{u.fileInputExperience(t,r,o)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),u.fileInputExperience(t,r,o)})()}fileInputExperience(t,r,o){let u=document.querySelector("#_capacitor-camera-input");const m=()=>{var E;null===(E=u.parentNode)||void 0===E||E.removeChild(u)};u||(u=document.createElement("input"),u.id="_capacitor-camera-input",u.type="file",u.hidden=!0,document.body.appendChild(u),u.addEventListener("change",E=>{const P=u.files[0];let k="jpeg";if("image/png"===P.type?k="png":"image/gif"===P.type&&(k="gif"),"dataUrl"===t.resultType||"base64"===t.resultType){const q=new FileReader;q.addEventListener("load",()=>{if("dataUrl"===t.resultType)r({dataUrl:q.result,format:k});else if("base64"===t.resultType){const ge=q.result.split(",")[1];r({base64String:ge,format:k})}m()}),q.readAsDataURL(P)}else r({webPath:URL.createObjectURL(P),format:k}),m()}),u.addEventListener("cancel",E=>{o(new be.I9("User cancelled photos app")),m()})),u.accept="image/*",u.capture=!0,t.source===Un.Photos||t.source===Un.Prompt?u.removeAttribute("capture"):t.direction===Xn.Front?u.capture="user":t.direction===Xn.Rear&&(u.capture="environment"),u.click()}multipleFileInputExperience(t,r){let o=document.querySelector("#_capacitor-camera-input-multiple");const u=()=>{var m;null===(m=o.parentNode)||void 0===m||m.removeChild(o)};o||(o=document.createElement("input"),o.id="_capacitor-camera-input-multiple",o.type="file",o.hidden=!0,o.multiple=!0,document.body.appendChild(o),o.addEventListener("change",m=>{const E=[];for(let P=0;P<o.files.length;P++){const k=o.files[P];let q="jpeg";"image/png"===k.type?q="png":"image/gif"===k.type&&(q="gif"),E.push({webPath:URL.createObjectURL(k),format:q})}t({photos:E}),u()}),o.addEventListener("cancel",m=>{r(new be.I9("User cancelled photos app")),u()})),o.accept="image/*",o.click()}_getCameraPhoto(t,r){return new Promise((o,u)=>{const m=new FileReader,E=t.type.split("/")[1];"uri"===r.resultType?o({webPath:URL.createObjectURL(t),format:E,saved:!1}):(m.readAsDataURL(t),m.onloadend=()=>{const P=m.result;o("dataUrl"===r.resultType?{dataUrl:P,format:E,saved:!1}:{base64String:P.split(",")[1],format:E,saved:!1})},m.onerror=P=>{u(P)})})}checkPermissions(){var t=this;return(0,Q.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw t.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw t.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var t=this;return(0,Q.A)(function*(){throw t.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var t=this;return(0,Q.A)(function*(){throw t.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var t=this;return(0,Q.A)(function*(){throw t.unavailable("Not implemented on web.")})()}}new Gt;const Mn=(0,be.F3)("Camera",{web:()=>new Gt}),Er=(0,be.F3)("PushNotifications",{});var ir=N(4412);let Jn=(()=>{class a{constructor(){this.dbName="AppDatabase",this.dbVersion=1,this.storeNames=["fuelCostHistory","appSettings"],this.db=null,this.initDatabase()}initDatabase(){const r=indexedDB.open(this.dbName,this.dbVersion);r.onupgradeneeded=o=>{const u=o.target.result;for(const m of this.storeNames)u.objectStoreNames.contains(m)||u.createObjectStore(m,"appSettings"===m?{keyPath:"key"}:{keyPath:"id",autoIncrement:!0})},r.onsuccess=o=>{this.db=o.target.result},r.onerror=o=>{console.error("Error opening IndexedDB:",o.target.error)}}setStorage(r,o){return new Promise((u,m)=>{if(!this.db)return void m("Database not initialized.");const k=this.db.transaction("appSettings","readwrite").objectStore("appSettings").put({key:r,value:o});k.onsuccess=()=>u(),k.onerror=q=>m(q.target.error)})}getStorage(r){return new Promise((o,u)=>{if(!this.db)return void u("Database not initialized.");const P=this.db.transaction("appSettings","readonly").objectStore("appSettings").get(r);P.onsuccess=k=>{o(k.target.result||null)},P.onerror=k=>{u(k.target.error)}})}removeStorage(r){return new Promise((o,u)=>{if(!this.db)return void u("Database not initialized.");const P=this.db.transaction("appSettings","readwrite").objectStore("appSettings").delete(r);P.onsuccess=()=>o(),P.onerror=k=>u(k.target.error)})}static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275prov=pe.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Hn="push_notification_token";let Nr=(()=>{class a{get redirect(){return this._redirect.asObservable()}constructor(r){this.storage=r,this._redirect=new ir.t(null)}initPush(){"web"!==be.Ii.getPlatform()&&this.registerPush()}registerPush(){var r=this;return(0,Q.A)(function*(){try{yield r.addListeners();let o=yield Er.checkPermissions();if("prompt"===o.receive&&(o=yield Er.requestPermissions()),"granted"!==o.receive)throw new Error("User denied permissions!");yield Er.register()}catch(o){console.log(o)}})()}getDeliveredNotifications(){return(0,Q.A)(function*(){yield Er.getDeliveredNotifications()})()}addListeners(){var r=this;Er.addListener("registration",function(){var o=(0,Q.A)(function*(u){const m=u?.value;let E=1;const P=JSON.parse((yield r.storage.getStorage(Hn))?.value||"null");P&&(E=m==P?0:2),1==E?r.storage.setStorage(Hn,JSON.stringify(m)):2==E&&r.storage.setStorage(Hn,m)});return function(u){return o.apply(this,arguments)}}()),Er.addListener("registrationError",o=>{}),Er.addListener("pushNotificationReceived",function(){var o=(0,Q.A)(function*(u){const m=u?.data;m?.redirect&&r._redirect.next(m?.redirect)});return function(u){return o.apply(this,arguments)}}()),Er.addListener("pushNotificationActionPerformed",function(){var o=(0,Q.A)(function*(u){const m=u.notification.data;m?.redirect&&r._redirect.next(m?.redirect)});return function(u){return o.apply(this,arguments)}}())}removeFcmToken(){var r=this;return(0,Q.A)(function*(){try{const o=JSON.parse((yield r.storage.getStorage(Hn))?.value??"null");r.storage.removeStorage(o)}catch(o){throw o}})()}static{this.\u0275fac=function(o){return new(o||a)(pe.KVO(Jn))}}static{this.\u0275prov=pe.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),Rr=(()=>{class a{constructor(){this.fcm=(0,pe.WQX)(Nr)}checkCameraPermission(){return(0,Q.A)(function*(){try{return"granted"===(yield Mn.requestPermissions()).camera}catch(r){return console.error("Error requesting camera permission",r),!1}})()}checkGalleryPermission(){return(0,Q.A)(function*(){try{const r=yield Mn.requestPermissions();return console.log("------Gallery permission status:",r),"granted"===r.photos}catch(r){return console.error("Error requesting gallery permission",r),!1}})()}initializePermissions(){var r=this;return(0,Q.A)(function*(){setTimeout(()=>{r.fcm.initPush()},1e3)})()}static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275prov=pe.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),rr=(()=>{class a{constructor(r,o,u,m,E,P,k,q){this.indexedDbService=r,this.adsService=o,this.platform=u,this.deviceBackBtnService=m,this.permissionService=E,this.translationService=P,this.popoverCtrl=k,this.router=q,this.setStatusBarColor(),this.initializeApp()}ngOnInit(){var r=this;return(0,Q.A)(function*(){localStorage.getItem("appLanguage")||r.router.navigate(["tabs/language-selection"])})()}initializeApp(){var r=this;return(0,Q.A)(function*(){r.permissionService.initializePermissions(),yield r.initializeIndexedDB(),yield r.adsService.initializeAdMobSDK(),r.platform.ready().then(()=>{r.translationService.initTranslate(),r.deviceBackBtnService.initializeBackButtonHandler(),Ne.setOverlaysWebView({overlay:!1})})})()}setStatusBarColor(){return(0,Q.A)(function*(){try{yield Ne.setBackgroundColor({color:"#5ed1aa"}),yield Ne.setStyle({style:Ae.Light})}catch(r){console.error("Error setting status bar color:",r)}})()}initializeIndexedDB(){var r=this;return(0,Q.A)(function*(){try{yield r.indexedDbService.initDB()}catch(o){console.error("Error initializing IndexedDB:",o)}})()}presentLanguagePopover(){var r=this;return(0,Q.A)(function*(){yield(yield r.popoverCtrl.create({component:nt,translucent:!0,backdropDismiss:!1})).present()})()}static{this.\u0275fac=function(o){return new(o||a)(pe.rXU(Gn),pe.rXU(Nn.g),pe.rXU(G.OD),pe.rXU(xn.p),pe.rXU(Rr),pe.rXU(xe.L),pe.rXU(Re.IE),pe.rXU(Z.Ix))}}static{this.\u0275cmp=pe.VBU({type:a,selectors:[["app-root"]],decls:2,vars:0,template:function(o,u){1&o&&(pe.j41(0,"ion-app"),pe.nrm(1,"ion-router-outlet"),pe.k0s())},dependencies:[Re.U1,Re.Rg],styles:["ion-header[_ngcontent-%COMP%]{--background: #3b82f6;--color: #fff}"]})}}return a})();const Qr=[{path:"",redirectTo:"language-selection",pathMatch:"full"},{path:"language-selection",loadChildren:()=>N.e(768).then(N.bind(N,768)).then(a=>a.LanguageSelectionPageModule)},{path:"user-login",loadChildren:()=>N.e(4961).then(N.bind(N,4961)).then(a=>a.UserLoginPageModule)},{path:"tabs",component:N(4409).l,canActivate:[(()=>{class a{constructor(r){this.router=r}canActivate(){return!!localStorage.getItem("userToken")||(this.router.navigate(["/language-selection"]),!1)}static{this.\u0275fac=function(o){return new(o||a)(pe.KVO(Z.Ix))}}static{this.\u0275prov=pe.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()],children:[{path:"",loadChildren:()=>N.e(8372).then(N.bind(N,8372)).then(a=>a.TabsPageModule)}]},{path:"**",redirectTo:"language-selection",pathMatch:"full"}];let Tr=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=pe.$C({type:a})}static{this.\u0275inj=pe.G2t({imports:[Z.iI.forRoot(Qr,{preloadingStrategy:Z.Kp}),Z.iI]})}}return a})();var pr=N(1626);let _r=(()=>{class a{constructor(){this.dbName="AppDatabase",this.dbVersion=1,this.scannedStore="scannedData",this.pinnedStore="pinnedData",this.initDatabase()}initDatabase(){const r=indexedDB.open(this.dbName,this.dbVersion);r.onupgradeneeded=o=>{const u=o.target.result;u.objectStoreNames.contains(this.scannedStore)||u.createObjectStore(this.scannedStore,{keyPath:"id",autoIncrement:!0}),u.objectStoreNames.contains(this.pinnedStore)||u.createObjectStore(this.pinnedStore,{keyPath:"id",autoIncrement:!0})},r.onerror=o=>{console.error("Error opening IndexedDB:",o)}}saveScannedItem(r){return this.addItem(this.scannedStore,r)}getScannedData(){return this.getAllItems(this.scannedStore)}saveScannedData(r){return this.bulkSave(this.scannedStore,r)}savePinnedItem(r){return this.addItem(this.pinnedStore,r)}getPinnedData(){return this.getAllItems(this.pinnedStore)}savePinnedData(r){return this.bulkSave(this.pinnedStore,r)}addItem(r,o){return new Promise((u,m)=>{const E=indexedDB.open(this.dbName,this.dbVersion);E.onsuccess=P=>{const q=P.target.result.transaction(r,"readwrite");q.objectStore(r).add(o),q.oncomplete=()=>u(),q.onerror=()=>m(q.error)},E.onerror=()=>m(E.error)})}getAllItems(r){return new Promise((o,u)=>{const m=indexedDB.open(this.dbName,this.dbVersion);m.onsuccess=E=>{const k=E.target.result.transaction(r,"readonly"),q=k.objectStore(r),ge=[];q.openCursor().onsuccess=Be=>{const It=Be.target.result;It?(ge.push(It.value),It.continue()):o(ge)},k.onerror=()=>u(k.error)},m.onerror=()=>u(m.error)})}bulkSave(r,o){return new Promise((u,m)=>{const E=indexedDB.open(this.dbName,this.dbVersion);E.onsuccess=P=>{const q=P.target.result.transaction(r,"readwrite"),ge=q.objectStore(r);ge.clear(),o.forEach(Be=>ge.add(Be)),q.oncomplete=()=>u(),q.onerror=()=>m(q.error)},E.onerror=()=>m(E.error)})}static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275prov=pe.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var fi=N(2191),Pr=N(8454),pi=N(8018);let gr=(()=>{class a{http;prefix;suffix;constructor(r,o="/assets/i18n/",u=".json"){this.http=r,this.prefix=o,this.suffix=u}getTranslation(r){return this.http.get(`${this.prefix}${r}${this.suffix}`)}static \u0275fac=function(o){return new(o||a)(pe.KVO(pr.Qq),pe.KVO(String),pe.KVO(String))};static \u0275prov=pe.jDH({token:a,factory:a.\u0275fac})}return a})();var bi=N(3651),ci=N(9253),Ai=N(177),jt=N(574),ht=N(5719),rt=N(3236),Tt=N(1985),dn=N(8455),Bn=N(7673),Ge=N(9172),$e=N(9974),vt=N(4360);function Jt(){return(0,$e.N)((a,t)=>{let r,o=!1;a.subscribe((0,vt._)(t,u=>{const m=r;r=u,o&&t.next([m,u]),o=!0}))})}var Ur,Ar,xt=N(6354),Fn=N(2816),qn=N(3294),Jr=N(5964),xr=(N(324),N(9574)),Vr=N(1156),Sn=N(8779),Wr=N(5398),kr=N(1401),Oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gi={};(function(){var a;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Ft,gt,Rt){Rt||(Rt=0);var $t=Array(16);if("string"==typeof gt)for(var Kt=0;16>Kt;++Kt)$t[Kt]=gt.charCodeAt(Rt++)|gt.charCodeAt(Rt++)<<8|gt.charCodeAt(Rt++)<<16|gt.charCodeAt(Rt++)<<24;else for(Kt=0;16>Kt;++Kt)$t[Kt]=gt[Rt++]|gt[Rt++]<<8|gt[Rt++]<<16|gt[Rt++]<<24;var rn=Ft.g[3],St=(gt=Ft.g[0])+(rn^(Rt=Ft.g[1])&((Kt=Ft.g[2])^rn))+$t[0]+3614090360&4294967295;St=(Rt=(Kt=(rn=(gt=(Rt=(Kt=(rn=(gt=(Rt=(Kt=(rn=(gt=(Rt=(Kt=(rn=(gt=(Rt=(Kt=(rn=(gt=(Rt=(Kt=(rn=(gt=(Rt=(Kt=(rn=(gt=(Rt=(Kt=(rn=(gt=(Rt=(Kt=(rn=(gt=(Rt=(Kt=(rn=(gt=(Rt=(Kt=(rn=(gt=(Rt=(Kt=(rn=(gt=(Rt=(Kt=(rn=(gt=(Rt=(Kt=(rn=(gt=(Rt=(Kt=(rn=(gt=Rt+(St<<7&4294967295|St>>>25))+((St=rn+(Kt^gt&(Rt^Kt))+$t[1]+3905402710&4294967295)<<12&4294967295|St>>>20))+((St=Kt+(Rt^rn&(gt^Rt))+$t[2]+606105819&4294967295)<<17&4294967295|St>>>15))+((St=Rt+(gt^Kt&(rn^gt))+$t[3]+3250441966&4294967295)<<22&4294967295|St>>>10))+((St=gt+(rn^Rt&(Kt^rn))+$t[4]+4118548399&4294967295)<<7&4294967295|St>>>25))+((St=rn+(Kt^gt&(Rt^Kt))+$t[5]+1200080426&4294967295)<<12&4294967295|St>>>20))+((St=Kt+(Rt^rn&(gt^Rt))+$t[6]+2821735955&4294967295)<<17&4294967295|St>>>15))+((St=Rt+(gt^Kt&(rn^gt))+$t[7]+4249261313&4294967295)<<22&4294967295|St>>>10))+((St=gt+(rn^Rt&(Kt^rn))+$t[8]+1770035416&4294967295)<<7&4294967295|St>>>25))+((St=rn+(Kt^gt&(Rt^Kt))+$t[9]+2336552879&4294967295)<<12&4294967295|St>>>20))+((St=Kt+(Rt^rn&(gt^Rt))+$t[10]+4294925233&4294967295)<<17&4294967295|St>>>15))+((St=Rt+(gt^Kt&(rn^gt))+$t[11]+2304563134&4294967295)<<22&4294967295|St>>>10))+((St=gt+(rn^Rt&(Kt^rn))+$t[12]+1804603682&4294967295)<<7&4294967295|St>>>25))+((St=rn+(Kt^gt&(Rt^Kt))+$t[13]+4254626195&4294967295)<<12&4294967295|St>>>20))+((St=Kt+(Rt^rn&(gt^Rt))+$t[14]+2792965006&4294967295)<<17&4294967295|St>>>15))+((St=Rt+(gt^Kt&(rn^gt))+$t[15]+1236535329&4294967295)<<22&4294967295|St>>>10))+((St=gt+(Kt^rn&(Rt^Kt))+$t[1]+4129170786&4294967295)<<5&4294967295|St>>>27))+((St=rn+(Rt^Kt&(gt^Rt))+$t[6]+3225465664&4294967295)<<9&4294967295|St>>>23))+((St=Kt+(gt^Rt&(rn^gt))+$t[11]+643717713&4294967295)<<14&4294967295|St>>>18))+((St=Rt+(rn^gt&(Kt^rn))+$t[0]+3921069994&4294967295)<<20&4294967295|St>>>12))+((St=gt+(Kt^rn&(Rt^Kt))+$t[5]+3593408605&4294967295)<<5&4294967295|St>>>27))+((St=rn+(Rt^Kt&(gt^Rt))+$t[10]+38016083&4294967295)<<9&4294967295|St>>>23))+((St=Kt+(gt^Rt&(rn^gt))+$t[15]+3634488961&4294967295)<<14&4294967295|St>>>18))+((St=Rt+(rn^gt&(Kt^rn))+$t[4]+3889429448&4294967295)<<20&4294967295|St>>>12))+((St=gt+(Kt^rn&(Rt^Kt))+$t[9]+568446438&4294967295)<<5&4294967295|St>>>27))+((St=rn+(Rt^Kt&(gt^Rt))+$t[14]+3275163606&4294967295)<<9&4294967295|St>>>23))+((St=Kt+(gt^Rt&(rn^gt))+$t[3]+4107603335&4294967295)<<14&4294967295|St>>>18))+((St=Rt+(rn^gt&(Kt^rn))+$t[8]+1163531501&4294967295)<<20&4294967295|St>>>12))+((St=gt+(Kt^rn&(Rt^Kt))+$t[13]+2850285829&4294967295)<<5&4294967295|St>>>27))+((St=rn+(Rt^Kt&(gt^Rt))+$t[2]+4243563512&4294967295)<<9&4294967295|St>>>23))+((St=Kt+(gt^Rt&(rn^gt))+$t[7]+1735328473&4294967295)<<14&4294967295|St>>>18))+((St=Rt+(rn^gt&(Kt^rn))+$t[12]+2368359562&4294967295)<<20&4294967295|St>>>12))+((St=gt+(Rt^Kt^rn)+$t[5]+4294588738&4294967295)<<4&4294967295|St>>>28))+((St=rn+(gt^Rt^Kt)+$t[8]+2272392833&4294967295)<<11&4294967295|St>>>21))+((St=Kt+(rn^gt^Rt)+$t[11]+1839030562&4294967295)<<16&4294967295|St>>>16))+((St=Rt+(Kt^rn^gt)+$t[14]+4259657740&4294967295)<<23&4294967295|St>>>9))+((St=gt+(Rt^Kt^rn)+$t[1]+2763975236&4294967295)<<4&4294967295|St>>>28))+((St=rn+(gt^Rt^Kt)+$t[4]+1272893353&4294967295)<<11&4294967295|St>>>21))+((St=Kt+(rn^gt^Rt)+$t[7]+4139469664&4294967295)<<16&4294967295|St>>>16))+((St=Rt+(Kt^rn^gt)+$t[10]+3200236656&4294967295)<<23&4294967295|St>>>9))+((St=gt+(Rt^Kt^rn)+$t[13]+681279174&4294967295)<<4&4294967295|St>>>28))+((St=rn+(gt^Rt^Kt)+$t[0]+3936430074&4294967295)<<11&4294967295|St>>>21))+((St=Kt+(rn^gt^Rt)+$t[3]+3572445317&4294967295)<<16&4294967295|St>>>16))+((St=Rt+(Kt^rn^gt)+$t[6]+76029189&4294967295)<<23&4294967295|St>>>9))+((St=gt+(Rt^Kt^rn)+$t[9]+3654602809&4294967295)<<4&4294967295|St>>>28))+((St=rn+(gt^Rt^Kt)+$t[12]+3873151461&4294967295)<<11&4294967295|St>>>21))+((St=Kt+(rn^gt^Rt)+$t[15]+530742520&4294967295)<<16&4294967295|St>>>16))+((St=Rt+(Kt^rn^gt)+$t[2]+3299628645&4294967295)<<23&4294967295|St>>>9))+((St=gt+(Kt^(Rt|~rn))+$t[0]+4096336452&4294967295)<<6&4294967295|St>>>26))+((St=rn+(Rt^(gt|~Kt))+$t[7]+1126891415&4294967295)<<10&4294967295|St>>>22))+((St=Kt+(gt^(rn|~Rt))+$t[14]+2878612391&4294967295)<<15&4294967295|St>>>17))+((St=Rt+(rn^(Kt|~gt))+$t[5]+4237533241&4294967295)<<21&4294967295|St>>>11))+((St=gt+(Kt^(Rt|~rn))+$t[12]+1700485571&4294967295)<<6&4294967295|St>>>26))+((St=rn+(Rt^(gt|~Kt))+$t[3]+2399980690&4294967295)<<10&4294967295|St>>>22))+((St=Kt+(gt^(rn|~Rt))+$t[10]+4293915773&4294967295)<<15&4294967295|St>>>17))+((St=Rt+(rn^(Kt|~gt))+$t[1]+2240044497&4294967295)<<21&4294967295|St>>>11))+((St=gt+(Kt^(Rt|~rn))+$t[8]+1873313359&4294967295)<<6&4294967295|St>>>26))+((St=rn+(Rt^(gt|~Kt))+$t[15]+4264355552&4294967295)<<10&4294967295|St>>>22))+((St=Kt+(gt^(rn|~Rt))+$t[6]+2734768916&4294967295)<<15&4294967295|St>>>17))+((St=Rt+(rn^(Kt|~gt))+$t[13]+1309151649&4294967295)<<21&4294967295|St>>>11))+((rn=(gt=Rt+((St=gt+(Kt^(Rt|~rn))+$t[4]+4149444226&4294967295)<<6&4294967295|St>>>26))+((St=rn+(Rt^(gt|~Kt))+$t[11]+3174756917&4294967295)<<10&4294967295|St>>>22))^((Kt=rn+((St=Kt+(gt^(rn|~Rt))+$t[2]+718787259&4294967295)<<15&4294967295|St>>>17))|~gt))+$t[9]+3951481745&4294967295,Ft.g[0]=Ft.g[0]+gt&4294967295,Ft.g[1]=Ft.g[1]+(Kt+(St<<21&4294967295|St>>>11))&4294967295,Ft.g[2]=Ft.g[2]+Kt&4294967295,Ft.g[3]=Ft.g[3]+rn&4294967295}function E(Ft,gt){this.h=gt;for(var Rt=[],$t=!0,Kt=Ft.length-1;0<=Kt;Kt--){var rn=0|Ft[Kt];$t&&rn==gt||(Rt[Kt]=rn,$t=!1)}this.g=Rt}(function t(Ft,gt){function Rt(){}Rt.prototype=gt.prototype,Ft.D=gt.prototype,Ft.prototype=new Rt,Ft.prototype.constructor=Ft,Ft.C=function($t,Kt,rn){for(var St=Array(arguments.length-2),_u=2;_u<arguments.length;_u++)St[_u-2]=arguments[_u];return gt.prototype[Kt].apply($t,St)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(Ft,gt){void 0===gt&&(gt=Ft.length);for(var Rt=gt-this.blockSize,$t=this.B,Kt=this.h,rn=0;rn<gt;){if(0==Kt)for(;rn<=Rt;)u(this,Ft,rn),rn+=this.blockSize;if("string"==typeof Ft){for(;rn<gt;)if($t[Kt++]=Ft.charCodeAt(rn++),Kt==this.blockSize){u(this,$t),Kt=0;break}}else for(;rn<gt;)if($t[Kt++]=Ft[rn++],Kt==this.blockSize){u(this,$t),Kt=0;break}}this.h=Kt,this.o+=gt},o.prototype.v=function(){var Ft=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ft[0]=128;for(var gt=1;gt<Ft.length-8;++gt)Ft[gt]=0;var Rt=8*this.o;for(gt=Ft.length-8;gt<Ft.length;++gt)Ft[gt]=255&Rt,Rt/=256;for(this.u(Ft),Ft=Array(16),gt=Rt=0;4>gt;++gt)for(var $t=0;32>$t;$t+=8)Ft[Rt++]=this.g[gt]>>>$t&255;return Ft};var P={};function k(Ft){return-128<=Ft&&128>Ft?function m(Ft,gt){var Rt=P;return Object.prototype.hasOwnProperty.call(Rt,Ft)?Rt[Ft]:Rt[Ft]=gt(Ft)}(Ft,function(gt){return new E([0|gt],0>gt?-1:0)}):new E([0|Ft],0>Ft?-1:0)}function q(Ft){if(isNaN(Ft)||!isFinite(Ft))return Be;if(0>Ft)return Ln(q(-Ft));for(var gt=[],Rt=1,$t=0;Ft>=Rt;$t++)gt[$t]=Ft/Rt|0,Rt*=4294967296;return new E(gt,0)}var Be=k(0),It=k(1),nn=k(16777216);function An(Ft){if(0!=Ft.h)return!1;for(var gt=0;gt<Ft.g.length;gt++)if(0!=Ft.g[gt])return!1;return!0}function $n(Ft){return-1==Ft.h}function Ln(Ft){for(var gt=Ft.g.length,Rt=[],$t=0;$t<gt;$t++)Rt[$t]=~Ft.g[$t];return new E(Rt,~Ft.h).add(It)}function Sr(Ft,gt){return Ft.add(Ln(gt))}function Kr(Ft,gt){for(;(65535&Ft[gt])!=Ft[gt];)Ft[gt+1]+=Ft[gt]>>>16,Ft[gt]&=65535,gt++}function Mr(Ft,gt){this.g=Ft,this.h=gt}function ri(Ft,gt){if(An(gt))throw Error("division by zero");if(An(Ft))return new Mr(Be,Be);if($n(Ft))return gt=ri(Ln(Ft),gt),new Mr(Ln(gt.g),Ln(gt.h));if($n(gt))return gt=ri(Ft,Ln(gt)),new Mr(Ln(gt.g),gt.h);if(30<Ft.g.length){if($n(Ft)||$n(gt))throw Error("slowDivide_ only works with positive integers.");for(var Rt=It,$t=gt;0>=$t.l(Ft);)Rt=xi(Rt),$t=xi($t);var Kt=Ni(Rt,1),rn=Ni($t,1);for($t=Ni($t,2),Rt=Ni(Rt,2);!An($t);){var St=rn.add($t);0>=St.l(Ft)&&(Kt=Kt.add(Rt),rn=St),$t=Ni($t,1),Rt=Ni(Rt,1)}return gt=Sr(Ft,Kt.j(gt)),new Mr(Kt,gt)}for(Kt=Be;0<=Ft.l(gt);){for(Rt=Math.max(1,Math.floor(Ft.m()/gt.m())),$t=48>=($t=Math.ceil(Math.log(Rt)/Math.LN2))?1:Math.pow(2,$t-48),St=(rn=q(Rt)).j(gt);$n(St)||0<St.l(Ft);)St=(rn=q(Rt-=$t)).j(gt);An(rn)&&(rn=It),Kt=Kt.add(rn),Ft=Sr(Ft,St)}return new Mr(Kt,Ft)}function xi(Ft){for(var gt=Ft.g.length+1,Rt=[],$t=0;$t<gt;$t++)Rt[$t]=Ft.i($t)<<1|Ft.i($t-1)>>>31;return new E(Rt,Ft.h)}function Ni(Ft,gt){var Rt=gt>>5;gt%=32;for(var $t=Ft.g.length-Rt,Kt=[],rn=0;rn<$t;rn++)Kt[rn]=0<gt?Ft.i(rn+Rt)>>>gt|Ft.i(rn+Rt+1)<<32-gt:Ft.i(rn+Rt);return new E(Kt,Ft.h)}(a=E.prototype).m=function(){if($n(this))return-Ln(this).m();for(var Ft=0,gt=1,Rt=0;Rt<this.g.length;Rt++){var $t=this.i(Rt);Ft+=(0<=$t?$t:4294967296+$t)*gt,gt*=4294967296}return Ft},a.toString=function(Ft){if(2>(Ft=Ft||10)||36<Ft)throw Error("radix out of range: "+Ft);if(An(this))return"0";if($n(this))return"-"+Ln(this).toString(Ft);for(var gt=q(Math.pow(Ft,6)),Rt=this,$t="";;){var Kt=ri(Rt,gt).g,rn=((0<(Rt=Sr(Rt,Kt.j(gt))).g.length?Rt.g[0]:Rt.h)>>>0).toString(Ft);if(An(Rt=Kt))return rn+$t;for(;6>rn.length;)rn="0"+rn;$t=rn+$t}},a.i=function(Ft){return 0>Ft?0:Ft<this.g.length?this.g[Ft]:this.h},a.l=function(Ft){return $n(Ft=Sr(this,Ft))?-1:An(Ft)?0:1},a.abs=function(){return $n(this)?Ln(this):this},a.add=function(Ft){for(var gt=Math.max(this.g.length,Ft.g.length),Rt=[],$t=0,Kt=0;Kt<=gt;Kt++){var rn=$t+(65535&this.i(Kt))+(65535&Ft.i(Kt)),St=(rn>>>16)+(this.i(Kt)>>>16)+(Ft.i(Kt)>>>16);$t=St>>>16,Rt[Kt]=(St&=65535)<<16|(rn&=65535)}return new E(Rt,-2147483648&Rt[Rt.length-1]?-1:0)},a.j=function(Ft){if(An(this)||An(Ft))return Be;if($n(this))return $n(Ft)?Ln(this).j(Ln(Ft)):Ln(Ln(this).j(Ft));if($n(Ft))return Ln(this.j(Ln(Ft)));if(0>this.l(nn)&&0>Ft.l(nn))return q(this.m()*Ft.m());for(var gt=this.g.length+Ft.g.length,Rt=[],$t=0;$t<2*gt;$t++)Rt[$t]=0;for($t=0;$t<this.g.length;$t++)for(var Kt=0;Kt<Ft.g.length;Kt++){var rn=this.i($t)>>>16,St=65535&this.i($t),_u=Ft.i(Kt)>>>16,Of=65535&Ft.i(Kt);Rt[2*$t+2*Kt]+=St*Of,Kr(Rt,2*$t+2*Kt),Rt[2*$t+2*Kt+1]+=rn*Of,Kr(Rt,2*$t+2*Kt+1),Rt[2*$t+2*Kt+1]+=St*_u,Kr(Rt,2*$t+2*Kt+1),Rt[2*$t+2*Kt+2]+=rn*_u,Kr(Rt,2*$t+2*Kt+2)}for($t=0;$t<gt;$t++)Rt[$t]=Rt[2*$t+1]<<16|Rt[2*$t];for($t=gt;$t<2*gt;$t++)Rt[$t]=0;return new E(Rt,0)},a.A=function(Ft){return ri(this,Ft).h},a.and=function(Ft){for(var gt=Math.max(this.g.length,Ft.g.length),Rt=[],$t=0;$t<gt;$t++)Rt[$t]=this.i($t)&Ft.i($t);return new E(Rt,this.h&Ft.h)},a.or=function(Ft){for(var gt=Math.max(this.g.length,Ft.g.length),Rt=[],$t=0;$t<gt;$t++)Rt[$t]=this.i($t)|Ft.i($t);return new E(Rt,this.h|Ft.h)},a.xor=function(Ft){for(var gt=Math.max(this.g.length,Ft.g.length),Rt=[],$t=0;$t<gt;$t++)Rt[$t]=this.i($t)^Ft.i($t);return new E(Rt,this.h^Ft.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Ar=Gi.Md5=o,E.prototype.add=E.prototype.add,E.prototype.multiply=E.prototype.j,E.prototype.modulo=E.prototype.A,E.prototype.compare=E.prototype.l,E.prototype.toNumber=E.prototype.m,E.prototype.toString=E.prototype.toString,E.prototype.getBits=E.prototype.i,E.fromNumber=q,E.fromString=function ge(Ft,gt){if(0==Ft.length)throw Error("number format error: empty string");if(2>(gt=gt||10)||36<gt)throw Error("radix out of range: "+gt);if("-"==Ft.charAt(0))return Ln(ge(Ft.substring(1),gt));if(0<=Ft.indexOf("-"))throw Error('number format error: interior "-" character');for(var Rt=q(Math.pow(gt,8)),$t=Be,Kt=0;Kt<Ft.length;Kt+=8){var rn=Math.min(8,Ft.length-Kt),St=parseInt(Ft.substring(Kt,Kt+rn),gt);8>rn?(rn=q(Math.pow(gt,rn)),$t=$t.j(rn).add(q(St))):$t=($t=$t.j(Rt)).add(q(St))}return $t},Ur=Gi.Integer=E}).apply(typeof Oi<"u"?Oi:typeof self<"u"?self:typeof window<"u"?window:{});var $i,ae,_e,ie,J,Ve,pt,an,wi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ti={};(function(){var a,t="function"==typeof Object.defineProperties?Object.defineProperty:function(I,j,oe){return I==Array.prototype||I==Object.prototype||(I[j]=oe.value),I},o=function r(I){I=["object"==typeof globalThis&&globalThis,I,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof wi&&wi];for(var j=0;j<I.length;++j){var oe=I[j];if(oe&&oe.Math==Math)return oe}throw Error("Cannot find global object")}(this);!function u(I,j){if(j)e:{var oe=o;I=I.split(".");for(var ke=0;ke<I.length-1;ke++){var Yt=I[ke];if(!(Yt in oe))break e;oe=oe[Yt]}(j=j(ke=oe[I=I[I.length-1]]))!=ke&&null!=j&&t(oe,I,{configurable:!0,writable:!0,value:j})}}("Array.prototype.values",function(I){return I||function(){return function m(I,j){I instanceof String&&(I+="");var oe=0,ke=!1,Yt={next:function(){if(!ke&&oe<I.length){var mn=oe++;return{value:j(mn,I[mn]),done:!1}}return ke=!0,{done:!0,value:void 0}}};return Yt[Symbol.iterator]=function(){return Yt},Yt}(this,function(j,oe){return oe})}});var E=E||{},P=this||self;function k(I){var j=typeof I;return"array"==(j="object"!=j?j:I?Array.isArray(I)?"array":j:"null")||"object"==j&&"number"==typeof I.length}function q(I){var j=typeof I;return"object"==j&&null!=I||"function"==j}function ge(I,j,oe){return I.call.apply(I.bind,arguments)}function Be(I,j,oe){if(!I)throw Error();if(2<arguments.length){var ke=Array.prototype.slice.call(arguments,2);return function(){var Yt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Yt,ke),I.apply(j,Yt)}}return function(){return I.apply(j,arguments)}}function It(I,j,oe){return(It=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ge:Be).apply(null,arguments)}function nn(I,j){var oe=Array.prototype.slice.call(arguments,1);return function(){var ke=oe.slice();return ke.push.apply(ke,arguments),I.apply(this,ke)}}function An(I,j){function oe(){}oe.prototype=j.prototype,I.aa=j.prototype,I.prototype=new oe,I.prototype.constructor=I,I.Qb=function(ke,Yt,mn){for(var cr=Array(arguments.length-2),Is=2;Is<arguments.length;Is++)cr[Is-2]=arguments[Is];return j.prototype[Yt].apply(ke,cr)}}function $n(I){const j=I.length;if(0<j){const oe=Array(j);for(let ke=0;ke<j;ke++)oe[ke]=I[ke];return oe}return[]}function Ln(I,j){for(let oe=1;oe<arguments.length;oe++){const ke=arguments[oe];if(k(ke)){const Yt=I.length||0,mn=ke.length||0;I.length=Yt+mn;for(let cr=0;cr<mn;cr++)I[Yt+cr]=ke[cr]}else I.push(ke)}}function Kr(I){return/^[\s\xa0]*$/.test(I)}function Mr(){var I=P.navigator;return I&&(I=I.userAgent)?I:""}function ri(I){return ri[" "](I),I}ri[" "]=function(){};var xi=!(-1==Mr().indexOf("Gecko")||-1!=Mr().toLowerCase().indexOf("webkit")&&-1==Mr().indexOf("Edge")||-1!=Mr().indexOf("Trident")||-1!=Mr().indexOf("MSIE")||-1!=Mr().indexOf("Edge"));function Ni(I,j,oe){for(const ke in I)j.call(oe,I[ke],ke,I)}function gt(I){const j={};for(const oe in I)j[oe]=I[oe];return j}const Rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $t(I,j){let oe,ke;for(let Yt=1;Yt<arguments.length;Yt++){for(oe in ke=arguments[Yt],ke)I[oe]=ke[oe];for(let mn=0;mn<Rt.length;mn++)oe=Rt[mn],Object.prototype.hasOwnProperty.call(ke,oe)&&(I[oe]=ke[oe])}}function Kt(I){var j=1;I=I.split(":");const oe=[];for(;0<j&&I.length;)oe.push(I.shift()),j--;return I.length&&oe.push(I.join(":")),oe}function rn(I){P.setTimeout(()=>{throw I},0)}function St(){var I=Gv;let j=null;return I.g&&(j=I.g,I.g=I.g.next,I.g||(I.h=null),j.next=null),j}var Of=new class Sr{constructor(j,oe){this.i=j,this.j=oe,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}(()=>new zv,I=>I.reset());class zv{constructor(){this.next=this.g=this.h=null}set(j,oe){this.h=j,this.g=oe,this.next=null}reset(){this.next=this.g=this.h=null}}let kp,Lp=!1,Gv=new class _u{constructor(){this.h=this.g=null}add(j,oe){const ke=Of.get();ke.set(j,oe),this.h?this.h.next=ke:this.g=ke,this.h=ke}},uE=()=>{const I=P.Promise.resolve(void 0);kp=()=>{I.then(P0)}};var P0=()=>{for(var I;I=St();){try{I.h.call(I.g)}catch(oe){rn(oe)}var j=Of;j.j(I),100>j.h&&(j.h++,I.next=j.g,j.g=I)}Lp=!1};function $d(){this.s=this.s,this.C=this.C}function da(I,j){this.type=I,this.g=this.target=j,this.defaultPrevented=!1}$d.prototype.s=!1,$d.prototype.ma=function(){this.s||(this.s=!0,this.N())},$d.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},da.prototype.h=function(){this.defaultPrevented=!0};var M0=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var I=!1,j=Object.defineProperty({},"passive",{get:function(){I=!0}});try{const oe=()=>{};P.addEventListener("test",oe,j),P.removeEventListener("test",oe,j)}catch{}return I}();function Fp(I,j){if(da.call(this,I?I.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,I){var oe=this.type=I.type,ke=I.changedTouches&&I.changedTouches.length?I.changedTouches[0]:null;if(this.target=I.target||I.srcElement,this.g=j,j=I.relatedTarget){if(xi){e:{try{ri(j.nodeName);var Yt=!0;break e}catch{}Yt=!1}Yt||(j=null)}}else"mouseover"==oe?j=I.fromElement:"mouseout"==oe&&(j=I.toElement);this.relatedTarget=j,ke?(this.clientX=void 0!==ke.clientX?ke.clientX:ke.pageX,this.clientY=void 0!==ke.clientY?ke.clientY:ke.pageY,this.screenX=ke.screenX||0,this.screenY=ke.screenY||0):(this.clientX=void 0!==I.clientX?I.clientX:I.pageX,this.clientY=void 0!==I.clientY?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0),this.button=I.button,this.key=I.key||"",this.ctrlKey=I.ctrlKey,this.altKey=I.altKey,this.shiftKey=I.shiftKey,this.metaKey=I.metaKey,this.pointerId=I.pointerId||0,this.pointerType="string"==typeof I.pointerType?I.pointerType:x0[I.pointerType]||"",this.state=I.state,this.i=I,I.defaultPrevented&&Fp.aa.h.call(this)}}An(Fp,da);var x0={2:"touch",3:"pen",4:"mouse"};Fp.prototype.h=function(){Fp.aa.h.call(this);var I=this.i;I.preventDefault?I.preventDefault():I.returnValue=!1};var qc="closure_listenable_"+(1e6*Math.random()|0),Vp=0;function Kv(I,j,oe,ke,Yt){this.listener=I,this.proxy=null,this.src=j,this.type=oe,this.capture=!!ke,this.ha=Yt,this.key=++Vp,this.da=this.fa=!1}function kf(I){I.da=!0,I.listener=null,I.proxy=null,I.src=null,I.ha=null}function Qg(I){this.src=I,this.g={},this.h=0}function jd(I,j){var oe=j.type;if(oe in I.g){var mn,ke=I.g[oe],Yt=Array.prototype.indexOf.call(ke,j,void 0);(mn=0<=Yt)&&Array.prototype.splice.call(ke,Yt,1),mn&&(kf(j),0==I.g[oe].length&&(delete I.g[oe],I.h--))}}function Yg(I,j,oe,ke){for(var Yt=0;Yt<I.length;++Yt){var mn=I[Yt];if(!mn.da&&mn.listener==j&&mn.capture==!!oe&&mn.ha==ke)return Yt}return-1}Qg.prototype.add=function(I,j,oe,ke,Yt){var mn=I.toString();(I=this.g[mn])||(I=this.g[mn]=[],this.h++);var cr=Yg(I,j,ke,Yt);return-1<cr?(j=I[cr],oe||(j.fa=!1)):((j=new Kv(j,this.src,mn,!!ke,Yt)).fa=oe,I.push(j)),j};var Xv="closure_lm_"+(1e6*Math.random()|0),qv={};function dE(I,j,oe,ke,Yt){if(ke&&ke.once)return Qv(I,j,oe,ke,Yt);if(Array.isArray(j)){for(var mn=0;mn<j.length;mn++)dE(I,j[mn],oe,ke,Yt);return null}return oe=Jv(oe),I&&I[qc]?I.K(j,oe,q(ke)?!!ke.capture:!!ke,Yt):hE(I,j,oe,!1,ke,Yt)}function hE(I,j,oe,ke,Yt,mn){if(!j)throw Error("Invalid event type");var cr=q(Yt)?!!Yt.capture:!!Yt,Is=Yv(I);if(Is||(I[Xv]=Is=new Qg(I)),(oe=Is.add(j,oe,ke,cr,mn)).proxy)return oe;if(ke=function N0(){const j=O0;return function I(oe){return j.call(I.src,I.listener,oe)}}(),oe.proxy=ke,ke.src=I,ke.listener=oe,I.addEventListener)M0||(Yt=cr),void 0===Yt&&(Yt=!1),I.addEventListener(j.toString(),ke,Yt);else if(I.attachEvent)I.attachEvent(Up(j.toString()),ke);else{if(!I.addListener||!I.removeListener)throw Error("addEventListener and attachEvent are unavailable.");I.addListener(ke)}return oe}function Qv(I,j,oe,ke,Yt){if(Array.isArray(j)){for(var mn=0;mn<j.length;mn++)Qv(I,j[mn],oe,ke,Yt);return null}return oe=Jv(oe),I&&I[qc]?I.L(j,oe,q(ke)?!!ke.capture:!!ke,Yt):hE(I,j,oe,!0,ke,Yt)}function fE(I,j,oe,ke,Yt){if(Array.isArray(j))for(var mn=0;mn<j.length;mn++)fE(I,j[mn],oe,ke,Yt);else ke=q(ke)?!!ke.capture:!!ke,oe=Jv(oe),I&&I[qc]?(I=I.i,(j=String(j).toString())in I.g&&-1<(oe=Yg(mn=I.g[j],oe,ke,Yt))&&(kf(mn[oe]),Array.prototype.splice.call(mn,oe,1),0==mn.length&&(delete I.g[j],I.h--))):I&&(I=Yv(I))&&(j=I.g[j.toString()],I=-1,j&&(I=Yg(j,oe,ke,Yt)),(oe=-1<I?j[I]:null)&&Jg(oe))}function Jg(I){if("number"!=typeof I&&I&&!I.da){var j=I.src;if(j&&j[qc])jd(j.i,I);else{var oe=I.type,ke=I.proxy;j.removeEventListener?j.removeEventListener(oe,ke,I.capture):j.detachEvent?j.detachEvent(Up(oe),ke):j.addListener&&j.removeListener&&j.removeListener(ke),(oe=Yv(j))?(jd(oe,I),0==oe.h&&(oe.src=null,j[Xv]=null)):kf(I)}}}function Up(I){return I in qv?qv[I]:qv[I]="on"+I}function O0(I,j){if(I.da)I=!0;else{j=new Fp(j,this);var oe=I.listener,ke=I.ha||I.src;I.fa&&Jg(I),I=oe.call(ke,j)}return I}function Yv(I){return(I=I[Xv])instanceof Qg?I:null}var Zg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jv(I){return"function"==typeof I?I:(I[Zg]||(I[Zg]=function(j){return I.handleEvent(j)}),I[Zg])}function ja(){$d.call(this),this.i=new Qg(this),this.M=this,this.F=null}function Ao(I,j){var oe,ke=I.F;if(ke)for(oe=[];ke;ke=ke.F)oe.push(ke);if(I=I.M,ke=j.type||j,"string"==typeof j)j=new da(j,I);else if(j instanceof da)j.target=j.target||I;else{var Yt=j;$t(j=new da(ke,I),Yt)}if(Yt=!0,oe)for(var mn=oe.length-1;0<=mn;mn--){var cr=j.g=oe[mn];Yt=Qu(cr,ke,!0,j)&&Yt}if(Yt=Qu(cr=j.g=I,ke,!0,j)&&Yt,Yt=Qu(cr,ke,!1,j)&&Yt,oe)for(mn=0;mn<oe.length;mn++)Yt=Qu(cr=j.g=oe[mn],ke,!1,j)&&Yt}function Qu(I,j,oe,ke){if(!(j=I.i.g[String(j)]))return!0;j=j.concat();for(var Yt=!0,mn=0;mn<j.length;++mn){var cr=j[mn];if(cr&&!cr.da&&cr.capture==oe){var Is=cr.listener,Ko=cr.ha||cr.src;cr.fa&&jd(I.i,cr),Yt=!1!==Is.call(Ko,ke)&&Yt}}return Yt&&!ke.defaultPrevented}function Lf(I,j,oe){if("function"==typeof I)oe&&(I=It(I,oe));else{if(!I||"function"!=typeof I.handleEvent)throw Error("Invalid listener argument");I=It(I.handleEvent,I)}return 2147483647<Number(j)?-1:P.setTimeout(I,j||0)}function k0(I){I.g=Lf(()=>{I.g=null,I.i&&(I.i=!1,k0(I))},I.l);const j=I.h;I.h=null,I.m.apply(null,j)}An(ja,$d),ja.prototype[qc]=!0,ja.prototype.removeEventListener=function(I,j,oe,ke){fE(this,I,j,oe,ke)},ja.prototype.N=function(){if(ja.aa.N.call(this),this.i){var j,I=this.i;for(j in I.g){for(var oe=I.g[j],ke=0;ke<oe.length;ke++)kf(oe[ke]);delete I.g[j],I.h--}}this.F=null},ja.prototype.K=function(I,j,oe,ke){return this.i.add(String(I),j,!1,oe,ke)},ja.prototype.L=function(I,j,oe,ke){return this.i.add(String(I),j,!0,oe,ke)};class pE extends $d{constructor(j,oe){super(),this.m=j,this.l=oe,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:k0(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nh(I){$d.call(this),this.h=I,this.g={}}An(Nh,$d);var gE=[];function Zv(I){Ni(I.g,function(j,oe){this.g.hasOwnProperty(oe)&&Jg(j)},I),I.g={}}Nh.prototype.N=function(){Nh.aa.N.call(this),Zv(this)},Nh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var e_=P.JSON.stringify,mE=P.JSON.parse,db=class{stringify(I){return P.JSON.stringify(I,void 0)}parse(I){return P.JSON.parse(I,void 0)}};function t_(){}function em(){}t_.prototype.h=null;var $p={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function n_(){da.call(this,"d")}function r_(){da.call(this,"c")}An(n_,da),An(r_,da);var Yu={},Ju=null;function Oh(){return Ju=Ju||new ja}function i_(I){da.call(this,Yu.La,I)}function Zu(I){const j=Oh();Ao(j,new i_(j))}function vE(I,j){da.call(this,Yu.STAT_EVENT,I),this.stat=j}function fl(I){const j=Oh();Ao(j,new vE(j,I))}function tm(I,j){da.call(this,Yu.Ma,I),this.size=j}function Ff(I,j){if("function"!=typeof I)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){I()},j)}function Ec(){this.g=!0}function ed(I,j,oe,ke){I.info(function(){return"XMLHTTP TEXT ("+j+"): "+function yE(I,j){if(!I.g)return j;if(!j)return null;try{var oe=JSON.parse(j);if(oe)for(I=0;I<oe.length;I++)if(Array.isArray(oe[I])){var ke=oe[I];if(!(2>ke.length)){var Yt=ke[1];if(Array.isArray(Yt)&&!(1>Yt.length)){var mn=Yt[0];if("noop"!=mn&&"stop"!=mn&&"close"!=mn)for(var cr=1;cr<Yt.length;cr++)Yt[cr]=""}}}return e_(oe)}catch{return j}}(I,oe)+(ke?" "+ke:"")})}Yu.La="serverreachability",An(i_,da),Yu.STAT_EVENT="statevent",An(vE,da),Yu.Ma="timingevent",An(tm,da),Ec.prototype.xa=function(){this.g=!1},Ec.prototype.info=function(){};var s_,nm={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function rm(){}function Hd(I,j,oe,ke){this.j=I,this.i=j,this.l=oe,this.R=ke||1,this.U=new Nh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new EE}function EE(){this.i=null,this.g="",this.h=!1}An(rm,t_),rm.prototype.g=function(){return new XMLHttpRequest},rm.prototype.i=function(){return{}},s_=new rm;var IE={},o_={};function a_(I,j,oe){I.L=1,I.v=zp(td(j)),I.m=oe,I.P=!0,TE(I,null)}function TE(I,j){I.F=Date.now(),im(I),I.A=td(I.v);var oe=I.A,ke=I.R;Array.isArray(ke)||(ke=[String(ke)]),v_(oe.i,"t",ke),I.C=0,oe=I.j.J,I.h=new EE,I.g=LE(I.j,oe?j:null,!I.m),0<I.O&&(I.M=new pE(It(I.Y,I,I.g),I.O)),j=I.U,oe=I.g,ke=I.ca;var Yt="readystatechange";Array.isArray(Yt)||(Yt&&(gE[0]=Yt.toString()),Yt=gE);for(var mn=0;mn<Yt.length;mn++){var cr=dE(oe,Yt[mn],ke||j.handleEvent,!1,j.h||j);if(!cr)break;j.g[cr.key]=cr}j=I.H?gt(I.H):{},I.m?(I.u||(I.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",I.g.ea(I.A,I.u,I.m,j)):(I.u="GET",I.g.ea(I.A,I.u,null,j)),Zu(),function jp(I,j,oe,ke,Yt,mn){I.info(function(){if(I.g)if(mn)for(var cr="",Is=mn.split("&"),Ko=0;Ko<Is.length;Ko++){var ss=Is[Ko].split("=");if(1<ss.length){var Ha=ss[0];ss=ss[1];var pl=Ha.split("_");cr=2<=pl.length&&"type"==pl[1]?cr+(Ha+"=")+ss+"&":cr+(Ha+"=redacted&")}}else cr=null;else cr=mn;return"XMLHTTP REQ ("+ke+") [attempt "+Yt+"]: "+j+"\n"+oe+"\n"+cr})}(I.i,I.u,I.A,I.l,I.R,I.m)}function Hp(I){return!!I.g&&"GET"==I.u&&2!=I.L&&I.j.Ca}function L0(I,j){var oe=I.C,ke=j.indexOf("\n",oe);return-1==ke?o_:(oe=Number(j.substring(oe,ke)),isNaN(oe)?IE:(ke+=1)+oe>j.length?o_:(j=j.slice(ke,ke+oe),I.C=ke+oe,j))}function im(I){I.S=Date.now()+I.I,l_(I,I.I)}function l_(I,j){if(null!=I.B)throw Error("WatchDog timer not null");I.B=Ff(It(I.ba,I),j)}function sm(I){I.B&&(P.clearTimeout(I.B),I.B=null)}function kh(I){0==I.j.G||I.J||kE(I.j,I)}function Wd(I){sm(I);var j=I.M;j&&"function"==typeof j.ma&&j.ma(),I.M=null,Zv(I.U),I.g&&(j=I.g,I.g=null,j.abort(),j.ma())}function c_(I,j){try{var oe=I.j;if(0!=oe.G&&(oe.g==I||h_(oe.h,I)))if(!I.K&&h_(oe.h,I)&&3==oe.G){try{var ke=oe.Da.g.parse(j)}catch{ke=null}if(Array.isArray(ke)&&3==ke.length){var Yt=ke;if(0==Yt[0]){e:if(!oe.u){if(oe.g){if(!(oe.g.F+3e3<I.F))break e;qp(oe),id(oe)}w_(oe),fl(18)}}else oe.za=Yt[1],0<oe.za-oe.T&&37500>Yt[2]&&oe.F&&0==oe.v&&!oe.C&&(oe.C=Ff(It(oe.Za,oe),6e3));if(1>=d_(oe.h)&&oe.ca){try{oe.ca()}catch{}oe.ca=void 0}}else jf(oe,11)}else if((I.K||oe.g==I)&&qp(oe),!Kr(j))for(Yt=oe.Da.g.parse(j),j=0;j<Yt.length;j++){let ss=Yt[j];if(oe.T=ss[0],ss=ss[1],2==oe.G)if("c"==ss[0]){oe.K=ss[1],oe.ia=ss[2];const Ha=ss[3];null!=Ha&&(oe.la=Ha,oe.j.info("VER="+oe.la));const pl=ss[4];null!=pl&&(oe.Aa=pl,oe.j.info("SVER="+oe.Aa));const Vh=ss[5];null!=Vh&&"number"==typeof Vh&&0<Vh&&(oe.L=ke=1.5*Vh,oe.j.info("backChannelRequestTimeoutMs_="+ke)),ke=oe;const Ic=I.g;if(Ic){const yu=Ic.g?Ic.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yu){var mn=ke.h;mn.g||-1==yu.indexOf("spdy")&&-1==yu.indexOf("quic")&&-1==yu.indexOf("h2")||(mn.j=mn.l,mn.g=new Set,mn.h&&(f_(mn,mn.h),mn.h=null))}if(ke.D){const mm=Ic.g?Ic.g.getResponseHeader("X-HTTP-Session-Id"):null;mm&&(ke.ya=mm,Rs(ke.I,ke.D,mm))}}oe.G=3,oe.l&&oe.l.ua(),oe.ba&&(oe.R=Date.now()-I.F,oe.j.info("Handshake RTT: "+oe.R+"ms"));var cr=I;if((ke=oe).qa=Q0(ke,ke.J?ke.ia:null,ke.W),cr.K){wE(ke.h,cr);var Is=cr,Ko=ke.L;Ko&&(Is.I=Ko),Is.B&&(sm(Is),im(Is)),ke.g=cr}else OE(ke);0<oe.i.length&&gm(oe)}else"stop"!=ss[0]&&"close"!=ss[0]||jf(oe,7);else 3==oe.G&&("stop"==ss[0]||"close"==ss[0]?"stop"==ss[0]?jf(oe,7):T_(oe):"noop"!=ss[0]&&oe.l&&oe.l.ta(ss),oe.v=0)}Zu()}catch{}}Hd.prototype.ca=function(I){I=I.target;const j=this.M;j&&3==zd(I)?j.j():this.Y(I)},Hd.prototype.Y=function(I){try{if(I==this.g)e:{const pl=zd(this.g);var j=this.g.Ba();if(this.g.Z(),!(3>pl)&&(3!=pl||this.g&&(this.h.h||this.g.oa()||K0(this.g)))){this.J||4!=pl||7==j||Zu(),sm(this);var oe=this.g.Z();this.X=oe;t:if(Hp(this)){var ke=K0(this.g);I="";var Yt=ke.length,mn=4==zd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wd(this),kh(this);var cr="";break t}this.h.i=new P.TextDecoder}for(j=0;j<Yt;j++)this.h.h=!0,I+=this.h.i.decode(ke[j],{stream:!(mn&&j==Yt-1)});ke.length=0,this.h.g+=I,this.C=0,cr=this.h.g}else cr=this.g.oa();if(this.o=200==oe,function hb(I,j,oe,ke,Yt,mn,cr){I.info(function(){return"XMLHTTP RESP ("+ke+") [ attempt "+Yt+"]: "+j+"\n"+oe+"\n"+mn+" "+cr})}(this.i,this.u,this.A,this.l,this.R,pl,oe),this.o){if(this.T&&!this.K){t:{if(this.g){var Is,Ko=this.g;if((Is=Ko.g?Ko.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kr(Is)){var ss=Is;break t}}ss=null}if(!(oe=ss)){this.o=!1,this.s=3,fl(12),Wd(this),kh(this);break e}ed(this.i,this.l,oe,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,c_(this,oe)}if(this.P){let Ic;for(oe=!0;!this.J&&this.C<cr.length;){if(Ic=L0(this,cr),Ic==o_){4==pl&&(this.s=4,fl(14),oe=!1),ed(this.i,this.l,null,"[Incomplete Response]");break}if(Ic==IE){this.s=4,fl(15),ed(this.i,this.l,cr,"[Invalid Chunk]"),oe=!1;break}ed(this.i,this.l,Ic,null),c_(this,Ic)}if(Hp(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=pl||0!=cr.length||this.h.h||(this.s=1,fl(16),oe=!1),this.o=this.o&&oe,oe){if(0<cr.length&&!this.W){this.W=!0;var Ha=this.j;Ha.g==this&&Ha.ba&&!Ha.M&&(Ha.j.info("Great, no buffering proxy detected. Bytes received: "+cr.length),b_(Ha),Ha.M=!0,fl(11))}}else ed(this.i,this.l,cr,"[Invalid Chunked Response]"),Wd(this),kh(this)}else ed(this.i,this.l,cr,null),c_(this,cr);4==pl&&Wd(this),this.o&&!this.J&&(4==pl?kE(this.j,this):(this.o=!1,im(this)))}else(function pb(I){const j={};I=(I.g&&2<=zd(I)&&I.g.getAllResponseHeaders()||"").split("\r\n");for(let ke=0;ke<I.length;ke++){if(Kr(I[ke]))continue;var oe=Kt(I[ke]);const Yt=oe[0];if("string"!=typeof(oe=oe[1]))continue;oe=oe.trim();const mn=j[Yt]||[];j[Yt]=mn,mn.push(oe)}!function Ft(I,j){for(const oe in I)j.call(void 0,I[oe],oe,I)}(j,function(ke){return ke.join(", ")})})(this.g),400==oe&&0<cr.indexOf("Unknown SID")?(this.s=3,fl(12)):(this.s=0,fl(13)),Wd(this),kh(this)}}}catch{}},Hd.prototype.cancel=function(){this.J=!0,Wd(this)},Hd.prototype.ba=function(){this.B=null;const I=Date.now();0<=I-this.S?(function _E(I,j){I.info(function(){return"TIMEOUT: "+j})}(this.i,this.A),2!=this.L&&(Zu(),fl(17)),Wd(this),this.s=2,kh(this)):l_(this,this.S-I)};var CE=class{constructor(I,j){this.g=I,this.map=j}};function om(I){this.l=I||10,I=P.PerformanceNavigationTiming?0<(I=P.performance.getEntriesByType("navigation")).length&&("hq"==I[0].nextHopProtocol||"h2"==I[0].nextHopProtocol):!!(P.chrome&&P.chrome.loadTimes&&P.chrome.loadTimes()&&P.chrome.loadTimes().wasFetchedViaSpdy),this.j=I?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function u_(I){return!!I.h||!!I.g&&I.g.size>=I.j}function d_(I){return I.h?1:I.g?I.g.size:0}function h_(I,j){return I.h?I.h==j:!!I.g&&I.g.has(j)}function f_(I,j){I.g?I.g.add(j):I.h=j}function wE(I,j){I.h&&I.h==j?I.h=null:I.g&&I.g.has(j)&&I.g.delete(j)}function am(I){if(null!=I.h)return I.i.concat(I.h.D);if(null!=I.g&&0!==I.g.size){let j=I.i;for(const oe of I.g.values())j=j.concat(oe.D);return j}return $n(I.i)}function lm(I,j){if(I.forEach&&"function"==typeof I.forEach)I.forEach(j,void 0);else if(k(I)||"string"==typeof I)Array.prototype.forEach.call(I,j,void 0);else for(var oe=function bE(I){if(I.na&&"function"==typeof I.na)return I.na();if(!I.V||"function"!=typeof I.V){if(typeof Map<"u"&&I instanceof Map)return Array.from(I.keys());if(!(typeof Set<"u"&&I instanceof Set)){if(k(I)||"string"==typeof I){var j=[];I=I.length;for(var oe=0;oe<I;oe++)j.push(oe);return j}j=[],oe=0;for(const ke in I)j[oe++]=ke;return j}}}(I),ke=function p_(I){if(I.V&&"function"==typeof I.V)return I.V();if(typeof Map<"u"&&I instanceof Map||typeof Set<"u"&&I instanceof Set)return Array.from(I.values());if("string"==typeof I)return I.split("");if(k(I)){for(var j=[],oe=I.length,ke=0;ke<oe;ke++)j.push(I[ke]);return j}for(ke in j=[],oe=0,I)j[oe++]=I[ke];return j}(I),Yt=ke.length,mn=0;mn<Yt;mn++)j.call(void 0,ke[mn],oe&&oe[mn],I)}om.prototype.cancel=function(){if(this.i=am(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const I of this.g.values())I.cancel();this.g.clear()}};var cm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lh(I){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,I instanceof Lh){this.h=I.h,um(this,I.j),this.o=I.o,this.g=I.g,Wp(this,I.s),this.l=I.l;var j=I.i,oe=new Go;oe.i=j.i,j.g&&(oe.g=new Map(j.g),oe.h=j.h),dm(this,oe),this.m=I.m}else I&&(j=String(I).match(cm))?(this.h=!1,um(this,j[1]||"",!0),this.o=Uf(j[2]||""),this.g=Uf(j[3]||"",!0),Wp(this,j[4]),this.l=Uf(j[5]||"",!0),dm(this,j[6]||"",!0),this.m=Uf(j[7]||"")):(this.h=!1,this.i=new Go(null,this.h))}function td(I){return new Lh(I)}function um(I,j,oe){I.j=oe?Uf(j,!0):j,I.j&&(I.j=I.j.replace(/:$/,""))}function Wp(I,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);I.s=j}else I.s=null}function dm(I,j,oe){j instanceof Go?(I.i=j,function SE(I,j){j&&!I.j&&(nd(I),I.i=null,I.g.forEach(function(oe,ke){var Yt=ke.toLowerCase();ke!=Yt&&(B0(this,ke),v_(this,Yt,oe))},I)),I.j=j}(I.i,I.h)):(oe||(j=Bf(j,AE)),I.i=new Go(j,I.h))}function Rs(I,j,oe){I.i.set(j,oe)}function zp(I){return Rs(I,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),I}function Uf(I,j){return I?j?decodeURI(I.replace(/%25/g,"%2525")):decodeURIComponent(I):""}function Bf(I,j,oe){return"string"==typeof I?(I=encodeURI(I).replace(j,V0),oe&&(I=I.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I):null}function V0(I){return"%"+((I=I.charCodeAt(0))>>4&15).toString(16)+(15&I).toString(16)}Lh.prototype.toString=function(){var I=[],j=this.j;j&&I.push(Bf(j,g_,!0),":");var oe=this.g;return(oe||"file"==j)&&(I.push("//"),(j=this.o)&&I.push(Bf(j,g_,!0),"@"),I.push(encodeURIComponent(String(oe)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(oe=this.s)&&I.push(":",String(oe))),(oe=this.l)&&(this.g&&"/"!=oe.charAt(0)&&I.push("/"),I.push(Bf(oe,"/"==oe.charAt(0)?m_:U0,!0))),(oe=this.i.toString())&&I.push("?",oe),(oe=this.m)&&I.push("#",Bf(oe,DE)),I.join("")};var g_=/[#\/\?@]/g,U0=/[#\?:]/g,m_=/[#\?]/g,AE=/[#\?@]/g,DE=/#/g;function Go(I,j){this.h=this.g=null,this.i=I||null,this.j=!!j}function nd(I){I.g||(I.g=new Map,I.h=0,I.i&&function F0(I,j){if(I){I=I.split("&");for(var oe=0;oe<I.length;oe++){var ke=I[oe].indexOf("="),Yt=null;if(0<=ke){var mn=I[oe].substring(0,ke);Yt=I[oe].substring(ke+1)}else mn=I[oe];j(mn,Yt?decodeURIComponent(Yt.replace(/\+/g," ")):"")}}}(I.i,function(j,oe){I.add(decodeURIComponent(j.replace(/\+/g," ")),oe)}))}function B0(I,j){nd(I),j=Fh(I,j),I.g.has(j)&&(I.i=null,I.h-=I.g.get(j).length,I.g.delete(j))}function $0(I,j){return nd(I),j=Fh(I,j),I.g.has(j)}function v_(I,j,oe){B0(I,j),0<oe.length&&(I.i=null,I.g.set(Fh(I,j),$n(oe)),I.h+=oe.length)}function Fh(I,j){return j=String(j),I.j&&(j=j.toLowerCase()),j}function rd(I,j,oe,ke,Yt){try{Yt&&(Yt.onload=null,Yt.onerror=null,Yt.onabort=null,Yt.ontimeout=null),ke(oe)}catch{}}function PE(){this.g=new db}function ME(I,j,oe){const ke=oe||"";try{lm(I,function(Yt,mn){let cr=Yt;q(Yt)&&(cr=e_(Yt)),j.push(ke+mn+"="+encodeURIComponent(cr))})}catch(Yt){throw j.push(ke+"type="+encodeURIComponent("_badmap")),Yt}}function Gp(I){this.l=I.Ub||null,this.j=I.eb||!1}function y_(I,j){ja.call(this),this.D=I,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function j0(I){I.j.read().then(I.Pa.bind(I)).catch(I.ga.bind(I))}function hm(I){I.readyState=4,I.l=null,I.j=null,I.v=null,fm(I)}function fm(I){I.onreadystatechange&&I.onreadystatechange.call(I)}function H0(I){let j="";return Ni(I,function(oe,ke){j+=ke,j+=":",j+=oe,j+="\r\n"}),j}function xE(I,j,oe){e:{for(ke in oe){var ke=!1;break e}ke=!0}ke||(oe=H0(oe),"string"==typeof I?null!=oe&&encodeURIComponent(String(oe)):Rs(I,j,oe))}function Do(I){ja.call(this),this.headers=new Map,this.o=I||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=Go.prototype).add=function(I,j){nd(this),this.i=null,I=Fh(this,I);var oe=this.g.get(I);return oe||this.g.set(I,oe=[]),oe.push(j),this.h+=1,this},a.forEach=function(I,j){nd(this),this.g.forEach(function(oe,ke){oe.forEach(function(Yt){I.call(j,Yt,ke,this)},this)},this)},a.na=function(){nd(this);const I=Array.from(this.g.values()),j=Array.from(this.g.keys()),oe=[];for(let ke=0;ke<j.length;ke++){const Yt=I[ke];for(let mn=0;mn<Yt.length;mn++)oe.push(j[ke])}return oe},a.V=function(I){nd(this);let j=[];if("string"==typeof I)$0(this,I)&&(j=j.concat(this.g.get(Fh(this,I))));else{I=Array.from(this.g.values());for(let oe=0;oe<I.length;oe++)j=j.concat(I[oe])}return j},a.set=function(I,j){return nd(this),this.i=null,$0(this,I=Fh(this,I))&&(this.h-=this.g.get(I).length),this.g.set(I,[j]),this.h+=1,this},a.get=function(I,j){return I&&0<(I=this.V(I)).length?String(I[0]):j},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const I=[],j=Array.from(this.g.keys());for(var oe=0;oe<j.length;oe++){var ke=j[oe];const mn=encodeURIComponent(String(ke)),cr=this.V(ke);for(ke=0;ke<cr.length;ke++){var Yt=mn;""!==cr[ke]&&(Yt+="="+encodeURIComponent(String(cr[ke]))),I.push(Yt)}}return this.i=I.join("&")},An(Gp,t_),Gp.prototype.g=function(){return new y_(this.l,this.j)},Gp.prototype.i=function(I){return function(){return I}}({}),An(y_,ja),(a=y_.prototype).open=function(I,j){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=I,this.A=j,this.readyState=1,fm(this)},a.send=function(I){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};I&&(j.body=I),(this.D||P).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hm(this)),this.readyState=0},a.Sa=function(I){if(this.g&&(this.l=I,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=I.headers,this.readyState=2,fm(this)),this.g&&(this.readyState=3,fm(this),this.g)))if("arraybuffer"===this.responseType)I.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in I){if(this.j=I.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;j0(this)}else I.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(I){if(this.g){if(this.o&&I.value)this.response.push(I.value);else if(!this.o){var j=I.value?I.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!I.done}))&&(this.response=this.responseText+=j)}I.done?hm(this):fm(this),3==this.readyState&&j0(this)}},a.Ra=function(I){this.g&&(this.response=this.responseText=I,hm(this))},a.Qa=function(I){this.g&&(this.response=I,hm(this))},a.ga=function(){this.g&&hm(this)},a.setRequestHeader=function(I,j){this.u.append(I,j)},a.getResponseHeader=function(I){return this.h&&this.h.get(I.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const I=[],j=this.h.entries();for(var oe=j.next();!oe.done;)I.push((oe=oe.value)[0]+": "+oe[1]),oe=j.next();return I.join("\r\n")},Object.defineProperty(y_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(I){this.m=I?"include":"same-origin"}}),An(Do,ja);var fb=/^https?$/i,NE=["POST","PUT"];function E_(I,j){I.h=!1,I.g&&(I.j=!0,I.g.abort(),I.j=!1),I.l=j,I.m=5,W0(I),I_(I)}function W0(I){I.A||(I.A=!0,Ao(I,"complete"),Ao(I,"error"))}function z0(I){if(I.h&&typeof E<"u"&&(!I.v[1]||4!=zd(I)||2!=I.Z()))if(I.u&&4==zd(I))Lf(I.Ea,0,I);else if(Ao(I,"readystatechange"),4==zd(I)){I.h=!1;try{const cr=I.Z();e:switch(cr){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var oe;if(!(oe=j)){var ke;if(ke=0===cr){var Yt=String(I.D).match(cm)[1]||null;!Yt&&P.self&&P.self.location&&(Yt=P.self.location.protocol.slice(0,-1)),ke=!fb.test(Yt?Yt.toLowerCase():"")}oe=ke}if(oe)Ao(I,"complete"),Ao(I,"success");else{I.m=6;try{var mn=2<zd(I)?I.g.statusText:""}catch{mn=""}I.l=mn+" ["+I.Z()+"]",W0(I)}}finally{I_(I)}}}function I_(I,j){if(I.g){G0(I);const oe=I.g,ke=I.v[0]?()=>{}:null;I.g=null,I.v=null,j||Ao(I,"ready");try{oe.onreadystatechange=ke}catch{}}}function G0(I){I.I&&(P.clearTimeout(I.I),I.I=null)}function zd(I){return I.g?I.g.readyState:0}function K0(I){try{if(!I.g)return null;if("response"in I.g)return I.g.response;switch(I.H){case"":case"text":return I.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in I.g)return I.g.mozResponseArrayBuffer}return null}catch{return null}}function pm(I,j,oe){return oe&&oe.internalChannelParams&&oe.internalChannelParams[I]||j}function X0(I){this.Aa=0,this.i=[],this.j=new Ec,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pm("failFast",!1,I),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pm("baseRetryDelayMs",5e3,I),this.cb=pm("retryDelaySeedMs",1e4,I),this.Wa=pm("forwardChannelMaxRetries",2,I),this.wa=pm("forwardChannelRequestTimeoutMs",2e4,I),this.pa=I&&I.xmlHttpFactory||void 0,this.Xa=I&&I.Tb||void 0,this.Ca=I&&I.useFetchStreams||!1,this.L=void 0,this.J=I&&I.supportsCrossDomainXhr||!1,this.K="",this.h=new om(I&&I.concurrentRequestLimit),this.Da=new PE,this.P=I&&I.fastHandshake||!1,this.O=I&&I.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=I&&I.Rb||!1,I&&I.xa&&this.j.xa(),I&&I.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&I&&I.detectBufferingProxy||!1,this.ja=void 0,I&&I.longPollingTimeout&&0<I.longPollingTimeout&&(this.ja=I.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function T_(I){if($f(I),3==I.G){var j=I.U++,oe=td(I.I);if(Rs(oe,"SID",I.K),Rs(oe,"RID",j),Rs(oe,"TYPE","terminate"),Kp(I,oe),(j=new Hd(I,I.j,j)).L=2,j.v=zp(td(oe)),oe=!1,P.navigator&&P.navigator.sendBeacon)try{oe=P.navigator.sendBeacon(j.v.toString(),"")}catch{}!oe&&P.Image&&((new Image).src=j.v,oe=!0),oe||(j.g=LE(j.j,null),j.g.ea(j.v)),j.F=Date.now(),im(j)}D_(I)}function id(I){I.g&&(b_(I),I.g.cancel(),I.g=null)}function $f(I){id(I),I.u&&(P.clearTimeout(I.u),I.u=null),qp(I),I.h.cancel(),I.s&&("number"==typeof I.s&&P.clearTimeout(I.s),I.s=null)}function gm(I){if(!u_(I.h)&&!I.s){I.s=!0;var j=I.Ga;kp||uE(),Lp||(kp(),Lp=!0),Gv.add(j,I),I.B=0}}function C_(I,j){var oe;oe=j?j.l:I.U++;const ke=td(I.I);Rs(ke,"SID",I.K),Rs(ke,"RID",oe),Rs(ke,"AID",I.T),Kp(I,ke),I.m&&I.o&&xE(ke,I.m,I.o),oe=new Hd(I,I.j,oe,I.B+1),null===I.m&&(oe.H=I.o),j&&(I.i=j.D.concat(I.i)),j=q0(I,oe,1e3),oe.I=Math.round(.5*I.wa)+Math.round(.5*I.wa*Math.random()),f_(I.h,oe),a_(oe,ke,j)}function Kp(I,j){I.H&&Ni(I.H,function(oe,ke){Rs(j,ke,oe)}),I.l&&lm({},function(oe,ke){Rs(j,ke,oe)})}function q0(I,j,oe){oe=Math.min(I.i.length,oe);var ke=I.l?It(I.l.Na,I.l,I):null;e:{var Yt=I.i;let mn=-1;for(;;){const cr=["count="+oe];-1==mn?0<oe?(mn=Yt[0].g,cr.push("ofs="+mn)):mn=0:cr.push("ofs="+mn);let Is=!0;for(let Ko=0;Ko<oe;Ko++){let ss=Yt[Ko].g;const Ha=Yt[Ko].map;if(ss-=mn,0>ss)mn=Math.max(0,Yt[Ko].g-100),Is=!1;else try{ME(Ha,cr,"req"+ss+"_")}catch{ke&&ke(Ha)}}if(Is){ke=cr.join("&");break e}}}return I=I.i.splice(0,oe),j.D=I,ke}function OE(I){if(!I.g&&!I.u){I.Y=1;var j=I.Fa;kp||uE(),Lp||(kp(),Lp=!0),Gv.add(j,I),I.v=0}}function w_(I){return!(I.g||I.u||3<=I.v||(I.Y++,I.u=Ff(It(I.Fa,I),A_(I,I.v)),I.v++,0))}function b_(I){null!=I.A&&(P.clearTimeout(I.A),I.A=null)}function Xp(I){I.g=new Hd(I,I.j,"rpc",I.Y),null===I.m&&(I.g.H=I.o),I.g.O=0;var j=td(I.qa);Rs(j,"RID","rpc"),Rs(j,"SID",I.K),Rs(j,"AID",I.T),Rs(j,"CI",I.F?"0":"1"),!I.F&&I.ja&&Rs(j,"TO",I.ja),Rs(j,"TYPE","xmlhttp"),Kp(I,j),I.m&&I.o&&xE(j,I.m,I.o),I.L&&(I.g.I=I.L);var oe=I.g;I=I.ia,oe.L=1,oe.v=zp(td(j)),oe.m=null,oe.P=!0,TE(oe,I)}function qp(I){null!=I.C&&(P.clearTimeout(I.C),I.C=null)}function kE(I,j){var oe=null;if(I.g==j){qp(I),b_(I),I.g=null;var ke=2}else{if(!h_(I.h,j))return;oe=j.D,wE(I.h,j),ke=1}if(0!=I.G)if(j.o)if(1==ke){oe=j.m?j.m.length:0,j=Date.now()-j.F;var Yt=I.B;Ao(ke=Oh(),new tm(ke,oe)),gm(I)}else OE(I);else if(3==(Yt=j.s)||0==Yt&&0<j.X||!(1==ke&&function gb(I,j){return!(d_(I.h)>=I.h.j-(I.s?1:0)||(I.s?(I.i=j.D.concat(I.i),0):1==I.G||2==I.G||I.B>=(I.Va?0:I.Wa)||(I.s=Ff(It(I.Ga,I,j),A_(I,I.B)),I.B++,0)))}(I,j)||2==ke&&w_(I)))switch(oe&&0<oe.length&&(j=I.h,j.i=j.i.concat(oe)),Yt){case 1:jf(I,5);break;case 4:jf(I,10);break;case 3:jf(I,6);break;default:jf(I,2)}}function A_(I,j){let oe=I.Ta+Math.floor(Math.random()*I.cb);return I.isActive()||(oe*=2),oe*j}function jf(I,j){if(I.j.info("Error code "+j),2==j){var oe=It(I.fb,I),ke=I.Xa;const Yt=!ke;ke=new Lh(ke||"//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||um(ke,"https"),zp(ke),Yt?function __(I,j){const oe=new Ec;if(P.Image){const ke=new Image;ke.onload=nn(rd,oe,"TestLoadImage: loaded",!0,j,ke),ke.onerror=nn(rd,oe,"TestLoadImage: error",!1,j,ke),ke.onabort=nn(rd,oe,"TestLoadImage: abort",!1,j,ke),ke.ontimeout=nn(rd,oe,"TestLoadImage: timeout",!1,j,ke),P.setTimeout(function(){ke.ontimeout&&ke.ontimeout()},1e4),ke.src=I}else j(!1)}(ke.toString(),oe):function RE(I,j){new Ec;const ke=new AbortController,Yt=setTimeout(()=>{ke.abort(),rd(0,0,!1,j)},1e4);fetch(I,{signal:ke.signal}).then(mn=>{clearTimeout(Yt),rd(0,0,!!mn.ok,j)}).catch(()=>{clearTimeout(Yt),rd(0,0,!1,j)})}(ke.toString(),oe)}else fl(2);I.G=0,I.l&&I.l.sa(j),D_(I),$f(I)}function D_(I){if(I.G=0,I.ka=[],I.l){const j=am(I.h);(0!=j.length||0!=I.i.length)&&(Ln(I.ka,j),Ln(I.ka,I.i),I.h.i.length=0,$n(I.i),I.i.length=0),I.l.ra()}}function Q0(I,j,oe){var ke=oe instanceof Lh?td(oe):new Lh(oe);if(""!=ke.g)j&&(ke.g=j+"."+ke.g),Wp(ke,ke.s);else{var Yt=P.location;ke=Yt.protocol,j=j?j+"."+Yt.hostname:Yt.hostname,Yt=+Yt.port;var mn=new Lh(null);ke&&um(mn,ke),j&&(mn.g=j),Yt&&Wp(mn,Yt),oe&&(mn.l=oe),ke=mn}return j=I.ya,(oe=I.D)&&j&&Rs(ke,oe,j),Rs(ke,"VER",I.la),Kp(I,ke),ke}function LE(I,j,oe){if(j&&!I.J)throw Error("Can't create secondary domain capable XhrIo object.");return(j=new Do(I.Ca&&!I.pa?new Gp({eb:oe}):I.pa)).Ha(I.J),j}function S_(){}function Hf(){}function Wl(I,j){ja.call(this),this.g=new X0(j),this.l=I,this.h=j&&j.messageUrlParams||null,I=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(I?I["X-Client-Protocol"]="webchannel":I={"X-Client-Protocol":"webchannel"}),this.g.o=I,I=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(I?I["X-WebChannel-Content-Type"]=j.messageContentType:I={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(I?I["X-WebChannel-Client-Profile"]=j.va:I={"X-WebChannel-Client-Profile":j.va}),this.g.S=I,(I=j&&j.Sb)&&!Kr(I)&&(this.g.m=I),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!Kr(j)&&(this.g.D=j,null!==(I=this.h)&&j in I&&j in(I=this.h)&&delete I[j]),this.j=new Wf(this)}function FE(I){n_.call(this),I.__headers__&&(this.headers=I.__headers__,this.statusCode=I.__status__,delete I.__headers__,delete I.__status__);var j=I.__sm__;if(j){e:{for(const oe in j){I=oe;break e}I=void 0}(this.i=I)&&(I=this.i,j=null!==j&&I in j?j[I]:void 0),this.data=j}else this.data=I}function Qp(){r_.call(this),this.status=1}function Wf(I){this.g=I}(a=Do.prototype).Ha=function(I){this.J=I},a.ea=function(I,j,oe,ke){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+I);j=j?j.toUpperCase():"GET",this.D=I,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():s_.g(),this.v=function Bp(I){return I.h||(I.h=I.i())}(this.o?this.o:s_),this.g.onreadystatechange=It(this.Ea,this);try{this.B=!0,this.g.open(j,String(I),!0),this.B=!1}catch(mn){return void E_(this,mn)}if(I=oe||"",oe=new Map(this.headers),ke)if(Object.getPrototypeOf(ke)===Object.prototype)for(var Yt in ke)oe.set(Yt,ke[Yt]);else{if("function"!=typeof ke.keys||"function"!=typeof ke.get)throw Error("Unknown input type for opt_headers: "+String(ke));for(const mn of ke.keys())oe.set(mn,ke.get(mn))}ke=Array.from(oe.keys()).find(mn=>"content-type"==mn.toLowerCase()),Yt=P.FormData&&I instanceof P.FormData,!(0<=Array.prototype.indexOf.call(NE,j,void 0))||ke||Yt||oe.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[mn,cr]of oe)this.g.setRequestHeader(mn,cr);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{G0(this),this.u=!0,this.g.send(I),this.u=!1}catch(mn){E_(this,mn)}},a.abort=function(I){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=I||7,Ao(this,"complete"),Ao(this,"abort"),I_(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),I_(this,!0)),Do.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?z0(this):this.bb())},a.bb=function(){z0(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<zd(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(I){if(this.g){var j=this.g.responseText;return I&&0==j.indexOf(I)&&(j=j.substring(I.length)),mE(j)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=X0.prototype).la=8,a.G=1,a.connect=function(I,j,oe,ke){fl(0),this.W=I,this.H=j||{},oe&&void 0!==ke&&(this.H.OSID=oe,this.H.OAID=ke),this.F=this.X,this.I=Q0(this,null,this.W),gm(this)},a.Ga=function(I){if(this.s)if(this.s=null,1==this.G){if(!I){this.U=Math.floor(1e5*Math.random()),I=this.U++;const Yt=new Hd(this,this.j,I);let mn=this.o;if(this.S&&(mn?(mn=gt(mn),$t(mn,this.S)):mn=this.S),null!==this.m||this.O||(Yt.H=mn,mn=null),this.P)e:{for(var j=0,oe=0;oe<this.i.length;oe++){var ke=this.i[oe];if(void 0===(ke="__data__"in ke.map&&"string"==typeof(ke=ke.map.__data__)?ke.length:void 0))break;if(4096<(j+=ke)){j=oe;break e}if(4096===j||oe===this.i.length-1){j=oe+1;break e}}j=1e3}else j=1e3;j=q0(this,Yt,j),Rs(oe=td(this.I),"RID",I),Rs(oe,"CVER",22),this.D&&Rs(oe,"X-HTTP-Session-Id",this.D),Kp(this,oe),mn&&(this.O?j="headers="+encodeURIComponent(String(H0(mn)))+"&"+j:this.m&&xE(oe,this.m,mn)),f_(this.h,Yt),this.Ua&&Rs(oe,"TYPE","init"),this.P?(Rs(oe,"$req",j),Rs(oe,"SID","null"),Yt.T=!0,a_(Yt,oe,null)):a_(Yt,oe,j),this.G=2}}else 3==this.G&&(I?C_(this,I):0==this.i.length||u_(this.h)||C_(this))},a.Fa=function(){if(this.u=null,Xp(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var I=2*this.R;this.j.info("BP detection timer enabled: "+I),this.A=Ff(It(this.ab,this),I)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fl(10),id(this),Xp(this))},a.Za=function(){null!=this.C&&(this.C=null,id(this),w_(this),fl(19))},a.fb=function(I){I?(this.j.info("Successfully pinged google.com"),fl(2)):(this.j.info("Failed to ping google.com"),fl(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=S_.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},Hf.prototype.g=function(I,j){return new Wl(I,j)},An(Wl,ja),Wl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wl.prototype.close=function(){T_(this.g)},Wl.prototype.o=function(I){var j=this.g;if("string"==typeof I){var oe={};oe.__data__=I,I=oe}else this.u&&((oe={}).__data__=e_(I),I=oe);j.i.push(new CE(j.Ya++,I)),3==j.G&&gm(j)},Wl.prototype.N=function(){this.g.l=null,delete this.j,T_(this.g),delete this.g,Wl.aa.N.call(this)},An(FE,n_),An(Qp,r_),An(Wf,S_),Wf.prototype.ua=function(){Ao(this.g,"a")},Wf.prototype.ta=function(I){Ao(this.g,new FE(I))},Wf.prototype.sa=function(I){Ao(this.g,new Qp)},Wf.prototype.ra=function(){Ao(this.g,"b")},Hf.prototype.createWebChannel=Hf.prototype.g,Wl.prototype.send=Wl.prototype.o,Wl.prototype.open=Wl.prototype.m,Wl.prototype.close=Wl.prototype.close,an=ti.createWebChannelTransport=function(){return new Hf},pt=ti.getStatEventTarget=function(){return Oh()},Ve=ti.Event=Yu,J=ti.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nm.NO_ERROR=0,nm.TIMEOUT=8,nm.HTTP_ERROR=6,ie=ti.ErrorCode=nm,Vf.COMPLETE="complete",_e=ti.EventType=Vf,em.EventType=$p,$p.OPEN="a",$p.CLOSE="b",$p.ERROR="c",$p.MESSAGE="d",ja.prototype.listen=ja.prototype.K,ae=ti.WebChannel=em,ti.FetchXmlHttpFactory=Gp,Do.prototype.listenOnce=Do.prototype.L,Do.prototype.getLastError=Do.prototype.Ka,Do.prototype.getLastErrorCode=Do.prototype.Ba,Do.prototype.getStatus=Do.prototype.Z,Do.prototype.getResponseJson=Do.prototype.Oa,Do.prototype.getResponseText=Do.prototype.oa,Do.prototype.send=Do.prototype.ea,Do.prototype.setWithCredentials=Do.prototype.Ha,$i=ti.XhrIo=Do}).apply(typeof wi<"u"?wi:typeof self<"u"?self:typeof window<"u"?window:{});const Qt="@firebase/firestore";class de{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}de.UNAUTHENTICATED=new de(null),de.GOOGLE_CREDENTIALS=new de("google-credentials-uid"),de.FIRST_PARTY=new de("first-party-uid"),de.MOCK_USER=new de("mock-user");let Ue="10.14.0";const Qe=new Wr.Vy("@firebase/firestore");function Wt(){return Qe.logLevel}function Et(a,...t){if(Qe.logLevel<=Wr.$b.DEBUG){const r=t.map(Yn);Qe.debug(`Firestore (${Ue}): ${a}`,...r)}}function _n(a,...t){if(Qe.logLevel<=Wr.$b.ERROR){const r=t.map(Yn);Qe.error(`Firestore (${Ue}): ${a}`,...r)}}function Qn(a,...t){if(Qe.logLevel<=Wr.$b.WARN){const r=t.map(Yn);Qe.warn(`Firestore (${Ue}): ${a}`,...r)}}function Yn(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function En(a="Unexpected state"){const t=`FIRESTORE (${Ue}) INTERNAL ASSERTION FAILED: `+a;throw _n(t),new Error(t)}function kn(a,t){a||En()}function Tn(a,t){return a}const Lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class on extends kr.g{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}class oi{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ts{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(de.UNAUTHENTICATED))}shutdown(){}}class he{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ye{constructor(t){this.t=t,this.currentUser=de.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){var o=this;kn(void 0===this.o);let u=this.i;const m=q=>this.i!==u?(u=this.i,r(q)):Promise.resolve();let E=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new ar,t.enqueueRetryable(()=>m(this.currentUser))};const P=()=>{const q=E;t.enqueueRetryable((0,Q.A)(function*(){yield q.promise,yield m(o.currentUser)}))},k=q=>{Et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.o&&(this.auth.addAuthTokenListener(this.o),P())};this.t.onInit(q=>k(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?k(q):(Et("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new ar)}},0),P()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==t?(Et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(kn("string"==typeof o.accessToken),new oi(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return kn(null===t||"string"==typeof t),new de(t)}}class ct{constructor(t,r,o){this.l=t,this.h=r,this.P=o,this.type="FirstParty",this.user=de.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qt{constructor(t,r,o){this.l=t,this.h=r,this.P=o}getToken(){return Promise.resolve(new ct(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(de.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wn{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zn{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){kn(void 0===this.o);const o=m=>{null!=m.error&&Et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const E=m.token!==this.R;return this.R=m.token,Et("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?r(m.token):Promise.resolve()};this.o=m=>{t.enqueueRetryable(()=>o(m))};const u=m=>{Et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(m=>u(m)),setTimeout(()=>{if(!this.appCheck){const m=this.A.getImmediate({optional:!0});m?u(m):Et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(kn("string"==typeof r.token),this.R=r.token,new wn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Cr(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let o=0;o<a;o++)r[o]=Math.floor(256*Math.random());return r}class Pn{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=Cr(40);for(let m=0;m<u.length;++m)o.length<20&&u[m]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[m]%62))}return o}}function tr(a,t){return a<t?-1:a>t?1:0}function Br(a,t,r){return a.length===t.length&&a.every((o,u)=>r(o,t[u]))}function hs(a){return a+"\0"}class Ri{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new on(Lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new on(Lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new on(Lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new on(Lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ri.fromMillis(Date.now())}static fromDate(t){return Ri.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),o=Math.floor(1e6*(t-1e3*r));return new Ri(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?tr(this.nanoseconds,t.nanoseconds):tr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mr{constructor(t){this.timestamp=t}static fromTimestamp(t){return new mr(t)}static min(){return new mr(new Ri(0,0))}static max(){return new mr(new Ri(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class So{constructor(t,r,o){void 0===r?r=0:r>t.length&&En(),void 0===o?o=t.length-r:o>t.length-r&&En(),this.segments=t,this.offset=r,this.len=o}get length(){return this.len}isEqual(t){return 0===So.comparator(this,t)}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof So?t.forEach(o=>{r.push(o)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,o=this.limit();r<o;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const o=Math.min(t.length,r.length);for(let u=0;u<o;u++){const m=t.get(u),E=r.get(u);if(m<E)return-1;if(m>E)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class ur extends So{construct(t,r,o){return new ur(t,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const o of t){if(o.indexOf("//")>=0)throw new on(Lt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new ur(r)}static emptyPath(){return new ur([])}}const zr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xr extends So{construct(t,r,o){return new Xr(t,r,o)}static isValidIdentifier(t){return zr.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xr(["__name__"])}static fromServerFormat(t){const r=[];let o="",u=0;const m=()=>{if(0===o.length)throw new on(Lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let E=!1;for(;u<t.length;){const P=t[u];if("\\"===P){if(u+1===t.length)throw new on(Lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const k=t[u+1];if("\\"!==k&&"."!==k&&"`"!==k)throw new on(Lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=k,u+=2}else"`"===P?(E=!E,u++):"."!==P||E?(o+=P,u++):(m(),u++)}if(m(),E)throw new on(Lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xr(r)}static emptyPath(){return new Xr([])}}class Wn{constructor(t){this.path=t}static fromPath(t){return new Wn(ur.fromString(t))}static fromName(t){return new Wn(ur.fromString(t).popFirst(5))}static empty(){return new Wn(ur.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ur.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,r){return ur.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Wn(new ur(t.slice()))}}class zi{constructor(t,r,o,u){this.indexId=t,this.collectionGroup=r,this.fields=o,this.indexState=u}}function fs(a){return a.fields.find(t=>2===t.kind)}function Ts(a){return a.fields.filter(t=>2!==t.kind)}zi.UNKNOWN_ID=-1;class C{constructor(t,r){this.fieldPath=t,this.kind=r}}class O{constructor(t,r){this.sequenceNumber=t,this.offset=r}static empty(){return new O(0,Fe.min())}}function S(a,t){const r=a.toTimestamp().seconds,o=a.toTimestamp().nanoseconds+1,u=mr.fromTimestamp(1e9===o?new Ri(r+1,0):new Ri(r,o));return new Fe(u,Wn.empty(),t)}function K(a){return new Fe(a.readTime,a.key,-1)}class Fe{constructor(t,r,o){this.readTime=t,this.documentKey=r,this.largestBatchId=o}static min(){return new Fe(mr.min(),Wn.empty(),-1)}static max(){return new Fe(mr.max(),Wn.empty(),-1)}}function Zt(a,t){let r=a.readTime.compareTo(t.readTime);return 0!==r?r:(r=Wn.comparator(a.documentKey,t.documentKey),0!==r?r:tr(a.largestBatchId,t.largestBatchId))}const un="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function fn(a){return jn.apply(this,arguments)}function jn(){return(jn=(0,Q.A)(function*(a){if(a.code!==Lt.FAILED_PRECONDITION||a.message!==un)throw a;Et("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&En(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new et((o,u)=>{this.nextCallback=m=>{this.wrapSuccess(t,m).next(o,u)},this.catchCallback=m=>{this.wrapFailure(r,m).next(o,u)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof et?r:et.resolve(r)}catch(r){return et.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):et.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):et.reject(r)}static resolve(t){return new et((r,o)=>{r(t)})}static reject(t){return new et((r,o)=>{o(t)})}static waitFor(t){return new et((r,o)=>{let u=0,m=0,E=!1;t.forEach(P=>{++u,P.next(()=>{++m,E&&m===u&&r()},k=>o(k))}),E=!0,m===u&&r()})}static or(t){let r=et.resolve(!1);for(const o of t)r=r.next(u=>u?et.resolve(u):o());return r}static forEach(t,r){const o=[];return t.forEach((u,m)=>{o.push(r.call(this,u,m))}),this.waitFor(o)}static mapArray(t,r){return new et((o,u)=>{const m=t.length,E=new Array(m);let P=0;for(let k=0;k<m;k++){const q=k;r(t[q]).next(ge=>{E[q]=ge,++P,P===m&&o(E)},ge=>u(ge))}})}static doWhile(t,r){return new et((o,u)=>{const m=()=>{!0===t()?r().next(()=>{m()},u):o()};m()})}}class On{constructor(t,r){this.action=t,this.transaction=r,this.aborted=!1,this.V=new ar,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new mi(t,r.error)):this.V.resolve()},this.transaction.onerror=o=>{const u=ho(o.target.error);this.V.reject(new mi(t,u))}}static open(t,r,o,u){try{return new On(r,t.transaction(u,o))}catch(m){throw new mi(r,m)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Et("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const r=this.transaction.objectStore(t);return new Ti(r)}}class lr{constructor(t,r,o){this.name=t,this.version=r,this.p=o,12.2===lr.S((0,kr.ZQ)())&&_n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Et("SimpleDb","Removing database:",t),Fi(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,kr.zW)())return!1;if(lr.v())return!0;const t=(0,kr.ZQ)(),r=lr.S(t),o=0<r&&r<10,u=Gr(t),m=0<u&&u<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||o||m)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,r){return t.store(r)}static S(t){const r=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}M(t){var r=this;return(0,Q.A)(function*(){return r.db||(Et("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,u)=>{const m=indexedDB.open(r.name,r.version);m.onsuccess=E=>{o(E.target.result)},m.onblocked=()=>{u(new mi(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=E=>{const P=E.target.error;u("VersionError"===P.name?new on(Lt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new on(Lt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new mi(t,P))},m.onupgradeneeded=E=>{Et("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',E.oldVersion),r.p.O(E.target.result,m.transaction,E.oldVersion,r.version).next(()=>{Et("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=o=>r.N(o)),r.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=r=>t(r))}runTransaction(t,r,o,u){var m=this;return(0,Q.A)(function*(){const E="readonly"===r;let P=0;for(;;){++P;try{m.db=yield m.M(t);const k=On.open(m.db,t,E?"readonly":"readwrite",o),q=u(k).next(ge=>(k.g(),ge)).catch(ge=>(k.abort(ge),et.reject(ge))).toPromise();return q.catch(()=>{}),yield k.m,q}catch(k){const q=k,ge="FirebaseError"!==q.name&&P<3;if(Et("SimpleDb","Transaction failed with error:",q.message,"Retrying:",ge),m.close(),!ge)return Promise.reject(q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Gr(a){const t=a.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Li{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return Fi(this.B.delete())}}class mi extends on{constructor(t,r){super(Lt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function qr(a){return"IndexedDbTransactionError"===a.name}class Ti{constructor(t){this.store=t}put(t,r){let o;return void 0!==r?(Et("SimpleDb","PUT",this.store.name,t,r),o=this.store.put(r,t)):(Et("SimpleDb","PUT",this.store.name,"<auto-key>",t),o=this.store.put(t)),Fi(o)}add(t){return Et("SimpleDb","ADD",this.store.name,t,t),Fi(this.store.add(t))}get(t){return Fi(this.store.get(t)).next(r=>(void 0===r&&(r=null),Et("SimpleDb","GET",this.store.name,t,r),r))}delete(t){return Et("SimpleDb","DELETE",this.store.name,t),Fi(this.store.delete(t))}count(){return Et("SimpleDb","COUNT",this.store.name),Fi(this.store.count())}U(t,r){const o=this.options(t,r),u=o.index?this.store.index(o.index):this.store;if("function"==typeof u.getAll){const m=u.getAll(o.range);return new et((E,P)=>{m.onerror=k=>{P(k.target.error)},m.onsuccess=k=>{E(k.target.result)}})}{const m=this.cursor(o),E=[];return this.W(m,(P,k)=>{E.push(k)}).next(()=>E)}}G(t,r){const o=this.store.getAll(t,null===r?void 0:r);return new et((u,m)=>{o.onerror=E=>{m(E.target.error)},o.onsuccess=E=>{u(E.target.result)}})}j(t,r){Et("SimpleDb","DELETE ALL",this.store.name);const o=this.options(t,r);o.H=!1;const u=this.cursor(o);return this.W(u,(m,E,P)=>P.delete())}J(t,r){let o;r?o=t:(o={},r=t);const u=this.cursor(o);return this.W(u,r)}Y(t){const r=this.cursor({});return new et((o,u)=>{r.onerror=m=>{const E=ho(m.target.error);u(E)},r.onsuccess=m=>{const E=m.target.result;E?t(E.primaryKey,E.value).next(P=>{P?E.continue():o()}):o()}})}W(t,r){const o=[];return new et((u,m)=>{t.onerror=E=>{m(E.target.error)},t.onsuccess=E=>{const P=E.target.result;if(!P)return void u();const k=new Li(P),q=r(P.primaryKey,P.value,k);if(q instanceof et){const ge=q.catch(Be=>(k.done(),et.reject(Be)));o.push(ge)}k.isDone?u():null===k.K?P.continue():P.continue(k.K)}}).next(()=>et.waitFor(o))}options(t,r){let o;return void 0!==t&&("string"==typeof t?o=t:r=t),{index:o,range:r}}cursor(t){let r="next";if(t.reverse&&(r="prev"),t.index){const o=this.store.index(t.index);return t.H?o.openKeyCursor(t.range,r):o.openCursor(t.range,r)}return this.store.openCursor(t.range,r)}}function Fi(a){return new et((t,r)=>{a.onsuccess=o=>{t(o.target.result)},a.onerror=o=>{const u=ho(o.target.error);r(u)}})}let Ei=!1;function ho(a){const t=lr.S((0,kr.ZQ)());if(t>=12.2&&t<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const o=new on("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ei||(Ei=!0,setTimeout(()=>{throw o},0)),o}}return a}class Sa{constructor(t,r){this.asyncQueue=t,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var r=this;Et("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Q.A)(function*(){r.task=null;try{Et("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(o){qr(o)?Et("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield fn(o)}yield r.X(6e4)}))}}class Gs{constructor(t,r){this.localStore=t,this.persistence=r}ee(t=50){var r=this;return(0,Q.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.te(o,t))})()}te(t,r){const o=new Set;let u=r,m=!0;return et.doWhile(()=>!0===m&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(E=>{if(null!==E&&!o.has(E))return Et("IndexBackfiller",`Processing collection: ${E}`),this.ne(t,E,u).next(P=>{u-=P,o.add(E)});m=!1})).next(()=>r-u)}ne(t,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,r).next(u=>this.localStore.localDocuments.getNextDocuments(t,r,u,o).next(m=>{const E=m.changes;return this.localStore.indexManager.updateIndexEntries(t,E).next(()=>this.re(u,m)).next(P=>(Et("IndexBackfiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(t,r,P))).next(()=>E.size)}))}re(t,r){let o=t;return r.changes.forEach((u,m)=>{const E=K(m);Zt(E,o)>0&&(o=E)}),new Fe(o.readTime,o.documentKey,Math.max(r.batchId,t.largestBatchId))}}let qi=(()=>{class a{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=u=>this.ie(u),this.se=u=>o.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function Jo(a){return null==a}function Zo(a){return 0===a&&1/a==-1/0}function ha(a){return"number"==typeof a&&Number.isInteger(a)&&!Zo(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function ui(a){let t="";for(let r=0;r<a.length;r++)t.length>0&&(t=Ls(t)),t=fa(a.get(r),t);return Ls(t)}function fa(a,t){let r=t;const o=a.length;for(let u=0;u<o;u++){const m=a.charAt(u);switch(m){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=m}}return r}function Ls(a){return a+"\x01\x01"}function Ps(a){const t=a.length;if(kn(t>=2),2===t)return kn("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),ur.emptyPath();const r=t-2,o=[];let u="";for(let m=0;m<t;){const E=a.indexOf("\x01",m);switch((E<0||E>r)&&En(),a.charAt(E+1)){case"\x01":const P=a.substring(m,E);let k;0===u.length?k=P:(u+=P,k=u,u=""),o.push(k);break;case"\x10":u+=a.substring(m,E),u+="\0";break;case"\x11":u+=a.substring(m,E+1);break;default:En()}m=E+2}return new ur(o)}const pa=["userId","batchId"];function Fs(a,t){return[a,ui(t)]}function wr(a,t,r){return[a,ui(t),r]}const eo={},Wa=["prefixPath","collectionGroup","readTime","documentId"],to=["prefixPath","collectionGroup","documentId"],za=["collectionGroup","readTime","prefixPath","documentId"],Vs=["canonicalId","targetId"],ps=["targetId","path"],Ks=["path","targetId"],Zr=["collectionId","parent"],Cs=["indexId","uid"],Fo=["uid","sequenceNumber"],Yc=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ji=["indexId","uid","orderedDocumentKey"],Ra=["userId","collectionPath","documentId"],Gl=["userId","collectionPath","largestBatchId"],Kl=["userId","collectionGroup","largestBatchId"],Pa=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Vo=[...Pa,"documentOverlays"],Y=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ee=Y,B=[...ee,"indexConfiguration","indexState","indexEntries"],we=B,_t=[...B,"globals"];class Dr extends gn{constructor(t,r){super(),this._e=t,this.currentSequenceNumber=r}}function br(a,t){const r=Tn(a);return lr.F(r._e,t)}function yo(a){let t=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t++;return t}function Us(a,t){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t(r,a[r])}function Xl(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class Qi{constructor(t,r){this.comparator=t,this.root=r||ws.EMPTY}insert(t,r){return new Qi(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,ws.BLACK,null,null))}remove(t){return new Qi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ws.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(t){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(t,o.key);if(0===u)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,o)=>(t(r,o),!1))}toString(){const t=[];return this.inorderTraversal((r,o)=>(t.push(`${r}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ea(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ea(this.root,t,this.comparator,!1)}getReverseIterator(){return new ea(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ea(this.root,t,this.comparator,!0)}}class ea{constructor(t,r,o,u){this.isReverse=u,this.nodeStack=[];let m=1;for(;!t.isEmpty();)if(m=r?o(t.key,r):1,r&&u&&(m*=-1),m<0)t=this.isReverse?t.left:t.right;else{if(0===m){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ws{constructor(t,r,o,u,m){this.key=t,this.value=r,this.color=o??ws.RED,this.left=u??ws.EMPTY,this.right=m??ws.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,o,u,m){return new ws(t??this.key,r??this.value,o??this.color,u??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let u=this;const m=o(t,u.key);return u=m<0?u.copy(null,null,null,u.left.insert(t,r,o),null):0===m?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(t,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ws.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let o,u=this;if(r(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(t,u.key)){if(u.right.isEmpty())return ws.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ws.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ws.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw En();const t=this.left.check();if(t!==this.right.check())throw En();return t+(this.isRed()?0:1)}}ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1,ws.EMPTY=new class{constructor(){this.size=0}get key(){throw En()}get value(){throw En()}get color(){throw En()}get left(){throw En()}get right(){throw En()}copy(t,r,o,u,m){return this}insert(t,r,o){return new ws(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pi{constructor(t){this.comparator=t,this.data=new Qi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,o)=>(t(r),!1))}forEachInRange(t,r){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,t[1])>=0)return;r(u.key)}}forEachWhile(t,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Ro(this.data.getIterator())}getIteratorFrom(t){return new Ro(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(o=>{r=r.add(o)}),r}isEqual(t){if(!(t instanceof Pi)||this.size!==t.size)return!1;const r=this.data.getIterator(),o=t.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,m=o.getNext().key;if(0!==this.comparator(u,m))return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Pi(this.comparator);return r.data=t,r}}class Ro{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bs(a){return a.hasNext()?a.getNext():void 0}class Ms{constructor(t){this.fields=t,t.sort(Xr.comparator)}static empty(){return new Ms([])}unionWith(t){let r=new Pi(Xr.comparator);for(const o of this.fields)r=r.add(o);for(const o of t)r=r.add(o);return new Ms(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Br(this.fields,t.fields,(r,o)=>r.isEqual(o))}}class gl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yr{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(u){try{return atob(u)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new gl("Invalid base64 string: "+m):m}}(t);return new Yr(r)}static fromUint8Array(t){const r=function(u){let m="";for(let E=0;E<u.length;++E)m+=String.fromCharCode(u[E]);return m}(t);return new Yr(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let u=0;u<r.length;u++)o[u]=r.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return tr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Yr.EMPTY_BYTE_STRING=new Yr("");const as=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(a){if(kn(!!a),"string"==typeof a){let t=0;const r=as.exec(a);if(kn(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),t=Number(u)}const o=new Date(a);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:ai(a.seconds),nanos:ai(a.nanos)}}function ai(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Po(a){return"string"==typeof a?Yr.fromBase64String(a):Yr.fromUint8Array(a)}function ta(a){var t,r;return"server_timestamp"===(null===(r=((null===(t=a?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Ma(a){const t=a.mapValue.fields.__previous_value__;return ta(t)?Ma(t):t}function Ka(a){const t=bs(a.mapValue.fields.__local_write_time__.timestampValue);return new Ri(t.seconds,t.nanos)}class Jc{constructor(t,r,o,u,m,E,P,k,q){this.databaseId=t,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=m,this.forceLongPolling=E,this.autoDetectLongPolling=P,this.longPollingOptions=k,this.useFetchStreams=q}}class Ki{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new Ki("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ki&&t.projectId===this.projectId&&t.database===this.database}}const Eo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ga={nullValue:"NULL_VALUE"};function na(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?ta(a)?4:vl(a)?9007199254740991:cs(a)?10:11:En()}function $s(a,t){if(a===t)return!0;const r=na(a);if(r!==na(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Ka(a).isEqual(Ka(t));case 3:return function(u,m){if("string"==typeof u.timestampValue&&"string"==typeof m.timestampValue&&u.timestampValue.length===m.timestampValue.length)return u.timestampValue===m.timestampValue;const E=bs(u.timestampValue),P=bs(m.timestampValue);return E.seconds===P.seconds&&E.nanos===P.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return m=t,Po(a.bytesValue).isEqual(Po(m.bytesValue));case 7:return a.referenceValue===t.referenceValue;case 8:return function(u,m){return ai(u.geoPointValue.latitude)===ai(m.geoPointValue.latitude)&&ai(u.geoPointValue.longitude)===ai(m.geoPointValue.longitude)}(a,t);case 2:return function(u,m){if("integerValue"in u&&"integerValue"in m)return ai(u.integerValue)===ai(m.integerValue);if("doubleValue"in u&&"doubleValue"in m){const E=ai(u.doubleValue),P=ai(m.doubleValue);return E===P?Zo(E)===Zo(P):isNaN(E)&&isNaN(P)}return!1}(a,t);case 9:return Br(a.arrayValue.values||[],t.arrayValue.values||[],$s);case 10:case 11:return function(u,m){const E=u.mapValue.fields||{},P=m.mapValue.fields||{};if(yo(E)!==yo(P))return!1;for(const k in E)if(E.hasOwnProperty(k)&&(void 0===P[k]||!$s(E[k],P[k])))return!1;return!0}(a,t);default:return En()}var m}function Xa(a,t){return void 0!==(a.values||[]).find(r=>$s(r,t))}function js(a,t){if(a===t)return 0;const r=na(a),o=na(t);if(r!==o)return tr(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return tr(a.booleanValue,t.booleanValue);case 2:return function(m,E){const P=ai(m.integerValue||m.doubleValue),k=ai(E.integerValue||E.doubleValue);return P<k?-1:P>k?1:P===k?0:isNaN(P)?isNaN(k)?0:-1:1}(a,t);case 3:return ml(a.timestampValue,t.timestampValue);case 4:return ml(Ka(a),Ka(t));case 5:return tr(a.stringValue,t.stringValue);case 6:return function(m,E){const P=Po(m),k=Po(E);return P.compareTo(k)}(a.bytesValue,t.bytesValue);case 7:return function(m,E){const P=m.split("/"),k=E.split("/");for(let q=0;q<P.length&&q<k.length;q++){const ge=tr(P[q],k[q]);if(0!==ge)return ge}return tr(P.length,k.length)}(a.referenceValue,t.referenceValue);case 8:return function(m,E){const P=tr(ai(m.latitude),ai(E.latitude));return 0!==P?P:tr(ai(m.longitude),ai(E.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return ra(a.arrayValue,t.arrayValue);case 10:return function(m,E){var P,k,q,ge;const nn=null===(P=(m.fields||{}).value)||void 0===P?void 0:P.arrayValue,An=null===(k=(E.fields||{}).value)||void 0===k?void 0:k.arrayValue,$n=tr((null===(q=nn?.values)||void 0===q?void 0:q.length)||0,(null===(ge=An?.values)||void 0===ge?void 0:ge.length)||0);return 0!==$n?$n:ra(nn,An)}(a.mapValue,t.mapValue);case 11:return function(m,E){if(m===Eo.mapValue&&E===Eo.mapValue)return 0;if(m===Eo.mapValue)return 1;if(E===Eo.mapValue)return-1;const P=m.fields||{},k=Object.keys(P),q=E.fields||{},ge=Object.keys(q);k.sort(),ge.sort();for(let Be=0;Be<k.length&&Be<ge.length;++Be){const It=tr(k[Be],ge[Be]);if(0!==It)return It;const nn=js(P[k[Be]],q[ge[Be]]);if(0!==nn)return nn}return tr(k.length,ge.length)}(a.mapValue,t.mapValue);default:throw En()}}function ml(a,t){if("string"==typeof a&&"string"==typeof t&&a.length===t.length)return tr(a,t);const r=bs(a),o=bs(t),u=tr(r.seconds,o.seconds);return 0!==u?u:tr(r.nanos,o.nanos)}function ra(a,t){const r=a.values||[],o=t.values||[];for(let u=0;u<r.length&&u<o.length;++u){const m=js(r[u],o[u]);if(m)return m}return tr(r.length,o.length)}function ia(a){return wc(a)}function wc(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const o=bs(r);return`time(${o.seconds},${o.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?Po(a.bytesValue).toBase64():"referenceValue"in a?Wn.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let o="[",u=!0;for(const m of r.values||[])u?u=!1:o+=",",o+=wc(m);return o+"]"}(a.arrayValue):"mapValue"in a?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",m=!0;for(const E of o)m?m=!1:u+=",",u+=`${E}:${wc(r.fields[E])}`;return u+"}"}(a.mapValue):En()}function ma(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function Dl(a){return!!a&&"integerValue"in a}function Mo(a){return!!a&&"arrayValue"in a}function qa(a){return!!a&&"nullValue"in a}function Qa(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function va(a){return!!a&&"mapValue"in a}function cs(a){var t,r;return"__vector__"===(null===(r=((null===(t=a?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Io(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return Us(a.mapValue.fields,(r,o)=>t.mapValue.fields[r]=Io(o)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Io(a.arrayValue.values[r]);return t}return Object.assign({},a)}function vl(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}const Ji={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Hs(a){return"nullValue"in a?ga:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?ma(Ki.empty(),Wn.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?cs(a)?Ji:{mapValue:{}}:En()}function _l(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?ma(Ki.empty(),Wn.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?Ji:"mapValue"in a?cs(a)?{mapValue:{}}:Eo:En()}function xo(a,t){const r=js(a.value,t.value);return 0!==r?r:a.inclusive&&!t.inclusive?-1:!a.inclusive&&t.inclusive?1:0}function Ya(a,t){const r=js(a.value,t.value);return 0!==r?r:a.inclusive&&!t.inclusive?1:!a.inclusive&&t.inclusive?-1:0}class ys{constructor(t){this.value=t}static empty(){return new ys({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let o=0;o<t.length-1;++o)if(r=(r.mapValue.fields||{})[t.get(o)],!va(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Io(r)}setAll(t){let r=Xr.emptyPath(),o={},u=[];t.forEach((E,P)=>{if(!r.isImmediateParentOf(P)){const k=this.getFieldsMap(r);this.applyChanges(k,o,u),o={},u=[],r=P.popLast()}E?o[P.lastSegment()]=Io(E):u.push(P.lastSegment())});const m=this.getFieldsMap(r);this.applyChanges(m,o,u)}delete(t){const r=this.field(t.popLast());va(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return $s(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<t.length;++o){let u=r.mapValue.fields[t.get(o)];va(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[t.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(t,r,o){Us(r,(u,m)=>t[u]=m);for(const u of o)delete t[u]}clone(){return new ys(Io(this.value))}}function xa(a){const t=[];return Us(a.fields,(r,o)=>{const u=new Xr([r]);if(va(o)){const m=xa(o.mapValue).fields;if(0===m.length)t.push(u);else for(const E of m)t.push(u.child(E))}else t.push(u)}),new Ms(t)}class ki{constructor(t,r,o,u,m,E,P){this.key=t,this.documentType=r,this.version=o,this.readTime=u,this.createTime=m,this.data=E,this.documentState=P}static newInvalidDocument(t){return new ki(t,0,mr.min(),mr.min(),mr.min(),ys.empty(),0)}static newFoundDocument(t,r,o,u){return new ki(t,1,r,mr.min(),o,u,0)}static newNoDocument(t,r){return new ki(t,2,r,mr.min(),mr.min(),ys.empty(),0)}static newUnknownDocument(t,r){return new ki(t,3,r,mr.min(),mr.min(),ys.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(mr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ys.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ki&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ro{constructor(t,r){this.position=t,this.inclusive=r}}function To(a,t,r){let o=0;for(let u=0;u<a.position.length;u++){const m=t[u],E=a.position[u];if(o=m.field.isKeyField()?Wn.comparator(Wn.fromName(E.referenceValue),r.key):js(E,r.data.field(m.field)),"desc"===m.dir&&(o*=-1),0!==o)break}return o}function Co(a,t){if(null===a)return null===t;if(null===t||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!$s(a.position[r],t.position[r]))return!1;return!0}class Uo{constructor(t,r="asc"){this.field=t,this.dir=r}}function ql(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class M{}class ne extends M{constructor(t,r,o){super(),this.field=t,this.op=r,this.value=o}static create(t,r,o){return t.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(t,r,o):new Ii(t,r,o):"array-contains"===r?new sr(t,o):"in"===r?new vi(t,o):"not-in"===r?new Es(t,o):"array-contains-any"===r?new Hi(t,o):new ne(t,r,o)}static createKeyFieldInFilter(t,r,o){return"in"===r?new os(t,o):new $r(t,o)}matches(t){const r=t.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(js(r,this.value)):null!==r&&na(this.value)===na(r)&&this.matchesComparison(js(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return En()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $ extends M{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new $(t,r)}matches(t){return se(this)?void 0===this.filters.find(r=>!r.matches(t)):void 0!==this.filters.find(r=>r.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function se(a){return"and"===a.op}function tt(a){return"or"===a.op}function sn(a){return yn(a)&&se(a)}function yn(a){for(const t of a.filters)if(t instanceof $)return!1;return!0}function fr(a){if(a instanceof ne)return a.field.canonicalString()+a.op.toString()+ia(a.value);if(sn(a))return a.filters.map(t=>fr(t)).join(",");{const t=a.filters.map(r=>fr(r)).join(",");return`${a.op}(${t})`}}function Di(a,t){return a instanceof ne?(o=a,(u=t)instanceof ne&&o.op===u.op&&o.field.isEqual(u.field)&&$s(o.value,u.value)):a instanceof $?function(o,u){return u instanceof $&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((m,E,P)=>m&&Di(E,u.filters[P]),!0)}(a,t):void En();var o,u}function ns(a,t){const r=a.filters.concat(t);return $.create(r,a.op)}function Vi(a){return a instanceof ne?`${(r=a).field.canonicalString()} ${r.op} ${ia(r.value)}`:a instanceof $?function(r){return r.op.toString()+" {"+r.getFilters().map(Vi).join(" ,")+"}"}(a):"Filter";var r}class Ii extends ne{constructor(t,r,o){super(t,r,o),this.key=Wn.fromName(o.referenceValue)}matches(t){const r=Wn.comparator(t.key,this.key);return this.matchesComparison(r)}}class os extends ne{constructor(t,r){super(t,"in",r),this.keys=Rn(0,r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class $r extends ne{constructor(t,r){super(t,"not-in",r),this.keys=Rn(0,r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function Rn(a,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Wn.fromName(o.referenceValue))}class sr extends ne{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Mo(r)&&Xa(r.arrayValue,this.value)}}class vi extends ne{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return null!==r&&Xa(this.value.arrayValue,r)}}class Es extends ne{constructor(t,r){super(t,"not-in",r)}matches(t){if(Xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return null!==r&&!Xa(this.value.arrayValue,r)}}class Hi extends ne{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Mo(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Xa(this.value.arrayValue,o))}}class xs{constructor(t,r=null,o=[],u=[],m=null,E=null,P=null){this.path=t,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=m,this.startAt=E,this.endAt=P,this.ue=null}}function Ws(a,t=null,r=[],o=[],u=null,m=null,E=null){return new xs(a,t,r,o,u,m,E)}function di(a){const t=Tn(a);if(null===t.ue){let r=t.path.canonicalString();null!==t.collectionGroup&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(o=>fr(o)).join(","),r+="|ob:",r+=t.orderBy.map(o=>{return(m=o).field.canonicalString()+m.dir;var m}).join(","),Jo(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>ia(o)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>ia(o)).join(",")),t.ue=r}return t.ue}function Yi(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!ql(a.orderBy[r],t.orderBy[r]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!Di(a.filters[r],t.filters[r]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!Co(a.startAt,t.startAt)&&Co(a.endAt,t.endAt)}function fo(a){return Wn.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function jr(a,t){return a.filters.filter(r=>r instanceof ne&&r.field.isEqual(t))}function _a(a,t,r){let o=ga,u=!0;for(const m of jr(a,t)){let E=ga,P=!0;switch(m.op){case"<":case"<=":E=Hs(m.value);break;case"==":case"in":case">=":E=m.value;break;case">":E=m.value,P=!1;break;case"!=":case"not-in":E=ga}xo({value:o,inclusive:u},{value:E,inclusive:P})<0&&(o=E,u=P)}if(null!==r)for(let m=0;m<a.orderBy.length;++m)if(a.orderBy[m].field.isEqual(t)){const E=r.position[m];xo({value:o,inclusive:u},{value:E,inclusive:r.inclusive})<0&&(o=E,u=r.inclusive);break}return{value:o,inclusive:u}}function Ql(a,t,r){let o=Eo,u=!0;for(const m of jr(a,t)){let E=Eo,P=!0;switch(m.op){case">=":case">":E=_l(m.value),P=!1;break;case"==":case"in":case"<=":E=m.value;break;case"<":E=m.value,P=!1;break;case"!=":case"not-in":E=Eo}Ya({value:o,inclusive:u},{value:E,inclusive:P})>0&&(o=E,u=P)}if(null!==r)for(let m=0;m<a.orderBy.length;++m)if(a.orderBy[m].field.isEqual(t)){const E=r.position[m];Ya({value:o,inclusive:u},{value:E,inclusive:r.inclusive})>0&&(o=E,u=r.inclusive);break}return{value:o,inclusive:u}}class po{constructor(t,r=null,o=[],u=[],m=null,E="F",P=null,k=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=m,this.limitType=E,this.startAt=P,this.endAt=k,this.ce=null,this.le=null,this.he=null}}function rs(a,t,r,o,u,m,E,P){return new po(a,t,r,o,u,m,E,P)}function As(a){return new po(a)}function Sl(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function Na(a){return null!==a.collectionGroup}function go(a){const t=Tn(a);if(null===t.ce){t.ce=[];const r=new Set;for(const m of t.explicitOrderBy)t.ce.push(m),r.add(m.field.canonicalString());const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(E){let P=new Pi(Xr.comparator);return E.filters.forEach(k=>{k.getFlattenedFilters().forEach(q=>{q.isInequality()&&(P=P.add(q.field))})}),P})(t).forEach(m=>{r.has(m.canonicalString())||m.isKeyField()||t.ce.push(new Uo(m,o))}),r.has(Xr.keyField().canonicalString())||t.ce.push(new Uo(Xr.keyField(),o))}return t.ce}function io(a){const t=Tn(a);return t.le||(t.le=function Yl(a,t){if("F"===a.limitType)return Ws(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(u=>new Uo(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new ro(a.endAt.position,a.endAt.inclusive):null,o=a.startAt?new ro(a.startAt.position,a.startAt.inclusive):null;return Ws(a.path,a.collectionGroup,t,a.filters,a.limit,r,o)}}(t,go(a))),t.le}function so(a,t){const r=a.filters.concat([t]);return new po(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function yr(a,t,r){return new po(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,r,a.startAt,a.endAt)}function Rl(a,t){return Yi(io(a),io(t))&&a.limitType===t.limitType}function us(a){return`${di(io(a))}|lt:${a.limitType}`}function mo(a){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(u=>Vi(u)).join(", ")}]`),Jo(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(u=>{return`${(E=u).field.canonicalString()} (${E.dir})`;var E}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(u=>ia(u)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(u=>ia(u)).join(",")),`Target(${o})`}(io(a))}; limitType=${a.limitType})`}function Oa(a,t){return t.isFoundDocument()&&function(o,u){const m=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(m):Wn.isDocumentKey(o.path)?o.path.isEqual(m):o.path.isImmediateParentOf(m)}(a,t)&&function(o,u){for(const m of go(o))if(!m.field.isKeyField()&&null===u.data.field(m.field))return!1;return!0}(a,t)&&function(o,u){for(const m of o.filters)if(!m.matches(u))return!1;return!0}(a,t)&&(u=t,!((o=a).startAt&&!function(E,P,k){const q=To(E,P,k);return E.inclusive?q<=0:q<0}(o.startAt,go(o),u)||o.endAt&&!function(E,P,k){const q=To(E,P,k);return E.inclusive?q>=0:q>0}(o.endAt,go(o),u)));var o,u}function Jl(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function gs(a){return(t,r)=>{let o=!1;for(const u of go(a)){const m=Iu(u,t,r);if(0!==m)return m;o=o||u.field.isKeyField()}return 0}}function Iu(a,t,r){const o=a.field.isKeyField()?Wn.comparator(t.key,r.key):function(m,E,P){const k=E.data.field(m),q=P.data.field(m);return null!==k&&null!==q?js(k,q):En()}(a.field,t,r);switch(a.dir){case"asc":return o;case"desc":return-1*o;default:return En()}}class Zi{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),o=this.inner[r];if(void 0!==o)for(const[u,m]of o)if(this.equalsFn(u,t))return m}has(t){return void 0!==this.get(t)}set(t,r){const o=this.mapKeyFn(t),u=this.inner[o];if(void 0===u)return this.inner[o]=[[t,r]],void this.innerSize++;for(let m=0;m<u.length;m++)if(this.equalsFn(u[m][0],t))return void(u[m]=[t,r]);u.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),o=this.inner[r];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return 1===o.length?delete this.inner[r]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(t){Us(this.inner,(r,o)=>{for(const[u,m]of o)t(u,m)})}isEmpty(){return Xl(this.inner)}size(){return this.innerSize}}const oo=new Qi(Wn.comparator);function vo(){return oo}const Bo=new Qi(Wn.comparator);function Ja(...a){let t=Bo;for(const r of a)t=t.insert(r.key,r);return t}function ao(a){let t=Bo;return a.forEach((r,o)=>t=t.insert(r,o.overlayedDocument)),t}function Ns(){return Pl()}function Zc(){return Pl()}function Pl(){return new Zi(a=>a.toString(),(a,t)=>a.isEqual(t))}const eu=new Qi(Wn.comparator),tu=new Pi(Wn.comparator);function si(...a){let t=tu;for(const r of a)t=t.add(r);return t}const Zl=new Pi(tr);function ad(){return Zl}function Qd(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zo(t)?"-0":t}}function Yd(a){return{integerValue:""+a}}function ec(a,t){return ha(t)?Yd(t):Qd(a,t)}class yl{constructor(){this._=void 0}}function Uh(a,t,r){return a instanceof R?function(u,m){const E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return m&&ta(m)&&(m=Ma(m)),m&&(E.fields.__previous_value__=m),{mapValue:E}}(r,t):a instanceof F?te(a,t):a instanceof Ce?Je(a,t):function(u,m){const E=L(u,m),P=Vt(E)+Vt(u.Pe);return Dl(E)&&Dl(u.Pe)?Yd(P):Qd(u.serializer,P)}(a,t)}function D(a,t,r){return a instanceof F?te(a,t):a instanceof Ce?Je(a,t):r}function L(a,t){return a instanceof en?Dl(o=t)||(m=o)&&"doubleValue"in m?t:{integerValue:0}:null;var o,m}class R extends yl{}class F extends yl{constructor(t){super(),this.elements=t}}function te(a,t){const r=zn(t);for(const o of a.elements)r.some(u=>$s(u,o))||r.push(o);return{arrayValue:{values:r}}}class Ce extends yl{constructor(t){super(),this.elements=t}}function Je(a,t){let r=zn(t);for(const o of a.elements)r=r.filter(u=>!$s(u,o));return{arrayValue:{values:r}}}class en extends yl{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function Vt(a){return ai(a.integerValue||a.doubleValue)}function zn(a){return Mo(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Fr{constructor(t,r){this.field=t,this.transform=r}}class ls{constructor(t,r){this.version=t,this.transformResults=r}}class Mi{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Mi}static exists(t){return new Mi(void 0,t)}static updateTime(t){return new Mi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ms(a,t){return void 0!==a.updateTime?t.isFoundDocument()&&t.version.isEqual(a.updateTime):void 0===a.exists||a.exists===t.isFoundDocument()}class $o{}function sa(a,t){if(!a.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return a.isNoDocument()?new Ci(a.key,Mi.none()):new tl(a.key,a.data,Mi.none());{const r=a.data,o=ys.empty();let u=new Pi(Xr.comparator);for(let m of t.fields)if(!u.has(m)){let E=r.field(m);null===E&&m.length>1&&(m=m.popLast(),E=r.field(m)),null===E?o.delete(m):o.set(m,E),u=u.add(m)}return new El(a.key,o,new Ms(u.toArray()),Mi.none())}}function Za(a,t,r){a instanceof tl?function(u,m,E){const P=u.value.clone(),k=Il(u.fieldTransforms,m,E.transformResults);P.setAll(k),m.convertToFoundDocument(E.version,P).setHasCommittedMutations()}(a,t,r):a instanceof El?function(u,m,E){if(!ms(u.precondition,m))return void m.convertToUnknownDocument(E.version);const P=Il(u.fieldTransforms,m,E.transformResults),k=m.data;k.setAll(oa(u)),k.setAll(P),m.convertToFoundDocument(E.version,k).setHasCommittedMutations()}(a,t,r):t.convertToNoDocument(r.version).setHasCommittedMutations()}function el(a,t,r,o){return a instanceof tl?function(m,E,P,k){if(!ms(m.precondition,E))return P;const q=m.value.clone(),ge=tc(m.fieldTransforms,k,E);return q.setAll(ge),E.convertToFoundDocument(E.version,q).setHasLocalMutations(),null}(a,t,r,o):a instanceof El?function(m,E,P,k){if(!ms(m.precondition,E))return P;const q=tc(m.fieldTransforms,k,E),ge=E.data;return ge.setAll(oa(m)),ge.setAll(q),E.convertToFoundDocument(E.version,ge).setHasLocalMutations(),null===P?null:P.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(Be=>Be.field))}(a,t,r,o):(P=r,ms(a.precondition,E=t)?(E.convertToNoDocument(E.version).setHasLocalMutations(),null):P);var E,P}function Ml(a,t){let r=null;for(const o of a.fieldTransforms){const u=t.data.field(o.field),m=L(o.transform,u||null);null!=m&&(null===r&&(r=ys.empty()),r.set(o.field,m))}return r||null}function bc(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&(u=t.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===u||o&&u&&Br(o,u,(m,E)=>function li(a,t){return a.field.isEqual(t.field)&&(u=t.transform,(o=a.transform)instanceof F&&u instanceof F||o instanceof Ce&&u instanceof Ce?Br(o.elements,u.elements,$s):o instanceof en&&u instanceof en?$s(o.Pe,u.Pe):o instanceof R&&u instanceof R);var o,u}(m,E))))&&(0===a.type?a.value.isEqual(t.value):1!==a.type||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask));var o,u}class tl extends $o{constructor(t,r,o,u=[]){super(),this.key=t,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class El extends $o{constructor(t,r,o,u,m=[]){super(),this.key=t,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function oa(a){const t=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=a.data.field(r);t.set(r,o)}}),t}function Il(a,t,r){const o=new Map;kn(a.length===r.length);for(let u=0;u<r.length;u++){const m=a[u],E=m.transform,P=t.data.field(m.field);o.set(m.field,D(E,P,r[u]))}return o}function tc(a,t,r){const o=new Map;for(const u of a){const m=u.transform,E=r.data.field(u.field);o.set(u.field,Uh(m,E,t))}return o}class Ci extends $o{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xl extends $o{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ya{constructor(t,r,o,u){this.batchId=t,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(t,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const m=this.mutations[u];m.key.isEqual(t.key)&&Za(m,t,o[u])}}applyToLocalView(t,r){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(r=el(o,t,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(r=el(o,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const o=Zc();return this.mutations.forEach(u=>{const m=t.get(u.key),E=m.overlayedDocument;let P=this.applyToLocalView(E,m.mutatedFields);P=r.has(u.key)?null:P;const k=sa(E,P);null!==k&&o.set(u.key,k),E.isValidDocument()||E.convertToNoDocument(mr.min())}),o}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),si())}isEqual(t){return this.batchId===t.batchId&&Br(this.mutations,t.mutations,(r,o)=>bc(r,o))&&Br(this.baseMutations,t.baseMutations,(r,o)=>bc(r,o))}}class Ds{constructor(t,r,o,u){this.batch=t,this.commitVersion=r,this.mutationResults=o,this.docVersions=u}static from(t,r,o){kn(t.mutations.length===o.length);let u=function(){return eu}();const m=t.mutations;for(let E=0;E<m.length;E++)u=u.insert(m[E].key,o[E].version);return new Ds(t,r,o,u)}}class Nl{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ac{constructor(t,r){this.count=t,this.unchangedNames=r}}var Xi,Si;function Dc(a){switch(a){default:return En();case Lt.CANCELLED:case Lt.UNKNOWN:case Lt.DEADLINE_EXCEEDED:case Lt.RESOURCE_EXHAUSTED:case Lt.INTERNAL:case Lt.UNAVAILABLE:case Lt.UNAUTHENTICATED:return!1;case Lt.INVALID_ARGUMENT:case Lt.NOT_FOUND:case Lt.ALREADY_EXISTS:case Lt.PERMISSION_DENIED:case Lt.FAILED_PRECONDITION:case Lt.ABORTED:case Lt.OUT_OF_RANGE:case Lt.UNIMPLEMENTED:case Lt.DATA_LOSS:return!0}}function Bh(a){if(void 0===a)return _n("GRPC error has no .code"),Lt.UNKNOWN;switch(a){case Xi.OK:return Lt.OK;case Xi.CANCELLED:return Lt.CANCELLED;case Xi.UNKNOWN:return Lt.UNKNOWN;case Xi.DEADLINE_EXCEEDED:return Lt.DEADLINE_EXCEEDED;case Xi.RESOURCE_EXHAUSTED:return Lt.RESOURCE_EXHAUSTED;case Xi.INTERNAL:return Lt.INTERNAL;case Xi.UNAVAILABLE:return Lt.UNAVAILABLE;case Xi.UNAUTHENTICATED:return Lt.UNAUTHENTICATED;case Xi.INVALID_ARGUMENT:return Lt.INVALID_ARGUMENT;case Xi.NOT_FOUND:return Lt.NOT_FOUND;case Xi.ALREADY_EXISTS:return Lt.ALREADY_EXISTS;case Xi.PERMISSION_DENIED:return Lt.PERMISSION_DENIED;case Xi.FAILED_PRECONDITION:return Lt.FAILED_PRECONDITION;case Xi.ABORTED:return Lt.ABORTED;case Xi.OUT_OF_RANGE:return Lt.OUT_OF_RANGE;case Xi.UNIMPLEMENTED:return Lt.UNIMPLEMENTED;case Xi.DATA_LOSS:return Lt.DATA_LOSS;default:return En()}}(Si=Xi||(Xi={}))[Si.OK=0]="OK",Si[Si.CANCELLED=1]="CANCELLED",Si[Si.UNKNOWN=2]="UNKNOWN",Si[Si.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Si[Si.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Si[Si.NOT_FOUND=5]="NOT_FOUND",Si[Si.ALREADY_EXISTS=6]="ALREADY_EXISTS",Si[Si.PERMISSION_DENIED=7]="PERMISSION_DENIED",Si[Si.UNAUTHENTICATED=16]="UNAUTHENTICATED",Si[Si.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Si[Si.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Si[Si.ABORTED=10]="ABORTED",Si[Si.OUT_OF_RANGE=11]="OUT_OF_RANGE",Si[Si.UNIMPLEMENTED=12]="UNIMPLEMENTED",Si[Si.INTERNAL=13]="INTERNAL",Si[Si.UNAVAILABLE=14]="UNAVAILABLE",Si[Si.DATA_LOSS=15]="DATA_LOSS";function Tu(){return new TextEncoder}const $h=new Ur([4294967295,4294967295],0);function ru(a){const t=Tu().encode(a),r=new Ar;return r.update(t),new Uint8Array(r.digest())}function Sc(a){const t=new DataView(a.buffer),r=t.getUint32(0,!0),o=t.getUint32(4,!0),u=t.getUint32(8,!0),m=t.getUint32(12,!0);return[new Ur([r,o],0),new Ur([u,m],0)]}class Ol{constructor(t,r,o){if(this.bitmap=t,this.padding=r,this.hashCount=o,r<0||r>=8)throw new ka(`Invalid padding: ${r}`);if(o<0)throw new ka(`Invalid hash count: ${o}`);if(t.length>0&&0===this.hashCount)throw new ka(`Invalid hash count: ${o}`);if(0===t.length&&0!==r)throw new ka(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*t.length-r,this.Te=Ur.fromNumber(this.Ie)}Ee(t,r,o){let u=t.add(r.multiply(Ur.fromNumber(o)));return 1===u.compare($h)&&(u=new Ur([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const r=ru(t),[o,u]=Sc(r);for(let m=0;m<this.hashCount;m++){const E=this.Ee(o,u,m);if(!this.de(E))return!1}return!0}static create(t,r,o){const u=t%8==0?0:8-t%8,m=new Uint8Array(Math.ceil(t/8)),E=new Ol(m,u,r);return o.forEach(P=>E.insert(P)),E}insert(t){if(0===this.Ie)return;const r=ru(t),[o,u]=Sc(r);for(let m=0;m<this.hashCount;m++){const E=this.Ee(o,u,m);this.Ae(E)}}Ae(t){const r=Math.floor(t/8);this.bitmap[r]|=1<<t%8}}class ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nl{constructor(t,r,o,u,m){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(t,r,o){const u=new Map;return u.set(t,wo.createSynthesizedTargetChangeForCurrentChange(t,r,o)),new nl(mr.min(),u,new Qi(tr),vo(),si())}}class wo{constructor(t,r,o,u,m){this.resumeToken=t,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(t,r,o){return new wo(o,r,si(),si(),si())}}class aa{constructor(t,r,o,u){this.Re=t,this.removedTargetIds=r,this.key=o,this.Ve=u}}class ei{constructor(t,r){this.targetId=t,this.me=r}}class Rc{constructor(t,r,o=Yr.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=r,this.resumeToken=o,this.cause=u}}class kl{constructor(){this.fe=0,this.ge=nc(),this.pe=Yr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=si(),r=si(),o=si();return this.ge.forEach((u,m)=>{switch(m){case 0:t=t.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:En()}}),new wo(this.pe,this.ye,t,r,o)}Ce(){this.we=!1,this.ge=nc()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,kn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Cu{constructor(t){this.Le=t,this.Be=new Map,this.ke=vo(),this.qe=Xf(),this.Qe=new Qi(tr)}Ke(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(r,t.Ve):this.Ue(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.Ue(r,t.key,t.Ve)}We(t){this.forEachTarget(t,r=>{const o=this.Ge(r);switch(t.state){case 0:this.ze(r)&&o.De(t.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(t.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(t.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(t.resumeToken));break;default:En()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((o,u)=>{this.ze(u)&&r(u)})}He(t){const r=t.targetId,o=t.me.count,u=this.Je(r);if(u){const m=u.target;if(fo(m))if(0===o){const E=new Wn(m.path);this.Ue(r,E,ki.newNoDocument(E,mr.min()))}else kn(1===o);else{const E=this.Ye(r);if(E!==o){const P=this.Ze(t),k=P?this.Xe(P,t,E):1;0!==k&&(this.je(r),this.Qe=this.Qe.insert(r,2===k?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:m=0}=r;let E,P;try{E=Po(o).toUint8Array()}catch(k){if(k instanceof gl)return Qn("Decoding the base64 bloom filter in existence filter failed ("+k.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw k}try{P=new Ol(E,u,m)}catch(k){return Qn(k instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",k),null}return 0===P.Ie?null:P}Xe(t,r,o){return r.me.count===o-this.nt(t,r.targetId)?0:2}nt(t,r){const o=this.Le.getRemoteKeysForTarget(r);let u=0;return o.forEach(m=>{const E=this.Le.tt(),P=`projects/${E.projectId}/databases/${E.database}/documents/${m.path.canonicalString()}`;t.mightContain(P)||(this.Ue(r,m,null),u++)}),u}rt(t){const r=new Map;this.Be.forEach((m,E)=>{const P=this.Je(E);if(P){if(m.current&&fo(P.target)){const k=new Wn(P.target.path);null!==this.ke.get(k)||this.it(E,k)||this.Ue(E,k,ki.newNoDocument(k,t))}m.be&&(r.set(E,m.ve()),m.Ce())}});let o=si();this.qe.forEach((m,E)=>{let P=!0;E.forEachWhile(k=>{const q=this.Je(k);return!q||"TargetPurposeLimboResolution"===q.purpose||(P=!1,!1)}),P&&(o=o.add(m))}),this.ke.forEach((m,E)=>E.setReadTime(t));const u=new nl(t,r,this.Qe,this.ke,o);return this.ke=vo(),this.qe=Xf(),this.Qe=new Qi(tr),u}$e(t,r){if(!this.ze(t))return;const o=this.it(t,r.key)?2:0;this.Ge(t).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t))}Ue(t,r,o){if(!this.ze(t))return;const u=this.Ge(t);this.it(t,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(t)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(t){this.Be.delete(t)}Ye(t){const r=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let r=this.Be.get(t);return r||(r=new kl,this.Be.set(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new Pi(tr),this.qe=this.qe.insert(t,r)),r}ze(t){const r=null!==this.Je(t);return r||Et("WatchChangeAggregator","Detected inactive target",t),r}Je(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new kl),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.Ue(t,r,null)})}it(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function Xf(){return new Qi(Wn.comparator)}function nc(){return new Qi(Wn.comparator)}const ld={asc:"ASCENDING",desc:"DESCENDING"},jh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hh={and:"AND",or:"OR"};class Pc{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Mc(a,t){return a.useProto3Json||Jo(t)?t:{value:t}}function Ll(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jd(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function Zd(a,t){return Ll(a,t.toTimestamp())}function vs(a){return kn(!!a),mr.fromTimestamp(function(r){const o=bs(r);return new Ri(o.seconds,o.nanos)}(a))}function ln(a,t){return ii(a,t).canonicalString()}function ii(a,t){const r=(u=a,new ur(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===t?r:r.child(t)}function eh(a){const t=ur.fromString(a);return kn(zh(t)),t}function Fl(a,t){return ln(a.databaseId,t.path)}function hi(a,t){const r=eh(t);if(r.get(1)!==a.databaseId.projectId)throw new on(Lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new on(Lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Wn(Ho(r))}function Vl(a,t){return ln(a.databaseId,t)}function rl(a){const t=eh(a);return 4===t.length?ur.emptyPath():Ho(t)}function jo(a){return new ur(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Ho(a){return kn(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function iu(a,t,r){return{name:Fl(a,t),fields:r.value.mapValue.fields}}function cd(a,t,r){const o=hi(a,t.name),u=vs(t.updateTime),m=t.createTime?vs(t.createTime):mr.min(),E=new ys({mapValue:{fields:t.fields}}),P=ki.newFoundDocument(o,u,m,E);return r&&P.setHasCommittedMutations(),r?P.setHasCommittedMutations():P}function lo(a,t){let r;if(t instanceof tl)r={update:iu(a,t.key,t.value)};else if(t instanceof Ci)r={delete:Fl(a,t.key)};else if(t instanceof El)r={update:iu(a,t.key,t.data),updateMask:su(t.fieldMask)};else{if(!(t instanceof xl))return En();r={verify:Fl(a,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(o=>function(m,E){const P=E.transform;if(P instanceof R)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof F)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof Ce)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof en)return{fieldPath:E.field.canonicalString(),increment:P.Pe};throw En()}(0,o))),t.precondition.isNone||(r.currentDocument=void 0!==(m=t.precondition).updateTime?{updateTime:Zd(a,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:En()),r;var m}function xc(a,t){const r=t.currentDocument?void 0!==(m=t.currentDocument).updateTime?Mi.updateTime(vs(m.updateTime)):void 0!==m.exists?Mi.exists(m.exists):Mi.none():Mi.none(),o=t.updateTransforms?t.updateTransforms.map(u=>function(E,P){let k=null;"setToServerValue"in P?(kn("REQUEST_TIME"===P.setToServerValue),k=new R):"appendMissingElements"in P?k=new F(P.appendMissingElements.values||[]):"removeAllFromArray"in P?k=new Ce(P.removeAllFromArray.values||[]):"increment"in P?k=new en(E,P.increment):En();const q=Xr.fromServerFormat(P.fieldPath);return new Fr(q,k)}(a,u)):[];var m;if(t.update){const u=hi(a,t.update.name),m=new ys({mapValue:{fields:t.update.fields}});if(t.updateMask){const E=new Ms((t.updateMask.fieldPaths||[]).map(ge=>Xr.fromServerFormat(ge)));return new El(u,m,E,r,o)}return new tl(u,m,r,o)}if(t.delete){const u=hi(a,t.delete);return new Ci(u,r)}if(t.verify){const u=hi(a,t.verify);return new xl(u,r)}return En()}function bo(a,t){return{documents:[Vl(a,t.path)]}}function La(a,t){const r={structuredQuery:{}},o=t.path;let u;null!==t.collectionGroup?(u=o,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=Vl(a,u);const m=function(q){if(0!==q.length)return dd($.create(q,"and"))}(t.filters);m&&(r.structuredQuery.where=m);const E=function(q){if(0!==q.length)return q.map(ge=>{return{field:Va((It=ge).field),direction:th(It.dir)};var It})}(t.orderBy);E&&(r.structuredQuery.orderBy=E);const P=Mc(a,t.limit);return null!==P&&(r.structuredQuery.limit=P),t.startAt&&(r.structuredQuery.startAt={before:(q=t.startAt).inclusive,values:q.position}),t.endAt&&(r.structuredQuery.endAt=function(q){return{before:!q.inclusive,values:q.position}}(t.endAt)),{_t:r,parent:u};var q}function Fa(a){let t=rl(a.parent);const r=a.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){kn(1===o);const ge=r.from[0];ge.allDescendants?u=ge.collectionId:t=t.child(ge.collectionId)}let m=[];r.where&&(m=function(Be){const It=Nc(Be);return It instanceof $&&sn(It)?It.getFilters():[It]}(r.where));let E=[];r.orderBy&&(E=r.orderBy.map(It=>{return new Uo(il((An=It).field),function(Ln){switch(Ln){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(An.direction));var An}));let P=null;r.limit&&(P=function(Be){let It;return It="object"==typeof Be?Be.value:Be,Jo(It)?null:It}(r.limit));let k=null;var Be;r.startAt&&(k=new ro((Be=r.startAt).values||[],!!Be.before));let q=null;return r.endAt&&(q=function(Be){return new ro(Be.values||[],!Be.before)}(r.endAt)),rs(t,u,E,m,P,"F",k,q)}function Nc(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=il(r.unaryFilter.field);return ne.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=il(r.unaryFilter.field);return ne.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=il(r.unaryFilter.field);return ne.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const E=il(r.unaryFilter.field);return ne.create(E,"!=",{nullValue:"NULL_VALUE"});default:return En()}}(a):void 0!==a.fieldFilter?ne.create(il((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return En()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return $.create(r.compositeFilter.filters.map(o=>Nc(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return En()}}(r.compositeFilter.op))}(a):En();var r}function th(a){return ld[a]}function bu(a){return jh[a]}function Qf(a){return Hh[a]}function Va(a){return{fieldPath:a.canonicalString()}}function il(a){return Xr.fromServerFormat(a.fieldPath)}function dd(a){return a instanceof ne?function(r){if("=="===r.op){if(Qa(r.value))return{unaryFilter:{field:Va(r.field),op:"IS_NAN"}};if(qa(r.value))return{unaryFilter:{field:Va(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Qa(r.value))return{unaryFilter:{field:Va(r.field),op:"IS_NOT_NAN"}};if(qa(r.value))return{unaryFilter:{field:Va(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(r.field),op:bu(r.op),value:r.value}}}(a):a instanceof $?function(r){const o=r.getFilters().map(u=>dd(u));return 1===o.length?o[0]:{compositeFilter:{op:Qf(r.op),filters:o}}}(a):En()}function su(a){const t=[];return a.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function zh(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class Cl{constructor(t,r,o,u,m=mr.min(),E=mr.min(),P=Yr.EMPTY_BYTE_STRING,k=null){this.target=t,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=P,this.expectedCount=k}withSequenceNumber(t){return new Cl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class hd{constructor(t){this.ct=t}}function nh(a,t){const r=t.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Du(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())o.document={name:Fl(m=a.ct,(E=t).key),fields:E.data.value.mapValue.fields,updateTime:Ll(m,E.version.toTimestamp()),createTime:Ll(m,E.createTime.toTimestamp())};else if(t.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:rc(t.version)};else{if(!t.isUnknownDocument())return En();o.unknownDocument={path:r.path.toArray(),version:rc(t.version)}}var m,E;return o}function Du(a){const t=a.toTimestamp();return[t.seconds,t.nanoseconds]}function rc(a){const t=a.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function sl(a){const t=new Ri(a.seconds,a.nanoseconds);return mr.fromTimestamp(t)}function ic(a,t){const r=(t.baseMutations||[]).map(m=>xc(a.ct,m));for(let m=0;m<t.mutations.length-1;++m)m+1<t.mutations.length&&void 0!==t.mutations[m+1].transform&&(t.mutations[m].updateTransforms=t.mutations[m+1].transform.fieldTransforms,t.mutations.splice(m+1,1),++m);const o=t.mutations.map(m=>xc(a.ct,m)),u=Ri.fromMillis(t.localWriteTimeMs);return new ya(t.batchId,u,r,o)}function Os(a){const t=sl(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?sl(a.lastLimboFreeSnapshotVersion):mr.min();let o;return o=void 0!==a.query.documents?(kn(1===(m=a.query).documents.length),io(As(rl(m.documents[0])))):function(m){return io(Fa(m))}(a.query),new Cl(o,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,t,r,Yr.fromBase64String(a.resumeToken));var m}function Ea(a,t){const r=rc(t.snapshotVersion),o=rc(t.lastLimboFreeSnapshotVersion);let u;u=fo(t.target)?bo(a.ct,t.target):La(a.ct,t.target)._t;const m=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:di(t.target),readTime:r,resumeToken:m,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function Ui(a){const t=Fa({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?yr(t,t.limit,"L"):t}function rh(a,t){return new Nl(t.largestBatchId,xc(a.ct,t.overlayMutation))}function fd(a,t){const r=t.path.lastSegment();return[a,ui(t.path.popLast()),r]}function Su(a,t,r,o){return{indexId:a,uid:t,sequenceNumber:r,readTime:rc(o.readTime),documentKey:ui(o.documentKey.path),largestBatchId:o.largestBatchId}}class ih{getBundleMetadata(t,r){return wl(t).get(r).next(o=>{if(o)return{id:(m=o).bundleId,createTime:sl(m.createTime),version:m.version};var m})}saveBundleMetadata(t,r){return wl(t).put({bundleId:(u=r).id,createTime:rc(vs(u.createTime)),version:u.version});var u}getNamedQuery(t,r){return sh(t).get(r).next(o=>{if(o)return{name:(m=o).name,query:Ui(m.bundledQuery),readTime:sl(m.readTime)};var m})}saveNamedQuery(t,r){return sh(t).put({name:(u=r).name,readTime:rc(vs(u.readTime)),bundledQuery:u.bundledQuery});var u}}function wl(a){return br(a,"bundles")}function sh(a){return br(a,"namedQueries")}class ol{constructor(t,r){this.serializer=t,this.userId=r}static lt(t,r){return new ol(t,r.uid||"")}getOverlay(t,r){return Wo(t).get(fd(this.userId,r)).next(o=>o?rh(this.serializer,o):null)}getOverlays(t,r){const o=Ns();return et.forEach(r,u=>this.getOverlay(t,u).next(m=>{null!==m&&o.set(u,m)})).next(()=>o)}saveOverlays(t,r,o){const u=[];return o.forEach((m,E)=>{const P=new Nl(r,E);u.push(this.ht(t,P))}),et.waitFor(u)}removeOverlaysForBatchId(t,r,o){const u=new Set;r.forEach(E=>u.add(ui(E.getCollectionPath())));const m=[];return u.forEach(E=>{const P=IDBKeyRange.bound([this.userId,E,o],[this.userId,E,o+1],!1,!0);m.push(Wo(t).j("collectionPathOverlayIndex",P))}),et.waitFor(m)}getOverlaysForCollection(t,r,o){const u=Ns(),m=ui(r),E=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Wo(t).U("collectionPathOverlayIndex",E).next(P=>{for(const k of P){const q=rh(this.serializer,k);u.set(q.getKey(),q)}return u})}getOverlaysForCollectionGroup(t,r,o,u){const m=Ns();let E;const P=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Wo(t).J({index:"collectionGroupOverlayIndex",range:P},(k,q,ge)=>{const Be=rh(this.serializer,q);m.size()<u||Be.largestBatchId===E?(m.set(Be.getKey(),Be),E=Be.largestBatchId):ge.done()}).next(()=>m)}ht(t,r){return Wo(t).put(function(u,m,E){const[P,k,q]=fd(m,E.mutation.key);return{userId:m,collectionPath:k,documentId:q,collectionGroup:E.mutation.key.getCollectionGroup(),largestBatchId:E.largestBatchId,overlayMutation:lo(u.ct,E.mutation)}}(this.serializer,this.userId,r))}}function Wo(a){return br(a,"documentOverlays")}class oh{Pt(t){return br(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(r=>{const o=r?.value;return o?Yr.fromUint8Array(o):Yr.EMPTY_BYTE_STRING})}setSessionToken(t,r){return this.Pt(t).put({name:"sessionToken",value:r.toUint8Array()})}}class la{constructor(){}It(t,r){this.Tt(t,r),r.Et()}Tt(t,r){if("nullValue"in t)this.dt(r,5);else if("booleanValue"in t)this.dt(r,10),r.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(r,15),r.At(ai(t.integerValue));else if("doubleValue"in t){const o=ai(t.doubleValue);isNaN(o)?this.dt(r,13):(this.dt(r,15),Zo(o)?r.At(0):r.At(o))}else if("timestampValue"in t){let o=t.timestampValue;this.dt(r,20),"string"==typeof o&&(o=bs(o)),r.Rt(`${o.seconds||""}`),r.At(o.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,r),this.ft(r);else if("bytesValue"in t)this.dt(r,30),r.gt(Po(t.bytesValue)),this.ft(r);else if("referenceValue"in t)this.yt(t.referenceValue,r);else if("geoPointValue"in t){const o=t.geoPointValue;this.dt(r,45),r.At(o.latitude||0),r.At(o.longitude||0)}else"mapValue"in t?vl(t)?this.dt(r,Number.MAX_SAFE_INTEGER):cs(t)?this.wt(t.mapValue,r):(this.St(t.mapValue,r),this.ft(r)):"arrayValue"in t?(this.bt(t.arrayValue,r),this.ft(r)):En()}Vt(t,r){this.dt(r,25),this.Dt(t,r)}Dt(t,r){r.Rt(t)}St(t,r){const o=t.fields||{};this.dt(r,55);for(const u of Object.keys(o))this.Vt(u,r),this.Tt(o[u],r)}wt(t,r){var o,u;const m=t.fields||{};this.dt(r,53);const E="value",P=(null===(u=null===(o=m[E].arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.length)||0;this.dt(r,15),r.At(ai(P)),this.Vt(E,r),this.Tt(m[E],r)}bt(t,r){const o=t.values||[];this.dt(r,50);for(const u of o)this.Tt(u,r)}yt(t,r){this.dt(r,37),Wn.fromName(t).path.forEach(o=>{this.dt(r,60),this.Dt(o,r)})}dt(t,r){t.At(r)}ft(t){t.At(2)}}function sc(a){if(0===a)return 8;let t=0;return!(a>>4)&&(t+=4,a<<=4),!(a>>6)&&(t+=2,a<<=2),!(a>>7)&&(t+=1),t}function Oc(a){const t=64-function(o){let u=0;for(let m=0;m<8;++m){const E=sc(255&o[m]);if(u+=E,8!==E)break}return u}(a);return Math.ceil(t/8)}la.vt=new la;class Gh{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const r=t[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ft(o.value),o=r.next();this.Mt()}xt(t){const r=t[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ot(o.value),o=r.next();this.Nt()}Lt(t){for(const r of t){const o=r.charCodeAt(0);if(o<128)this.Ft(o);else if(o<2048)this.Ft(960|o>>>6),this.Ft(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o);else{const u=r.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(t){for(const r of t){const o=r.charCodeAt(0);if(o<128)this.Ot(o);else if(o<2048)this.Ot(960|o>>>6),this.Ot(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|o>>>12),this.Ot(128|63&o>>>6),this.Ot(128|63&o);else{const u=r.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(t){const r=this.qt(t),o=Oc(r);this.Qt(1+o),this.buffer[this.position++]=255&o;for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=255&r[u]}Kt(t){const r=this.qt(t),o=Oc(r);this.Qt(1+o),this.buffer[this.position++]=~(255&o);for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const r=function(m){const E=new DataView(new ArrayBuffer(8));return E.setFloat64(0,m,!1),new Uint8Array(E.buffer)}(t),o=!!(128&r[0]);r[0]^=o?255:128;for(let u=1;u<r.length;++u)r[u]^=o?255:0;return r}Ft(t){const r=255&t;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(t){const r=255&t;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const r=t+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class pd{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class Ru{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class oc{constructor(){this.jt=new Gh,this.Ht=new pd(this.jt),this.Jt=new Ru(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class ca{constructor(t,r,o,u){this.indexId=t,this.documentKey=r,this.arrayValue=o,this.directionalValue=u}Zt(){const t=this.directionalValue.length,r=0===t||255===this.directionalValue[t-1]?t+1:t,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==t?o.set([0],this.directionalValue.length):++o[o.length-1],new ca(this.indexId,this.documentKey,this.arrayValue,o)}}function Ia(a,t){let r=a.indexId-t.indexId;return 0!==r?r:(r=ah(a.arrayValue,t.arrayValue),0!==r?r:(r=ah(a.directionalValue,t.directionalValue),0!==r?r:Wn.comparator(a.documentKey,t.documentKey)))}function ah(a,t){for(let r=0;r<a.length&&r<t.length;++r){const o=a[r]-t[r];if(0!==o)return o}return a.length-t.length}class Pu{constructor(t){this.Xt=new Pi((r,o)=>Xr.comparator(r.field,o.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const r of t.filters){const o=r;o.isInequality()?this.Xt=this.Xt.add(o):this.tn.push(o)}}get nn(){return this.Xt.size>1}rn(t){if(kn(t.collectionGroup===this.collectionId),this.nn)return!1;const r=fs(t);if(void 0!==r&&!this.sn(r))return!1;const o=Ts(t);let u=new Set,m=0,E=0;for(;m<o.length&&this.sn(o[m]);++m)u=u.add(o[m].fieldPath.canonicalString());if(m===o.length)return!0;if(this.Xt.size>0){const P=this.Xt.getIterator().getNext();if(!u.has(P.field.canonicalString())){const k=o[m];if(!this.on(P,k)||!this._n(this.en[E++],k))return!1}++m}for(;m<o.length;++m)if(E>=this.en.length||!this._n(this.en[E++],o[m]))return!1;return!0}an(){if(this.nn)return null;let t=new Pi(Xr.comparator);const r=[];for(const o of this.tn)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)r.push(new C(o.field,2));else{if(t.has(o.field))continue;t=t.add(o.field),r.push(new C(o.field,0))}for(const o of this.en)o.field.isKeyField()||t.has(o.field)||(t=t.add(o.field),r.push(new C(o.field,"asc"===o.dir?0:1)));return new zi(zi.UNKNOWN_ID,this.collectionId,r,O.empty())}sn(t){for(const r of this.tn)if(this.on(r,t))return!0;return!1}on(t,r){return!(void 0===t||!t.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,r){return!!t.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===t.dir||1===r.kind&&"desc"===t.dir)}}function Mu(a){var t,r;if(kn(a instanceof ne||a instanceof $),a instanceof ne){if(a instanceof vi){const u=(null===(r=null===(t=a.value.arrayValue)||void 0===t?void 0:t.values)||void 0===r?void 0:r.map(m=>ne.create(a.field,"==",m)))||[];return $.create(u,"or")}return a}const o=a.filters.map(u=>Mu(u));return $.create(o,a.op)}function Kh(a){if(0===a.getFilters().length)return[];const t=gd(Mu(a));return kn(ac(t)),Oo(t)||kc(t)?[t]:t.getFilters()}function Oo(a){return a instanceof ne}function kc(a){return a instanceof $&&sn(a)}function ac(a){return Oo(a)||kc(a)||function(r){if(r instanceof $&&tt(r)){for(const o of r.getFilters())if(!Oo(o)&&!kc(o))return!1;return!0}return!1}(a)}function gd(a){if(kn(a instanceof ne||a instanceof $),a instanceof ne)return a;if(1===a.filters.length)return gd(a.filters[0]);const t=a.filters.map(o=>gd(o));let r=$.create(t,a.op);return r=Lc(r),ac(r)?r:(kn(r instanceof $),kn(se(r)),kn(r.filters.length>1),r.filters.reduce((o,u)=>ko(o,u)))}function ko(a,t){let r;return kn(a instanceof ne||a instanceof $),kn(t instanceof ne||t instanceof $),r=a instanceof ne?t instanceof ne?$.create([a,t],"and"):qs(a,t):t instanceof ne?qs(t,a):function(u,m){if(kn(u.filters.length>0&&m.filters.length>0),se(u)&&se(m))return ns(u,m.getFilters());const E=tt(u)?u:m,P=tt(u)?m:u,k=E.filters.map(q=>ko(q,P));return $.create(k,"or")}(a,t),Lc(r)}function qs(a,t){if(se(t))return ns(t,a.getFilters());{const r=t.filters.map(o=>ko(a,o));return $.create(r,"or")}}function Lc(a){if(kn(a instanceof ne||a instanceof $),a instanceof ne)return a;const t=a.getFilters();if(1===t.length)return Lc(t[0]);if(yn(a))return a;const r=t.map(u=>Lc(u)),o=[];return r.forEach(u=>{u instanceof ne?o.push(u):u instanceof $&&(u.op===a.op?o.push(...u.filters):o.push(u))}),1===o.length?o[0]:$.create(o,a.op)}class ou{constructor(){this.un=new al}addToCollectionParentIndex(t,r){return this.un.add(r),et.resolve()}getCollectionParents(t,r){return et.resolve(this.un.getEntries(r))}addFieldIndex(t,r){return et.resolve()}deleteFieldIndex(t,r){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,r){return et.resolve()}getDocumentsMatchingTarget(t,r){return et.resolve(null)}getIndexType(t,r){return et.resolve(0)}getFieldIndexes(t,r){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,r){return et.resolve(Fe.min())}getMinOffsetFromCollectionGroup(t,r){return et.resolve(Fe.min())}updateCollectionGroup(t,r,o){return et.resolve()}updateIndexEntries(t,r){return et.resolve()}}class al{constructor(){this.index={}}add(t){const r=t.lastSegment(),o=t.popLast(),u=this.index[r]||new Pi(ur.comparator),m=!u.has(o);return this.index[r]=u.add(o),m}has(t){const r=t.lastSegment(),o=t.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(t){return(this.index[t]||new Pi(ur.comparator)).toArray()}}const Fc=new Uint8Array(0);class lh{constructor(t,r){this.databaseId=r,this.cn=new al,this.ln=new Zi(o=>di(o),(o,u)=>Yi(o,u)),this.uid=t.uid||""}addToCollectionParentIndex(t,r){if(!this.cn.has(r)){const o=r.lastSegment(),u=r.popLast();t.addOnCommittedListener(()=>{this.cn.add(r)});const m={collectionId:o,parent:ui(u)};return md(t).put(m)}return et.resolve()}getCollectionParents(t,r){const o=[],u=IDBKeyRange.bound([r,""],[hs(r),""],!1,!0);return md(t).U(u).next(m=>{for(const E of m){if(E.collectionId!==r)break;o.push(Ps(E.parent))}return o})}addFieldIndex(t,r){const o=au(t),u={indexId:(P=r).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(k=>[k.fieldPath.canonicalString(),k.kind])};var P;delete u.indexId;const m=o.add(u);if(r.indexState){const E=Vc(t);return m.next(P=>{E.put(Su(P,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return m.next()}deleteFieldIndex(t,r){const o=au(t),u=Vc(t),m=ll(t);return o.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const r=au(t),o=ll(t),u=Vc(t);return r.j().next(()=>o.j()).next(()=>u.j())}createTargetIndexes(t,r){return et.forEach(this.hn(r),o=>this.getIndexType(t,o).next(u=>{if(0===u||1===u){const m=new Pu(o).an();if(null!=m)return this.addFieldIndex(t,m)}}))}getDocumentsMatchingTarget(t,r){const o=ll(t);let u=!0;const m=new Map;return et.forEach(this.hn(r),E=>this.Pn(t,E).next(P=>{u&&(u=!!P),m.set(E,P)})).next(()=>{if(u){let E=si();const P=[];return et.forEach(m,(k,q)=>{var Mr;Et("IndexedDbIndexManager",`Using index ${Mr=k,`id=${Mr.indexId}|cg=${Mr.collectionGroup}|f=${Mr.fields.map(ri=>`${ri.fieldPath}:${ri.kind}`).join(",")}`} to execute ${di(r)}`);const ge=function(Mr,ri){const xi=fs(ri);if(void 0===xi)return null;for(const Ni of jr(Mr,xi.fieldPath))switch(Ni.op){case"array-contains-any":return Ni.value.arrayValue.values||[];case"array-contains":return[Ni.value]}return null}(q,k),Be=function(Mr,ri){const xi=new Map;for(const Ni of Ts(ri))for(const Ft of jr(Mr,Ni.fieldPath))switch(Ft.op){case"==":case"in":xi.set(Ni.fieldPath.canonicalString(),Ft.value);break;case"not-in":case"!=":return xi.set(Ni.fieldPath.canonicalString(),Ft.value),Array.from(xi.values())}return null}(q,k),It=function(Mr,ri){const xi=[];let Ni=!0;for(const Ft of Ts(ri)){const gt=0===Ft.kind?_a(Mr,Ft.fieldPath,Mr.startAt):Ql(Mr,Ft.fieldPath,Mr.startAt);xi.push(gt.value),Ni&&(Ni=gt.inclusive)}return new ro(xi,Ni)}(q,k),nn=function(Mr,ri){const xi=[];let Ni=!0;for(const Ft of Ts(ri)){const gt=0===Ft.kind?Ql(Mr,Ft.fieldPath,Mr.endAt):_a(Mr,Ft.fieldPath,Mr.endAt);xi.push(gt.value),Ni&&(Ni=gt.inclusive)}return new ro(xi,Ni)}(q,k),An=this.In(k,q,It),$n=this.In(k,q,nn),Ln=this.Tn(k,q,Be),Sr=this.En(k.indexId,ge,An,It.inclusive,$n,nn.inclusive,Ln);return et.forEach(Sr,Kr=>o.G(Kr,r.limit).next(Mr=>{Mr.forEach(ri=>{const xi=Wn.fromSegments(ri.documentKey);E.has(xi)||(E=E.add(xi),P.push(xi))})}))}).next(()=>P)}return et.resolve(null)})}hn(t){let r=this.ln.get(t);return r||(r=0===t.filters.length?[t]:Kh($.create(t.filters,"and")).map(o=>Ws(t.path,t.collectionGroup,t.orderBy,o.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,r),r)}En(t,r,o,u,m,E,P){const k=(null!=r?r.length:1)*Math.max(o.length,m.length),q=k/(null!=r?r.length:1),ge=[];for(let Be=0;Be<k;++Be){const It=r?this.dn(r[Be/q]):Fc,nn=this.An(t,It,o[Be%q],u),An=this.Rn(t,It,m[Be%q],E),$n=P.map(Ln=>this.An(t,It,Ln,!0));ge.push(...this.createRange(nn,An,$n))}return ge}An(t,r,o,u){const m=new ca(t,Wn.empty(),r,o);return u?m:m.Zt()}Rn(t,r,o,u){const m=new ca(t,Wn.empty(),r,o);return u?m.Zt():m}Pn(t,r){const o=new Pu(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(t,u).next(m=>{let E=null;for(const P of m)o.rn(P)&&(!E||P.fields.length>E.fields.length)&&(E=P);return E})}getIndexType(t,r){let o=2;const u=this.hn(r);return et.forEach(u,m=>this.Pn(t,m).next(E=>{E?0!==o&&E.fields.length<function(k){let q=new Pi(Xr.comparator),ge=!1;for(const Be of k.filters)for(const It of Be.getFlattenedFilters())It.field.isKeyField()||("array-contains"===It.op||"array-contains-any"===It.op?ge=!0:q=q.add(It.field));for(const Be of k.orderBy)Be.field.isKeyField()||(q=q.add(Be.field));return q.size+(ge?1:0)}(m)&&(o=1):o=0})).next(()=>null!==r.limit&&u.length>1&&2===o?1:o)}Vn(t,r){const o=new oc;for(const u of Ts(t)){const m=r.data.field(u.fieldPath);if(null==m)return null;const E=o.Yt(u.kind);la.vt.It(m,E)}return o.zt()}dn(t){const r=new oc;return la.vt.It(t,r.Yt(0)),r.zt()}mn(t,r){const o=new oc;return la.vt.It(ma(this.databaseId,r),o.Yt(function(m){const E=Ts(m);return 0===E.length?0:E[E.length-1].kind}(t))),o.zt()}Tn(t,r,o){if(null===o)return[];let u=[];u.push(new oc);let m=0;for(const E of Ts(t)){const P=o[m++];for(const k of u)if(this.fn(r,E.fieldPath)&&Mo(P))u=this.gn(u,E,P);else{const q=k.Yt(E.kind);la.vt.It(P,q)}}return this.pn(u)}In(t,r,o){return this.Tn(t,r,o.position)}pn(t){const r=[];for(let o=0;o<t.length;++o)r[o]=t[o].zt();return r}gn(t,r,o){const u=[...t],m=[];for(const E of o.arrayValue.values||[])for(const P of u){const k=new oc;k.seed(P.zt()),la.vt.It(E,k.Yt(r.kind)),m.push(k)}return m}fn(t,r){return!!t.filters.find(o=>o instanceof ne&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(t,r){const o=au(t),u=Vc(t);return(r?o.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.U()).next(m=>{const E=[];return et.forEach(m,P=>u.get([P.indexId,this.uid]).next(k=>{E.push(function(ge,Be){const It=Be?new O(Be.sequenceNumber,new Fe(sl(Be.readTime),new Wn(Ps(Be.documentKey)),Be.largestBatchId)):O.empty(),nn=ge.fields.map(([An,$n])=>new C(Xr.fromServerFormat(An),$n));return new zi(ge.indexId,ge.collectionGroup,nn,It)}(P,k))})).next(()=>E)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(r=>0===r.length?null:(r.sort((o,u)=>{const m=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==m?m:tr(o.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(t,r,o){const u=au(t),m=Vc(t);return this.yn(t).next(E=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(P=>et.forEach(P,k=>m.put(Su(k.indexId,this.uid,E,o)))))}updateIndexEntries(t,r){const o=new Map;return et.forEach(r,(u,m)=>{const E=o.get(u.collectionGroup);return(E?et.resolve(E):this.getFieldIndexes(t,u.collectionGroup)).next(P=>(o.set(u.collectionGroup,P),et.forEach(P,k=>this.wn(t,u,k).next(q=>{const ge=this.Sn(m,k);return q.isEqual(ge)?et.resolve():this.bn(t,m,k,q,ge)}))))})}Dn(t,r,o,u){return ll(t).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(o,r.key),documentKey:r.key.path.toArray()})}vn(t,r,o,u){return ll(t).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(o,r.key),r.key.path.toArray()])}wn(t,r,o){const u=ll(t);let m=new Pi(Ia);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.mn(o,r)])},(E,P)=>{m=m.add(new ca(o.indexId,r,P.arrayValue,P.directionalValue))}).next(()=>m)}Sn(t,r){let o=new Pi(Ia);const u=this.Vn(r,t);if(null==u)return o;const m=fs(r);if(null!=m){const E=t.data.field(m.fieldPath);if(Mo(E))for(const P of E.arrayValue.values||[])o=o.add(new ca(r.indexId,t.key,this.dn(P),u))}else o=o.add(new ca(r.indexId,t.key,Fc,u));return o}bn(t,r,o,u,m){Et("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const E=[];return function(k,q,ge,Be,It){const nn=k.getIterator(),An=q.getIterator();let $n=Bs(nn),Ln=Bs(An);for(;$n||Ln;){let Sr=!1,Kr=!1;if($n&&Ln){const Mr=ge($n,Ln);Mr<0?Kr=!0:Mr>0&&(Sr=!0)}else null!=$n?Kr=!0:Sr=!0;Sr?(Be(Ln),Ln=Bs(An)):Kr?(It($n),$n=Bs(nn)):($n=Bs(nn),Ln=Bs(An))}}(u,m,Ia,P=>{E.push(this.Dn(t,r,o,P))},P=>{E.push(this.vn(t,r,o,P))}),et.waitFor(E)}yn(t){let r=1;return Vc(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,m)=>{m.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(t,r,o){o=o.sort((E,P)=>Ia(E,P)).filter((E,P,k)=>!P||0!==Ia(E,k[P-1]));const u=[];u.push(t);for(const E of o){const P=Ia(E,t),k=Ia(E,r);if(0===P)u[0]=t.Zt();else if(P>0&&k<0)u.push(E),u.push(E.Zt());else if(k>0)break}u.push(r);const m=[];for(let E=0;E<u.length;E+=2){if(this.Cn(u[E],u[E+1]))return[];m.push(IDBKeyRange.bound([u[E].indexId,this.uid,u[E].arrayValue,u[E].directionalValue,Fc,[]],[u[E+1].indexId,this.uid,u[E+1].arrayValue,u[E+1].directionalValue,Fc,[]]))}return m}Cn(t,r){return Ia(t,r)>0}getMinOffsetFromCollectionGroup(t,r){return this.getFieldIndexes(t,r).next(ch)}getMinOffset(t,r){return et.mapArray(this.hn(r),o=>this.Pn(t,o).next(u=>u||En())).next(ch)}}function md(a){return br(a,"collectionParents")}function ll(a){return br(a,"indexEntries")}function au(a){return br(a,"indexConfiguration")}function Vc(a){return br(a,"indexState")}function ch(a){kn(0!==a.length);let t=a[0].indexState.offset,r=t.largestBatchId;for(let o=1;o<a.length;o++){const u=a[o].indexState.offset;Zt(u,t)<0&&(t=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new Fe(t.readTime,t.documentKey,r)}const vd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class is{constructor(t,r,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(t){return new is(t,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xu(a,t,r){const o=a.store("mutations"),u=a.store("documentMutations"),m=[],E=IDBKeyRange.only(r.batchId);let P=0;const k=o.J({range:E},(ge,Be,It)=>(P++,It.delete()));m.push(k.next(()=>{kn(1===P)}));const q=[];for(const ge of r.mutations){const Be=wr(t,ge.key.path,r.batchId);m.push(u.delete(Be)),q.push(ge.key)}return et.waitFor(m).next(()=>q)}function cl(a){if(!a)return 0;let t;if(a.document)t=a.document;else if(a.unknownDocument)t=a.unknownDocument;else{if(!a.noDocument)throw En();t=a.noDocument}return JSON.stringify(t).length}is.DEFAULT_COLLECTION_PERCENTILE=10,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,is.DEFAULT=new is(41943040,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),is.DISABLED=new is(-1,0,0);class lc{constructor(t,r,o,u){this.userId=t,this.serializer=r,this.indexManager=o,this.referenceDelegate=u,this.Fn={}}static lt(t,r,o,u){kn(""!==t.uid);const m=t.isAuthenticated()?t.uid:"";return new lc(m,r,o,u)}checkEmpty(t){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ta(t).J({index:"userMutationsIndex",range:o},(u,m,E)=>{r=!1,E.done()}).next(()=>r)}addMutationBatch(t,r,o,u){const m=ul(t),E=Ta(t);return E.add({}).next(P=>{kn("number"==typeof P);const k=new ya(P,r,o,u),q=function(nn,An,$n){const Ln=$n.baseMutations.map(Kr=>lo(nn.ct,Kr)),Sr=$n.mutations.map(Kr=>lo(nn.ct,Kr));return{userId:An,batchId:$n.batchId,localWriteTimeMs:$n.localWriteTime.toMillis(),baseMutations:Ln,mutations:Sr}}(this.serializer,this.userId,k),ge=[];let Be=new Pi((It,nn)=>tr(It.canonicalString(),nn.canonicalString()));for(const It of u){const nn=wr(this.userId,It.key.path,P);Be=Be.add(It.key.path.popLast()),ge.push(E.put(q)),ge.push(m.put(nn,eo))}return Be.forEach(It=>{ge.push(this.indexManager.addToCollectionParentIndex(t,It))}),t.addOnCommittedListener(()=>{this.Fn[P]=k.keys()}),et.waitFor(ge).next(()=>k)})}lookupMutationBatch(t,r){return Ta(t).get(r).next(o=>o?(kn(o.userId===this.userId),ic(this.serializer,o)):null)}Mn(t,r){return this.Fn[r]?et.resolve(this.Fn[r]):this.lookupMutationBatch(t,r).next(o=>{if(o){const u=o.keys();return this.Fn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(t,r){const o=r+1,u=IDBKeyRange.lowerBound([this.userId,o]);let m=null;return Ta(t).J({index:"userMutationsIndex",range:u},(E,P,k)=>{P.userId===this.userId&&(kn(P.batchId>=o),m=ic(this.serializer,P)),k.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(t){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Ta(t).J({index:"userMutationsIndex",range:r,reverse:!0},(u,m,E)=>{o=m.batchId,E.done()}).next(()=>o)}getAllMutationBatches(t){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ta(t).U("userMutationsIndex",r).next(o=>o.map(u=>ic(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(t,r){const o=Fs(this.userId,r.path),u=IDBKeyRange.lowerBound(o),m=[];return ul(t).J({range:u},(E,P,k)=>{const[q,ge,Be]=E,It=Ps(ge);if(q===this.userId&&r.path.isEqual(It))return Ta(t).get(Be).next(nn=>{if(!nn)throw En();kn(nn.userId===this.userId),m.push(ic(this.serializer,nn))});k.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(t,r){let o=new Pi(tr);const u=[];return r.forEach(m=>{const E=Fs(this.userId,m.path),P=IDBKeyRange.lowerBound(E),k=ul(t).J({range:P},(q,ge,Be)=>{const[It,nn,An]=q,$n=Ps(nn);It===this.userId&&m.path.isEqual($n)?o=o.add(An):Be.done()});u.push(k)}),et.waitFor(u).next(()=>this.xn(t,o))}getAllMutationBatchesAffectingQuery(t,r){const o=r.path,u=o.length+1,m=Fs(this.userId,o),E=IDBKeyRange.lowerBound(m);let P=new Pi(tr);return ul(t).J({range:E},(k,q,ge)=>{const[Be,It,nn]=k,An=Ps(It);Be===this.userId&&o.isPrefixOf(An)?An.length===u&&(P=P.add(nn)):ge.done()}).next(()=>this.xn(t,P))}xn(t,r){const o=[],u=[];return r.forEach(m=>{u.push(Ta(t).get(m).next(E=>{if(null===E)throw En();kn(E.userId===this.userId),o.push(ic(this.serializer,E))}))}),et.waitFor(u).next(()=>o)}removeMutationBatch(t,r){return xu(t._e,this.userId,r).next(o=>(t.addOnCommittedListener(()=>{this.On(r.batchId)}),et.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(t,u))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(r=>{if(!r)return et.resolve();const o=IDBKeyRange.lowerBound(function(E){return[E]}(this.userId)),u=[];return ul(t).J({range:o},(m,E,P)=>{if(m[0]===this.userId){const k=Ps(m[1]);u.push(k)}else P.done()}).next(()=>{kn(0===u.length)})})}containsKey(t,r){return _d(t,this.userId,r)}Nn(t){return uh(t).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _d(a,t,r){const o=Fs(t,r.path),u=o[1],m=IDBKeyRange.lowerBound(o);let E=!1;return ul(a).J({range:m,H:!0},(P,k,q)=>{const[ge,Be,It]=P;ge===t&&Be===u&&(E=!0),q.done()}).next(()=>E)}function Ta(a){return br(a,"mutations")}function ul(a){return br(a,"documentMutations")}function uh(a){return br(a,"mutationQueues")}class Ul{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ul(0)}static kn(){return new Ul(-1)}}class ua{constructor(t,r){this.referenceDelegate=t,this.serializer=r}allocateTargetId(t){return this.qn(t).next(r=>{const o=new Ul(r.highestTargetId);return r.highestTargetId=o.next(),this.Qn(t,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(r=>mr.fromTimestamp(new Ri(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(t,r,o){return this.qn(t).next(u=>(u.highestListenSequenceNumber=r,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.Qn(t,u)))}addTargetData(t,r){return this.Kn(t,r).next(()=>this.qn(t).next(o=>(o.targetCount+=1,this.$n(r,o),this.Qn(t,o))))}updateTargetData(t,r){return this.Kn(t,r)}removeTargetData(t,r){return this.removeMatchingKeysForTargetId(t,r.targetId).next(()=>bl(t).delete(r.targetId)).next(()=>this.qn(t)).next(o=>(kn(o.targetCount>0),o.targetCount-=1,this.Qn(t,o)))}removeTargets(t,r,o){let u=0;const m=[];return bl(t).J((E,P)=>{const k=Os(P);k.sequenceNumber<=r&&null===o.get(k.targetId)&&(u++,m.push(this.removeTargetData(t,k)))}).next(()=>et.waitFor(m)).next(()=>u)}forEachTarget(t,r){return bl(t).J((o,u)=>{const m=Os(u);r(m)})}qn(t){return dh(t).get("targetGlobalKey").next(r=>(kn(null!==r),r))}Qn(t,r){return dh(t).put("targetGlobalKey",r)}Kn(t,r){return bl(t).put(Ea(this.serializer,r))}$n(t,r){let o=!1;return t.targetId>r.highestTargetId&&(r.highestTargetId=t.targetId,o=!0),t.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t.sequenceNumber,o=!0),o}getTargetCount(t){return this.qn(t).next(r=>r.targetCount)}getTargetData(t,r){const o=di(r),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let m=null;return bl(t).J({range:u,index:"queryTargetsIndex"},(E,P,k)=>{const q=Os(P);Yi(r,q.target)&&(m=q,k.done())}).next(()=>m)}addMatchingKeys(t,r,o){const u=[],m=cc(t);return r.forEach(E=>{const P=ui(E.path);u.push(m.put({targetId:o,path:P})),u.push(this.referenceDelegate.addReference(t,o,E))}),et.waitFor(u)}removeMatchingKeys(t,r,o){const u=cc(t);return et.forEach(r,m=>{const E=ui(m.path);return et.waitFor([u.delete([o,E]),this.referenceDelegate.removeReference(t,o,m)])})}removeMatchingKeysForTargetId(t,r){const o=cc(t),u=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(t,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),u=cc(t);let m=si();return u.J({range:o,H:!0},(E,P,k)=>{const q=Ps(E[1]),ge=new Wn(q);m=m.add(ge)}).next(()=>m)}containsKey(t,r){const o=ui(r.path),u=IDBKeyRange.bound([o],[hs(o)],!1,!0);let m=0;return cc(t).J({index:"documentTargetsIndex",H:!0,range:u},([E,P],k,q)=>{0!==E&&(m++,q.done())}).next(()=>m>0)}ot(t,r){return bl(t).get(r).next(o=>o?Os(o):null)}}function bl(a){return br(a,"targets")}function dh(a){return br(a,"targetGlobal")}function cc(a){return br(a,"targetDocuments")}function uc([a,t],[r,o]){const u=tr(a,r);return 0===u?tr(t,o):u}class dc{constructor(t){this.Un=t,this.buffer=new Pi(uc),this.Wn=0}Gn(){return++this.Wn}zn(t){const r=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();uc(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Xh{constructor(t,r,o){this.garbageCollector=t,this.asyncQueue=r,this.localStore=o,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var r=this;Et("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Q.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){qr(o)?Et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield fn(o)}yield r.Hn(3e5)}))}}class qh{constructor(t,r){this.Jn=t,this.params=r}calculateTargetCount(t,r){return this.Jn.Yn(t).next(o=>Math.floor(r/100*o))}nthSequenceNumber(t,r){if(0===r)return et.resolve(qi.oe);const o=new dc(r);return this.Jn.forEachTarget(t,u=>o.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(t,u=>o.zn(u))).next(()=>o.maxValue)}removeTargets(t,r,o){return this.Jn.removeTargets(t,r,o)}removeOrphanedDocuments(t,r){return this.Jn.removeOrphanedDocuments(t,r)}collect(t,r){return-1===this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(vd)):this.getCacheSize(t).next(o=>o<this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vd):this.Xn(t,r))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,r){let o,u,m,E,P,k,q;const ge=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Be=>(Be>this.params.maximumSequenceNumbersToCollect?(Et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Be}`),u=this.params.maximumSequenceNumbersToCollect):u=Be,E=Date.now(),this.nthSequenceNumber(t,u))).next(Be=>(o=Be,P=Date.now(),this.removeTargets(t,o,r))).next(Be=>(m=Be,k=Date.now(),this.removeOrphanedDocuments(t,o))).next(Be=>(q=Date.now(),Wt()<=Wr.$b.DEBUG&&Et("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-ge}ms\n\tDetermined least recently used ${u} in `+(P-E)+`ms\n\tRemoved ${m} targets in `+(k-P)+`ms\n\tRemoved ${Be} documents in `+(q-k)+`ms\nTotal Duration: ${q-ge}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:m,documentsRemoved:Be})))}}class lu{constructor(t,r){this.db=t,this.garbageCollector=function yd(a,t){return new qh(a,t)}(this,r)}Yn(t){const r=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(o=>r.next(u=>o+u))}er(t){let r=0;return this.Zn(t,o=>{r++}).next(()=>r)}forEachTarget(t,r){return this.db.getTargetCache().forEachTarget(t,r)}Zn(t,r){return this.tr(t,(o,u)=>r(u))}addReference(t,r,o){return Bl(t,o)}removeReference(t,r,o){return Bl(t,o)}removeTargets(t,r,o){return this.db.getTargetCache().removeTargets(t,r,o)}markPotentiallyOrphaned(t,r){return Bl(t,r)}nr(t,r){return function(u,m){let E=!1;return uh(u).Y(P=>_d(u,P,m).next(k=>(k&&(E=!0),et.resolve(!k)))).next(()=>E)}(t,r)}removeOrphanedDocuments(t,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let m=0;return this.tr(t,(E,P)=>{if(P<=r){const k=this.nr(t,E).next(q=>{if(!q)return m++,o.getEntry(t,E).next(()=>(o.removeEntry(E,mr.min()),cc(t).delete([0,ui(E.path)])))});u.push(k)}}).next(()=>et.waitFor(u)).next(()=>o.apply(t)).next(()=>m)}removeTarget(t,r){const o=r.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,o)}updateLimboDocument(t,r){return Bl(t,r)}tr(t,r){const o=cc(t);let u,m=qi.oe;return o.J({index:"documentTargetsIndex"},([E,P],{path:k,sequenceNumber:q})=>{0===E?(m!==qi.oe&&r(new Wn(Ps(u)),m),m=q,u=k):m=qi.oe}).next(()=>{m!==qi.oe&&r(new Wn(Ps(u)),m)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Bl(a,t){return cc(a).put((u=a.currentSequenceNumber,{targetId:0,path:ui(t.path),sequenceNumber:u}));var u}class Qs{constructor(){this.changes=new Zi(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,ki.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?et.resolve(o):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Yf{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,r,o){return hc(t).put(o)}removeEntry(t,r,o){return hc(t).delete(function(m,E){const P=m.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],Du(E),P[P.length-1]]}(r,o))}updateMetadata(t,r){return this.getMetadata(t).next(o=>(o.byteSize+=r,this.rr(t,o)))}getEntry(t,r){let o=ki.newInvalidDocument(r);return hc(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(fc(r))},(u,m)=>{o=this.ir(r,m)}).next(()=>o)}sr(t,r){let o={size:0,document:ki.newInvalidDocument(r)};return hc(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(fc(r))},(u,m)=>{o={document:this.ir(r,m),size:cl(m)}}).next(()=>o)}getEntries(t,r){let o=vo();return this._r(t,r,(u,m)=>{const E=this.ir(u,m);o=o.insert(u,E)}).next(()=>o)}ar(t,r){let o=vo(),u=new Qi(Wn.comparator);return this._r(t,r,(m,E)=>{const P=this.ir(m,E);o=o.insert(m,P),u=u.insert(m,cl(E))}).next(()=>({documents:o,ur:u}))}_r(t,r,o){if(r.isEmpty())return et.resolve();let u=new Pi(ph);r.forEach(k=>u=u.add(k));const m=IDBKeyRange.bound(fc(u.first()),fc(u.last())),E=u.getIterator();let P=E.getNext();return hc(t).J({index:"documentKeyIndex",range:m},(k,q,ge)=>{const Be=Wn.fromSegments([...q.prefixPath,q.collectionGroup,q.documentId]);for(;P&&ph(P,Be)<0;)o(P,null),P=E.getNext();P&&P.isEqual(Be)&&(o(P,q),P=E.hasNext()?E.getNext():null),P?ge.$(fc(P)):ge.done()}).next(()=>{for(;P;)o(P,null),P=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(t,r,o,u,m){const E=r.path,P=[E.popLast().toArray(),E.lastSegment(),Du(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],k=[E.popLast().toArray(),E.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hc(t).U(IDBKeyRange.bound(P,k,!0)).next(q=>{m?.incrementDocumentReadCount(q.length);let ge=vo();for(const Be of q){const It=this.ir(Wn.fromSegments(Be.prefixPath.concat(Be.collectionGroup,Be.documentId)),Be);It.isFoundDocument()&&(Oa(r,It)||u.has(It.key))&&(ge=ge.insert(It.key,It))}return ge})}getAllFromCollectionGroup(t,r,o,u){let m=vo();const E=Qh(r,o),P=Qh(r,Fe.max());return hc(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,P,!0)},(k,q,ge)=>{const Be=this.ir(Wn.fromSegments(q.prefixPath.concat(q.collectionGroup,q.documentId)),q);m=m.insert(Be.key,Be),m.size===u&&ge.done()}).next(()=>m)}newChangeBuffer(t){return new hh(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(r=>r.byteSize)}getMetadata(t){return fh(t).get("remoteDocumentGlobalKey").next(r=>(kn(!!r),r))}rr(t,r){return fh(t).put("remoteDocumentGlobalKey",r)}ir(t,r){if(r){const o=function Au(a,t){let r;if(t.document)r=cd(a.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const o=Wn.fromSegments(t.noDocument.path),u=sl(t.noDocument.readTime);r=ki.newNoDocument(o,u),t.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!t.unknownDocument)return En();{const o=Wn.fromSegments(t.unknownDocument.path),u=sl(t.unknownDocument.version);r=ki.newUnknownDocument(o,u)}}return t.readTime&&r.setReadTime(function(u){const m=new Ri(u[0],u[1]);return mr.fromTimestamp(m)}(t.readTime)),r}(this.serializer,r);if(!o.isNoDocument()||!o.version.isEqual(mr.min()))return o}return ki.newInvalidDocument(t)}}function Uc(a){return new Yf(a)}class hh extends Qs{constructor(t,r){super(),this.cr=t,this.trackRemovals=r,this.lr=new Zi(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(t){const r=[];let o=0,u=new Pi((m,E)=>tr(m.canonicalString(),E.canonicalString()));return this.changes.forEach((m,E)=>{const P=this.lr.get(m);if(r.push(this.cr.removeEntry(t,m,P.readTime)),E.isValidDocument()){const k=nh(this.cr.serializer,E);u=u.add(m.path.popLast());const q=cl(k);o+=q-P.size,r.push(this.cr.addEntry(t,m,k))}else if(o-=P.size,this.trackRemovals){const k=nh(this.cr.serializer,E.convertToNoDocument(mr.min()));r.push(this.cr.addEntry(t,m,k))}}),u.forEach(m=>{r.push(this.cr.indexManager.addToCollectionParentIndex(t,m))}),r.push(this.cr.updateMetadata(t,o)),et.waitFor(r)}getFromCache(t,r){return this.cr.sr(t,r).next(o=>(this.lr.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(t,r){return this.cr.ar(t,r).next(({documents:o,ur:u})=>(u.forEach((m,E)=>{this.lr.set(m,{size:E,readTime:o.get(m).readTime})}),o))}}function fh(a){return br(a,"remoteDocumentGlobal")}function hc(a){return br(a,"remoteDocumentsV14")}function fc(a){const t=a.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Qh(a,t){const r=t.documentKey.path.toArray();return[a,Du(t.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function ph(a,t){const r=a.path.toArray(),o=t.path.toArray();let u=0;for(let m=0;m<r.length-2&&m<o.length-2;++m)if(u=tr(r[m],o[m]),u)return u;return u=tr(r.length,o.length),u||(u=tr(r[r.length-2],o[o.length-2]),u||tr(r[r.length-1],o[o.length-1]))}class Ed{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class Bc{constructor(t,r,o,u){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=u}getDocument(t,r){let o=null;return this.documentOverlayCache.getOverlay(t,r).next(u=>(o=u,this.remoteDocumentCache.getEntry(t,r))).next(u=>(null!==o&&el(o.mutation,u,Ms.empty(),Ri.now()),u))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.getLocalViewOfDocuments(t,o,si()).next(()=>o))}getLocalViewOfDocuments(t,r,o=si()){const u=Ns();return this.populateOverlays(t,u,r).next(()=>this.computeViews(t,r,u,o).next(m=>{let E=Ja();return m.forEach((P,k)=>{E=E.insert(P,k.overlayedDocument)}),E}))}getOverlayedDocuments(t,r){const o=Ns();return this.populateOverlays(t,o,r).next(()=>this.computeViews(t,r,o,si()))}populateOverlays(t,r,o){const u=[];return o.forEach(m=>{r.has(m)||u.push(m)}),this.documentOverlayCache.getOverlays(t,u).next(m=>{m.forEach((E,P)=>{r.set(E,P)})})}computeViews(t,r,o,u){let m=vo();const E=Pl(),P=Pl();return r.forEach((k,q)=>{const ge=o.get(q.key);u.has(q.key)&&(void 0===ge||ge.mutation instanceof El)?m=m.insert(q.key,q):void 0!==ge?(E.set(q.key,ge.mutation.getFieldMask()),el(ge.mutation,q,ge.mutation.getFieldMask(),Ri.now())):E.set(q.key,Ms.empty())}),this.recalculateAndSaveOverlays(t,m).next(k=>(k.forEach((q,ge)=>E.set(q,ge)),r.forEach((q,ge)=>{var Be;return P.set(q,new Ed(ge,null!==(Be=E.get(q))&&void 0!==Be?Be:null))}),P))}recalculateAndSaveOverlays(t,r){const o=Pl();let u=new Qi((E,P)=>E-P),m=si();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(E=>{for(const P of E)P.keys().forEach(k=>{const q=r.get(k);if(null===q)return;let ge=o.get(k)||Ms.empty();ge=P.applyToLocalView(q,ge),o.set(k,ge);const Be=(u.get(P.batchId)||si()).add(k);u=u.insert(P.batchId,Be)})}).next(()=>{const E=[],P=u.getReverseIterator();for(;P.hasNext();){const k=P.getNext(),q=k.key,ge=k.value,Be=Zc();ge.forEach(It=>{if(!m.has(It)){const nn=sa(r.get(It),o.get(It));null!==nn&&Be.set(It,nn),m=m.add(It)}}),E.push(this.documentOverlayCache.saveOverlays(t,q,Be))}return et.waitFor(E)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,r,o,u){return Wn.isDocumentKey((E=r).path)&&null===E.collectionGroup&&0===E.filters.length?this.getDocumentsMatchingDocumentQuery(t,r.path):Na(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,o,u):this.getDocumentsMatchingCollectionQuery(t,r,o,u);var E}getNextDocuments(t,r,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,o,u).next(m=>{const E=u-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,o.largestBatchId,u-m.size):et.resolve(Ns());let P=-1,k=m;return E.next(q=>et.forEach(q,(ge,Be)=>(P<Be.largestBatchId&&(P=Be.largestBatchId),m.get(ge)?et.resolve():this.remoteDocumentCache.getEntry(t,ge).next(It=>{k=k.insert(ge,It)}))).next(()=>this.populateOverlays(t,q,m)).next(()=>this.computeViews(t,k,q,si())).next(ge=>({batchId:P,changes:ao(ge)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Wn(r)).next(o=>{let u=Ja();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(t,r,o,u){const m=r.collectionGroup;let E=Ja();return this.indexManager.getCollectionParents(t,m).next(P=>et.forEach(P,k=>{const q=(Be=r,It=k.child(m),new po(It,null,Be.explicitOrderBy.slice(),Be.filters.slice(),Be.limit,Be.limitType,Be.startAt,Be.endAt));var Be,It;return this.getDocumentsMatchingCollectionQuery(t,q,o,u).next(ge=>{ge.forEach((Be,It)=>{E=E.insert(Be,It)})})}).next(()=>E))}getDocumentsMatchingCollectionQuery(t,r,o,u){let m;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,o.largestBatchId).next(E=>(m=E,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,o,m,u))).next(E=>{m.forEach((k,q)=>{const ge=q.getKey();null===E.get(ge)&&(E=E.insert(ge,ki.newInvalidDocument(ge)))});let P=Ja();return E.forEach((k,q)=>{const ge=m.get(k);void 0!==ge&&el(ge.mutation,q,Ms.empty(),Ri.now()),Oa(r,q)&&(P=P.insert(k,q))}),P})}}class Id{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,r){return et.resolve(this.hr.get(r))}saveBundleMetadata(t,r){return this.hr.set(r.id,{id:(u=r).id,version:u.version,createTime:vs(u.createTime)}),et.resolve();var u}getNamedQuery(t,r){return et.resolve(this.Pr.get(r))}saveNamedQuery(t,r){return this.Pr.set(r.name,{name:(u=r).name,query:Ui(u.bundledQuery),readTime:vs(u.readTime)}),et.resolve();var u}}class Ua{constructor(){this.overlays=new Qi(Wn.comparator),this.Ir=new Map}getOverlay(t,r){return et.resolve(this.overlays.get(r))}getOverlays(t,r){const o=Ns();return et.forEach(r,u=>this.getOverlay(t,u).next(m=>{null!==m&&o.set(u,m)})).next(()=>o)}saveOverlays(t,r,o){return o.forEach((u,m)=>{this.ht(t,r,m)}),et.resolve()}removeOverlaysForBatchId(t,r,o){const u=this.Ir.get(o);return void 0!==u&&(u.forEach(m=>this.overlays=this.overlays.remove(m)),this.Ir.delete(o)),et.resolve()}getOverlaysForCollection(t,r,o){const u=Ns(),m=r.length+1,E=new Wn(r.child("")),P=this.overlays.getIteratorFrom(E);for(;P.hasNext();){const k=P.getNext().value,q=k.getKey();if(!r.isPrefixOf(q.path))break;q.path.length===m&&k.largestBatchId>o&&u.set(k.getKey(),k)}return et.resolve(u)}getOverlaysForCollectionGroup(t,r,o,u){let m=new Qi((q,ge)=>q-ge);const E=this.overlays.getIterator();for(;E.hasNext();){const q=E.getNext().value;if(q.getKey().getCollectionGroup()===r&&q.largestBatchId>o){let ge=m.get(q.largestBatchId);null===ge&&(ge=Ns(),m=m.insert(q.largestBatchId,ge)),ge.set(q.getKey(),q)}}const P=Ns(),k=m.getIterator();for(;k.hasNext()&&(k.getNext().value.forEach((q,ge)=>P.set(q,ge)),!(P.size()>=u)););return et.resolve(P)}ht(t,r,o){const u=this.overlays.get(o.key);if(null!==u){const E=this.Ir.get(u.largestBatchId).delete(o.key);this.Ir.set(u.largestBatchId,E)}this.overlays=this.overlays.insert(o.key,new Nl(r,o));let m=this.Ir.get(r);void 0===m&&(m=si(),this.Ir.set(r,m)),this.Ir.set(r,m.add(o.key))}}class Jf{constructor(){this.sessionToken=Yr.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,et.resolve()}}class $c{constructor(){this.Tr=new Pi(Ys.Er),this.dr=new Pi(Ys.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,r){const o=new Ys(t,r);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(t,r){t.forEach(o=>this.addReference(o,r))}removeReference(t,r){this.Vr(new Ys(t,r))}mr(t,r){t.forEach(o=>this.removeReference(o,r))}gr(t){const r=new Wn(new ur([])),o=new Ys(r,t),u=new Ys(r,t+1),m=[];return this.dr.forEachInRange([o,u],E=>{this.Vr(E),m.push(E.key)}),m}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const r=new Wn(new ur([])),o=new Ys(r,t),u=new Ys(r,t+1);let m=si();return this.dr.forEachInRange([o,u],E=>{m=m.add(E.key)}),m}containsKey(t){const r=new Ys(t,0),o=this.Tr.firstAfterOrEqual(r);return null!==o&&t.isEqual(o.key)}}class Ys{constructor(t,r){this.key=t,this.wr=r}static Er(t,r){return Wn.comparator(t.key,r.key)||tr(t.wr,r.wr)}static Ar(t,r){return tr(t.wr,r.wr)||Wn.comparator(t.key,r.key)}}class Ca{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Pi(Ys.Er)}checkEmpty(t){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(t,r,o,u){const m=this.Sr;this.Sr++;const E=new ya(m,r,o,u);this.mutationQueue.push(E);for(const P of u)this.br=this.br.add(new Ys(P.key,m)),this.indexManager.addToCollectionParentIndex(t,P.key.path.popLast());return et.resolve(E)}lookupMutationBatch(t,r){return et.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(t,r){const u=this.vr(r+1),m=u<0?0:u;return et.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const o=new Ys(r,0),u=new Ys(r,Number.POSITIVE_INFINITY),m=[];return this.br.forEachInRange([o,u],E=>{const P=this.Dr(E.wr);m.push(P)}),et.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(t,r){let o=new Pi(tr);return r.forEach(u=>{const m=new Ys(u,0),E=new Ys(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([m,E],P=>{o=o.add(P.wr)})}),et.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(t,r){const o=r.path,u=o.length+1;let m=o;Wn.isDocumentKey(m)||(m=m.child(""));const E=new Ys(new Wn(m),0);let P=new Pi(tr);return this.br.forEachWhile(k=>{const q=k.key.path;return!!o.isPrefixOf(q)&&(q.length===u&&(P=P.add(k.wr)),!0)},E),et.resolve(this.Cr(P))}Cr(t){const r=[];return t.forEach(o=>{const u=this.Dr(o);null!==u&&r.push(u)}),r}removeMutationBatch(t,r){kn(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.br;return et.forEach(r.mutations,u=>{const m=new Ys(u.key,r.batchId);return o=o.delete(m),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.br=o})}On(t){}containsKey(t,r){const o=new Ys(r,0),u=this.br.firstAfterOrEqual(o);return et.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(t){return et.resolve()}Fr(t,r){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const r=this.vr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class pc{constructor(t){this.Mr=t,this.docs=new Qi(Wn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const o=r.key,u=this.docs.get(o),m=u?u.size:0,E=this.Mr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:E}),this.size+=E-m,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const o=this.docs.get(r);return et.resolve(o?o.document.mutableCopy():ki.newInvalidDocument(r))}getEntries(t,r){let o=vo();return r.forEach(u=>{const m=this.docs.get(u);o=o.insert(u,m?m.document.mutableCopy():ki.newInvalidDocument(u))}),et.resolve(o)}getDocumentsMatchingQuery(t,r,o,u){let m=vo();const E=r.path,P=new Wn(E.child("")),k=this.docs.getIteratorFrom(P);for(;k.hasNext();){const{key:q,value:{document:ge}}=k.getNext();if(!E.isPrefixOf(q.path))break;q.path.length>E.length+1||Zt(K(ge),o)<=0||(u.has(ge.key)||Oa(r,ge))&&(m=m.insert(ge.key,ge.mutableCopy()))}return et.resolve(m)}getAllFromCollectionGroup(t,r,o,u){En()}Or(t,r){return et.forEach(this.docs,o=>r(o))}newChangeBuffer(t){return new Yh(this)}getSize(t){return et.resolve(this.size)}}class Yh extends Qs{constructor(t){super(),this.cr=t}applyChanges(t){const r=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?r.push(this.cr.addEntry(t,u)):this.cr.removeEntry(o)}),et.waitFor(r)}getFromCache(t,r){return this.cr.getEntry(t,r)}getAllFromCache(t,r){return this.cr.getEntries(t,r)}}class Zf{constructor(t){this.persistence=t,this.Nr=new Zi(r=>di(r),Yi),this.lastRemoteSnapshotVersion=mr.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $c,this.targetCount=0,this.kr=Ul.Bn()}forEachTarget(t,r){return this.Nr.forEach((o,u)=>r(u)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Lr&&(this.Lr=r),et.resolve()}Kn(t){this.Nr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.kr=new Ul(r),this.highestTargetId=r),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,r){return this.Kn(r),this.targetCount+=1,et.resolve()}updateTargetData(t,r){return this.Kn(r),et.resolve()}removeTargetData(t,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,r,o){let u=0;const m=[];return this.Nr.forEach((E,P)=>{P.sequenceNumber<=r&&null===o.get(P.targetId)&&(this.Nr.delete(E),m.push(this.removeMatchingKeysForTargetId(t,P.targetId)),u++)}),et.waitFor(m).next(()=>u)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,r){const o=this.Nr.get(r)||null;return et.resolve(o)}addMatchingKeys(t,r,o){return this.Br.Rr(r,o),et.resolve()}removeMatchingKeys(t,r,o){this.Br.mr(r,o);const u=this.persistence.referenceDelegate,m=[];return u&&r.forEach(E=>{m.push(u.markPotentiallyOrphaned(t,E))}),et.waitFor(m)}removeMatchingKeysForTargetId(t,r){return this.Br.gr(r),et.resolve()}getMatchingKeysForTargetId(t,r){const o=this.Br.yr(r);return et.resolve(o)}containsKey(t,r){return et.resolve(this.Br.containsKey(r))}}class Td{constructor(t,r){this.qr={},this.overlays={},this.Qr=new qi(0),this.Kr=!1,this.Kr=!0,this.$r=new Jf,this.referenceDelegate=t(this),this.Ur=new Zf(this),this.indexManager=new ou,this.remoteDocumentCache=new pc(o=>this.referenceDelegate.Wr(o)),this.serializer=new hd(r),this.Gr=new Id(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Ua,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let o=this.qr[t.toKey()];return o||(o=new Ca(r,this.referenceDelegate),this.qr[t.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,r,o){Et("MemoryPersistence","Starting transaction:",t);const u=new Cd(this.Qr.next());return this.referenceDelegate.zr(),o(u).next(m=>this.referenceDelegate.jr(u).next(()=>m)).toPromise().then(m=>(u.raiseOnCommittedEvent(),m))}Hr(t,r){return et.or(Object.values(this.qr).map(o=>()=>o.containsKey(t,r)))}}class Cd extends gn{constructor(t){super(),this.currentSequenceNumber=t}}class cu{constructor(t){this.persistence=t,this.Jr=new $c,this.Yr=null}static Zr(t){return new cu(t)}get Xr(){if(this.Yr)return this.Yr;throw En()}addReference(t,r,o){return this.Jr.addReference(o,r),this.Xr.delete(o.toString()),et.resolve()}removeReference(t,r,o){return this.Jr.removeReference(o,r),this.Xr.add(o.toString()),et.resolve()}markPotentiallyOrphaned(t,r){return this.Xr.add(r.toString()),et.resolve()}removeTarget(t,r){this.Jr.gr(r.targetId).forEach(u=>this.Xr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,r.targetId).next(u=>{u.forEach(m=>this.Xr.add(m.toString()))}).next(()=>o.removeTargetData(t,r))}zr(){this.Yr=new Set}jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Xr,o=>{const u=Wn.fromPath(o);return this.ei(t,u).next(m=>{m||r.removeEntry(u,mr.min())})}).next(()=>(this.Yr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ei(t,r).next(o=>{o?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(t){return 0}ei(t,r){return et.or([()=>et.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Hr(t,r)])}}class ng{constructor(t){this.serializer=t}O(t,r,o,u){const m=new On("createOrUpgrade",r);var k;o<1&&u>=1&&(t.createObjectStore("owner"),(k=t).createObjectStore("mutationQueues",{keyPath:"userId"}),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pa,{unique:!0}),k.createObjectStore("documentMutations"),gc(t),function(k){k.createObjectStore("remoteDocuments")}(t));let E=et.resolve();return o<3&&u>=3&&(0!==o&&(function(k){k.deleteObjectStore("targetDocuments"),k.deleteObjectStore("targets"),k.deleteObjectStore("targetGlobal")}(t),gc(t)),E=E.next(()=>function(k){const q=k.store("targetGlobal"),ge={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:mr.min().toTimestamp(),targetCount:0};return q.put("targetGlobalKey",ge)}(m))),o<4&&u>=4&&(0!==o&&(E=E.next(()=>function(k,q){return q.store("mutations").U().next(ge=>{k.deleteObjectStore("mutations"),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pa,{unique:!0});const Be=q.store("mutations"),It=ge.map(nn=>Be.put(nn));return et.waitFor(It)})}(t,m))),E=E.next(()=>{!function(k){k.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),o<5&&u>=5&&(E=E.next(()=>this.ni(m))),o<6&&u>=6&&(E=E.next(()=>(function(k){k.createObjectStore("remoteDocumentGlobal")}(t),this.ri(m)))),o<7&&u>=7&&(E=E.next(()=>this.ii(m))),o<8&&u>=8&&(E=E.next(()=>this.si(t,m))),o<9&&u>=9&&(E=E.next(()=>{!function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")}(t)})),o<10&&u>=10&&(E=E.next(()=>this.oi(m))),o<11&&u>=11&&(E=E.next(()=>{(function(k){k.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(k){k.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),o<12&&u>=12&&(E=E.next(()=>{!function(k){const q=k.createObjectStore("documentOverlays",{keyPath:Ra});q.createIndex("collectionPathOverlayIndex",Gl,{unique:!1}),q.createIndex("collectionGroupOverlayIndex",Kl,{unique:!1})}(t)})),o<13&&u>=13&&(E=E.next(()=>function(k){const q=k.createObjectStore("remoteDocumentsV14",{keyPath:Wa});q.createIndex("documentKeyIndex",to),q.createIndex("collectionGroupIndex",za)}(t)).next(()=>this._i(t,m)).next(()=>t.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(E=E.next(()=>this.ai(t,m))),o<15&&u>=15&&(E=E.next(()=>function(k){k.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),k.createObjectStore("indexState",{keyPath:Cs}).createIndex("sequenceNumberIndex",Fo,{unique:!1}),k.createObjectStore("indexEntries",{keyPath:Yc}).createIndex("documentKeyIndex",ji,{unique:!1})}(t))),o<16&&u>=16&&(E=E.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),o<17&&u>=17&&(E=E.next(()=>{!function(k){k.createObjectStore("globals",{keyPath:"name"})}(t)})),E}ri(t){let r=0;return t.store("remoteDocuments").J((o,u)=>{r+=cl(u)}).next(()=>{const o={byteSize:r};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}ni(t){const r=t.store("mutationQueues"),o=t.store("mutations");return r.U().next(u=>et.forEach(u,m=>{const E=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return o.U("userMutationsIndex",E).next(P=>et.forEach(P,k=>{kn(k.userId===m.userId);const q=ic(this.serializer,k);return xu(t,m.userId,q).next(()=>{})}))}))}ii(t){const r=t.store("targetDocuments"),o=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(u=>{const m=[];return o.J((E,P)=>{const k=new ur(E),q=[0,ui(k)];m.push(r.get(q).next(ge=>ge?et.resolve():r.put({targetId:0,path:ui(k),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>et.waitFor(m))})}si(t,r){t.createObjectStore("collectionParents",{keyPath:Zr});const o=r.store("collectionParents"),u=new al,m=E=>{if(u.add(E)){const P=E.lastSegment(),k=E.popLast();return o.put({collectionId:P,parent:ui(k)})}};return r.store("remoteDocuments").J({H:!0},(E,P)=>{const k=new ur(E);return m(k.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([E,P,k],q)=>{const ge=Ps(P);return m(ge.popLast())}))}oi(t){const r=t.store("targets");return r.J((o,u)=>{const m=Os(u),E=Ea(this.serializer,m);return r.put(E)})}_i(t,r){const o=r.store("remoteDocuments"),u=[];return o.J((m,E)=>{const P=r.store("remoteDocumentsV14"),k=(Be=E,Be.document?new Wn(ur.fromString(Be.document.name).popFirst(5)):Be.noDocument?Wn.fromSegments(Be.noDocument.path):Be.unknownDocument?Wn.fromSegments(Be.unknownDocument.path):En()).path.toArray(),q={prefixPath:k.slice(0,k.length-2),collectionGroup:k[k.length-2],documentId:k[k.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};var Be;u.push(P.put(q))}).next(()=>et.waitFor(u))}ai(t,r){const o=r.store("mutations"),u=Uc(this.serializer),m=new Td(cu.Zr,this.serializer.ct);return o.U().next(E=>{const P=new Map;return E.forEach(k=>{var q;let ge=null!==(q=P.get(k.userId))&&void 0!==q?q:si();ic(this.serializer,k).keys().forEach(Be=>ge=ge.add(Be)),P.set(k.userId,ge)}),et.forEach(P,(k,q)=>{const ge=new de(q),Be=ol.lt(this.serializer,ge),It=m.getIndexManager(ge),nn=lc.lt(ge,this.serializer,It,m.referenceDelegate);return new Bc(u,nn,Be,It).recalculateAndSaveOverlaysForDocumentKeys(new Dr(r,qi.oe),k).next()})})}}function gc(a){a.createObjectStore("targetDocuments",{keyPath:ps}).createIndex("documentTargetsIndex",Ks,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Vs,{unique:!0}),a.createObjectStore("targetGlobal")}const wd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bd{constructor(t,r,o,u,m,E,P,k,q,ge,Be=17){if(this.allowTabSynchronization=t,this.persistenceKey=r,this.clientId=o,this.ui=m,this.window=E,this.document=P,this.ci=q,this.li=ge,this.hi=Be,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=It=>Promise.resolve(),!bd.D())throw new on(Lt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lu(this,u),this.Ai=r+"main",this.serializer=new hd(k),this.Ri=new lr(this.Ai,this.hi,new ng(this.serializer)),this.$r=new oh,this.Ur=new ua(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Uc(this.serializer),this.Gr=new ih,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ge&&_n("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new on(Lt.FAILED_PRECONDITION,wd);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new qi(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var r=this;return this.di=function(){var o=(0,Q.A)(function*(u){if(r.started)return t(u)});return function(u){return o.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var r=(0,Q.A)(function*(o){null===o.newVersion&&(yield t())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(t){var r=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,Q.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>uu(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(r=>this.isPrimary&&!r?this.bi(t).next(()=>!1):!!r&&this.Di(t).next(()=>!0))).catch(t=>{if(qr(t))return Et("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return Ad(t).get("owner").next(r=>et.resolve(this.vi(r)))}Ci(t){return uu(t).delete(this.clientId)}Fi(){var t=this;return(0,Q.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const r=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=br(o,"clientMetadata");return u.U().next(m=>{const E=t.xi(m,18e5),P=m.filter(k=>-1===E.indexOf(k));return et.forEach(P,k=>u.delete(k.clientId)).next(()=>P)})}).catch(()=>[]);if(t.Vi)for(const o of r)t.Vi.removeItem(t.Oi(o.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?et.resolve(!0):Ad(t).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new on(Lt.FAILED_PRECONDITION,wd);return!1}}return!(!this.networkEnabled||!this.inForeground)||uu(t).U().next(o=>void 0===this.xi(o,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Et("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var t=this;return(0,Q.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new Dr(r,qi.oe);return t.bi(o).next(()=>t.Ci(o))}),t.Ri.close(),t.qi()})()}xi(t,r){return t.filter(o=>this.Mi(o.updateTimeMs,r)&&!this.Ni(o.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>uu(t).U().next(r=>this.xi(r,18e5).map(o=>o.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,r){return lc.lt(t,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new lh(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return ol.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,r,o){Et("IndexedDbPersistence","Starting transaction:",t);const u="readonly"===r?"readonly":"readwrite",m=17===(k=this.hi)?_t:16===k?we:15===k?B:14===k?ee:13===k?Y:12===k?Vo:11===k?Pa:void En();var k;let E;return this.Ri.runTransaction(t,u,m,P=>(E=new Dr(P,this.Qr?this.Qr.next():qi.oe),"readwrite-primary"===r?this.wi(E).next(k=>!!k||this.Si(E)).next(k=>{if(!k)throw _n(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new on(Lt.FAILED_PRECONDITION,un);return o(E)}).next(k=>this.Di(E).next(()=>k)):this.Ki(E).next(()=>o(E)))).then(P=>(E.raiseOnCommittedEvent(),P))}Ki(t){return Ad(t).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new on(Lt.FAILED_PRECONDITION,wd)})}Di(t){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ad(t).put("owner",r)}static D(){return lr.D()}bi(t){const r=Ad(t);return r.get("owner").next(o=>this.vi(o)?(Et("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):et.resolve())}Mi(t,r){const o=Date.now();return!(t<o-r||t>o&&(_n(`Detected an update time that is in the future: ${t} > ${o}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,kr.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var r;try{const o=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(t)));return Et("IndexedDbPersistence",`Client '${t}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return _n("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){_n("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Ad(a){return br(a,"owner")}function uu(a){return br(a,"clientMetadata")}function Nu(a,t){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+t+"/"+r+"/"}class Zs{constructor(t,r,o,u){this.targetId=t,this.fromCache=r,this.$i=o,this.Ui=u}static Wi(t,r){let o=si(),u=si();for(const m of r.docChanges)switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:u=u.add(m.doc.key)}return new Zs(t,r.fromCache,o,u)}}class gh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Dd{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,kr.nr)()?8:Gr((0,kr.ZQ)())>0?6:4}initialize(t,r){this.Ji=t,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(t,r,o,u){const m={result:null};return this.Yi(t,r).next(E=>{m.result=E}).next(()=>{if(!m.result)return this.Zi(t,r,u,o).next(E=>{m.result=E})}).next(()=>{if(m.result)return;const E=new gh;return this.Xi(t,r,E).next(P=>{if(m.result=P,this.zi)return this.es(t,r,E,P.size)})}).next(()=>m.result)}es(t,r,o,u){return o.documentReadCount<this.ji?(Wt()<=Wr.$b.DEBUG&&Et("QueryEngine","SDK will not create cache indexes for query:",mo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),et.resolve()):(Wt()<=Wr.$b.DEBUG&&Et("QueryEngine","Query:",mo(r),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Hi*u?(Wt()<=Wr.$b.DEBUG&&Et("QueryEngine","The SDK decides to create cache indexes for query:",mo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,io(r))):et.resolve())}Yi(t,r){if(Sl(r))return et.resolve(null);let o=io(r);return this.indexManager.getIndexType(t,o).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=yr(r,null,"F"),o=io(r)),this.indexManager.getDocumentsMatchingTarget(t,o).next(m=>{const E=si(...m);return this.Ji.getDocuments(t,E).next(P=>this.indexManager.getMinOffset(t,o).next(k=>{const q=this.ts(r,P);return this.ns(r,q,E,k.readTime)?this.Yi(t,yr(r,null,"F")):this.rs(t,q,r,k)}))})))}Zi(t,r,o,u){return Sl(r)||u.isEqual(mr.min())?et.resolve(null):this.Ji.getDocuments(t,o).next(m=>{const E=this.ts(r,m);return this.ns(r,E,o,u)?et.resolve(null):(Wt()<=Wr.$b.DEBUG&&Et("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),mo(r)),this.rs(t,E,r,S(u,-1)).next(P=>P))})}ts(t,r){let o=new Pi(gs(t));return r.forEach((u,m)=>{Oa(t,m)&&(o=o.add(m))}),o}ns(t,r,o,u){if(null===t.limit)return!1;if(o.size!==r.size)return!0;const m="F"===t.limitType?r.last():r.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(u)>0)}Xi(t,r,o){return Wt()<=Wr.$b.DEBUG&&Et("QueryEngine","Using full collection scan to execute query:",mo(r)),this.Ji.getDocumentsMatchingQuery(t,r,Fe.min(),o)}rs(t,r,o,u){return this.Ji.getDocumentsMatchingQuery(t,o,u).next(m=>(r.forEach(E=>{m=m.insert(E.key,E)}),m))}}class jc{constructor(t,r,o,u){this.persistence=t,this.ss=r,this.serializer=u,this.os=new Qi(tr),this._s=new Zi(m=>di(m),Yi),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(o)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Bc(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.os))}}function $l(a,t,r,o){return new jc(a,t,r,o)}function Ou(a,t){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,Q.A)(function*(a,t){const r=Tn(a);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let u;return r.mutationQueue.getAllMutationBatches(o).next(m=>(u=m,r.ls(t),r.mutationQueue.getAllMutationBatches(o))).next(m=>{const E=[],P=[];let k=si();for(const q of u){E.push(q.batchId);for(const ge of q.mutations)k=k.add(ge.key)}for(const q of m){P.push(q.batchId);for(const ge of q.mutations)k=k.add(ge.key)}return r.localDocuments.getDocuments(o,k).next(q=>({hs:q,removedBatchIds:E,addedBatchIds:P}))})})})).apply(this,arguments)}function mh(a){const t=Tn(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Ur.getLastRemoteSnapshotVersion(r))}function ep(a,t,r){let o=si(),u=si();return r.forEach(m=>o=o.add(m)),t.getEntries(a,o).next(m=>{let E=vo();return r.forEach((P,k)=>{const q=m.get(P);k.isFoundDocument()!==q.isFoundDocument()&&(u=u.add(P)),k.isNoDocument()&&k.version.isEqual(mr.min())?(t.removeEntry(P,k.readTime),E=E.insert(P,k)):!q.isValidDocument()||k.version.compareTo(q.version)>0||0===k.version.compareTo(q.version)&&q.hasPendingWrites?(t.addEntry(k),E=E.insert(P,k)):Et("LocalStore","Ignoring outdated watch update for ",P,". Current version:",q.version," Watch version:",k.version)}),{Ps:E,Is:u}})}function Pd(a,t){const r=Tn(a);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===t&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,t)))}function jl(a,t){const r=Tn(a);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.Ur.getTargetData(o,t).next(m=>m?(u=m,et.resolve(u)):r.Ur.allocateTargetId(o).next(E=>(u=new Cl(t,E,"TargetPurposeListen",o.currentSequenceNumber),r.Ur.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.os.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.os=r.os.insert(o.targetId,o),r._s.set(t,o.targetId)),o})}function du(a,t,r){return T.apply(this,arguments)}function T(){return(T=(0,Q.A)(function*(a,t,r){const o=Tn(a),u=o.os.get(t),m=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",m,E=>o.persistence.referenceDelegate.removeTarget(E,u)))}catch(E){if(!qr(E))throw E;Et("LocalStore",`Failed to update sequence numbers for target ${t}: ${E}`)}o.os=o.os.remove(t),o._s.delete(u.target)})).apply(this,arguments)}function g(a,t,r){const o=Tn(a);let u=mr.min(),m=si();return o.persistence.runTransaction("Execute query","readwrite",E=>function(k,q,ge){const Be=Tn(k),It=Be._s.get(ge);return void 0!==It?et.resolve(Be.os.get(It)):Be.Ur.getTargetData(q,ge)}(o,E,io(t)).next(P=>{if(P)return u=P.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(E,P.targetId).next(k=>{m=k})}).next(()=>o.ss.getDocumentsMatchingQuery(E,t,r?u:mr.min(),r?m:si())).next(P=>(z(o,Jl(t),P),{documents:P,Ts:m})))}function v(a,t){const r=Tn(a),o=Tn(r.Ur),u=r.os.get(t);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",m=>o.ot(m,t).next(E=>E?E.target:null))}function b(a,t){const r=Tn(a),o=r.us.get(t)||mr.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.cs.getAllFromCollectionGroup(u,t,S(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(z(r,t,u),u))}function z(a,t,r){let o=a.us.get(t)||mr.min();r.forEach((u,m)=>{m.readTime.compareTo(o)>0&&(o=m.readTime)}),a.us.set(t,o)}function ft(){return(ft=(0,Q.A)(function*(a,t,r,o){const u=Tn(a);let m=si(),E=vo();for(const q of r){const ge=t.Es(q.metadata.name);q.document&&(m=m.add(ge));const Be=t.ds(q);Be.setReadTime(t.As(q.metadata.readTime)),E=E.insert(ge,Be)}const P=u.cs.newChangeBuffer({trackRemovals:!0}),k=yield jl(u,(ge=o,io(As(ur.fromString(`__bundle__/docs/${ge}`)))));var ge;return u.persistence.runTransaction("Apply bundle documents","readwrite",q=>ep(q,P,E).next(ge=>(P.apply(q),ge)).next(ge=>u.Ur.removeMatchingKeysForTargetId(q,k.targetId).next(()=>u.Ur.addMatchingKeys(q,m,k.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(q,ge.Ps,ge.Is)).next(()=>ge.Ps)))})).apply(this,arguments)}function Ut(a,t){return vn.apply(this,arguments)}function vn(){return(vn=(0,Q.A)(function*(a,t,r=si()){const o=yield jl(a,io(Ui(t.bundledQuery))),u=Tn(a);return u.persistence.runTransaction("Save named query","readwrite",m=>{const E=vs(t.readTime);if(o.snapshotVersion.compareTo(E)>=0)return u.Gr.saveNamedQuery(m,t);const P=o.withResumeToken(Yr.EMPTY_BYTE_STRING,E);return u.os=u.os.insert(P.targetId,P),u.Ur.updateTargetData(m,P).next(()=>u.Ur.removeMatchingKeysForTargetId(m,o.targetId)).next(()=>u.Ur.addMatchingKeys(m,r,o.targetId)).next(()=>u.Gr.saveNamedQuery(m,t))})})).apply(this,arguments)}function nr(a,t){return`firestore_clients_${a}_${t}`}function Ir(a,t,r){let o=`firestore_mutations_${a}_${r}`;return t.isAuthenticated()&&(o+=`_${t.uid}`),o}function hr(a,t){return`firestore_targets_${a}_${t}`}class ds{constructor(t,r,o,u){this.user=t,this.batchId=r,this.state=o,this.error=u}static Rs(t,r,o){const u=JSON.parse(o);let m,E="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return E&&u.error&&(E="string"==typeof u.error.message&&"string"==typeof u.error.code,E&&(m=new on(u.error.code,u.error.message))),E?new ds(t,r,u.state,m):(_n("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ss{constructor(t,r,o){this.targetId=t,this.state=r,this.error=o}static Rs(t,r){const o=JSON.parse(r);let u,m="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return m&&o.error&&(m="string"==typeof o.error.message&&"string"==typeof o.error.code,m&&(u=new on(o.error.code,o.error.message))),m?new Ss(t,o.state,u):(_n("SharedClientState",`Failed to parse target state for ID '${t}': ${r}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class mc{constructor(t,r){this.clientId=t,this.activeTargetIds=r}static Rs(t,r){const o=JSON.parse(r);let u="object"==typeof o&&o.activeTargetIds instanceof Array,m=ad();for(let E=0;u&&E<o.activeTargetIds.length;++E)u=ha(o.activeTargetIds[E]),m=m.add(o.activeTargetIds[E]);return u?new mc(t,m):(_n("SharedClientState",`Failed to parse client data for instance '${t}': ${r}`),null)}}class hu{constructor(t,r){this.clientId=t,this.onlineState=r}static Rs(t){const r=JSON.parse(t);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new hu(r.clientId,r.onlineState):(_n("SharedClientState",`Failed to parse online state: ${t}`),null)}}class ku{constructor(){this.activeTargetIds=ad()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Md{constructor(t,r,o,u,m){this.window=t,this.ui=r,this.persistenceKey=o,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Qi(tr),this.started=!1,this.bs=[];const E=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.Ds=nr(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new ku),this.Cs=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(k){return`firestore_bundle_loaded_v2_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Q.A)(function*(){const r=yield t.syncEngine.Qi();for(const u of r){if(u===t.ps)continue;const m=t.getItem(nr(t.persistenceKey,u));if(m){const E=mc.Rs(u,m);E&&(t.Ss=t.Ss.insert(E.clientId,E))}}t.Ns();const o=t.storage.getItem(t.xs);if(o){const u=t.Ls(o);u&&t.Bs(u)}for(const u of t.bs)t.ws(u);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let r=!1;return this.Ss.forEach((o,u)=>{u.activeTargetIds.has(t)&&(r=!0)}),r}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,r,o){this.qs(t,r,o),this.Qs(t)}addLocalQueryTarget(t,r=!0){let o="not-current";if(this.isActiveQueryTarget(t)){const u=this.storage.getItem(hr(this.persistenceKey,t));if(u){const m=Ss.Rs(t,u);m&&(o=m.state)}}return r&&this.Ks.fs(t),this.Ns(),o}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(hr(this.persistenceKey,t))}updateQueryState(t,r,o){this.$s(t,r,o)}handleUserChange(t,r,o){r.forEach(u=>{this.Qs(u)}),this.currentUser=t,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const r=this.storage.getItem(t);return Et("SharedClientState","READ",t,r),r}setItem(t,r){Et("SharedClientState","SET",t,r),this.storage.setItem(t,r)}removeItem(t){Et("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var r=this;const o=t;if(o.storageArea===this.storage){if(Et("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Ds)return void _n("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,Q.A)(function*(){if(r.started){if(null!==o.key)if(r.Cs.test(o.key)){if(null==o.newValue){const u=r.Gs(o.key);return r.zs(u,null)}{const u=r.js(o.key,o.newValue);if(u)return r.zs(u.clientId,u)}}else if(r.Fs.test(o.key)){if(null!==o.newValue){const u=r.Hs(o.key,o.newValue);if(u)return r.Js(u)}}else if(r.Ms.test(o.key)){if(null!==o.newValue){const u=r.Ys(o.key,o.newValue);if(u)return r.Zs(u)}}else if(o.key===r.xs){if(null!==o.newValue){const u=r.Ls(o.newValue);if(u)return r.Bs(u)}}else if(o.key===r.vs){const u=function(E){let P=qi.oe;if(null!=E)try{const k=JSON.parse(E);kn("number"==typeof k),P=k}catch(k){_n("SharedClientState","Failed to read sequence number from WebStorage",k)}return P}(o.newValue);u!==qi.oe&&r.sequenceNumberHandler(u)}else if(o.key===r.Os){const u=r.Xs(o.newValue);yield Promise.all(u.map(m=>r.syncEngine.eo(m)))}}else r.bs.push(o)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,r,o){const u=new ds(this.currentUser,t,r,o),m=Ir(this.persistenceKey,this.currentUser,t);this.setItem(m,u.Vs())}Qs(t){const r=Ir(this.persistenceKey,this.currentUser,t);this.removeItem(r)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,r,o){const u=hr(this.persistenceKey,t),m=new Ss(t,r,o);this.setItem(u,m.Vs())}Ws(t){const r=JSON.stringify(Array.from(t));this.setItem(this.Os,r)}Gs(t){const r=this.Cs.exec(t);return r?r[1]:null}js(t,r){const o=this.Gs(t);return mc.Rs(o,r)}Hs(t,r){const o=this.Fs.exec(t),u=Number(o[1]);return ds.Rs(new de(void 0!==o[2]?o[2]:null),u,r)}Ys(t,r){const o=this.Ms.exec(t),u=Number(o[1]);return Ss.Rs(u,r)}Ls(t){return hu.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var r=this;return(0,Q.A)(function*(){if(t.user.uid===r.currentUser.uid)return r.syncEngine.no(t.batchId,t.state,t.error);Et("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,r){const o=r?this.Ss.insert(t,r):this.Ss.remove(t),u=this.ks(this.Ss),m=this.ks(o),E=[],P=[];return m.forEach(k=>{u.has(k)||E.push(k)}),u.forEach(k=>{m.has(k)||P.push(k)}),this.syncEngine.io(E,P).then(()=>{this.Ss=o})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let r=ad();return t.forEach((o,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class vh{constructor(){this.so=new ku,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,o){}addLocalQueryTarget(t,r=!0){return r&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,r,o){this.oo[t]=r}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new ku,Promise.resolve()}handleUserChange(t,r,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class _h{_o(t){}shutdown(){}}class Jh{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Lu=null;function Al(){return null===Lu?Lu=268435456+Math.round(2147483648*Math.random()):Lu++,"0x"+Lu.toString(16)}const Hc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zh{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const _o="WebChannelConnection";class xd extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),m=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+r.host,this.vo=`projects/${u}/databases/${m}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${m}`}get Fo(){return!1}Mo(r,o,u,m,E){const P=Al(),k=this.xo(r,o.toUriEncodedString());Et("RestConnection",`Sending RPC '${r}' ${P}:`,k,u);const q={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(q,m,E),this.No(r,k,q,u).then(ge=>(Et("RestConnection",`Received RPC '${r}' ${P}: `,ge),ge),ge=>{throw Qn("RestConnection",`RPC '${r}' ${P} failed with error: `,ge,"url: ",k,"request:",u),ge})}Lo(r,o,u,m,E,P){return this.Mo(r,o,u,m,E)}Oo(r,o,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ue,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((m,E)=>r[E]=m),u&&u.headers.forEach((m,E)=>r[E]=m)}xo(r,o){return`${this.Do}/v1/${o}:${Hc[r]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,r,o,u){const m=Al();return new Promise((E,P)=>{const k=new $i;k.setWithCredentials(!0),k.listenOnce(_e.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case ie.NO_ERROR:const ge=k.getResponseJson();Et(_o,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(ge)),E(ge);break;case ie.TIMEOUT:Et(_o,`RPC '${t}' ${m} timed out`),P(new on(Lt.DEADLINE_EXCEEDED,"Request time out"));break;case ie.HTTP_ERROR:const Be=k.getStatus();if(Et(_o,`RPC '${t}' ${m} failed with status:`,Be,"response text:",k.getResponseText()),Be>0){let It=k.getResponseJson();Array.isArray(It)&&(It=It[0]);const nn=It?.error;if(nn&&nn.status&&nn.message){const An=function(Ln){const Sr=Ln.toLowerCase().replace(/_/g,"-");return Object.values(Lt).indexOf(Sr)>=0?Sr:Lt.UNKNOWN}(nn.status);P(new on(An,nn.message))}else P(new on(Lt.UNKNOWN,"Server responded with status "+k.getStatus()))}else P(new on(Lt.UNAVAILABLE,"Connection failed."));break;default:En()}}finally{Et(_o,`RPC '${t}' ${m} completed.`)}});const q=JSON.stringify(u);Et(_o,`RPC '${t}' ${m} sending request:`,u),k.send(r,"POST",q,o,15)})}Bo(t,r,o){const u=Al(),m=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],E=an(),P=pt(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},q=this.longPollingOptions.timeoutSeconds;void 0!==q&&(k.longPollingTimeout=Math.round(1e3*q)),this.useFetchStreams&&(k.useFetchStreams=!0),this.Oo(k.initMessageHeaders,r,o),k.encodeInitMessageHeaders=!0;const ge=m.join("");Et(_o,`Creating RPC '${t}' stream ${u}: ${ge}`,k);const Be=E.createWebChannel(ge,k);let It=!1,nn=!1;const An=new Zh({Io:Ln=>{nn?Et(_o,`Not sending because RPC '${t}' stream ${u} is closed:`,Ln):(It||(Et(_o,`Opening RPC '${t}' stream ${u} transport.`),Be.open(),It=!0),Et(_o,`RPC '${t}' stream ${u} sending:`,Ln),Be.send(Ln))},To:()=>Be.close()}),$n=(Ln,Sr,Kr)=>{Ln.listen(Sr,Mr=>{try{Kr(Mr)}catch(ri){setTimeout(()=>{throw ri},0)}})};return $n(Be,ae.EventType.OPEN,()=>{nn||(Et(_o,`RPC '${t}' stream ${u} transport opened.`),An.yo())}),$n(Be,ae.EventType.CLOSE,()=>{nn||(nn=!0,Et(_o,`RPC '${t}' stream ${u} transport closed`),An.So())}),$n(Be,ae.EventType.ERROR,Ln=>{nn||(nn=!0,Qn(_o,`RPC '${t}' stream ${u} transport errored:`,Ln),An.So(new on(Lt.UNAVAILABLE,"The operation could not be completed")))}),$n(Be,ae.EventType.MESSAGE,Ln=>{var Sr;if(!nn){const Kr=Ln.data[0];kn(!!Kr);const ri=Kr.error||(null===(Sr=Kr[0])||void 0===Sr?void 0:Sr.error);if(ri){Et(_o,`RPC '${t}' stream ${u} received error:`,ri);const xi=ri.status;let Ni=function(Rt){const $t=Xi[Rt];if(void 0!==$t)return Bh($t)}(xi),Ft=ri.message;void 0===Ni&&(Ni=Lt.INTERNAL,Ft="Unknown error status: "+xi+" with message "+ri.message),nn=!0,An.So(new on(Ni,Ft)),Be.close()}else Et(_o,`RPC '${t}' stream ${u} received:`,Kr),An.bo(Kr)}}),$n(P,Ve.STAT_EVENT,Ln=>{Ln.stat===J.PROXY?Et(_o,`RPC '${t}' stream ${u} detected buffering proxy`):Ln.stat===J.NOPROXY&&Et(_o,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{An.wo()},0),An}}function Nd(){return typeof window<"u"?window:null}function ef(){return typeof document<"u"?document:null}function fu(a){return new Pc(a,!0)}class tf{constructor(t,r,o=1e3,u=1.5,m=6e4){this.ui=t,this.timerId=r,this.ko=o,this.qo=u,this.Qo=m,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const r=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),u=Math.max(0,r-o);u>0&&Et("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Fu{constructor(t,r,o,u,m,E,P,k){this.ui=t,this.Ho=o,this.Jo=u,this.connection=m,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=P,this.listener=k,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new tf(t,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,Q.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,Q.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,r){var o=this;return(0,Q.A)(function*(){o.u_(),o.c_(),o.t_.cancel(),o.Yo++,4!==t?o.t_.reset():r&&r.code===Lt.RESOURCE_EXHAUSTED?(_n(r.toString()),_n("Using maximum backoff delay to prevent overloading the backend."),o.t_.Wo()):r&&r.code===Lt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.l_(),o.stream.close(),o.stream=null),o.state=t,yield o.listener.mo(r)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Yo===r&&this.P_(o,u)},o=>{t(()=>{const u=new on(Lt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(u)})})}P_(t,r){const o=this.h_(this.Yo);this.stream=this.T_(t,r),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{o(()=>this.I_(u))}),this.stream.onMessage(u=>{o(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var t=this;this.state=5,this.t_.Go((0,Q.A)(function*(){t.state=0,t.start()}))}I_(t){return Et("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return r=>{this.ui.enqueueAndForget(()=>this.Yo===t?r():(Et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yh extends Fu{constructor(t,r,o,u,m,E){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,E),this.serializer=m}T_(t,r){return this.connection.Bo("Listen",t,r)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const r=function qf(a,t){let r;if("targetChange"in t){const o="NO_CHANGE"===(q=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:En(),u=t.targetChange.targetIds||[],m=function(q,ge){return q.useProto3Json?(kn(void 0===ge||"string"==typeof ge),Yr.fromBase64String(ge||"")):(kn(void 0===ge||ge instanceof Buffer||ge instanceof Uint8Array),Yr.fromUint8Array(ge||new Uint8Array))}(a,t.targetChange.resumeToken),E=t.targetChange.cause,P=E&&function(q){const ge=void 0===q.code?Lt.UNKNOWN:Bh(q.code);return new on(ge,q.message||"")}(E);r=new Rc(o,u,m,P||null)}else if("documentChange"in t){const o=t.documentChange,u=hi(a,o.document.name),m=vs(o.document.updateTime),E=o.document.createTime?vs(o.document.createTime):mr.min(),P=new ys({mapValue:{fields:o.document.fields}}),k=ki.newFoundDocument(u,m,E,P);r=new aa(o.targetIds||[],o.removedTargetIds||[],k.key,k)}else if("documentDelete"in t){const o=t.documentDelete,u=hi(a,o.document),m=o.readTime?vs(o.readTime):mr.min(),E=ki.newNoDocument(u,m);r=new aa([],o.removedTargetIds||[],E.key,E)}else if("documentRemove"in t){const o=t.documentRemove,u=hi(a,o.document);r=new aa([],o.removedTargetIds||[],u,null)}else{if(!("filter"in t))return En();{const o=t.filter,{count:u=0,unchangedNames:m}=o,E=new Ac(u,m);r=new ei(o.targetId,E)}}var q;return r}(this.serializer,t),o=function(m){if(!("targetChange"in m))return mr.min();const E=m.targetChange;return E.targetIds&&E.targetIds.length?mr.min():E.readTime?vs(E.readTime):mr.min()}(t);return this.listener.d_(r,o)}A_(t){const r={};r.database=jo(this.serializer),r.addTarget=function(m,E){let P;const k=E.target;if(P=fo(k)?{documents:bo(m,k)}:{query:La(m,k)._t},P.targetId=E.targetId,E.resumeToken.approximateByteSize()>0){P.resumeToken=Jd(m,E.resumeToken);const q=Mc(m,E.expectedCount);null!==q&&(P.expectedCount=q)}else if(E.snapshotVersion.compareTo(mr.min())>0){P.readTime=Ll(m,E.snapshotVersion.toTimestamp());const q=Mc(m,E.expectedCount);null!==q&&(P.expectedCount=q)}return P}(this.serializer,t);const o=function Tl(a,t){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return En()}}(t.purpose);return null==r?null:{"goog-listen-tags":r}}(0,t);o&&(r.labels=o),this.a_(r)}R_(t){const r={};r.database=jo(this.serializer),r.removeTarget=t,this.a_(r)}}class rg extends Fu{constructor(t,r,o,u,m,E){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,u,E),this.serializer=m}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,r){return this.connection.Bo("Write",t,r)}E_(t){return kn(!!t.streamToken),this.lastStreamToken=t.streamToken,kn(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){kn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const r=function Wh(a,t){return a&&a.length>0?(kn(void 0!==t),a.map(r=>function(u,m){let E=vs(u.updateTime?u.updateTime:m);return E.isEqual(mr.min())&&(E=vs(m)),new ls(E,u.transformResults||[])}(r,t))):[]}(t.writeResults,t.commitTime),o=vs(t.commitTime);return this.listener.g_(o,r)}p_(){const t={};t.database=jo(this.serializer),this.a_(t)}m_(t){const r={streamToken:this.lastStreamToken,writes:t.map(o=>lo(this.serializer,o))};this.a_(r)}}class tp extends class{}{constructor(t,r,o,u){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=o,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new on(Lt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,r,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,E])=>this.connection.Mo(t,ii(r,o),u,m,E)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new on(Lt.UNKNOWN,m.toString())})}Lo(t,r,o,u,m){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([E,P])=>this.connection.Lo(t,ii(r,o),u,E,P,m)).catch(E=>{throw"FirebaseError"===E.name?(E.code===Lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),E):new on(Lt.UNKNOWN,E.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class ig{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const r=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(_n(r),this.D_=!1):Et("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Bm{constructor(t,r,o,u,m){var E=this;this.localStore=t,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=m,this.k_._o(P=>{o.enqueueAndForget((0,Q.A)(function*(){var k;tn(E)&&(Et("RemoteStore","Restarting streams for network reachability change."),yield(k=(0,Q.A)(function*(ge){const Be=Tn(ge);Be.L_.add(4),yield h(Be),Be.q_.set("Unknown"),Be.L_.delete(4),yield p(Be)}),function q(ge){return k.apply(this,arguments)})(E))}))}),this.q_=new ig(o,u)}}function p(a){return d.apply(this,arguments)}function d(){return(d=(0,Q.A)(function*(a){if(tn(a))for(const t of a.B_)yield t(!0)})).apply(this,arguments)}function h(a){return _.apply(this,arguments)}function _(){return(_=(0,Q.A)(function*(a){for(const t of a.B_)yield t(!1)})).apply(this,arguments)}function A(a,t){const r=Tn(a);r.N_.has(t.targetId)||(r.N_.set(t.targetId,t),ut(r)?je(r):rp(r).r_()&&X(r,t))}function V(a,t){const r=Tn(a),o=rp(r);r.N_.delete(t),o.r_()&&Ee(r,t),0===r.N_.size&&(o.r_()?o.o_():tn(r)&&r.q_.set("Unknown"))}function X(a,t){if(a.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(mr.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}rp(a).A_(t)}function Ee(a,t){a.Q_.xe(t),rp(a).R_(t)}function je(a){a.Q_=new Cu({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>a.N_.get(t)||null,tt:()=>a.datastore.serializer.databaseId}),rp(a).start(),a.q_.v_()}function ut(a){return tn(a)&&!rp(a).n_()&&a.N_.size>0}function tn(a){return 0===Tn(a).L_.size}function pn(a){a.Q_=void 0}function Dn(a){return vr.apply(this,arguments)}function vr(){return(vr=(0,Q.A)(function*(a){a.q_.set("Online")})).apply(this,arguments)}function Hr(a){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,Q.A)(function*(a){a.N_.forEach((t,r)=>{X(a,t)})})).apply(this,arguments)}function Lo(a,t){return dl.apply(this,arguments)}function dl(){return(dl=(0,Q.A)(function*(a,t){pn(a),ut(a)?(a.q_.M_(t),je(a)):a.q_.set("Unknown")})).apply(this,arguments)}function Wc(a,t,r){return zc.apply(this,arguments)}function zc(){return zc=(0,Q.A)(function*(a,t,r){if(a.q_.set("Online"),t instanceof Rc&&2===t.state&&t.cause)try{yield(o=(0,Q.A)(function*(m,E){const P=E.cause;for(const k of E.targetIds)m.N_.has(k)&&(yield m.remoteSyncer.rejectListen(k,P),m.N_.delete(k),m.Q_.removeTarget(k))}),function u(m,E){return o.apply(this,arguments)})(a,t)}catch(o){Et("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),yield nf(a,o)}else if(t instanceof aa?a.Q_.Ke(t):t instanceof ei?a.Q_.He(t):a.Q_.We(t),!r.isEqual(mr.min()))try{const o=yield mh(a.localStore);r.compareTo(o)>=0&&(yield function(m,E){const P=m.Q_.rt(E);return P.targetChanges.forEach((k,q)=>{if(k.resumeToken.approximateByteSize()>0){const ge=m.N_.get(q);ge&&m.N_.set(q,ge.withResumeToken(k.resumeToken,E))}}),P.targetMismatches.forEach((k,q)=>{const ge=m.N_.get(k);if(!ge)return;m.N_.set(k,ge.withResumeToken(Yr.EMPTY_BYTE_STRING,ge.snapshotVersion)),Ee(m,k);const Be=new Cl(ge.target,k,q,ge.sequenceNumber);X(m,Be)}),m.remoteSyncer.applyRemoteEvent(P)}(a,r))}catch(o){Et("RemoteStore","Failed to raise snapshot:",o),yield nf(a,o)}var o}),zc.apply(this,arguments)}function nf(a,t,r){return $m.apply(this,arguments)}function $m(){return($m=(0,Q.A)(function*(a,t,r){if(!qr(t))throw t;a.L_.add(1),yield h(a),a.q_.set("Offline"),r||(r=()=>mh(a.localStore)),a.asyncQueue.enqueueRetryable((0,Q.A)(function*(){Et("RemoteStore","Retrying IndexedDB access"),yield r(),a.L_.delete(1),yield p(a)}))})).apply(this,arguments)}function q_(a,t){return t().catch(r=>nf(a,r,t))}function rf(a){return sg.apply(this,arguments)}function sg(){return(sg=(0,Q.A)(function*(a){const t=Tn(a),r=Od(t);let o=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Q_(t);)try{const u=yield Pd(t.localStore,o);if(null===u){0===t.O_.length&&r.o_();break}o=u.batchId,Y_(t,u)}catch(u){yield nf(t,u)}np(t)&&jm(t)})).apply(this,arguments)}function Q_(a){return tn(a)&&a.O_.length<10}function Y_(a,t){a.O_.push(t);const r=Od(a);r.r_()&&r.V_&&r.m_(t.mutations)}function np(a){return tn(a)&&!Od(a).n_()&&a.O_.length>0}function jm(a){Od(a).start()}function J_(a){return og.apply(this,arguments)}function og(){return(og=(0,Q.A)(function*(a){Od(a).p_()})).apply(this,arguments)}function Z_(a){return Hm.apply(this,arguments)}function Hm(){return(Hm=(0,Q.A)(function*(a){const t=Od(a);for(const r of a.O_)t.m_(r.mutations)})).apply(this,arguments)}function II(a,t,r){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,Q.A)(function*(a,t,r){const o=a.O_.shift(),u=Ds.from(o,t,r);yield q_(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield rf(a)})).apply(this,arguments)}function TI(a,t){return ag.apply(this,arguments)}function ag(){return ag=(0,Q.A)(function*(a,t){var r;t&&Od(a).V_&&(yield(r=(0,Q.A)(function*(u,m){if(Dc(P=m.code)&&P!==Lt.ABORTED){const E=u.O_.shift();Od(u).s_(),yield q_(u,()=>u.remoteSyncer.rejectFailedWrite(E.batchId,m)),yield rf(u)}var P}),function o(u,m){return r.apply(this,arguments)})(a,t)),np(a)&&jm(a)}),ag.apply(this,arguments)}function CI(a,t){return lg.apply(this,arguments)}function lg(){return(lg=(0,Q.A)(function*(a,t){const r=Tn(a);r.asyncQueue.verifyOperationInProgress(),Et("RemoteStore","RemoteStore received new credentials");const o=tn(r);r.L_.add(3),yield h(r),o&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(t),r.L_.delete(3),yield p(r)})).apply(this,arguments)}function zm(a,t){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,Q.A)(function*(a,t){const r=Tn(a);t?(r.L_.delete(2),yield p(r)):t||(r.L_.add(2),yield h(r),r.q_.set("Unknown"))})).apply(this,arguments)}function rp(a){return a.K_||(a.K_=function(r,o,u){const m=Tn(r);return m.w_(),new yh(o,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,u)}(a.datastore,a.asyncQueue,{Eo:Dn.bind(null,a),Ro:Hr.bind(null,a),mo:Lo.bind(null,a),d_:Wc.bind(null,a)}),a.B_.push(function(){var t=(0,Q.A)(function*(r){r?(a.K_.s_(),ut(a)?je(a):a.q_.set("Unknown")):(yield a.K_.stop(),pn(a))});return function(r){return t.apply(this,arguments)}}())),a.K_}function Od(a){return a.U_||(a.U_=function(r,o,u){const m=Tn(r);return m.w_(),new rg(o,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,u)}(a.datastore,a.asyncQueue,{Eo:()=>Promise.resolve(),Ro:J_.bind(null,a),mo:TI.bind(null,a),f_:Z_.bind(null,a),g_:II.bind(null,a)}),a.B_.push(function(){var t=(0,Q.A)(function*(r){r?(a.U_.s_(),yield rf(a)):(yield a.U_.stop(),a.O_.length>0&&(Et("RemoteStore",`Stopping write stream with ${a.O_.length} pending writes`),a.O_=[]))});return function(r){return t.apply(this,arguments)}}())),a.U_}class cg{constructor(t,r,o,u,m){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=m,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,o,u,m){const E=Date.now()+o,P=new cg(t,r,E,u,m);return P.start(o),P}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new on(Lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kd(a,t){if(_n("AsyncQueue",`${t}: ${a}`),qr(a))return new on(Lt.UNAVAILABLE,`${t}: ${a}`);throw a}class sf{constructor(t){this.comparator=t?(r,o)=>t(r,o)||Wn.comparator(r.key,o.key):(r,o)=>Wn.comparator(r.key,o.key),this.keyedMap=Ja(),this.sortedSet=new Qi(this.comparator)}static emptySet(t){return new sf(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,o)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof sf)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,m=o.getNext().key;if(!u.isEqual(m))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,r){const o=new sf;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=r,o}}class Vu{constructor(){this.W_=new Qi(Wn.comparator)}track(t){const r=t.doc.key,o=this.W_.get(r);o?0!==t.type&&3===o.type?this.W_=this.W_.insert(r,t):3===t.type&&1!==o.type?this.W_=this.W_.insert(r,{type:o.type,doc:t.doc}):2===t.type&&2===o.type?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):2===t.type&&0===o.type?this.W_=this.W_.insert(r,{type:0,doc:t.doc}):1===t.type&&0===o.type?this.W_=this.W_.remove(r):1===t.type&&2===o.type?this.W_=this.W_.insert(r,{type:1,doc:o.doc}):0===t.type&&1===o.type?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):En():this.W_=this.W_.insert(r,t)}G_(){const t=[];return this.W_.inorderTraversal((r,o)=>{t.push(o)}),t}}class Uu{constructor(t,r,o,u,m,E,P,k,q){this.query=t,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=m,this.fromCache=E,this.syncStateChanged=P,this.excludesMetadataChanges=k,this.hasCachedResults=q}static fromInitialDocuments(t,r,o,u,m){const E=[];return r.forEach(P=>{E.push({type:0,doc:P})}),new Uu(t,r,sf.emptySet(r),E,o,u,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,o=t.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}class wI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class ey{constructor(){this.queries=ip(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,o){const u=Tn(r),m=u.queries;u.queries=ip(),m.forEach((E,P)=>{for(const k of P.j_)k.onError(o)})}(this,new on(Lt.ABORTED,"Firestore shutting down"))}}function ip(){return new Zi(a=>us(a),Rl)}function ty(a,t){return ny.apply(this,arguments)}function ny(){return(ny=(0,Q.A)(function*(a,t){const r=Tn(a);let o=3;const u=t.query;let m=r.queries.get(u);m?!m.H_()&&t.J_()&&(o=2):(m=new wI,o=t.J_()?0:1);try{switch(o){case 0:m.z_=yield r.onListen(u,!0);break;case 1:m.z_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(E){const P=kd(E,`Initialization of query '${mo(t.query)}' failed`);return void t.onError(P)}r.queries.set(u,m),m.j_.push(t),t.Z_(r.onlineState),m.z_&&t.X_(m.z_)&&ry(r)})).apply(this,arguments)}function Km(a,t){return Xm.apply(this,arguments)}function Xm(){return(Xm=(0,Q.A)(function*(a,t){const r=Tn(a),o=t.query;let u=3;const m=r.queries.get(o);if(m){const E=m.j_.indexOf(t);E>=0&&(m.j_.splice(E,1),0===m.j_.length?u=t.J_()?0:1:!m.H_()&&t.J_()&&(u=2))}switch(u){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function bI(a,t){const r=Tn(a);let o=!1;for(const u of t){const E=r.queries.get(u.query);if(E){for(const P of E.j_)P.X_(u)&&(o=!0);E.z_=u}}o&&ry(r)}function Hw(a,t,r){const o=Tn(a),u=o.queries.get(t);if(u)for(const m of u.j_)m.onError(r);o.queries.delete(t)}function ry(a){a.Y_.forEach(t=>{t.next()})}var af,iy;(iy=af||(af={})).ea="default",iy.Cache="cache";class sp{constructor(t,r,o){this.query=t,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(t){if(!this.options.includeMetadataChanges){const o=[];for(const u of t.docChanges)3!==u.type&&o.push(u);t=new Uu(t.query,t.docs,t.oldDocs,o,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.na?this.ia(t)&&(this.ta.next(t),r=!0):this.sa(t,this.onlineState)&&(this.oa(t),r=!0),this.ra=t,r}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),r=!0),r}sa(t,r){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===r)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=Uu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==af.Cache}}class qm{constructor(t,r){this.aa=t,this.byteLength=r}ua(){return"metadata"in this.aa}}class Eh{constructor(t){this.serializer=t}Es(t){return hi(this.serializer,t)}ds(t){return t.metadata.exists?cd(this.serializer,t.document,!1):ki.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return vs(t)}}class ug{constructor(t,r,o){this.ca=t,this.localStore=r,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dg(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let r=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++r;const o=ur.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(t){const r=new Map,o=new Eh(this.serializer);for(const u of t)if(u.metadata.queries){const m=o.Es(u.metadata.name);for(const E of u.metadata.queries){const P=(r.get(E)||si()).add(m);r.set(E,P)}}return r}complete(){var t=this;return(0,Q.A)(function*(){const r=yield function me(a,t,r,o){return ft.apply(this,arguments)}(t.localStore,new Eh(t.serializer),t.documents,t.ca.id),o=t.ha(t.documents);for(const u of t.queries)yield Ut(t.localStore,u,o.get(u.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:r}})()}}function dg(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class lf{constructor(t){this.key=t}}class op{constructor(t){this.key=t}}class Ih{constructor(t,r){this.query=t,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=si(),this.mutatedKeys=si(),this.Aa=gs(t),this.Ra=new sf(this.Aa)}get Va(){return this.Ta}ma(t,r){const o=r?r.fa:new Vu,u=r?r.Ra:this.Ra;let m=r?r.mutatedKeys:this.mutatedKeys,E=u,P=!1;const k="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,q="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((ge,Be)=>{const It=u.get(ge),nn=Oa(this.query,Be)?Be:null,An=!!It&&this.mutatedKeys.has(It.key),$n=!!nn&&(nn.hasLocalMutations||this.mutatedKeys.has(nn.key)&&nn.hasCommittedMutations);let Ln=!1;It&&nn?It.data.isEqual(nn.data)?An!==$n&&(o.track({type:3,doc:nn}),Ln=!0):this.ga(It,nn)||(o.track({type:2,doc:nn}),Ln=!0,(k&&this.Aa(nn,k)>0||q&&this.Aa(nn,q)<0)&&(P=!0)):!It&&nn?(o.track({type:0,doc:nn}),Ln=!0):It&&!nn&&(o.track({type:1,doc:It}),Ln=!0,(k||q)&&(P=!0)),Ln&&(nn?(E=E.add(nn),m=$n?m.add(ge):m.delete(ge)):(E=E.delete(ge),m=m.delete(ge)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const ge="F"===this.query.limitType?E.last():E.first();E=E.delete(ge.key),m=m.delete(ge.key),o.track({type:1,doc:ge})}return{Ra:E,fa:o,ns:P,mutatedKeys:m}}ga(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,o,u){const m=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const E=t.fa.G_();E.sort((ge,Be)=>function(nn,An){const $n=Ln=>{switch(Ln){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return En()}};return $n(nn)-$n(An)}(ge.type,Be.type)||this.Aa(ge.doc,Be.doc)),this.pa(o),u=null!=u&&u;const P=r&&!u?this.ya():[],k=0===this.da.size&&this.current&&!u?1:0,q=k!==this.Ea;return this.Ea=k,0!==E.length||q?{snapshot:new Uu(this.query,t.Ra,m,E,t.mutatedKeys,0===k,q,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:P}:{wa:P}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Vu,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=si(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const r=[];return t.forEach(o=>{this.da.has(o)||r.push(new op(o))}),this.da.forEach(o=>{t.has(o)||r.push(new lf(o))}),r}ba(t){this.Ta=t.Ts,this.da=si();const r=this.ma(t.documents);return this.applyChanges(r,!0)}Da(){return Uu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Qm{constructor(t,r,o){this.query=t,this.targetId=r,this.view=o}}class hg{constructor(t){this.key=t,this.va=!1}}class ap{constructor(t,r,o,u,m,E){this.localStore=t,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=m,this.maxConcurrentLimboResolutions=E,this.Ca={},this.Fa=new Zi(P=>us(P),Rl),this.Ma=new Map,this.xa=new Set,this.Oa=new Qi(Wn.comparator),this.Na=new Map,this.La=new $c,this.Ba={},this.ka=new Map,this.qa=Ul.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Ym(a,t){return sy.apply(this,arguments)}function sy(){return(sy=(0,Q.A)(function*(a,t,r=!0){const o=Ld(a);let u;const m=o.Fa.get(t);return m?(o.sharedClientState.addLocalQueryTarget(m.targetId),u=m.view.Da()):u=yield oy(o,t,r,!0),u})).apply(this,arguments)}function Jm(a,t){return Th.apply(this,arguments)}function Th(){return(Th=(0,Q.A)(function*(a,t){const r=Ld(a);yield oy(r,t,!0,!1)})).apply(this,arguments)}function oy(a,t,r,o){return fg.apply(this,arguments)}function fg(){return(fg=(0,Q.A)(function*(a,t,r,o){const u=yield jl(a.localStore,io(t)),m=u.targetId,E=a.sharedClientState.addLocalQueryTarget(m,r);let P;return o&&(P=yield Zm(a,t,m,"current"===E,u.resumeToken)),a.isPrimaryClient&&r&&A(a.remoteStore,u),P})).apply(this,arguments)}function Zm(a,t,r,o,u){return ev.apply(this,arguments)}function ev(){return ev=(0,Q.A)(function*(a,t,r,o,u){a.Ka=(Be,It,nn)=>{return(An=(0,Q.A)(function*(Ln,Sr,Kr,Mr){let ri=Sr.view.ma(Kr);ri.ns&&(ri=yield g(Ln.localStore,Sr.query,!1).then(({documents:gt})=>Sr.view.ma(gt,ri)));const xi=Mr&&Mr.targetChanges.get(Sr.targetId),Ni=Mr&&null!=Mr.targetMismatches.get(Sr.targetId),Ft=Sr.view.applyChanges(ri,Ln.isPrimaryClient,xi,Ni);return uf(Ln,Sr.targetId,Ft.wa),Ft.snapshot}),function $n(Ln,Sr,Kr,Mr){return An.apply(this,arguments)})(a,Be,It,nn);var An};const m=yield g(a.localStore,t,!0),E=new Ih(t,m.Ts),P=E.ma(m.documents),k=wo.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==a.onlineState,u),q=E.applyChanges(P,a.isPrimaryClient,k);uf(a,r,q.wa);const ge=new Qm(t,r,E);return a.Fa.set(t,ge),a.Ma.has(r)?a.Ma.get(r).push(t):a.Ma.set(r,[t]),q.snapshot}),ev.apply(this,arguments)}function tv(a,t,r){return pg.apply(this,arguments)}function pg(){return(pg=(0,Q.A)(function*(a,t,r){const o=Tn(a),u=o.Fa.get(t),m=o.Ma.get(u.targetId);if(m.length>1)return o.Ma.set(u.targetId,m.filter(E=>!Rl(E,t))),void o.Fa.delete(t);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield du(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),r&&V(o.remoteStore,u.targetId),vc(o,u.targetId)}).catch(fn))):(vc(o,u.targetId),yield du(o.localStore,u.targetId,!0))})).apply(this,arguments)}function AI(a,t){return nv.apply(this,arguments)}function nv(){return(nv=(0,Q.A)(function*(a,t){const r=Tn(a),o=r.Fa.get(t),u=r.Ma.get(o.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),V(r.remoteStore,o.targetId))})).apply(this,arguments)}function gg(){return(gg=(0,Q.A)(function*(a,t,r){const o=uv(a);try{const u=yield function(E,P){const k=Tn(E),q=Ri.now(),ge=P.reduce((nn,An)=>nn.add(An.key),si());let Be,It;return k.persistence.runTransaction("Locally write mutations","readwrite",nn=>{let An=vo(),$n=si();return k.cs.getEntries(nn,ge).next(Ln=>{An=Ln,An.forEach((Sr,Kr)=>{Kr.isValidDocument()||($n=$n.add(Sr))})}).next(()=>k.localDocuments.getOverlayedDocuments(nn,An)).next(Ln=>{Be=Ln;const Sr=[];for(const Kr of P){const Mr=Ml(Kr,Be.get(Kr.key).overlayedDocument);null!=Mr&&Sr.push(new El(Kr.key,Mr,xa(Mr.value.mapValue),Mi.exists(!0)))}return k.mutationQueue.addMutationBatch(nn,q,Sr,P)}).next(Ln=>{It=Ln;const Sr=Ln.applyToLocalDocumentSet(Be,$n);return k.documentOverlayCache.saveOverlays(nn,Ln.batchId,Sr)})}).then(()=>({batchId:It.batchId,changes:ao(Be)}))}(o.localStore,t);o.sharedClientState.addPendingMutation(u.batchId),function(E,P,k){let q=E.Ba[E.currentUser.toKey()];q||(q=new Qi(tr)),q=q.insert(P,k),E.Ba[E.currentUser.toKey()]=q}(o,u.batchId,r),yield pu(o,u.changes),yield rf(o.remoteStore)}catch(u){const m=kd(u,"Failed to persist write");r.reject(m)}})).apply(this,arguments)}function mg(a,t){return rv.apply(this,arguments)}function rv(){return(rv=(0,Q.A)(function*(a,t){const r=Tn(a);try{const o=yield function Rd(a,t){const r=Tn(a),o=t.snapshotVersion;let u=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const E=r.cs.newChangeBuffer({trackRemovals:!0});u=r.os;const P=[];t.targetChanges.forEach((ge,Be)=>{const It=u.get(Be);if(!It)return;P.push(r.Ur.removeMatchingKeys(m,ge.removedDocuments,Be).next(()=>r.Ur.addMatchingKeys(m,ge.addedDocuments,Be)));let nn=It.withSequenceNumber(m.currentSequenceNumber);var $n,Ln,Sr;null!==t.targetMismatches.get(Be)?nn=nn.withResumeToken(Yr.EMPTY_BYTE_STRING,mr.min()).withLastLimboFreeSnapshotVersion(mr.min()):ge.resumeToken.approximateByteSize()>0&&(nn=nn.withResumeToken(ge.resumeToken,o)),u=u.insert(Be,nn),Ln=nn,Sr=ge,(0===($n=It).resumeToken.approximateByteSize()||Ln.snapshotVersion.toMicroseconds()-$n.snapshotVersion.toMicroseconds()>=3e8||Sr.addedDocuments.size+Sr.modifiedDocuments.size+Sr.removedDocuments.size>0)&&P.push(r.Ur.updateTargetData(m,nn))});let k=vo(),q=si();if(t.documentUpdates.forEach(ge=>{t.resolvedLimboDocuments.has(ge)&&P.push(r.persistence.referenceDelegate.updateLimboDocument(m,ge))}),P.push(ep(m,E,t.documentUpdates).next(ge=>{k=ge.Ps,q=ge.Is})),!o.isEqual(mr.min())){const ge=r.Ur.getLastRemoteSnapshotVersion(m).next(Be=>r.Ur.setTargetsMetadata(m,m.currentSequenceNumber,o));P.push(ge)}return et.waitFor(P).next(()=>E.apply(m)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,k,q)).next(()=>k)}).then(m=>(r.os=u,m))}(r.localStore,t);t.targetChanges.forEach((u,m)=>{const E=r.Na.get(m);E&&(kn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?E.va=!0:u.modifiedDocuments.size>0?kn(E.va):u.removedDocuments.size>0&&(kn(E.va),E.va=!1))}),yield pu(r,o,t)}catch(o){yield fn(o)}})).apply(this,arguments)}function DI(a,t,r){const o=Tn(a);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const u=[];o.Fa.forEach((m,E)=>{const P=E.view.Z_(t);P.snapshot&&u.push(P.snapshot)}),function(E,P){const k=Tn(E);k.onlineState=P;let q=!1;k.queries.forEach((ge,Be)=>{for(const It of Be.j_)It.Z_(P)&&(q=!0)}),q&&ry(k)}(o.eventManager,t),u.length&&o.Ca.d_(u),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}function Ww(a,t,r){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,Q.A)(function*(a,t,r){const o=Tn(a);o.sharedClientState.updateQueryState(t,"rejected",r);const u=o.Na.get(t),m=u&&u.key;if(m){let E=new Qi(Wn.comparator);E=E.insert(m,ki.newNoDocument(m,mr.min()));const P=si().add(m),k=new nl(mr.min(),new Map,new Qi(tr),E,P);yield mg(o,k),o.Oa=o.Oa.remove(m),o.Na.delete(t),Eg(o)}else yield du(o.localStore,t,!1).then(()=>vc(o,t,r)).catch(fn)})).apply(this,arguments)}function SI(a,t){return cf.apply(this,arguments)}function cf(){return(cf=(0,Q.A)(function*(a,t){const r=Tn(a),o=t.batch.batchId;try{const u=yield function Sd(a,t){const r=Tn(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=t.batch.keys(),m=r.cs.newChangeBuffer({trackRemovals:!0});return function(P,k,q,ge){const Be=q.batch,It=Be.keys();let nn=et.resolve();return It.forEach(An=>{nn=nn.next(()=>ge.getEntry(k,An)).next($n=>{const Ln=q.docVersions.get(An);kn(null!==Ln),$n.version.compareTo(Ln)<0&&(Be.applyToRemoteDocument($n,q),$n.isValidDocument()&&($n.setReadTime(q.commitVersion),ge.addEntry($n)))})}),nn.next(()=>P.mutationQueue.removeMutationBatch(k,Be))}(r,o,t,m).next(()=>m.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,u,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(P){let k=si();for(let q=0;q<P.mutationResults.length;++q)P.mutationResults[q].transformResults.length>0&&(k=k.add(P.batch.mutations[q].key));return k}(t))).next(()=>r.localDocuments.getDocuments(o,u))})}(r.localStore,t);yg(r,o,null),cp(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield pu(r,u)}catch(u){yield fn(u)}})).apply(this,arguments)}function iv(a,t,r){return vg.apply(this,arguments)}function vg(){return(vg=(0,Q.A)(function*(a,t,r){const o=Tn(a);try{const u=yield function(E,P){const k=Tn(E);return k.persistence.runTransaction("Reject batch","readwrite-primary",q=>{let ge;return k.mutationQueue.lookupMutationBatch(q,P).next(Be=>(kn(null!==Be),ge=Be.keys(),k.mutationQueue.removeMutationBatch(q,Be))).next(()=>k.mutationQueue.performConsistencyCheck(q)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(q,ge,P)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(q,ge)).next(()=>k.localDocuments.getDocuments(q,ge))})}(o.localStore,t);yg(o,t,r),cp(o,t),o.sharedClientState.updateMutationState(t,"rejected",r),yield pu(o,u)}catch(u){yield fn(u)}})).apply(this,arguments)}function _g(){return(_g=(0,Q.A)(function*(a,t){const r=Tn(a);tn(r.remoteStore)||Et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(E){const P=Tn(E);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>P.mutationQueue.getHighestUnacknowledgedBatchId(k))}(r.localStore);if(-1===o)return void t.resolve();const u=r.ka.get(o)||[];u.push(t),r.ka.set(o,u)}catch(o){const u=kd(o,"Initialization of waitForPendingWrites() operation failed");t.reject(u)}})).apply(this,arguments)}function cp(a,t){(a.ka.get(t)||[]).forEach(r=>{r.resolve()}),a.ka.delete(t)}function yg(a,t,r){const o=Tn(a);let u=o.Ba[o.currentUser.toKey()];if(u){const m=u.get(t);m&&(r?m.reject(r):m.resolve(),u=u.remove(t)),o.Ba[o.currentUser.toKey()]=u}}function vc(a,t,r=null){a.sharedClientState.removeLocalQueryTarget(t);for(const o of a.Ma.get(t))a.Fa.delete(o),r&&a.Ca.$a(o,r);a.Ma.delete(t),a.isPrimaryClient&&a.La.gr(t).forEach(o=>{a.La.containsKey(o)||sv(a,o)})}function sv(a,t){a.xa.delete(t.path.canonicalString());const r=a.Oa.get(t);null!==r&&(V(a.remoteStore,r),a.Oa=a.Oa.remove(t),a.Na.delete(r),Eg(a))}function uf(a,t,r){for(const o of r)o instanceof lf?(a.La.addReference(o.key,t),ay(a,o)):o instanceof op?(Et("SyncEngine","Document no longer in limbo: "+o.key),a.La.removeReference(o.key,t),a.La.containsKey(o.key)||sv(a,o.key)):En()}function ay(a,t){const r=t.key,o=r.path.canonicalString();a.Oa.get(r)||a.xa.has(o)||(Et("SyncEngine","New document in limbo: "+r),a.xa.add(o),Eg(a))}function Eg(a){for(;a.xa.size>0&&a.Oa.size<a.maxConcurrentLimboResolutions;){const t=a.xa.values().next().value;a.xa.delete(t);const r=new Wn(ur.fromString(t)),o=a.qa.next();a.Na.set(o,new hg(r)),a.Oa=a.Oa.insert(r,o),A(a.remoteStore,new Cl(io(As(r.path)),o,"TargetPurposeLimboResolution",qi.oe))}}function pu(a,t,r){return up.apply(this,arguments)}function up(){return up=(0,Q.A)(function*(a,t,r){const o=Tn(a),u=[],m=[],E=[];var P;o.Fa.isEmpty()||(o.Fa.forEach((P,k)=>{E.push(o.Ka(k,t,r).then(q=>{var ge;if((q||r)&&o.isPrimaryClient){const Be=q?!q.fromCache:null===(ge=r?.targetChanges.get(k.targetId))||void 0===ge?void 0:ge.current;o.sharedClientState.updateQueryState(k.targetId,Be?"current":"not-current")}if(q){u.push(q);const Be=Zs.Wi(k.targetId,q);m.push(Be)}}))}),yield Promise.all(E),o.Ca.d_(u),yield(P=(0,Q.A)(function*(q,ge){const Be=Tn(q);try{yield Be.persistence.runTransaction("notifyLocalViewChanges","readwrite",It=>et.forEach(ge,nn=>et.forEach(nn.$i,An=>Be.persistence.referenceDelegate.addReference(It,nn.targetId,An)).next(()=>et.forEach(nn.Ui,An=>Be.persistence.referenceDelegate.removeReference(It,nn.targetId,An)))))}catch(It){if(!qr(It))throw It;Et("LocalStore","Failed to update sequence numbers: "+It)}for(const It of ge){const nn=It.targetId;if(!It.fromCache){const An=Be.os.get(nn),Ln=An.withLastLimboFreeSnapshotVersion(An.snapshotVersion);Be.os=Be.os.insert(nn,Ln)}}}),function k(q,ge){return P.apply(this,arguments)})(o.localStore,m))}),up.apply(this,arguments)}function ly(a,t){return df.apply(this,arguments)}function df(){return(df=(0,Q.A)(function*(a,t){const r=Tn(a);if(!r.currentUser.isEqual(t)){Et("SyncEngine","User change. New user:",t.toKey());const o=yield Ou(r.localStore,t);r.currentUser=t,(m=r).ka.forEach(P=>{P.forEach(k=>{k.reject(new on(Lt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.ka.clear(),r.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),yield pu(r,o.hs)}var m})).apply(this,arguments)}function ov(a,t){const r=Tn(a),o=r.Na.get(t);if(o&&o.va)return si().add(o.key);{let u=si();const m=r.Ma.get(t);if(!m)return u;for(const E of m){const P=r.Fa.get(E);u=u.unionWith(P.view.Va)}return u}}function hf(a,t){return av.apply(this,arguments)}function av(){return(av=(0,Q.A)(function*(a,t){const r=Tn(a),o=yield g(r.localStore,t.query,!0),u=t.view.ba(o);return r.isPrimaryClient&&uf(r,t.targetId,u.wa),u})).apply(this,arguments)}function PI(a,t){return cy.apply(this,arguments)}function cy(){return(cy=(0,Q.A)(function*(a,t){const r=Tn(a);return b(r.localStore,t).then(o=>pu(r,o))})).apply(this,arguments)}function Ig(a,t,r,o){return dp.apply(this,arguments)}function dp(){return(dp=(0,Q.A)(function*(a,t,r,o){const u=Tn(a),m=yield function(P,k){const q=Tn(P),ge=Tn(q.mutationQueue);return q.persistence.runTransaction("Lookup mutation documents","readonly",Be=>ge.Mn(Be,k).next(It=>It?q.localDocuments.getDocuments(Be,It):et.resolve(null)))}(u.localStore,t);var k;null!==m?("pending"===r?yield rf(u.remoteStore):"acknowledged"===r||"rejected"===r?(yg(u,t,o||null),cp(u,t),k=t,Tn(Tn(u.localStore).mutationQueue).On(k)):En(),yield pu(u,m)):Et("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Tg(){return(Tg=(0,Q.A)(function*(a,t){const r=Tn(a);if(Ld(r),uv(r),!0===t&&!0!==r.Qa){const o=r.sharedClientState.getAllActiveQueryTargets(),u=yield lv(r,o.toArray());r.Qa=!0,yield zm(r.remoteStore,!0);for(const m of u)A(r.remoteStore,m)}else if(!1===t&&!1!==r.Qa){const o=[];let u=Promise.resolve();r.Ma.forEach((m,E)=>{r.sharedClientState.isLocalQueryTarget(E)?o.push(E):u=u.then(()=>(vc(r,E),du(r.localStore,E,!0))),V(r.remoteStore,E)}),yield u,yield lv(r,o),function(E){const P=Tn(E);P.Na.forEach((k,q)=>{V(P.remoteStore,q)}),P.La.pr(),P.Na=new Map,P.Oa=new Qi(Wn.comparator)}(r),r.Qa=!1,yield zm(r.remoteStore,!1)}})).apply(this,arguments)}function lv(a,t,r){return Cg.apply(this,arguments)}function Cg(){return(Cg=(0,Q.A)(function*(a,t,r){const o=Tn(a),u=[],m=[];for(const E of t){let P;const k=o.Ma.get(E);if(k&&0!==k.length){P=yield jl(o.localStore,io(k[0]));for(const q of k){const ge=o.Fa.get(q),Be=yield hf(o,ge);Be.snapshot&&m.push(Be.snapshot)}}else{const q=yield v(o.localStore,E);P=yield jl(o.localStore,q),yield Zm(o,dy(q),E,!1,P.resumeToken)}u.push(P)}return o.Ca.d_(m),u})).apply(this,arguments)}function dy(a){return rs(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function MI(a){return r=Tn(a).localStore,Tn(Tn(r).persistence).Qi();var r}function xI(a,t,r,o){return cv.apply(this,arguments)}function cv(){return(cv=(0,Q.A)(function*(a,t,r,o){const u=Tn(a);if(u.Qa)return void Et("SyncEngine","Ignoring unexpected query state notification.");const m=u.Ma.get(t);if(m&&m.length>0)switch(r){case"current":case"not-current":{const E=yield b(u.localStore,Jl(m[0])),P=nl.createSynthesizedRemoteEventForCurrentChange(t,"current"===r,Yr.EMPTY_BYTE_STRING);yield pu(u,E,P);break}case"rejected":yield du(u.localStore,t,!0),vc(u,t,o);break;default:En()}})).apply(this,arguments)}function NI(a,t,r){return gu.apply(this,arguments)}function gu(){return(gu=(0,Q.A)(function*(a,t,r){const o=Ld(a);if(o.Qa){for(const u of t){if(o.Ma.has(u)&&o.sharedClientState.isActiveQueryTarget(u)){Et("SyncEngine","Adding an already active target "+u);continue}const m=yield v(o.localStore,u),E=yield jl(o.localStore,m);yield Zm(o,dy(m),E.targetId,!1,E.resumeToken),A(o.remoteStore,E)}for(const u of r)o.Ma.has(u)&&(yield du(o.localStore,u,!1).then(()=>{V(o.remoteStore,u),vc(o,u)}).catch(fn))}})).apply(this,arguments)}function Ld(a){const t=Tn(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=mg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ov.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ww.bind(null,t),t.Ca.d_=bI.bind(null,t.eventManager),t.Ca.$a=Hw.bind(null,t.eventManager),t}function uv(a){const t=Tn(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=SI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iv.bind(null,t),t}let hp=(()=>{class a{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var o=this;return(0,Q.A)(function*(){o.serializer=fu(r.databaseInfo.databaseId),o.sharedClientState=o.Wa(r),o.persistence=o.Ga(r),yield o.persistence.start(),o.localStore=o.za(r),o.gcScheduler=o.ja(r,o.localStore),o.indexBackfillerScheduler=o.Ha(r,o.localStore)})()}ja(r,o){return null}Ha(r,o){return null}za(r){return $l(this.persistence,new Dd,r.initialUser,this.serializer)}Ga(r){return new Td(cu.Zr,this.serializer)}Wa(r){return new vh}terminate(){var r=this;return(0,Q.A)(function*(){var o,u;null===(o=r.gcScheduler)||void 0===o||o.stop(),null===(u=r.indexBackfillerScheduler)||void 0===u||u.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return a.provider={build:()=>new a},a})();class hy extends hp{constructor(t,r,o){super(),this.Ja=t,this.cacheSizeBytes=r,this.forceOwnership=o,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var r=()=>super.initialize,o=this;return(0,Q.A)(function*(){yield r().call(o,t),yield o.Ja.initialize(o,t),yield uv(o.Ja.syncEngine),yield rf(o.Ja.remoteStore),yield o.persistence.yi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return $l(this.persistence,new Dd,t.initialUser,this.serializer)}ja(t,r){return new Xh(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,r)}Ha(t,r){const o=new Gs(r,this.persistence);return new Sa(t.asyncQueue,o)}Ga(t){const r=Nu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?is.withCacheSize(this.cacheSizeBytes):is.DEFAULT;return new bd(this.synchronizeTabs,r,t.clientId,o,t.asyncQueue,Nd(),ef(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new vh}}class OI extends hy{constructor(t,r){super(t,r,!1),this.Ja=t,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(t){var r=()=>super.initialize,o=this;return(0,Q.A)(function*(){yield r().call(o,t);const u=o.Ja.syncEngine;o.sharedClientState instanceof Md&&(o.sharedClientState.syncEngine={no:Ig.bind(null,u),ro:xI.bind(null,u),io:NI.bind(null,u),Qi:MI.bind(null,u),eo:PI.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.yi(function(){var m=(0,Q.A)(function*(E){yield function uy(a,t){return Tg.apply(this,arguments)}(o.Ja.syncEngine,E),o.gcScheduler&&(E&&!o.gcScheduler.started?o.gcScheduler.start():E||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(E&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():E||o.indexBackfillerScheduler.stop())});return function(E){return m.apply(this,arguments)}}())})()}Wa(t){const r=Nd();if(!Md.D(r))throw new on(Lt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Nu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Md(r,t.asyncQueue,o,t.clientId,t.initialUser)}}let wh=(()=>{class a{initialize(r,o){var u=this;return(0,Q.A)(function*(){u.localStore||(u.localStore=r.localStore,u.sharedClientState=r.sharedClientState,u.datastore=u.createDatastore(o),u.remoteStore=u.createRemoteStore(o),u.eventManager=u.createEventManager(o),u.syncEngine=u.createSyncEngine(o,!r.synchronizeTabs),u.sharedClientState.onlineStateHandler=m=>DI(u.syncEngine,m,1),u.remoteStore.remoteSyncer.handleCredentialChange=ly.bind(null,u.syncEngine),yield zm(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(r){return new ey}createDatastore(r){const o=fu(r.databaseInfo.databaseId),u=new xd(r.databaseInfo);return new tp(r.authCredentials,r.appCheckCredentials,u,o)}createRemoteStore(r){return u=this.localStore,m=this.datastore,E=r.asyncQueue,P=o=>DI(this.syncEngine,o,0),k=Jh.D()?new Jh:new _h,new Bm(u,m,E,P,k);var u,m,E,P,k}createSyncEngine(r,o){return function(m,E,P,k,q,ge,Be){const It=new ap(m,E,P,k,q,ge);return Be&&(It.Qa=!0),It}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,o)}terminate(){var r=this;return(0,Q.A)(function*(){var o,u,m;yield(m=(0,Q.A)(function*(P){const k=Tn(P);Et("RemoteStore","RemoteStore shutting down."),k.L_.add(5),yield h(k),k.k_.shutdown(),k.q_.set("Unknown")}),function E(P){return m.apply(this,arguments)})(r.remoteStore),null===(o=r.datastore)||void 0===o||o.terminate(),null===(u=r.eventManager)||void 0===u||u.terminate()})()}}return a.provider={build:()=>new a},a})();function fy(a,t=10240){let r=0;return{read:()=>(0,Q.A)(function*(){if(r<a.byteLength){const o={value:a.slice(r,r+t),done:!1};return r+=t,o}return{done:!0}})(),cancel:()=>(0,Q.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class wg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):_n("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,r){setTimeout(()=>{this.muted||t(r)},0)}}class kI{constructor(t,r){this.Xa=t,this.serializer=r,this.metadata=new ar,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(o=>{o&&o.ua()?this.metadata.resolve(o.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.aa)}`))},o=>this.metadata.reject(o))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,Q.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,Q.A)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,Q.A)(function*(){const r=yield t.nu();if(null===r)return null;const o=t.eu.decode(r),u=Number(o);isNaN(u)&&t.ru(`length string (${o}) is not valid number`);const m=yield t.iu(u);return new qm(JSON.parse(m),r.length+u)})()}su(){return this.buffer.findIndex(t=>123===t)}nu(){var t=this;return(0,Q.A)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const r=t.su();r<0&&t.ru("Reached the end of bundle when a length string is expected.");const o=t.buffer.slice(0,r);return t.buffer=t.buffer.slice(r),o})()}iu(t){var r=this;return(0,Q.A)(function*(){for(;r.buffer.length<t;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const o=r.eu.decode(r.buffer.slice(0,t));return r.buffer=r.buffer.slice(t),o})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,Q.A)(function*(){const r=yield t.Xa.read();if(!r.done){const o=new Uint8Array(t.buffer.length+r.value.length);o.set(t.buffer),o.set(r.value,t.buffer.length),t.buffer=o}return r.done})()}}class LI{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var r=this;return(0,Q.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new on(Lt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const o=yield(u=(0,Q.A)(function*(E,P){const k=Tn(E),q={documents:P.map(nn=>Fl(k.serializer,nn))},ge=yield k.Lo("BatchGetDocuments",k.serializer.databaseId,ur.emptyPath(),q,P.length),Be=new Map;ge.forEach(nn=>{const An=function ud(a,t){return"found"in t?function(o,u){kn(!!u.found);const m=hi(o,u.found.name),E=vs(u.found.updateTime),P=u.found.createTime?vs(u.found.createTime):mr.min(),k=new ys({mapValue:{fields:u.found.fields}});return ki.newFoundDocument(m,E,P,k)}(a,t):"missing"in t?function(o,u){kn(!!u.missing),kn(!!u.readTime);const m=hi(o,u.missing),E=vs(u.readTime);return ki.newNoDocument(m,E)}(a,t):En()}(k.serializer,nn);Be.set(An.key.toString(),An)});const It=[];return P.forEach(nn=>{const An=Be.get(nn.toString());kn(!!An),It.push(An)}),It}),function m(E,P){return u.apply(this,arguments)})(r.datastore,t);var u;return o.forEach(u=>r.recordVersion(u)),o})()}set(t,r){this.write(r.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,r){try{this.write(r.toMutation(t,this.preconditionForUpdate(t)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ci(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Q.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const r=t.readVersions;var o;t.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,u)=>{const m=Wn.fromPath(u);t.mutations.push(new xl(m,t.precondition(m)))}),yield(o=(0,Q.A)(function*(m,E){const P=Tn(m),k={writes:E.map(q=>lo(P.serializer,q))};yield P.Mo("Commit",P.serializer.databaseId,ur.emptyPath(),k)}),function u(m,E){return o.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let r;if(t.isFoundDocument())r=t.version;else{if(!t.isNoDocument())throw En();r=mr.min()}const o=this.readVersions.get(t.key.toString());if(o){if(!r.isEqual(o))throw new on(Lt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),r)}precondition(t){const r=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&r?r.isEqual(mr.min())?Mi.exists(!1):Mi.updateTime(r):Mi.none()}preconditionForUpdate(t){const r=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&r){if(r.isEqual(mr.min()))throw new on(Lt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mi.updateTime(r)}return Mi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class dv{constructor(t,r,o,u,m){this.asyncQueue=t,this.datastore=r,this.options=o,this.updateFunction=u,this.deferred=m,this._u=o.maxAttempts,this.t_=new tf(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,Q.A)(function*(){const r=new LI(t.datastore),o=t.cu(r);o&&o.then(u=>{t.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{t.deferred.resolve(u)}).catch(m=>{t.lu(m)}))}).catch(u=>{t.lu(u)})}))}cu(t){try{const r=this.updateFunction(t);return!Jo(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const r=t.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Dc(r)}return!1}}class Bu{constructor(t,r,o,u,m){var E=this;this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=de.UNAUTHENTICATED,this.clientId=Pn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=m,this.authCredentials.start(o,function(){var P=(0,Q.A)(function*(k){Et("FirestoreClient","Received user=",k.uid),yield E.authCredentialListener(k),E.user=k});return function(k){return P.apply(this,arguments)}}()),this.appCheckCredentials.start(o,P=>(Et("FirestoreClient","Received new app check token=",P),this.appCheckCredentialListener(P,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const r=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Q.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),r.resolve()}catch(o){const u=kd(o,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function bh(a,t){return bg.apply(this,arguments)}function bg(){return bg=(0,Q.A)(function*(a,t){a.asyncQueue.verifyOperationInProgress(),Et("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield t.initialize(r);let o=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,Q.A)(function*(m){o.isEqual(m)||(yield Ou(t.localStore,m),o=m)});return function(m){return u.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}),bg.apply(this,arguments)}function hv(a,t){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,Q.A)(function*(a,t){a.asyncQueue.verifyOperationInProgress();const r=yield py(a);Et("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(r,a.configuration),a.setCredentialChangeListener(o=>CI(t.remoteStore,o)),a.setAppCheckTokenChangeListener((o,u)=>CI(t.remoteStore,u)),a._onlineComponents=t})).apply(this,arguments)}function py(a){return gy.apply(this,arguments)}function gy(){return(gy=(0,Q.A)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){Et("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bh(a,a._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(u=t).name?u.code===Lt.FAILED_PRECONDITION||u.code===Lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw t;Qn("Error using user provided cache. Falling back to memory cache: "+t),yield bh(a,new hp)}}else Et("FirestoreClient","Using default OfflineComponentProvider"),yield bh(a,new hp);var u;return a._offlineComponents})).apply(this,arguments)}function fv(a){return fp.apply(this,arguments)}function fp(){return(fp=(0,Q.A)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(Et("FirestoreClient","Using user provided OnlineComponentProvider"),yield hv(a,a._uninitializedComponentsProvider._online)):(Et("FirestoreClient","Using default OnlineComponentProvider"),yield hv(a,new wh))),a._onlineComponents})).apply(this,arguments)}function Dg(a){return py(a).then(t=>t.persistence)}function pp(a){return py(a).then(t=>t.localStore)}function FI(a){return fv(a).then(t=>t.remoteStore)}function Sg(a){return fv(a).then(t=>t.syncEngine)}function ff(a){return pv.apply(this,arguments)}function pv(){return(pv=(0,Q.A)(function*(a){const t=yield fv(a),r=t.eventManager;return r.onListen=Ym.bind(null,t.syncEngine),r.onUnlisten=tv.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Jm.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=AI.bind(null,t.syncEngine),r})).apply(this,arguments)}function gv(a,t,r={}){const o=new ar;return a.asyncQueue.enqueueAndForget((0,Q.A)(function*(){return function(m,E,P,k,q){const ge=new wg({next:It=>{ge.Za(),E.enqueueAndForget(()=>Km(m,Be));const nn=It.docs.has(P);!nn&&It.fromCache?q.reject(new on(Lt.UNAVAILABLE,"Failed to get document because the client is offline.")):nn&&It.fromCache&&k&&"server"===k.source?q.reject(new on(Lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):q.resolve(It)},error:It=>q.reject(It)}),Be=new sp(As(P.path),ge,{includeMetadataChanges:!0,_a:!0});return ty(m,Be)}(yield ff(a),a.asyncQueue,t,r,o)})),o.promise}function _y(a,t,r={}){const o=new ar;return a.asyncQueue.enqueueAndForget((0,Q.A)(function*(){return function(m,E,P,k,q){const ge=new wg({next:It=>{ge.Za(),E.enqueueAndForget(()=>Km(m,Be)),It.fromCache&&"server"===k.source?q.reject(new on(Lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):q.resolve(It)},error:It=>q.reject(It)}),Be=new sp(P,ge,{includeMetadataChanges:!0,_a:!0});return ty(m,Be)}(yield ff(a),a.asyncQueue,t,r,o)})),o.promise}function Ey(a){const t={};return void 0!==a.timeoutSeconds&&(t.timeoutSeconds=a.timeoutSeconds),t}const vv=new Map;function Pg(a,t,r){if(!r)throw new on(Lt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function Iy(a,t,r,o){if(!0===t&&!0===o)throw new on(Lt.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function Ty(a){if(!Wn.isDocumentKey(a))throw new on(Lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Cy(a){if(Wn.isDocumentKey(a))throw new on(Lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Mg(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const t=(o=a).constructor?o.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var o;return"function"==typeof a?"a function":En()}function Bi(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new on(Lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Mg(a);throw new on(Lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return a}function WI(a,t){if(t<=0)throw new on(Lt.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${t}.`)}class zI{constructor(t){var r,o;if(void 0===t.host){if(void 0!==t.ssl)throw new on(Lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(r=t.ssl)||void 0===r||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new on(Lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Iy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ey(null!==(o=t.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(m){if(void 0!==m.timeoutSeconds){if(isNaN(m.timeoutSeconds))throw new on(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new on(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new on(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $u{constructor(t,r,o,u){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new on(Lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new on(Lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zI(t),void 0!==t.credentials&&(this._authCredentials=function(o){if(!o)return new ts;switch(o.type){case"firstParty":return new qt(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new on(Lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,Q.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=vv.get(r);o&&(Et("ComponentProvider","Removing Datastore"),vv.delete(r),o.terminate())}(this),Promise.resolve()}}class wa{constructor(t,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new wa(this.firestore,t,this._query)}}class zs{constructor(t,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zs(this.firestore,t,this._key)}}class Gc extends wa{constructor(t,r,o){super(t,r,As(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zs(this.firestore,null,new Wn(t))}withConverter(t){return new Gc(this.firestore,t,this._path)}}function by(a,t,...r){if(a=(0,kr.Ku)(a),Pg("collection","path",t),a instanceof $u){const o=ur.fromString(t,...r);return Cy(o),new Gc(a,null,o)}{if(!(a instanceof zs||a instanceof Gc))throw new on(Lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(ur.fromString(t,...r));return Cy(o),new Gc(a.firestore,null,o)}}function xg(a,t,...r){if(a=(0,kr.Ku)(a),1===arguments.length&&(t=Pn.newId()),Pg("doc","path",t),a instanceof $u){const o=ur.fromString(t,...r);return Ty(o),new zs(a,null,new Wn(o))}{if(!(a instanceof zs||a instanceof Gc))throw new on(Lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(ur.fromString(t,...r));return Ty(o),new zs(a.firestore,a instanceof Gc?a.converter:null,new Wn(o))}}function Ay(a,t){return a=(0,kr.Ku)(a),t=(0,kr.Ku)(t),(a instanceof zs||a instanceof Gc)&&(t instanceof zs||t instanceof Gc)&&a.firestore===t.firestore&&a.path===t.path&&a.converter===t.converter}function _v(a,t){return a=(0,kr.Ku)(a),t=(0,kr.Ku)(t),a instanceof wa&&t instanceof wa&&a.firestore===t.firestore&&Rl(a._query,t._query)&&a.converter===t.converter}class Dy{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new tf(this,"async_queue_retry"),this.Vu=()=>{const o=ef();o&&Et("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=t;const r=ef();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const r=ef();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new ar;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,Q.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(r){if(!qr(r))throw r;Et("AsyncQueue","Operation failed with retryable error: "+r)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const r=this.mu.then(()=>(this.du=!0,t().catch(o=>{throw this.Eu=o,this.du=!1,_n("INTERNAL UNHANDLED ERROR: ",function(E){let P=E.message||"";return E.stack&&(P=E.stack.includes(E.message)?E.stack:E.message+"\n"+E.stack),P}(o)),o}).then(o=>(this.du=!1,o))));return this.mu=r,r}enqueueAfterDelay(t,r,o){this.fu(),this.Ru.indexOf(t)>-1&&(r=0);const u=cg.createAndSchedule(this,t,r,o,m=>this.yu(m));return this.Tu.push(u),u}fu(){this.Eu&&En()}verifyOperationInProgress(){}wu(){var t=this;return(0,Q.A)(function*(){let r;do{r=t.mu,yield r}while(r!==t.mu)})()}Su(t){for(const r of this.Tu)if(r.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==t&&r.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const r=this.Tu.indexOf(t);this.Tu.splice(r,1)}}function gp(a){return function(r){if("object"!=typeof r||null===r)return!1;const u=r;for(const m of["next","error","complete"])if(m in u&&"function"==typeof u[m])return!0;return!1}(a)}class Kw{constructor(){this._progressObserver={},this._taskCompletionResolver=new ar,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,r,o){this._progressObserver={next:t,error:r,complete:o}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,r){return this._taskCompletionResolver.promise.then(t,r)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class _s extends $u{constructor(t,r,o,u){super(t,r,o,u),this.type="firestore",this._queue=new Dy,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var t=this;return(0,Q.A)(function*(){if(t._firestoreClient){const r=t._firestoreClient.terminate();t._queue=new Dy(r),t._firestoreClient=void 0,yield r}})()}}function co(a){if(a._terminated)throw new on(Lt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||KI(a),a._firestoreClient}function KI(a){var t,r,o;const u=a._freezeSettings(),m=(k=(null===(t=a._app)||void 0===t?void 0:t.options.appId)||"",new Jc(a._databaseId,k,a._persistenceKey,(ge=u).host,ge.ssl,ge.experimentalForceLongPolling,ge.experimentalAutoDetectLongPolling,Ey(ge.experimentalLongPollingOptions),ge.useFetchStreams));var k,ge;a._componentsProvider||!(null===(r=u.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(o=u.localCache)||void 0===o)&&o._onlineComponentProvider&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new Bu(a._authCredentials,a._appCheckCredentials,a._queue,m,a._componentsProvider&&function(P){const k=P?._online.build();return{_offline:P?._offline.build(k),_online:k}}(a._componentsProvider))}function gf(){return(gf=(0,Q.A)(function*(a){Qn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=a._freezeSettings();mp(a,wh.provider,{build:r=>new OI(r,t.cacheSizeBytes)})})).apply(this,arguments)}function mp(a,t,r){if((a=Bi(a,_s))._firestoreClient||a._terminated)throw new on(Lt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(a._componentsProvider||a._getSettings().localCache)throw new on(Lt.FAILED_PRECONDITION,"SDK cache is already specified.");a._componentsProvider={_online:t,_offline:r},KI(a)}class Kc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kc(Yr.fromBase64String(t))}catch(r){throw new on(Lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Kc(Yr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Fd{constructor(...t){for(let r=0;r<t.length;++r)if(0===t[r].length)throw new on(Lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class vf{constructor(t){this._methodName=t}}class yv{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new on(Lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new on(Lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return tr(this._lat,t._lat)||tr(this._long,t._long)}}class vp{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(o,u){if(o.length!==u.length)return!1;for(let m=0;m<o.length;++m)if(o[m]!==u[m])return!1;return!0}(this._values,t._values)}}const Ny=/^__.*__$/;class Jw{constructor(t,r,o){this.data=t,this.fieldMask=r,this.fieldTransforms=o}toMutation(t,r){return null!==this.fieldMask?new El(t,this.data,this.fieldMask,r,this.fieldTransforms):new tl(t,this.data,r,this.fieldTransforms)}}class _p{constructor(t,r,o){this.data=t,this.fieldMask=r,this.fieldTransforms=o}toMutation(t,r){return new El(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function Ng(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw En()}}class _f{constructor(t,r,o,u,m,E){this.settings=t,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===m&&this.vu(),this.fieldTransforms=m||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new _f(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(t),u=this.Fu({path:o,xu:!1});return u.Ou(t),u}Nu(t){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(t),u=this.Fu({path:o,xu:!1});return u.vu(),u}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Tp(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(r=>t.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>t.isPrefixOf(r.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(Ng(this.Cu)&&Ny.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class qI{constructor(t,r,o){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=o||fu(t)}Qu(t,r,o,u=!1){return new _f({Cu:t,methodName:r,qu:o,path:Xr.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _c(a){const t=a._freezeSettings(),r=fu(a._databaseId);return new qI(a._databaseId,!!t.ignoreUndefinedProperties,r)}function yf(a,t,r,o,u,m={}){const E=a.Qu(m.merge||m.mergeFields?2:0,t,r,u);Ep("Data must be an object, but it was:",E,o);const P=Tf(o,E);let k,q;if(m.merge)k=new Ms(E.fieldMask),q=E.fieldTransforms;else if(m.mergeFields){const ge=[];for(const Be of m.mergeFields){const It=Ip(t,Be,r);if(!E.contains(It))throw new on(Lt.INVALID_ARGUMENT,`Field '${It}' is specified in your field mask but missing from your input data.`);Vd(ge,It)||ge.push(It)}k=new Ms(ge),q=E.fieldTransforms.filter(Be=>k.covers(Be.field))}else k=null,q=E.fieldTransforms;return new Jw(new ys(P),k,q)}class Ef extends vf{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ef}}function Og(a,t,r){return new _f({Cu:3,qu:t.settings.qu,methodName:a._methodName,xu:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class If extends vf{_toFieldTransform(t){return new Fr(t.path,new R)}isEqual(t){return t instanceof If}}class Ev extends vf{constructor(t,r){super(t),this.Ku=r}_toFieldTransform(t){const r=Og(this,t,!0),o=this.Ku.map(m=>ju(m,r)),u=new F(o);return new Fr(t.path,u)}isEqual(t){return t instanceof Ev&&(0,kr.bD)(this.Ku,t.Ku)}}class Iv extends vf{constructor(t,r){super(t),this.Ku=r}_toFieldTransform(t){const r=Og(this,t,!0),o=this.Ku.map(m=>ju(m,r)),u=new Ce(o);return new Fr(t.path,u)}isEqual(t){return t instanceof Iv&&(0,kr.bD)(this.Ku,t.Ku)}}class kg extends vf{constructor(t,r){super(t),this.$u=r}_toFieldTransform(t){const r=new en(t.serializer,ec(t.serializer,this.$u));return new Fr(t.path,r)}isEqual(t){return t instanceof kg&&this.$u===t.$u}}function Tv(a,t,r,o){const u=a.Qu(1,t,r);Ep("Data must be an object, but it was:",u,o);const m=[],E=ys.empty();Us(o,(k,q)=>{const ge=Cf(t,k,r);q=(0,kr.Ku)(q);const Be=u.Nu(ge);if(q instanceof Ef)m.push(ge);else{const It=ju(q,Be);null!=It&&(m.push(ge),E.set(ge,It))}});const P=new Ms(m);return new _p(E,P,u.fieldTransforms)}function Cv(a,t,r,o,u,m){const E=a.Qu(1,t,r),P=[Ip(t,o,r)],k=[u];if(m.length%2!=0)throw new on(Lt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let It=0;It<m.length;It+=2)P.push(Ip(t,m[It])),k.push(m[It+1]);const q=[],ge=ys.empty();for(let It=P.length-1;It>=0;--It)if(!Vd(q,P[It])){const nn=P[It];let An=k[It];An=(0,kr.Ku)(An);const $n=E.Nu(nn);if(An instanceof Ef)q.push(nn);else{const Ln=ju(An,$n);null!=Ln&&(q.push(nn),ge.set(nn,Ln))}}const Be=new Ms(q);return new _p(ge,Be,E.fieldTransforms)}function wv(a,t,r,o=!1){return ju(r,a.Qu(o?4:3,t))}function ju(a,t){if(yp(a=(0,kr.Ku)(a)))return Ep("Unsupported field value:",t,a),Tf(a,t);if(a instanceof vf)return function(o,u){if(!Ng(u.Cu))throw u.Bu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${o._methodName}() is not currently supported inside arrays`);const m=o._toFieldTransform(u);m&&u.fieldTransforms.push(m)}(a,t),null;if(void 0===a&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(o,u){const m=[];let E=0;for(const P of o){let k=ju(P,u.Lu(E));null==k&&(k={nullValue:"NULL_VALUE"}),m.push(k),E++}return{arrayValue:{values:m}}}(a,t)}return function(o,u){if(null===(o=(0,kr.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return ec(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const m=Ri.fromDate(o);return{timestampValue:Ll(u.serializer,m)}}if(o instanceof Ri){const m=new Ri(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Ll(u.serializer,m)}}if(o instanceof yv)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Kc)return{bytesValue:Jd(u.serializer,o._byteString)};if(o instanceof zs){const m=u.databaseId,E=o.firestore._databaseId;if(!E.isEqual(m))throw u.Bu(`Document reference is for database ${E.projectId}/${E.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:ln(o.firestore._databaseId||u.databaseId,o._key.path)}}if(o instanceof vp)return P=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(k=>{if("number"!=typeof k)throw P.Bu("VectorValues must only contain numeric values.");return Qd(P.serializer,k)})}}}}};var P;throw u.Bu(`Unsupported field value: ${Mg(o)}`)}(a,t)}function Tf(a,t){const r={};return Xl(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Us(a,(o,u)=>{const m=ju(u,t.Mu(o));null!=m&&(r[o]=m)}),{mapValue:{fields:r}}}function yp(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Ri||a instanceof yv||a instanceof Kc||a instanceof zs||a instanceof vf||a instanceof vp)}function Ep(a,t,r){if(!yp(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=Mg(r);throw t.Bu("an object"===o?a+" a custom object":a+" "+o)}var u}function Ip(a,t,r){if((t=(0,kr.Ku)(t))instanceof Fd)return t._internalPath;if("string"==typeof t)return Cf(a,t);throw Tp("Field path arguments must be of type string or ",a,!1,void 0,r)}const QI=new RegExp("[~\\*/\\[\\]]");function Cf(a,t,r){if(t.search(QI)>=0)throw Tp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Fd(...t.split("."))._internalPath}catch{throw Tp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Tp(a,t,r,o,u){const m=o&&!o.isEmpty(),E=void 0!==u;let P=`Function ${t}() called with invalid data`;r&&(P+=" (via `toFirestore()`)"),P+=". ";let k="";return(m||E)&&(k+=" (found",m&&(k+=` in field ${o}`),E&&(k+=` in document ${u}`),k+=")"),new on(Lt.INVALID_ARGUMENT,P+a+k)}function Vd(a,t){return a.some(r=>r.isEqual(t))}class wf{constructor(t,r,o,u,m){this._firestore=t,this._userDataWriter=r,this._key=o,this._document=u,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new zs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Oy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(bf("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Oy extends wf{data(){return super.data()}}function bf(a,t){return"string"==typeof t?Cf(a,t):t instanceof Fd?t._internalPath:t._delegate._internalPath}function ky(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new on(Lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lg{}class Af extends Lg{}function Hu(a,t,...r){let o=[];t instanceof Lg&&o.push(t),o=o.concat(r),function(m){const E=m.filter(k=>k instanceof Wu).length,P=m.filter(k=>k instanceof Ah).length;if(E>1||E>0&&P>0)throw new on(Lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)a=u._apply(a);return a}class Ah extends Af{constructor(t,r,o){super(),this._field=t,this._op=r,this._value=o,this.type="where"}static _create(t,r,o){return new Ah(t,r,o)}_apply(t){const r=this._parse(t);return Sv(t._query,r),new wa(t.firestore,t.converter,so(t._query,r))}_parse(t){const r=_c(t.firestore);return function(m,E,P,k,q,ge,Be){let It;if(q.isKeyField()){if("array-contains"===ge||"array-contains-any"===ge)throw new on(Lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ge}' queries on documentId().`);if("in"===ge||"not-in"===ge){Dv(Be,ge);const nn=[];for(const An of Be)nn.push(_i(k,m,An));It={arrayValue:{values:nn}}}else It=_i(k,m,Be)}else"in"!==ge&&"not-in"!==ge&&"array-contains-any"!==ge||Dv(Be,ge),It=wv(P,"where",Be,"in"===ge||"not-in"===ge);return ne.create(q,ge,It)}(t._query,0,r,t.firestore._databaseId,this._field,this._op,this._value)}}class Wu extends Lg{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Wu(t,r)}_parse(t){const r=this._queryConstraints.map(o=>o._parse(t)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:$.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return 0===r.getFilters().length?t:(function(u,m){let E=u;const P=m.getFlattenedFilters();for(const k of P)Sv(E,k),E=so(E,k)}(t._query,r),new wa(t.firestore,t.converter,so(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Cp extends Af{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new Cp(t,r)}_apply(t){const r=function(u,m,E){if(null!==u.startAt)throw new on(Lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new on(Lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uo(m,E)}(t._query,this._field,this._direction);return new wa(t.firestore,t.converter,function(u,m){const E=u.explicitOrderBy.concat([m]);return new po(u.path,u.collectionGroup,E,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t._query,r))}}class bp extends Af{constructor(t,r,o){super(),this.type=t,this._limit=r,this._limitType=o}static _create(t,r,o){return new bp(t,r,o)}_apply(t){return new wa(t.firestore,t.converter,yr(t._query,this._limit,this._limitType))}}class Vg extends Af{constructor(t,r,o){super(),this.type=t,this._docOrFields=r,this._inclusive=o}static _create(t,r,o){return new Vg(t,r,o)}_apply(t){const r=Av(t,this.type,this._docOrFields,this._inclusive);return new wa(t.firestore,t.converter,(m=r,new po((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,m,u.endAt)));var u,m}}class Ug extends Af{constructor(t,r,o){super(),this.type=t,this._docOrFields=r,this._inclusive=o}static _create(t,r,o){return new Ug(t,r,o)}_apply(t){const r=Av(t,this.type,this._docOrFields,this._inclusive);return new wa(t.firestore,t.converter,(m=r,new po((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,m)));var u,m}}function Av(a,t,r,o){if(r[0]=(0,kr.Ku)(r[0]),r[0]instanceof wf)return function(m,E,P,k,q){if(!k)throw new on(Lt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const ge=[];for(const Be of go(m))if(Be.field.isKeyField())ge.push(ma(E,k.key));else{const It=k.data.field(Be.field);if(ta(It))throw new on(Lt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Be.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===It){const nn=Be.field.canonicalString();throw new on(Lt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${nn}' (used as the orderBy) does not exist.`)}ge.push(It)}return new ro(ge,q)}(a._query,a.firestore._databaseId,t,r[0]._document,o);{const u=_c(a.firestore);return function(E,P,k,q,ge,Be){const It=E.explicitOrderBy;if(ge.length>It.length)throw new on(Lt.INVALID_ARGUMENT,`Too many arguments provided to ${q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const nn=[];for(let An=0;An<ge.length;An++){const $n=ge[An];if(It[An].field.isKeyField()){if("string"!=typeof $n)throw new on(Lt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${q}(), but got a ${typeof $n}`);if(!Na(E)&&-1!==$n.indexOf("/"))throw new on(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${q}() must be a plain document ID, but '${$n}' contains a slash.`);const Ln=E.path.child(ur.fromString($n));if(!Wn.isDocumentKey(Ln))throw new on(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${q}() must result in a valid document path, but '${Ln}' is not because it contains an odd number of segments.`);const Sr=new Wn(Ln);nn.push(ma(P,Sr))}else{const Ln=wv(k,q,$n);nn.push(Ln)}}return new ro(nn,Be)}(a._query,a.firestore._databaseId,u,t,r,o)}}function _i(a,t,r){if("string"==typeof(r=(0,kr.Ku)(r))){if(""===r)throw new on(Lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Na(t)&&-1!==r.indexOf("/"))throw new on(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=t.path.child(ur.fromString(r));if(!Wn.isDocumentKey(o))throw new on(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ma(a,new Wn(o))}if(r instanceof zs)return ma(a,r._key);throw new on(Lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mg(r)}.`)}function Dv(a,t){if(!Array.isArray(a)||0===a.length)throw new on(Lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Sv(a,t){const r=function(u,m){for(const E of u)for(const P of E.getFlattenedFilters())if(m.indexOf(P.op)>=0)return P.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw new on(Lt.INVALID_ARGUMENT,r===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class Bg{convertValue(t,r="none"){switch(na(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ai(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Po(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw En()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const o={};return Us(t,(u,m)=>{o[u]=this.convertValue(m,r)}),o}convertVectorValue(t){var r,o,u;const m=null===(u=null===(o=null===(r=t.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.map(E=>ai(E.doubleValue));return new vp(m)}convertGeoPoint(t){return new yv(ai(t.latitude),ai(t.longitude))}convertArray(t,r){return(t.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(t,r){switch(r){case"previous":const o=Ma(t);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Ka(t));default:return null}}convertTimestamp(t){const r=bs(t);return new Ri(r.seconds,r.nanos)}convertDocumentKey(t,r){const o=ur.fromString(t);kn(zh(o));const u=new Ki(o.get(1),o.get(3)),m=new Wn(o.popFirst(5));return u.isEqual(r)||_n(`Document ${m} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),m}}function Ap(a,t,r){let o;return o=a?r&&(r.merge||r.mergeFields)?a.toFirestore(t,r):a.toFirestore(t):t,o}class e0 extends Bg{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kc(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new zs(this.firestore,null,r)}}class zu{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xc extends wf{constructor(t,r,o,u,m,E){super(t,r,o,u,E),this._firestore=t,this._firestoreImpl=t,this.metadata=m}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const o=this._document.data.field(bf("DocumentSnapshot.get",t));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Sh extends Xc{data(t={}){return super.data(t)}}class Gu{constructor(t,r,o,u){this._firestore=t,this._userDataWriter=r,this._snapshot=u,this.metadata=new zu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,r){this._snapshot.docs.forEach(o=>{t.call(r,new Sh(this._firestore,this._userDataWriter,o.key,o,new zu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new on(Lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,m){if(u._snapshot.oldDocs.isEmpty()){let E=0;return u._snapshot.docChanges.map(P=>({type:"added",doc:new Sh(u._firestore,u._userDataWriter,P.doc.key,P.doc,new zu(u._snapshot.mutatedKeys.has(P.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:E++}))}{let E=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(P=>m||3!==P.type).map(P=>{const k=new Sh(u._firestore,u._userDataWriter,P.doc.key,P.doc,new zu(u._snapshot.mutatedKeys.has(P.doc.key),u._snapshot.fromCache),u.query.converter);let q=-1,ge=-1;return 0!==P.type&&(q=E.indexOf(P.doc.key),E=E.delete(P.doc.key)),1!==P.type&&(E=E.add(P.doc),ge=E.indexOf(P.doc.key)),{type:Mv(P.type),doc:k,oldIndex:q,newIndex:ge}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Mv(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return En()}}function Uy(a,t){return a instanceof Xc&&t instanceof Xc?a._firestore===t._firestore&&a._key.isEqual(t._key)&&(null===a._document?null===t._document:a._document.isEqual(t._document))&&a._converter===t._converter:a instanceof Gu&&t instanceof Gu&&a._firestore===t._firestore&&_v(a.query,t.query)&&a.metadata.isEqual(t.metadata)&&a._snapshot.isEqual(t._snapshot)}class Ud extends Bg{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kc(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new zs(this.firestore,null,r)}}function xv(a,t,r){a=Bi(a,zs);const o=Bi(a.firestore,_s),u=Ap(a.converter,t,r);return Rf(o,[yf(_c(o),"setDoc",a._key,u,null!==a.converter,r).toMutation(a._key,Mi.none())])}function Nv(a,t,r,...o){a=Bi(a,zs);const u=Bi(a.firestore,_s),m=_c(u);let E;return E="string"==typeof(t=(0,kr.Ku)(t))||t instanceof Fd?Cv(m,"updateDoc",a._key,t,r,o):Tv(m,"updateDoc",a._key,t),Rf(u,[E.toMutation(a._key,Mi.exists(!0))])}function hl(a,...t){var r,o,u;a=(0,kr.Ku)(a);let m={includeMetadataChanges:!1,source:"default"},E=0;"object"!=typeof t[E]||gp(t[E])||(m=t[E],E++);const P={includeMetadataChanges:m.includeMetadataChanges,source:m.source};if(gp(t[E])){const Be=t[E];t[E]=null===(r=Be.next)||void 0===r?void 0:r.bind(Be),t[E+1]=null===(o=Be.error)||void 0===o?void 0:o.bind(Be),t[E+2]=null===(u=Be.complete)||void 0===u?void 0:u.bind(Be)}let k,q,ge;if(a instanceof zs)q=Bi(a.firestore,_s),ge=As(a._key.path),k={next:Be=>{t[E]&&t[E]($y(q,a,Be))},error:t[E+1],complete:t[E+2]};else{const Be=Bi(a,wa);q=Bi(Be.firestore,_s),ge=Be._query;const It=new Ud(q);k={next:nn=>{t[E]&&t[E](new Gu(q,It,Be,nn))},error:t[E+1],complete:t[E+2]},ky(a._query)}return function(It,nn,An,$n){const Ln=new wg($n),Sr=new sp(nn,Ln,An);return It.asyncQueue.enqueueAndForget((0,Q.A)(function*(){return ty(yield ff(It),Sr)})),()=>{Ln.Za(),It.asyncQueue.enqueueAndForget((0,Q.A)(function*(){return Km(yield ff(It),Sr)}))}}(co(q),ge,P,k)}function Rf(a,t){return function(o,u){const m=new ar;return o.asyncQueue.enqueueAndForget((0,Q.A)(function*(){return function lp(a,t,r){return gg.apply(this,arguments)}(yield Sg(o),u,m)})),m.promise}(co(a),t)}function $y(a,t,r){const o=r.docs.get(t._key),u=new Ud(a);return new Xc(a,u,t._key,o,new zu(r.hasPendingWrites,r.fromCache),t.converter)}const mu={maxAttempts:5};class jg{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=_c(t)}set(t,r,o){this._verifyNotCommitted();const u=Bd(t,this._firestore),m=Ap(u.converter,r,o),E=yf(this._dataReader,"WriteBatch.set",u._key,m,null!==u.converter,o);return this._mutations.push(E.toMutation(u._key,Mi.none())),this}update(t,r,o,...u){this._verifyNotCommitted();const m=Bd(t,this._firestore);let E;return E="string"==typeof(r=(0,kr.Ku)(r))||r instanceof Fd?Cv(this._dataReader,"WriteBatch.update",m._key,r,o,u):Tv(this._dataReader,"WriteBatch.update",m._key,r),this._mutations.push(E.toMutation(m._key,Mi.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=Bd(t,this._firestore);return this._mutations=this._mutations.concat(new Ci(r._key,Mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new on(Lt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bd(a,t){if((a=(0,kr.Ku)(a)).firestore!==t)throw new on(Lt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class v0 extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=_c(r)}get(r){const o=Bd(r,this._firestore),u=new e0(this._firestore);return this._transaction.lookup([o._key]).then(m=>{if(!m||1!==m.length)return En();const E=m[0];if(E.isFoundDocument())return new wf(this._firestore,u,E.key,E,o.converter);if(E.isNoDocument())return new wf(this._firestore,u,o._key,null,o.converter);throw En()})}set(r,o,u){const m=Bd(r,this._firestore),E=Ap(m.converter,o,u),P=yf(this._dataReader,"Transaction.set",m._key,E,null!==m.converter,u);return this._transaction.set(m._key,P),this}update(r,o,u,...m){const E=Bd(r,this._firestore);let P;return P="string"==typeof(o=(0,kr.Ku)(o))||o instanceof Fd?Cv(this._dataReader,"Transaction.update",E._key,o,u,m):Tv(this._dataReader,"Transaction.update",E._key,o),this._transaction.update(E._key,P),this}delete(r){const o=Bd(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(t,r){super(t,r),this._firestore=t}get(t){const r=Bd(t,this._firestore),o=new Ud(this._firestore);return super.get(t).then(u=>new Xc(this._firestore,o,r._key,u._document,new zu(!1,!1),r.converter))}}function Fv(a,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new on("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return t}function Jy(){if(typeof Uint8Array>"u")throw new on("unimplemented","Uint8Arrays are not available in this environment.")}function Zy(){if(!function ni(){return typeof atob<"u"}())throw new on("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,r=!0){Ue=Vr.SDK_VERSION,(0,Vr._registerComponent)(new Sn.uA("firestore",(o,{instanceIdentifier:u,options:m})=>{const E=o.getProvider("app").getImmediate(),P=new _s(new ye(o.getProvider("auth-internal")),new Zn(o.getProvider("app-check-internal")),function(q,ge){if(!Object.prototype.hasOwnProperty.apply(q.options,["projectId"]))throw new on(Lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ki(q.options.projectId,ge)}(E,u),E);return m=Object.assign({useFetchStreams:r},m),P._setSettings(m),P},"PUBLIC").setMultipleInstances(!0)),(0,Vr.registerVersion)(Qt,"4.7.3",t),(0,Vr.registerVersion)(Qt,"4.7.3","esm2017")}();class Rp{constructor(t){this._delegate=t}static fromBase64String(t){return Zy(),new Rp(Kc.fromBase64String(t))}static fromUint8Array(t){return Jy(),new Rp(Kc.fromUint8Array(t))}toBase64(){return Zy(),this._delegate.toBase64()}toUint8Array(){return Jy(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Vv(a){return function eE(a,t){if("object"!=typeof a||null===a)return!1;const r=a;for(const o of t)if(o in r&&"function"==typeof r[o])return!0;return!1}(a,["next","error","complete"])}class I0{enableIndexedDbPersistence(t,r){return function qw(a,t){Qn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings();return mp(a,wh.provider,{build:o=>new hy(o,r.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(t){return function XI(a){return gf.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function Sy(a){if(a._initialized&&!a._terminated)throw new on(Lt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ar;return a._queue.enqueueAndForgetEvenWhileRestricted((0,Q.A)(function*(){try{yield(r=(0,Q.A)(function*(u){if(!lr.D())return Promise.resolve();const m=u+"main";yield lr.delete(m)}),function o(u){return r.apply(this,arguments)})(Nu(a._databaseId,a._persistenceKey)),t.resolve()}catch(r){t.reject(r)}var r})),t.promise}(t._delegate)}}class Pp{constructor(t,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},t instanceof Ki||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const r=this._delegate._getSettings();!t.merge&&r.host!==t.host&&Qn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},r),t)).merge,this._delegate._setSettings(t)}useEmulator(t,r,o={}){!function wy(a,t,r,o={}){var u;const m=(a=Bi(a,$u))._getSettings(),E=`${t}:${r}`;if("firestore.googleapis.com"!==m.host&&m.host!==E&&Qn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},m),{host:E,ssl:!1})),o.mockUserToken){let P,k;if("string"==typeof o.mockUserToken)P=o.mockUserToken,k=de.MOCK_USER;else{P=(0,kr.Fy)(o.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const q=o.mockUserToken.sub||o.mockUserToken.user_id;if(!q)throw new on(Lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new de(q)}a._authCredentials=new he(new oi(P,k))}}(this._delegate,t,r,o)}enableNetwork(){return function Py(a){return function VI(a){return a.asyncQueue.enqueue((0,Q.A)(function*(){const t=yield Dg(a),r=yield FI(a);return t.setNetworkEnabled(!0),function(u){const m=Tn(u);return m.L_.delete(0),p(m)}(r)}))}(co(a=Bi(a,_s)))}(this._delegate)}disableNetwork(){return function My(a){return function UI(a){return a.asyncQueue.enqueue((0,Q.A)(function*(){const t=yield Dg(a),r=yield FI(a);return t.setNetworkEnabled(!1),(o=(0,Q.A)(function*(m){const E=Tn(m);E.L_.add(0),yield h(E),E.q_.set("Offline")}),function u(m){return o.apply(this,arguments)})(r);var o}))}(co(a=Bi(a,_s)))}(this._delegate)}enablePersistence(t){let r=!1,o=!1;return t&&(r=!!t.synchronizeTabs,o=!!t.experimentalForceOwningTab,Iy("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ry(a){return function(r){const o=new ar;return r.asyncQueue.enqueueAndForget((0,Q.A)(function*(){return function RI(a,t){return _g.apply(this,arguments)}(yield Sg(r),o)})),o.promise}(co(a=Bi(a,_s)))}(this._delegate)}onSnapshotsInSync(t){return function u0(a,t){return function Rg(a,t){const r=new wg(t);return a.asyncQueue.enqueueAndForget((0,Q.A)(function*(){return u=yield ff(a),m=r,Tn(u).Y_.add(m),void m.next();var u,m})),()=>{r.Za(),a.asyncQueue.enqueueAndForget((0,Q.A)(function*(){return u=yield ff(a),m=r,void Tn(u).Y_.delete(m);var u,m}))}}(co(a=Bi(a,_s)),gp(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new on("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Mf(this,by(this._delegate,t))}catch(r){throw $a(r,"collection()","Firestore.collection()")}}doc(t){try{return new yc(this,xg(this._delegate,t))}catch(r){throw $a(r,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new zo(this,function GI(a,t){if(a=Bi(a,$u),Pg("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new on(Lt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new wa(a,null,(o=t,new po(ur.emptyPath(),o)));var o}(this._delegate,t))}catch(r){throw $a(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function Gy(a,t,r){a=Bi(a,_s);const o=Object.assign(Object.assign({},mu),r);return function(m){if(m.maxAttempts<1)throw new on(Lt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(m,E,P){const k=new ar;return m.asyncQueue.enqueueAndForget((0,Q.A)(function*(){const q=yield function my(a){return fv(a).then(t=>t.datastore)}(m);new dv(m.asyncQueue,q,P,E,k).au()})),k.promise}(co(a),u=>t(new v0(a,u)),o)}(this._delegate,r=>t(new nE(this,r)))}batch(){return co(this._delegate),new Uv(new jg(this._delegate,t=>Rf(this._delegate,t)))}loadBundle(t){return function xy(a,t){const r=co(a=Bi(a,_s)),o=new Kw;return function $I(a,t,r,o){const u=function(E,P){let k;return k="string"==typeof E?Tu().encode(E):E,ge=function(ge){if(ge instanceof Uint8Array)return fy(ge,void 0);if(ge instanceof ArrayBuffer)return fy(new Uint8Array(ge),void 0);if(ge instanceof ReadableStream)return ge.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new kI(ge,P);var ge}(r,fu(t));a.asyncQueue.enqueueAndForget((0,Q.A)(function*(){!function zw(a,t,r){const o=Tn(a);var u;(u=(0,Q.A)(function*(E,P,k){try{const q=yield P.getMetadata();if(yield function(An,$n){const Ln=Tn(An),Sr=vs($n.createTime);return Ln.persistence.runTransaction("hasNewerBundle","readonly",Kr=>Ln.Gr.getBundleMetadata(Kr,$n.id)).then(Kr=>!!Kr&&Kr.createTime.compareTo(Sr)>=0)}(E.localStore,q))return yield P.close(),k._completeWith({taskState:"Success",documentsLoaded:(An=q).totalDocuments,bytesLoaded:An.totalBytes,totalDocuments:An.totalDocuments,totalBytes:An.totalBytes}),Promise.resolve(new Set);k._updateProgress(dg(q));const ge=new ug(q,E.localStore,P.serializer);let Be=yield P.Ua();for(;Be;){const nn=yield ge.la(Be);nn&&k._updateProgress(nn),Be=yield P.Ua()}const It=yield ge.complete();return yield pu(E,It.Ia,void 0),yield function(An,$n){const Ln=Tn(An);return Ln.persistence.runTransaction("Save bundle","readwrite",Sr=>Ln.Gr.saveBundleMetadata(Sr,$n))}(E.localStore,q),k._completeWith(It.progress),Promise.resolve(It.Pa)}catch(q){return Qn("SyncEngine",`Loading bundle failed with ${q}`),k._failWith(q),Promise.resolve(new Set)}var An}),function m(E,P,k){return u.apply(this,arguments)})(o,t,r).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Sg(a),u,o)}))}(r,a._databaseId,t,o),o}(this._delegate,t)}namedQuery(t){return function mf(a,t){return function mv(a,t){return a.asyncQueue.enqueue((0,Q.A)(function*(){return function(o,u){const m=Tn(o);return m.persistence.runTransaction("Get named query","readonly",E=>m.Gr.getNamedQuery(E,u))}(yield pp(a),t)}))}(co(a=Bi(a,_s)),t).then(r=>r?new wa(a,null,r.query):null)}(this._delegate,t).then(r=>r?new zo(this,r):null)}}class zg extends Bg{constructor(t){super(),this.firestore=t}convertBytes(t){return new Rp(new Kc(t))}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return yc.forKey(r,this.firestore,null)}}class nE{constructor(t,r){this._firestore=t,this._delegate=r,this._userDataWriter=new zg(t)}get(t){const r=vu(t);return this._delegate.get(r).then(o=>new Xu(this._firestore,new Xc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(t,r,o){const u=vu(t);return o?(Fv("Transaction.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(t,r,o,...u){const m=vu(t);return 2===arguments.length?this._delegate.update(m,r):this._delegate.update(m,r,o,...u),this}delete(t){const r=vu(t);return this._delegate.delete(r),this}}class Uv{constructor(t){this._delegate=t}set(t,r,o){const u=vu(t);return o?(Fv("WriteBatch.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(t,r,o,...u){const m=vu(t);return 2===arguments.length?this._delegate.update(m,r):this._delegate.update(m,r,o,...u),this}delete(t){const r=vu(t);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Mh{constructor(t,r,o){this._firestore=t,this._userDataWriter=r,this._delegate=o}fromFirestore(t,r){const o=new Sh(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new qu(this._firestore,o),r??{})}toFirestore(t,r){return r?this._delegate.toFirestore(t,r):this._delegate.toFirestore(t)}static getInstance(t,r){const o=Mh.INSTANCES;let u=o.get(t);u||(u=new WeakMap,o.set(t,u));let m=u.get(r);return m||(m=new Mh(t,new zg(t),r),u.set(r,m)),m}}Mh.INSTANCES=new WeakMap;class yc{constructor(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new zg(t)}static forPath(t,r,o){if(t.length%2!=0)throw new on("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new yc(r,new zs(r._delegate,o,new Wn(t)))}static forKey(t,r,o){return new yc(r,new zs(r._delegate,o,t))}get id(){return this._delegate.id}get parent(){return new Mf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Mf(this.firestore,by(this._delegate,t))}catch(r){throw $a(r,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,kr.Ku)(t))instanceof zs&&Ay(this._delegate,t)}set(t,r){r=Fv("DocumentReference.set",r);try{return r?xv(this._delegate,t,r):xv(this._delegate,t)}catch(o){throw $a(o,"setDoc()","DocumentReference.set()")}}update(t,r,...o){try{return 1===arguments.length?Nv(this._delegate,t):Nv(this._delegate,t,r,...o)}catch(u){throw $a(u,"updateDoc()","DocumentReference.update()")}}delete(){return function l0(a){return Rf(Bi(a.firestore,_s),[new Ci(a._key,Mi.none())])}(this._delegate)}onSnapshot(...t){const r=Gg(t),o=Bv(t,u=>new Xu(this.firestore,new Xc(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return hl(this._delegate,r,o)}get(t){let r;return r="cache"===t?.source?function By(a){a=Bi(a,zs);const t=Bi(a.firestore,_s),r=co(t),o=new Ud(t);return function vy(a,t){const r=new ar;return a.asyncQueue.enqueueAndForget((0,Q.A)(function*(){return(o=(0,Q.A)(function*(m,E,P){try{const k=yield function(ge,Be){const It=Tn(ge);return It.persistence.runTransaction("read document","readonly",nn=>It.localDocuments.getDocument(nn,Be))}(m,E);k.isFoundDocument()?P.resolve(k):k.isNoDocument()?P.resolve(null):P.reject(new on(Lt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const q=kd(k,`Failed to get document '${E} from cache`);P.reject(q)}}),function u(m,E,P){return o.apply(this,arguments)})(yield pp(a),t,r);var o})),r.promise}(r,a._key).then(u=>new Xc(t,o,a._key,u,new zu(null!==u&&u.hasLocalMutations,!0),a.converter))}(this._delegate):"server"===t?.source?function r0(a){a=Bi(a,zs);const t=Bi(a.firestore,_s);return gv(co(t),a._key,{source:"server"}).then(r=>$y(t,a,r))}(this._delegate):function n0(a){a=Bi(a,zs);const t=Bi(a.firestore,_s);return gv(co(t),a._key).then(r=>$y(t,a,r))}(this._delegate),r.then(o=>new Xu(this.firestore,new Xc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(t){return new yc(this.firestore,this._delegate.withConverter(t?Mh.getInstance(this.firestore,t):null))}}function $a(a,t,r){return a.message=a.message.replace(t,r),a}function Gg(a){for(const t of a)if("object"==typeof t&&!Vv(t))return t;return{}}function Bv(a,t){var r,o;let u;return u=Vv(a[0])?a[0]:Vv(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:m=>{u.next&&u.next(t(m))},error:null===(r=u.error)||void 0===r?void 0:r.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class Xu{constructor(t,r){this._firestore=t,this._delegate=r}get ref(){return new yc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,r){return this._delegate.get(t,r)}isEqual(t){return Uy(this._delegate,t._delegate)}}class qu extends Xu{data(t){const r=this._delegate.data(t);return this._delegate._converter||function Lr(a){a||En()}(void 0!==r),r}}class zo{constructor(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new zg(t)}where(t,r,o){try{return new zo(this.firestore,Hu(this._delegate,function Ly(a,t,r){const o=t,u=bf("where",a);return Ah._create(u,o,r)}(t,r,o)))}catch(u){throw $a(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,r){try{return new zo(this.firestore,Hu(this._delegate,function wp(a,t="asc"){const r=t,o=bf("orderBy",a);return Cp._create(o,r)}(t,r)))}catch(o){throw $a(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new zo(this.firestore,Hu(this._delegate,function bv(a){return WI("limit",a),bp._create("limit",a,"F")}(t)))}catch(r){throw $a(r,"limit()","Query.limit()")}}limitToLast(t){try{return new zo(this.firestore,Hu(this._delegate,function Fg(a){return WI("limitToLast",a),bp._create("limitToLast",a,"L")}(t)))}catch(r){throw $a(r,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new zo(this.firestore,Hu(this._delegate,function Fy(...a){return Vg._create("startAt",a,!0)}(...t)))}catch(r){throw $a(r,"startAt()","Query.startAt()")}}startAfter(...t){try{return new zo(this.firestore,Hu(this._delegate,function JI(...a){return Vg._create("startAfter",a,!1)}(...t)))}catch(r){throw $a(r,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new zo(this.firestore,Hu(this._delegate,function ZI(...a){return Ug._create("endBefore",a,!1)}(...t)))}catch(r){throw $a(r,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new zo(this.firestore,Hu(this._delegate,function Vy(...a){return Ug._create("endAt",a,!0)}(...t)))}catch(r){throw $a(r,"endAt()","Query.endAt()")}}isEqual(t){return _v(this._delegate,t._delegate)}get(t){let r;return r="cache"===t?.source?function o0(a){a=Bi(a,wa);const t=Bi(a.firestore,_s),r=co(t),o=new Ud(t);return function BI(a,t){const r=new ar;return a.asyncQueue.enqueueAndForget((0,Q.A)(function*(){return(o=(0,Q.A)(function*(m,E,P){try{const k=yield g(m,E,!0),q=new Ih(E,k.Ts),ge=q.ma(k.documents),Be=q.applyChanges(ge,!1);P.resolve(Be.snapshot)}catch(k){const q=kd(k,`Failed to execute query '${E} against cache`);P.reject(q)}}),function u(m,E,P){return o.apply(this,arguments)})(yield pp(a),t,r);var o})),r.promise}(r,a._query).then(u=>new Gu(t,o,a,u))}(this._delegate):"server"===t?.source?function a0(a){a=Bi(a,wa);const t=Bi(a.firestore,_s),r=co(t),o=new Ud(t);return _y(r,a._query,{source:"server"}).then(u=>new Gu(t,o,a,u))}(this._delegate):function s0(a){a=Bi(a,wa);const t=Bi(a.firestore,_s),r=co(t),o=new Ud(t);return ky(a._query),_y(r,a._query).then(u=>new Gu(t,o,a,u))}(this._delegate),r.then(o=>new $v(this.firestore,new Gu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...t){const r=Gg(t),o=Bv(t,u=>new $v(this.firestore,new Gu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return hl(this._delegate,r,o)}withConverter(t){return new zo(this.firestore,this._delegate.withConverter(t?Mh.getInstance(this.firestore,t):null))}}class T0{constructor(t,r){this._firestore=t,this._delegate=r}get type(){return this._delegate.type}get doc(){return new qu(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $v{constructor(t,r){this._firestore=t,this._delegate=r}get query(){return new zo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new qu(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(r=>new T0(this._firestore,r))}forEach(t,r){this._delegate.forEach(o=>{t.call(r,new qu(this._firestore,o))})}isEqual(t){return Uy(this._delegate,t._delegate)}}class Mf extends zo{constructor(t,r){super(t,r),this.firestore=t,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new yc(this.firestore,t):null}doc(t){try{return new yc(this.firestore,void 0===t?xg(this._delegate):xg(this._delegate,t))}catch(r){throw $a(r,"doc()","CollectionReference.doc()")}}add(t){return function c0(a,t){const r=Bi(a.firestore,_s),o=xg(a),u=Ap(a.converter,t);return Rf(r,[yf(_c(a.firestore),"addDoc",o._key,u,null!==a.converter,{}).toMutation(o._key,Mi.exists(!1))]).then(()=>o)}(this._delegate,t).then(r=>new yc(this.firestore,r))}isEqual(t){return Ay(this._delegate,t._delegate)}withConverter(t){return new Mf(this.firestore,this._delegate.withConverter(t?Mh.getInstance(this.firestore,t):null))}}function vu(a){return Bi(a,zs)}class Mp{constructor(...t){this._delegate=new Fd(...t)}static documentId(){return new Mp(Xr.keyField().canonicalString())}isEqual(t){return(t=(0,kr.Ku)(t))instanceof Fd&&this._delegate._internalPath.isEqual(t._internalPath)}}class xh{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Hg(){return new If("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new xh(t)}static delete(){const t=function Ky(){return new Ef("deleteField")}();return t._methodName="FieldValue.delete",new xh(t)}static arrayUnion(...t){const r=function Ov(...a){return new Ev("arrayUnion",a)}(...t);return r._methodName="FieldValue.arrayUnion",new xh(r)}static arrayRemove(...t){const r=function rb(...a){return new Iv("arrayRemove",a)}(...t);return r._methodName="FieldValue.arrayRemove",new xh(r)}static increment(t){const r=function Xy(a){return new kg("increment",a)}(t);return r._methodName="FieldValue.increment",new xh(r)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const ab={Firestore:Pp,GeoPoint:yv,Timestamp:Ri,Blob:Rp,Transaction:nE,WriteBatch:Uv,DocumentReference:yc,DocumentSnapshot:Xu,Query:zo,QueryDocumentSnapshot:qu,QuerySnapshot:$v,CollectionReference:Mf,FieldPath:Mp,FieldValue:xh,setLogLevel:function tE(a){!function Xt(a){Qe.setLogLevel(a)}(a)},CACHE_SIZE_UNLIMITED:-1};!function C0(a){(function lb(a,t){a.INTERNAL.registerComponent(new Sn.uA("firestore-compat",r=>{const o=r.getProvider("app-compat").getImmediate(),u=r.getProvider("firestore").getImmediate();return t(o,u)},"PUBLIC").setServiceProps(Object.assign({},ab)))})(a,(t,r)=>new Pp(t,r,new I0)),a.registerVersion("@firebase/firestore-compat","0.3.38")}(xr.A);var w0=N(762);function rE(a,t){return function cb(a,t=rt.E){return new Tt.c(r=>{let o;return null!=t?t.schedule(()=>{o=a.onSnapshot({includeMetadataChanges:!0},r)}):o=a.onSnapshot({includeMetadataChanges:!0},r),()=>{o?.()}})}(a,t)}function jv(a,t){return rE(a,t).pipe((0,xt.T)(r=>({payload:r,type:"query"})))}class iE{ref;afs;constructor(t,r){this.ref=t,this.afs=r}set(t,r){return this.ref.set(t,r)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,r){const o=this.ref.collection(t),{ref:u,query:m}=Wv(o,r);return new xf(u,m,this.afs)}snapshotChanges(){return function ub(a,t){return rE(a,t).pipe((0,Ge.Z)(void 0),Jt(),(0,xt.T)(r=>{const[o,u]=r;return u.exists?o?.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(jt.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,xt.T)(({payload:r})=>t.idField?{...r.data(),[t.idField]:r.id}:r.data()))}get(t){return(0,dn.H)(this.ref.get(t)).pipe(jt.U0)}}function Kg(a,t){return jv(a,t).pipe((0,Ge.Z)(void 0),Jt(),(0,xt.T)(r=>{const[o,u]=r,m=u.payload.docChanges(),E=m.map(P=>({type:P.type,payload:P}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((P,k)=>{const q=m.find(Be=>Be.doc.ref.isEqual(P.ref)),ge=o?.payload.docs.find(Be=>Be.ref.isEqual(P.ref));q&&JSON.stringify(q.doc.metadata)===JSON.stringify(P.metadata)||!q&&ge&&JSON.stringify(ge.metadata)===JSON.stringify(P.metadata)||E.push({type:"modified",payload:{oldIndex:k,newIndex:k,type:"modified",doc:P}})}),E}))}function Xg(a,t,r){return Kg(a,r).pipe((0,Fn.S)((o,u)=>function xp(a,t,r){return t.forEach(o=>{r.indexOf(o.type)>-1&&(a=function qg(a,t){switch(t.type){case"added":if(!a[t.newIndex]||!a[t.newIndex].doc.ref.isEqual(t.doc.ref))return Np(a,t.newIndex,0,t);break;case"modified":if(null==a[t.oldIndex]||a[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const r=a.slice();return r.splice(t.oldIndex,1),r.splice(t.newIndex,0,t),r}return Np(a,t.newIndex,1,t)}break;case"removed":if(a[t.oldIndex]&&a[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Np(a,t.oldIndex,1)}return a}(a,o))}),a}(o,u.map(m=>m.payload),t),[]),(0,qn.F)(),(0,xt.T)(o=>o.map(u=>({type:u.type,payload:u}))))}function Np(a,t,r,...o){const u=a.slice();return u.splice(t,r,...o),u}function Hv(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}class xf{ref;query;afs;constructor(t,r,o){this.ref=t,this.query=r,this.afs=o}stateChanges(t){let r=Kg(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(r=r.pipe((0,xt.T)(o=>o.filter(u=>t.indexOf(u.type)>-1)))),r.pipe((0,Ge.Z)(void 0),Jt(),(0,Jr.p)(([o,u])=>u.length>0||!o),(0,xt.T)(([,o])=>o),jt.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,Fn.S)((r,o)=>[...r,...o],[]))}snapshotChanges(t){const r=Hv(t);return Xg(this.query,r,this.afs.schedulers.outsideAngular).pipe(jt.U0)}valueChanges(t={}){return jv(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.T)(r=>r.payload.docs.map(o=>t.idField?{...o.data(),[t.idField]:o.id}:o.data())),jt.U0)}get(t){return(0,dn.H)(this.query.get(t)).pipe(jt.U0)}add(t){return this.ref.add(t)}doc(t){return new iE(this.ref.doc(t),this.afs)}}class sE{query;afs;constructor(t,r){this.query=t,this.afs=r}stateChanges(t){return t&&0!==t.length?Kg(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.T)(r=>r.filter(o=>t.indexOf(o.type)>-1)),(0,Jr.p)(r=>r.length>0),jt.U0):Kg(this.query,this.afs.schedulers.outsideAngular).pipe(jt.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,Fn.S)((r,o)=>[...r,...o],[]))}snapshotChanges(t){const r=Hv(t);return Xg(this.query,r,this.afs.schedulers.outsideAngular).pipe(jt.U0)}valueChanges(t={}){return jv(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.T)(o=>o.payload.docs.map(u=>t.idField?{[t.idField]:u.id,...u.data()}:u.data())),jt.U0)}get(t){return(0,dn.H)(this.query.get(t)).pipe(jt.U0)}}const oE=new pe.nKC("angularfire2.enableFirestorePersistence"),Nf=new pe.nKC("angularfire2.firestore.persistenceSettings"),aE=new pe.nKC("angularfire2.firestore.settings"),lE=new pe.nKC("angularfire2.firestore.use-emulator");function Wv(a,t=r=>r){return{query:t(a),ref:a}}let cE=(()=>{class a{schedulers;firestore;persistenceEnabled$;constructor(r,o,u,m,E,P,k,q,ge,Be,It,nn,An,$n,Ln,Sr,Kr){this.schedulers=k;const Mr=(0,ci.iB)(r,P,o),ri=ge;Be&&(0,ht.gF)(Mr,P,It,An,$n,Ln,nn,Sr),[this.firestore,this.persistenceEnabled$]=(0,ci.BM)(`${Mr.name}.firestore`,"AngularFirestore",Mr.name,()=>{const xi=P.runOutsideAngular(()=>Mr.firestore());if(m&&xi.settings(m),ri&&xi.useEmulator(...ri),u&&!(0,Ai.Vy)(E)){const Ni=()=>{try{return(0,dn.H)(xi.enablePersistence(q||void 0).then(()=>!0,()=>!1))}catch(Ft){return typeof console<"u"&&console.warn(Ft),(0,Bn.of)(!1)}};return[xi,P.runOutsideAngular(Ni)]}return[xi,(0,Bn.of)(!1)]},[m,ri,u])}collection(r,o){let u;u="string"==typeof r?this.firestore.collection(r):r;const{ref:m,query:E}=Wv(u,o),P=this.schedulers.ngZone.run(()=>m);return new xf(P,E,this)}collectionGroup(r,o){const u=o||(E=>E),m=this.firestore.collectionGroup(r);return new sE(u(m),this)}doc(r){let o;o="string"==typeof r?this.firestore.doc(r):r;const u=this.schedulers.ngZone.run(()=>o);return new iE(u,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(o){return new(o||a)(pe.KVO(ci.rx),pe.KVO(ci.uP,8),pe.KVO(oE,8),pe.KVO(aE,8),pe.KVO(pe.Agw),pe.KVO(pe.SKi),pe.KVO(jt.u0),pe.KVO(Nf,8),pe.KVO(lE,8),pe.KVO(ht.DS,8),pe.KVO(ht.CP,8),pe.KVO(ht.yy,8),pe.KVO(ht.ZP,8),pe.KVO(ht.$z,8),pe.KVO(ht.AU,8),pe.KVO(ht.UB,8),pe.KVO(jt.Jv,8))};static \u0275prov=pe.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})}return a})(),b0=(()=>{class a{constructor(){w0.A.registerVersion("angularfire",jt.xv.full,"fst-compat")}static enablePersistence(r){return{ngModule:a,providers:[{provide:oE,useValue:!0},{provide:Nf,useValue:r}]}}static \u0275fac=function(o){return new(o||a)};static \u0275mod=pe.$C({type:a});static \u0275inj=pe.G2t({providers:[cE]})}return a})();const A0_firebase={apiKey:"AIzaSyAQNE018rxxppr8LQwp7ZWGjkhP_ty8xHM",authDomain:"fuel-app-aa8ef.firebaseapp.com",databaseURL:"https://fuel-app-aa8ef-default-rtdb.asia-southeast1.firebasedatabase.app/",projectId:"fuel-app-aa8ef",storageBucket:"fuel-app-aa8ef.appspot.com",messagingSenderId:"484477729417",appId:"1:484477729417:android:aa9170259cda189b20a458"};var D0=N(4009),Op=N(49);function S0(a){return new gr(a,"./assets/i18n/",".json")}let R0=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=pe.$C({type:a,bootstrap:[rr]})}static{this.\u0275inj=pe.G2t({providers:[{provide:Z.b,useClass:G.jM},(0,pr.$R)(),bi.Y,_r,Gn,Nn.g,xn.p,Rr,fi.A,D0.u],imports:[l.Bb,Re.bv.forRoot(),Tr,Pr.G,pr.q1,ci.bf.initializeApp(A0_firebase),b0,ht.X8,Op.wd,pi.h.forRoot({loader:{provide:pi.Wr,useFactory:S0,deps:[pr.Qq]}})]})}}return a})();l.sG().bootstrapModule(R0).catch(a=>console.log(a))},4511:(In,dt,N)=>{var l;!function(U,Z,G,Re){"use strict";var yt,Q=["","webkit","Moz","MS","ms","o"],be=Z.createElement("div"),Ae="function",ve=Math.round,Te=Math.abs,ue=Date.now;function Ne(he,ye,ct){return setTimeout(Pt(he,ct),ye)}function pe(he,ye,ct){return!!Array.isArray(he)&&(xe(he,ct[ye],ct),!0)}function xe(he,ye,ct){var qt;if(he)if(he.forEach)he.forEach(ye,ct);else if(he.length!==Re)for(qt=0;qt<he.length;)ye.call(ct,he[qt],qt,he),qt++;else for(qt in he)he.hasOwnProperty(qt)&&ye.call(ct,he[qt],qt,he)}function nt(he,ye,ct){var qt="DEPRECATED METHOD: "+ye+"\n"+ct+" AT \n";return function(){var wn=new Error("get-stack-trace"),Zn=wn&&wn.stack?wn.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",er=U.console&&(U.console.warn||U.console.log);return er&&er.call(U.console,qt,Zn),he.apply(this,arguments)}}yt="function"!=typeof Object.assign?function(ye){if(ye===Re||null===ye)throw new TypeError("Cannot convert undefined or null to object");for(var ct=Object(ye),qt=1;qt<arguments.length;qt++){var wn=arguments[qt];if(wn!==Re&&null!==wn)for(var Zn in wn)wn.hasOwnProperty(Zn)&&(ct[Zn]=wn[Zn])}return ct}:Object.assign;var it=nt(function(ye,ct,qt){for(var wn=Object.keys(ct),Zn=0;Zn<wn.length;)(!qt||qt&&ye[wn[Zn]]===Re)&&(ye[wn[Zn]]=ct[wn[Zn]]),Zn++;return ye},"extend","Use `assign`."),He=nt(function(ye,ct){return it(ye,ct,!0)},"merge","Use `assign`.");function At(he,ye,ct){var wn,qt=ye.prototype;(wn=he.prototype=Object.create(qt)).constructor=he,wn._super=qt,ct&&yt(wn,ct)}function Pt(he,ye){return function(){return he.apply(ye,arguments)}}function Ke(he,ye){return typeof he==Ae?he.apply(ye&&ye[0]||Re,ye):he}function Le(he,ye){return he===Re?ye:he}function at(he,ye,ct){xe(H(ye),function(qt){he.addEventListener(qt,ct,!1)})}function Ye(he,ye,ct){xe(H(ye),function(qt){he.removeEventListener(qt,ct,!1)})}function Ze(he,ye){for(;he;){if(he==ye)return!0;he=he.parentNode}return!1}function Dt(he,ye){return he.indexOf(ye)>-1}function H(he){return he.trim().split(/\s+/g)}function We(he,ye,ct){if(he.indexOf&&!ct)return he.indexOf(ye);for(var qt=0;qt<he.length;){if(ct&&he[qt][ct]==ye||!ct&&he[qt]===ye)return qt;qt++}return-1}function bt(he){return Array.prototype.slice.call(he,0)}function ze(he,ye,ct){for(var qt=[],wn=[],Zn=0;Zn<he.length;){var er=ye?he[Zn][ye]:he[Zn];We(wn,er)<0&&qt.push(he[Zn]),wn[Zn]=er,Zn++}return ct&&(qt=ye?qt.sort(function(Pn,tr){return Pn[ye]>tr[ye]}):qt.sort()),qt}function Mt(he,ye){for(var ct,qt,wn=ye[0].toUpperCase()+ye.slice(1),Zn=0;Zn<Q.length;){if((qt=(ct=Q[Zn])?ct+wn:ye)in he)return qt;Zn++}return Re}var kt=1;function qe(he){var ye=he.ownerDocument||he;return ye.defaultView||ye.parentWindow||U}var Ie="ontouchstart"in U,Me=Mt(U,"PointerEvent")!==Re,le=Ie&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Pe="touch",Xe="mouse",Ct=25,fe=1,Ot=4,Nt=8,hn=1,Vn=2,Gn=4,Nn=8,xn=16,Un=Vn|Gn,Xn=Nn|xn,mt=Un|Xn,Gt=["x","y"],Ht=["clientX","clientY"];function Mn(he,ye){var ct=this;this.manager=he,this.callback=ye,this.element=he.element,this.target=he.options.inputTarget,this.domHandler=function(qt){Ke(he.options.enable,[he])&&ct.handler(qt)},this.init()}function ir(he,ye,ct){var qt=ct.pointers.length,wn=ct.changedPointers.length,Zn=ye&fe&&qt-wn==0,er=ye&(Ot|Nt)&&qt-wn==0;ct.isFirst=!!Zn,ct.isFinal=!!er,Zn&&(he.session={}),ct.eventType=ye,function Jn(he,ye){var ct=he.session,qt=ye.pointers,wn=qt.length;ct.firstInput||(ct.firstInput=Rr(ye)),wn>1&&!ct.firstMultiple?ct.firstMultiple=Rr(ye):1===wn&&(ct.firstMultiple=!1);var Zn=ct.firstInput,er=ct.firstMultiple,Cr=er?er.center:Zn.center,Pn=ye.center=rr(qt);ye.timeStamp=ue(),ye.deltaTime=ye.timeStamp-Zn.timeStamp,ye.angle=Tr(Cr,Pn),ye.distance=Qr(Cr,Pn),function Hn(he,ye){var ct=ye.center,qt=he.offsetDelta||{},wn=he.prevDelta||{},Zn=he.prevInput||{};(ye.eventType===fe||Zn.eventType===Ot)&&(wn=he.prevDelta={x:Zn.deltaX||0,y:Zn.deltaY||0},qt=he.offsetDelta={x:ct.x,y:ct.y}),ye.deltaX=wn.x+(ct.x-qt.x),ye.deltaY=wn.y+(ct.y-qt.y)}(ct,ye),ye.offsetDirection=Or(ye.deltaX,ye.deltaY);var tr=dr(ye.deltaTime,ye.deltaX,ye.deltaY);ye.overallVelocityX=tr.x,ye.overallVelocityY=tr.y,ye.overallVelocity=Te(tr.x)>Te(tr.y)?tr.x:tr.y,ye.scale=er?function _r(he,ye){return Qr(ye[0],ye[1],Ht)/Qr(he[0],he[1],Ht)}(er.pointers,qt):1,ye.rotation=er?function pr(he,ye){return Tr(ye[1],ye[0],Ht)+Tr(he[1],he[0],Ht)}(er.pointers,qt):0,ye.maxPointers=ct.prevInput?ye.pointers.length>ct.prevInput.maxPointers?ye.pointers.length:ct.prevInput.maxPointers:ye.pointers.length,function Nr(he,ye){var wn,Zn,er,Cr,ct=he.lastInterval||ye,qt=ye.timeStamp-ct.timeStamp;if(ye.eventType!=Nt&&(qt>Ct||ct.velocity===Re)){var Pn=ye.deltaX-ct.deltaX,tr=ye.deltaY-ct.deltaY,Br=dr(qt,Pn,tr);Zn=Br.x,er=Br.y,wn=Te(Br.x)>Te(Br.y)?Br.x:Br.y,Cr=Or(Pn,tr),he.lastInterval=ye}else wn=ct.velocity,Zn=ct.velocityX,er=ct.velocityY,Cr=ct.direction;ye.velocity=wn,ye.velocityX=Zn,ye.velocityY=er,ye.direction=Cr}(ct,ye);var Br=he.element;Ze(ye.srcEvent.target,Br)&&(Br=ye.srcEvent.target),ye.target=Br}(he,ct),he.emit("hammer.input",ct),he.recognize(ct),he.session.prevInput=ct}function Rr(he){for(var ye=[],ct=0;ct<he.pointers.length;)ye[ct]={clientX:ve(he.pointers[ct].clientX),clientY:ve(he.pointers[ct].clientY)},ct++;return{timeStamp:ue(),pointers:ye,center:rr(ye),deltaX:he.deltaX,deltaY:he.deltaY}}function rr(he){var ye=he.length;if(1===ye)return{x:ve(he[0].clientX),y:ve(he[0].clientY)};for(var ct=0,qt=0,wn=0;wn<ye;)ct+=he[wn].clientX,qt+=he[wn].clientY,wn++;return{x:ve(ct/ye),y:ve(qt/ye)}}function dr(he,ye,ct){return{x:ye/he||0,y:ct/he||0}}function Or(he,ye){return he===ye?hn:Te(he)>=Te(ye)?he<0?Vn:Gn:ye<0?Nn:xn}function Qr(he,ye,ct){ct||(ct=Gt);var qt=ye[ct[0]]-he[ct[0]],wn=ye[ct[1]]-he[ct[1]];return Math.sqrt(qt*qt+wn*wn)}function Tr(he,ye,ct){return ct||(ct=Gt),180*Math.atan2(ye[ct[1]]-he[ct[1]],ye[ct[0]]-he[ct[0]])/Math.PI}Mn.prototype={handler:function(){},init:function(){this.evEl&&at(this.element,this.evEl,this.domHandler),this.evTarget&&at(this.target,this.evTarget,this.domHandler),this.evWin&&at(qe(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Ye(this.element,this.evEl,this.domHandler),this.evTarget&&Ye(this.target,this.evTarget,this.domHandler),this.evWin&&Ye(qe(this.element),this.evWin,this.domHandler)}};var fi={mousedown:fe,mousemove:2,mouseup:Ot},Pr="mousedown",pi="mousemove mouseup";function gr(){this.evEl=Pr,this.evWin=pi,this.pressed=!1,Mn.apply(this,arguments)}At(gr,Mn,{handler:function(ye){var ct=fi[ye.type];ct&fe&&0===ye.button&&(this.pressed=!0),2&ct&&1!==ye.which&&(ct=Ot),this.pressed&&(ct&Ot&&(this.pressed=!1),this.callback(this.manager,ct,{pointers:[ye],changedPointers:[ye],pointerType:Xe,srcEvent:ye}))}});var bi={pointerdown:fe,pointermove:2,pointerup:Ot,pointercancel:Nt,pointerout:Nt},ci={2:Pe,3:"pen",4:Xe,5:"kinect"},Ai="pointerdown",jt="pointermove pointerup pointercancel";function ht(){this.evEl=Ai,this.evWin=jt,Mn.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}U.MSPointerEvent&&!U.PointerEvent&&(Ai="MSPointerDown",jt="MSPointerMove MSPointerUp MSPointerCancel"),At(ht,Mn,{handler:function(ye){var ct=this.store,qt=!1,wn=ye.type.toLowerCase().replace("ms",""),Zn=bi[wn],er=ci[ye.pointerType]||ye.pointerType,Cr=er==Pe,Pn=We(ct,ye.pointerId,"pointerId");Zn&fe&&(0===ye.button||Cr)?Pn<0&&(ct.push(ye),Pn=ct.length-1):Zn&(Ot|Nt)&&(qt=!0),!(Pn<0)&&(ct[Pn]=ye,this.callback(this.manager,Zn,{pointers:ct,changedPointers:[ye],pointerType:er,srcEvent:ye}),qt&&ct.splice(Pn,1))}});var rt={touchstart:fe,touchmove:2,touchend:Ot,touchcancel:Nt};function Bn(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Mn.apply(this,arguments)}function Ge(he,ye){var ct=bt(he.touches),qt=bt(he.changedTouches);return ye&(Ot|Nt)&&(ct=ze(ct.concat(qt),"identifier",!0)),[ct,qt]}At(Bn,Mn,{handler:function(ye){var ct=rt[ye.type];if(ct===fe&&(this.started=!0),this.started){var qt=Ge.call(this,ye,ct);ct&(Ot|Nt)&&qt[0].length-qt[1].length==0&&(this.started=!1),this.callback(this.manager,ct,{pointers:qt[0],changedPointers:qt[1],pointerType:Pe,srcEvent:ye})}}});var $e={touchstart:fe,touchmove:2,touchend:Ot,touchcancel:Nt},vt="touchstart touchmove touchend touchcancel";function Jt(){this.evTarget=vt,this.targetIds={},Mn.apply(this,arguments)}function xt(he,ye){var ct=bt(he.touches),qt=this.targetIds;if(ye&(2|fe)&&1===ct.length)return qt[ct[0].identifier]=!0,[ct,ct];var wn,Zn,er=bt(he.changedTouches),Cr=[],Pn=this.target;if(Zn=ct.filter(function(tr){return Ze(tr.target,Pn)}),ye===fe)for(wn=0;wn<Zn.length;)qt[Zn[wn].identifier]=!0,wn++;for(wn=0;wn<er.length;)qt[er[wn].identifier]&&Cr.push(er[wn]),ye&(Ot|Nt)&&delete qt[er[wn].identifier],wn++;return Cr.length?[ze(Zn.concat(Cr),"identifier",!0),Cr]:void 0}At(Jt,Mn,{handler:function(ye){var ct=$e[ye.type],qt=xt.call(this,ye,ct);qt&&this.callback(this.manager,ct,{pointers:qt[0],changedPointers:qt[1],pointerType:Pe,srcEvent:ye})}});var Fn=2500;function Jr(){Mn.apply(this,arguments);var he=Pt(this.handler,this);this.touch=new Jt(this.manager,he),this.mouse=new gr(this.manager,he),this.primaryTouch=null,this.lastTouches=[]}function gi(he,ye){he&fe?(this.primaryTouch=ye.changedPointers[0].identifier,xr.call(this,ye)):he&(Ot|Nt)&&xr.call(this,ye)}function xr(he){var ye=he.changedPointers[0];if(ye.identifier===this.primaryTouch){var ct={x:ye.clientX,y:ye.clientY};this.lastTouches.push(ct);var qt=this.lastTouches;setTimeout(function(){var Zn=qt.indexOf(ct);Zn>-1&&qt.splice(Zn,1)},Fn)}}function Vr(he){for(var ye=he.srcEvent.clientX,ct=he.srcEvent.clientY,qt=0;qt<this.lastTouches.length;qt++){var wn=this.lastTouches[qt],Zn=Math.abs(ye-wn.x),er=Math.abs(ct-wn.y);if(Zn<=25&&er<=25)return!0}return!1}At(Jr,Mn,{handler:function(ye,ct,qt){var Zn=qt.pointerType==Xe;if(!(Zn&&qt.sourceCapabilities&&qt.sourceCapabilities.firesTouchEvents)){if(qt.pointerType==Pe)gi.call(this,ct,qt);else if(Zn&&Vr.call(this,qt))return;this.callback(ye,ct,qt)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Sn=Mt(be.style,"touchAction"),Wr=Sn!==Re,kr="compute",Gi="manipulation",Ur="none",Ar="pan-x",wi="pan-y",ti=function ae(){if(!Wr)return!1;var he={},ye=U.CSS&&U.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(ct){he[ct]=!ye||U.CSS.supports("touch-action",ct)}),he}();function $i(he,ye){this.manager=he,this.set(ye)}$i.prototype={set:function(he){he==kr&&(he=this.compute()),Wr&&this.manager.element.style&&ti[he]&&(this.manager.element.style[Sn]=he),this.actions=he.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var he=[];return xe(this.manager.recognizers,function(ye){Ke(ye.options.enable,[ye])&&(he=he.concat(ye.getTouchAction()))}),function zt(he){if(Dt(he,Ur))return Ur;var ye=Dt(he,Ar),ct=Dt(he,wi);return ye&&ct?Ur:ye||ct?ye?Ar:wi:Dt(he,Gi)?Gi:"auto"}(he.join(" "))},preventDefaults:function(he){var ye=he.srcEvent,ct=he.offsetDirection;if(!this.manager.session.prevented){var qt=this.actions,wn=Dt(qt,Ur)&&!ti[Ur],Zn=Dt(qt,wi)&&!ti[wi],er=Dt(qt,Ar)&&!ti[Ar];if(wn&&1===he.pointers.length&&he.distance<2&&he.deltaTime<250)return;return er&&Zn||!(wn||Zn&&ct&Un||er&&ct&Xn)?void 0:this.preventSrc(ye)}ye.preventDefault()},preventSrc:function(he){this.manager.session.prevented=!0,he.preventDefault()}};var _e=1;function de(he){this.options=yt({},this.defaults,he||{}),this.id=function cn(){return kt++}(),this.manager=null,this.options.enable=Le(this.options.enable,!0),this.state=_e,this.simultaneous={},this.requireFail=[]}function Ue(he){return 16&he?"cancel":8&he?"end":4&he?"move":2&he?"start":""}function Qe(he){return he==xn?"down":he==Nn?"up":he==Vn?"left":he==Gn?"right":""}function Wt(he,ye){var ct=ye.manager;return ct?ct.get(he):he}function Xt(){de.apply(this,arguments)}function Et(){Xt.apply(this,arguments),this.pX=null,this.pY=null}function _n(){Xt.apply(this,arguments)}function Qn(){de.apply(this,arguments),this._timer=null,this._input=null}function Yn(){Xt.apply(this,arguments)}function En(){Xt.apply(this,arguments)}function kn(){de.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Lr(he,ye){return(ye=ye||{}).recognizers=Le(ye.recognizers,Lr.defaults.preset),new on(he,ye)}function on(he,ye){this.options=yt({},Lr.defaults,ye||{}),this.options.inputTarget=this.options.inputTarget||he,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=he,this.input=function Er(he){return new(he.options.inputClass||(Me?ht:le?Jt:Ie?Jr:gr))(he,ir)}(this),this.touchAction=new $i(this,this.options.touchAction),ar(this,!0),xe(this.options.recognizers,function(ct){var qt=this.add(new ct[0](ct[1]));ct[2]&&qt.recognizeWith(ct[2]),ct[3]&&qt.requireFailure(ct[3])},this)}function ar(he,ye){var qt,ct=he.element;ct.style&&(xe(he.options.cssProps,function(wn,Zn){qt=Mt(ct.style,Zn),ye?(he.oldCssProps[qt]=ct.style[qt],ct.style[qt]=wn):ct.style[qt]=he.oldCssProps[qt]||""}),ye||(he.oldCssProps={}))}de.prototype={defaults:{},set:function(he){return yt(this.options,he),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(he){if(pe(he,"recognizeWith",this))return this;var ye=this.simultaneous;return ye[(he=Wt(he,this)).id]||(ye[he.id]=he,he.recognizeWith(this)),this},dropRecognizeWith:function(he){return pe(he,"dropRecognizeWith",this)||(he=Wt(he,this),delete this.simultaneous[he.id]),this},requireFailure:function(he){if(pe(he,"requireFailure",this))return this;var ye=this.requireFail;return-1===We(ye,he=Wt(he,this))&&(ye.push(he),he.requireFailure(this)),this},dropRequireFailure:function(he){if(pe(he,"dropRequireFailure",this))return this;he=Wt(he,this);var ye=We(this.requireFail,he);return ye>-1&&this.requireFail.splice(ye,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(he){return!!this.simultaneous[he.id]},emit:function(he){var ye=this,ct=this.state;function qt(wn){ye.manager.emit(wn,he)}ct<8&&qt(ye.options.event+Ue(ct)),qt(ye.options.event),he.additionalEvent&&qt(he.additionalEvent),ct>=8&&qt(ye.options.event+Ue(ct))},tryEmit:function(he){if(this.canEmit())return this.emit(he);this.state=32},canEmit:function(){for(var he=0;he<this.requireFail.length;){if(!(this.requireFail[he].state&(32|_e)))return!1;he++}return!0},recognize:function(he){var ye=yt({},he);if(!Ke(this.options.enable,[this,ye]))return this.reset(),void(this.state=32);56&this.state&&(this.state=_e),this.state=this.process(ye),30&this.state&&this.tryEmit(ye)},process:function(he){},getTouchAction:function(){},reset:function(){}},At(Xt,de,{defaults:{pointers:1},attrTest:function(he){var ye=this.options.pointers;return 0===ye||he.pointers.length===ye},process:function(he){var ye=this.state,ct=he.eventType,qt=6&ye,wn=this.attrTest(he);return qt&&(ct&Nt||!wn)?16|ye:qt||wn?ct&Ot?8|ye:2&ye?4|ye:2:32}}),At(Et,Xt,{defaults:{event:"pan",threshold:10,pointers:1,direction:mt},getTouchAction:function(){var he=this.options.direction,ye=[];return he&Un&&ye.push(wi),he&Xn&&ye.push(Ar),ye},directionTest:function(he){var ye=this.options,ct=!0,qt=he.distance,wn=he.direction,Zn=he.deltaX,er=he.deltaY;return wn&ye.direction||(ye.direction&Un?(wn=0===Zn?hn:Zn<0?Vn:Gn,ct=Zn!=this.pX,qt=Math.abs(he.deltaX)):(wn=0===er?hn:er<0?Nn:xn,ct=er!=this.pY,qt=Math.abs(he.deltaY))),he.direction=wn,ct&&qt>ye.threshold&&wn&ye.direction},attrTest:function(he){return Xt.prototype.attrTest.call(this,he)&&(2&this.state||!(2&this.state)&&this.directionTest(he))},emit:function(he){this.pX=he.deltaX,this.pY=he.deltaY;var ye=Qe(he.direction);ye&&(he.additionalEvent=this.options.event+ye),this._super.emit.call(this,he)}}),At(_n,Xt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ur]},attrTest:function(he){return this._super.attrTest.call(this,he)&&(Math.abs(he.scale-1)>this.options.threshold||2&this.state)},emit:function(he){1!==he.scale&&(he.additionalEvent=this.options.event+(he.scale<1?"in":"out")),this._super.emit.call(this,he)}}),At(Qn,de,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(he){var ye=this.options,ct=he.pointers.length===ye.pointers,qt=he.distance<ye.threshold,wn=he.deltaTime>ye.time;if(this._input=he,!qt||!ct||he.eventType&(Ot|Nt)&&!wn)this.reset();else if(he.eventType&fe)this.reset(),this._timer=Ne(function(){this.state=8,this.tryEmit()},ye.time,this);else if(he.eventType&Ot)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(he){8===this.state&&(he&&he.eventType&Ot?this.manager.emit(this.options.event+"up",he):(this._input.timeStamp=ue(),this.manager.emit(this.options.event,this._input)))}}),At(Yn,Xt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ur]},attrTest:function(he){return this._super.attrTest.call(this,he)&&(Math.abs(he.rotation)>this.options.threshold||2&this.state)}}),At(En,Xt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Un|Xn,pointers:1},getTouchAction:function(){return Et.prototype.getTouchAction.call(this)},attrTest:function(he){var ct,ye=this.options.direction;return ye&(Un|Xn)?ct=he.overallVelocity:ye&Un?ct=he.overallVelocityX:ye&Xn&&(ct=he.overallVelocityY),this._super.attrTest.call(this,he)&&ye&he.offsetDirection&&he.distance>this.options.threshold&&he.maxPointers==this.options.pointers&&Te(ct)>this.options.velocity&&he.eventType&Ot},emit:function(he){var ye=Qe(he.offsetDirection);ye&&this.manager.emit(this.options.event+ye,he),this.manager.emit(this.options.event,he)}}),At(kn,de,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Gi]},process:function(he){var ye=this.options,ct=he.pointers.length===ye.pointers,qt=he.distance<ye.threshold,wn=he.deltaTime<ye.time;if(this.reset(),he.eventType&fe&&0===this.count)return this.failTimeout();if(qt&&wn&&ct){if(he.eventType!=Ot)return this.failTimeout();var Zn=!this.pTime||he.timeStamp-this.pTime<ye.interval,er=!this.pCenter||Qr(this.pCenter,he.center)<ye.posThreshold;if(this.pTime=he.timeStamp,this.pCenter=he.center,er&&Zn?this.count+=1:this.count=1,this._input=he,0==this.count%ye.taps)return this.hasRequireFailures()?(this._timer=Ne(function(){this.state=8,this.tryEmit()},ye.interval,this),2):8}return 32},failTimeout:function(){return this._timer=Ne(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Lr.VERSION="2.0.7",Lr.defaults={domEvents:!1,touchAction:kr,enable:!0,inputTarget:null,inputClass:null,preset:[[Yn,{enable:!1}],[_n,{enable:!1},["rotate"]],[En,{direction:Un}],[Et,{direction:Un},["swipe"]],[kn],[kn,{event:"doubletap",taps:2},["tap"]],[Qn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},on.prototype={set:function(he){return yt(this.options,he),he.touchAction&&this.touchAction.update(),he.inputTarget&&(this.input.destroy(),this.input.target=he.inputTarget,this.input.init()),this},stop:function(he){this.session.stopped=he?2:1},recognize:function(he){var ye=this.session;if(!ye.stopped){this.touchAction.preventDefaults(he);var ct,qt=this.recognizers,wn=ye.curRecognizer;(!wn||wn&&8&wn.state)&&(wn=ye.curRecognizer=null);for(var Zn=0;Zn<qt.length;)ct=qt[Zn],2===ye.stopped||wn&&ct!=wn&&!ct.canRecognizeWith(wn)?ct.reset():ct.recognize(he),!wn&&14&ct.state&&(wn=ye.curRecognizer=ct),Zn++}},get:function(he){if(he instanceof de)return he;for(var ye=this.recognizers,ct=0;ct<ye.length;ct++)if(ye[ct].options.event==he)return ye[ct];return null},add:function(he){if(pe(he,"add",this))return this;var ye=this.get(he.options.event);return ye&&this.remove(ye),this.recognizers.push(he),he.manager=this,this.touchAction.update(),he},remove:function(he){if(pe(he,"remove",this))return this;if(he=this.get(he)){var ye=this.recognizers,ct=We(ye,he);-1!==ct&&(ye.splice(ct,1),this.touchAction.update())}return this},on:function(he,ye){if(he!==Re&&ye!==Re){var ct=this.handlers;return xe(H(he),function(qt){ct[qt]=ct[qt]||[],ct[qt].push(ye)}),this}},off:function(he,ye){if(he!==Re){var ct=this.handlers;return xe(H(he),function(qt){ye?ct[qt]&&ct[qt].splice(We(ct[qt],ye),1):delete ct[qt]}),this}},emit:function(he,ye){this.options.domEvents&&function oi(he,ye){var ct=Z.createEvent("Event");ct.initEvent(he,!0,!0),ct.gesture=ye,ye.target.dispatchEvent(ct)}(he,ye);var ct=this.handlers[he]&&this.handlers[he].slice();if(ct&&ct.length){ye.type=he,ye.preventDefault=function(){ye.srcEvent.preventDefault()};for(var qt=0;qt<ct.length;)ct[qt](ye),qt++}},destroy:function(){this.element&&ar(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},yt(Lr,{INPUT_START:fe,INPUT_MOVE:2,INPUT_END:Ot,INPUT_CANCEL:Nt,STATE_POSSIBLE:_e,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:hn,DIRECTION_LEFT:Vn,DIRECTION_RIGHT:Gn,DIRECTION_UP:Nn,DIRECTION_DOWN:xn,DIRECTION_HORIZONTAL:Un,DIRECTION_VERTICAL:Xn,DIRECTION_ALL:mt,Manager:on,Input:Mn,TouchAction:$i,TouchInput:Jt,MouseInput:gr,PointerEventInput:ht,TouchMouseInput:Jr,SingleTouchInput:Bn,Recognizer:de,AttrRecognizer:Xt,Tap:kn,Pan:Et,Swipe:En,Pinch:_n,Rotate:Yn,Press:Qn,on:at,off:Ye,each:xe,merge:He,extend:it,assign:yt,inherit:At,bindFn:Pt,prefixed:Mt}),(typeof U<"u"?U:typeof self<"u"?self:{}).Hammer=Lr,(l=function(){return Lr}.call(dt,N,dt,In))!==Re&&(In.exports=l)}(window,document)},4412:(In,dt,N)=>{"use strict";N.d(dt,{t:()=>U});var l=N(1413);class U extends l.B{constructor(G){super(),this._value=G}get value(){return this.getValue()}_subscribe(G){const Re=super._subscribe(G);return!Re.closed&&G.next(this._value),Re}getValue(){const{hasError:G,thrownError:Re,_value:Q}=this;if(G)throw Re;return this._throwIfClosed(),Q}next(G){super.next(this._value=G)}}},1985:(In,dt,N)=>{"use strict";N.d(dt,{c:()=>Ae});var l=N(7707),U=N(8359),Z=N(3494),G=N(1203),Re=N(1026),Q=N(8071),be=N(9786);let Ae=(()=>{class Ne{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const nt=new Ne;return nt.source=this,nt.operator=xe,nt}subscribe(xe,nt,yt){const it=function ue(Ne){return Ne&&Ne instanceof l.vU||function Te(Ne){return Ne&&(0,Q.T)(Ne.next)&&(0,Q.T)(Ne.error)&&(0,Q.T)(Ne.complete)}(Ne)&&(0,U.Uv)(Ne)}(xe)?xe:new l.Ms(xe,nt,yt);return(0,be.Y)(()=>{const{operator:He,source:At}=this;it.add(He?He.call(it,At):At?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(xe){try{return this._subscribe(xe)}catch(nt){xe.error(nt)}}forEach(xe,nt){return new(nt=ve(nt))((yt,it)=>{const He=new l.Ms({next:At=>{try{xe(At)}catch(Pt){it(Pt),He.unsubscribe()}},error:it,complete:yt});this.subscribe(He)})}_subscribe(xe){var nt;return null===(nt=this.source)||void 0===nt?void 0:nt.subscribe(xe)}[Z.s](){return this}pipe(...xe){return(0,G.m)(xe)(this)}toPromise(xe){return new(xe=ve(xe))((nt,yt)=>{let it;this.subscribe(He=>it=He,He=>yt(He),()=>nt(it))})}}return Ne.create=pe=>new Ne(pe),Ne})();function ve(Ne){var pe;return null!==(pe=Ne??Re.$.Promise)&&void 0!==pe?pe:Promise}},1413:(In,dt,N)=>{"use strict";N.d(dt,{B:()=>be});var l=N(1985),U=N(8359);const G=(0,N(1853).L)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=N(7908),Q=N(9786);let be=(()=>{class ve extends l.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const Ne=new Ae(this,this);return Ne.operator=ue,Ne}_throwIfClosed(){if(this.closed)throw new G}next(ue){(0,Q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ne of this.currentObservers)Ne.next(ue)}})}error(ue){(0,Q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:Ne}=this;for(;Ne.length;)Ne.shift().error(ue)}})}complete(){(0,Q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:Ne,isStopped:pe,observers:xe}=this;return Ne||pe?U.Kn:(this.currentObservers=null,xe.push(ue),new U.yU(()=>{this.currentObservers=null,(0,Re.o)(xe,ue)}))}_checkFinalizedStatuses(ue){const{hasError:Ne,thrownError:pe,isStopped:xe}=this;Ne?ue.error(pe):xe&&ue.complete()}asObservable(){const ue=new l.c;return ue.source=this,ue}}return ve.create=(Te,ue)=>new Ae(Te,ue),ve})();class Ae extends be{constructor(Te,ue){super(),this.destination=Te,this.source=ue}next(Te){var ue,Ne;null===(Ne=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===Ne||Ne.call(ue,Te)}error(Te){var ue,Ne;null===(Ne=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===Ne||Ne.call(ue,Te)}complete(){var Te,ue;null===(ue=null===(Te=this.destination)||void 0===Te?void 0:Te.complete)||void 0===ue||ue.call(Te)}_subscribe(Te){var ue,Ne;return null!==(Ne=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(Te))&&void 0!==Ne?Ne:U.Kn}}},7707:(In,dt,N)=>{"use strict";N.d(dt,{Ms:()=>yt,vU:()=>Ne});var l=N(8071),U=N(8359),Z=N(1026),G=N(5334),Re=N(5343);const Q=ve("C",void 0,void 0);function ve(Ke,Le,at){return{kind:Ke,value:Le,error:at}}var Te=N(9270),ue=N(9786);class Ne extends U.yU{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,U.Uv)(Le)&&Le.add(this)):this.destination=Pt}static create(Le,at,Ye){return new yt(Le,at,Ye)}next(Le){this.isStopped?At(function Ae(Ke){return ve("N",Ke,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?At(function be(Ke){return ve("E",void 0,Ke)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?At(Q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pe=Function.prototype.bind;function xe(Ke,Le){return pe.call(Ke,Le)}class nt{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:at}=this;if(at.next)try{at.next(Le)}catch(Ye){it(Ye)}}error(Le){const{partialObserver:at}=this;if(at.error)try{at.error(Le)}catch(Ye){it(Ye)}else it(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(at){it(at)}}}class yt extends Ne{constructor(Le,at,Ye){let Ze;if(super(),(0,l.T)(Le)||!Le)Ze={next:Le??void 0,error:at??void 0,complete:Ye??void 0};else{let Dt;this&&Z.$.useDeprecatedNextContext?(Dt=Object.create(Le),Dt.unsubscribe=()=>this.unsubscribe(),Ze={next:Le.next&&xe(Le.next,Dt),error:Le.error&&xe(Le.error,Dt),complete:Le.complete&&xe(Le.complete,Dt)}):Ze=Le}this.destination=new nt(Ze)}}function it(Ke){Z.$.useDeprecatedSynchronousErrorHandling?(0,ue.l)(Ke):(0,G.m)(Ke)}function At(Ke,Le){const{onStoppedNotification:at}=Z.$;at&&Te.f.setTimeout(()=>at(Ke,Le))}const Pt={closed:!0,next:Re.l,error:function He(Ke){throw Ke},complete:Re.l}},8359:(In,dt,N)=>{"use strict";N.d(dt,{Kn:()=>Q,yU:()=>Re,Uv:()=>be});var l=N(8071);const Z=(0,N(1853).L)(ve=>function(ue){ve(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((Ne,pe)=>`${pe+1}) ${Ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var G=N(7908);class Re{constructor(Te){this.initialTeardown=Te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Te;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const xe of ue)xe.remove(this);else ue.remove(this);const{initialTeardown:Ne}=this;if((0,l.T)(Ne))try{Ne()}catch(xe){Te=xe instanceof Z?xe.errors:[xe]}const{_finalizers:pe}=this;if(pe){this._finalizers=null;for(const xe of pe)try{Ae(xe)}catch(nt){Te=Te??[],nt instanceof Z?Te=[...Te,...nt.errors]:Te.push(nt)}}if(Te)throw new Z(Te)}}add(Te){var ue;if(Te&&Te!==this)if(this.closed)Ae(Te);else{if(Te instanceof Re){if(Te.closed||Te._hasParent(this))return;Te._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(Te)}}_hasParent(Te){const{_parentage:ue}=this;return ue===Te||Array.isArray(ue)&&ue.includes(Te)}_addParent(Te){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(Te),ue):ue?[ue,Te]:Te}_removeParent(Te){const{_parentage:ue}=this;ue===Te?this._parentage=null:Array.isArray(ue)&&(0,G.o)(ue,Te)}remove(Te){const{_finalizers:ue}=this;ue&&(0,G.o)(ue,Te),Te instanceof Re&&Te._removeParent(this)}}Re.EMPTY=(()=>{const ve=new Re;return ve.closed=!0,ve})();const Q=Re.EMPTY;function be(ve){return ve instanceof Re||ve&&"closed"in ve&&(0,l.T)(ve.remove)&&(0,l.T)(ve.add)&&(0,l.T)(ve.unsubscribe)}function Ae(ve){(0,l.T)(ve)?ve():ve.unsubscribe()}},1026:(In,dt,N)=>{"use strict";N.d(dt,{$:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(In,dt,N)=>{"use strict";N.d(dt,{z:()=>Te});var l=N(1985),U=N(3073),Z=N(8455),G=N(3669),Re=N(6450),Q=N(3794),be=N(8496),Ae=N(4360),ve=N(5225);function Te(...pe){const xe=(0,Q.lI)(pe),nt=(0,Q.ms)(pe),{args:yt,keys:it}=(0,U.D)(pe);if(0===yt.length)return(0,Z.H)([],xe);const He=new l.c(function ue(pe,xe,nt=G.D){return yt=>{Ne(xe,()=>{const{length:it}=pe,He=new Array(it);let At=it,Pt=it;for(let Ke=0;Ke<it;Ke++)Ne(xe,()=>{const Le=(0,Z.H)(pe[Ke],xe);let at=!1;Le.subscribe((0,Ae._)(yt,Ye=>{He[Ke]=Ye,at||(at=!0,Pt--),Pt||yt.next(nt(He.slice()))},()=>{--At||yt.complete()}))},yt)},yt)}}(yt,xe,it?At=>(0,be.e)(it,At):G.D));return nt?He.pipe((0,Re.I)(nt)):He}function Ne(pe,xe,nt){pe?(0,ve.N)(nt,pe,xe):xe()}},8793:(In,dt,N)=>{"use strict";N.d(dt,{x:()=>Re});var l=N(6365),Z=N(3794),G=N(8455);function Re(...Q){return function U(){return(0,l.U)(1)}()((0,G.H)(Q,(0,Z.lI)(Q)))}},9030:(In,dt,N)=>{"use strict";N.d(dt,{v:()=>Z});var l=N(1985),U=N(8750);function Z(G){return new l.c(Re=>{(0,U.Tg)(G()).subscribe(Re)})}},983:(In,dt,N)=>{"use strict";N.d(dt,{w:()=>U});const U=new(N(1985).c)(Re=>Re.complete())},7468:(In,dt,N)=>{"use strict";N.d(dt,{p:()=>Ae});var l=N(1985),U=N(3073),Z=N(8750),G=N(3794),Re=N(4360),Q=N(6450),be=N(8496);function Ae(...ve){const Te=(0,G.ms)(ve),{args:ue,keys:Ne}=(0,U.D)(ve),pe=new l.c(xe=>{const{length:nt}=ue;if(!nt)return void xe.complete();const yt=new Array(nt);let it=nt,He=nt;for(let At=0;At<nt;At++){let Pt=!1;(0,Z.Tg)(ue[At]).subscribe((0,Re._)(xe,Ke=>{Pt||(Pt=!0,He--),yt[At]=Ke},()=>it--,void 0,()=>{(!it||!Pt)&&(He||xe.next(Ne?(0,be.e)(Ne,yt):yt),xe.complete())}))}});return Te?pe.pipe((0,Q.I)(Te)):pe}},8455:(In,dt,N)=>{"use strict";N.d(dt,{H:()=>Le});var l=N(8750),U=N(941),Z=N(6745),Q=N(1985),Ae=N(4761),ve=N(8071),Te=N(5225);function Ne(at,Ye){if(!at)throw new Error("Iterable cannot be null");return new Q.c(Ze=>{(0,Te.N)(Ze,Ye,()=>{const Dt=at[Symbol.asyncIterator]();(0,Te.N)(Ze,Ye,()=>{Dt.next().then(H=>{H.done?Ze.complete():Ze.next(H.value)})},0,!0)})})}var pe=N(5055),xe=N(9858),nt=N(7441),yt=N(5397),it=N(7953),He=N(591),At=N(5196);function Le(at,Ye){return Ye?function Ke(at,Ye){if(null!=at){if((0,pe.l)(at))return function G(at,Ye){return(0,l.Tg)(at).pipe((0,Z._)(Ye),(0,U.Q)(Ye))}(at,Ye);if((0,nt.X)(at))return function be(at,Ye){return new Q.c(Ze=>{let Dt=0;return Ye.schedule(function(){Dt===at.length?Ze.complete():(Ze.next(at[Dt++]),Ze.closed||this.schedule())})})}(at,Ye);if((0,xe.y)(at))return function Re(at,Ye){return(0,l.Tg)(at).pipe((0,Z._)(Ye),(0,U.Q)(Ye))}(at,Ye);if((0,it.T)(at))return Ne(at,Ye);if((0,yt.x)(at))return function ue(at,Ye){return new Q.c(Ze=>{let Dt;return(0,Te.N)(Ze,Ye,()=>{Dt=at[Ae.l](),(0,Te.N)(Ze,Ye,()=>{let H,We;try{({value:H,done:We}=Dt.next())}catch(bt){return void Ze.error(bt)}We?Ze.complete():Ze.next(H)},0,!0)}),()=>(0,ve.T)(Dt?.return)&&Dt.return()})}(at,Ye);if((0,At.U)(at))return function Pt(at,Ye){return Ne((0,At.C)(at),Ye)}(at,Ye)}throw(0,He.L)(at)}(at,Ye):(0,l.Tg)(at)}},3726:(In,dt,N)=>{"use strict";N.d(dt,{R:()=>Te});var l=N(8750),U=N(1985),Z=N(1397),G=N(7441),Re=N(8071),Q=N(6450);const be=["addListener","removeListener"],Ae=["addEventListener","removeEventListener"],ve=["on","off"];function Te(nt,yt,it,He){if((0,Re.T)(it)&&(He=it,it=void 0),He)return Te(nt,yt,it).pipe((0,Q.I)(He));const[At,Pt]=function xe(nt){return(0,Re.T)(nt.addEventListener)&&(0,Re.T)(nt.removeEventListener)}(nt)?Ae.map(Ke=>Le=>nt[Ke](yt,Le,it)):function Ne(nt){return(0,Re.T)(nt.addListener)&&(0,Re.T)(nt.removeListener)}(nt)?be.map(ue(nt,yt)):function pe(nt){return(0,Re.T)(nt.on)&&(0,Re.T)(nt.off)}(nt)?ve.map(ue(nt,yt)):[];if(!At&&(0,G.X)(nt))return(0,Z.Z)(Ke=>Te(Ke,yt,it))((0,l.Tg)(nt));if(!At)throw new TypeError("Invalid event target");return new U.c(Ke=>{const Le=(...at)=>Ke.next(1<at.length?at:at[0]);return At(Le),()=>Pt(Le)})}function ue(nt,yt){return it=>He=>nt[it](yt,He)}},8750:(In,dt,N)=>{"use strict";N.d(dt,{Tg:()=>pe});var l=N(1635),U=N(7441),Z=N(9858),G=N(1985),Re=N(5055),Q=N(7953),be=N(591),Ae=N(5397),ve=N(5196),Te=N(8071),ue=N(5334),Ne=N(3494);function pe(Ke){if(Ke instanceof G.c)return Ke;if(null!=Ke){if((0,Re.l)(Ke))return function xe(Ke){return new G.c(Le=>{const at=Ke[Ne.s]();if((0,Te.T)(at.subscribe))return at.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ke);if((0,U.X)(Ke))return function nt(Ke){return new G.c(Le=>{for(let at=0;at<Ke.length&&!Le.closed;at++)Le.next(Ke[at]);Le.complete()})}(Ke);if((0,Z.y)(Ke))return function yt(Ke){return new G.c(Le=>{Ke.then(at=>{Le.closed||(Le.next(at),Le.complete())},at=>Le.error(at)).then(null,ue.m)})}(Ke);if((0,Q.T)(Ke))return He(Ke);if((0,Ae.x)(Ke))return function it(Ke){return new G.c(Le=>{for(const at of Ke)if(Le.next(at),Le.closed)return;Le.complete()})}(Ke);if((0,ve.U)(Ke))return function At(Ke){return He((0,ve.C)(Ke))}(Ke)}throw(0,be.L)(Ke)}function He(Ke){return new G.c(Le=>{(function Pt(Ke,Le){var at,Ye,Ze,Dt;return(0,l.sH)(this,void 0,void 0,function*(){try{for(at=(0,l.xN)(Ke);!(Ye=yield at.next()).done;)if(Le.next(Ye.value),Le.closed)return}catch(H){Ze={error:H}}finally{try{Ye&&!Ye.done&&(Dt=at.return)&&(yield Dt.call(at))}finally{if(Ze)throw Ze.error}}Le.complete()})})(Ke,Le).catch(at=>Le.error(at))})}},7786:(In,dt,N)=>{"use strict";N.d(dt,{h:()=>Q});var l=N(6365),U=N(8750),Z=N(983),G=N(3794),Re=N(8455);function Q(...be){const Ae=(0,G.lI)(be),ve=(0,G.R0)(be,1/0),Te=be;return Te.length?1===Te.length?(0,U.Tg)(Te[0]):(0,l.U)(ve)((0,Re.H)(Te,Ae)):Z.w}},7673:(In,dt,N)=>{"use strict";N.d(dt,{of:()=>Z});var l=N(3794),U=N(8455);function Z(...G){const Re=(0,l.lI)(G);return(0,U.H)(G,Re)}},4360:(In,dt,N)=>{"use strict";N.d(dt,{_:()=>U});var l=N(7707);function U(G,Re,Q,be,Ae){return new Z(G,Re,Q,be,Ae)}class Z extends l.vU{constructor(Re,Q,be,Ae,ve,Te){super(Re),this.onFinalize=ve,this.shouldUnsubscribe=Te,this._next=Q?function(ue){try{Q(ue)}catch(Ne){Re.error(Ne)}}:super._next,this._error=Ae?function(ue){try{Ae(ue)}catch(Ne){Re.error(Ne)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(ue){Re.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Q}=this;super.unsubscribe(),!Q&&(null===(Re=this.onFinalize)||void 0===Re||Re.call(this))}}}},274:(In,dt,N)=>{"use strict";N.d(dt,{H:()=>Z});var l=N(1397),U=N(8071);function Z(G,Re){return(0,U.T)(Re)?(0,l.Z)(G,Re,1):(0,l.Z)(G,1)}},9901:(In,dt,N)=>{"use strict";N.d(dt,{U:()=>Z});var l=N(9974),U=N(4360);function Z(G){return(0,l.N)((Re,Q)=>{let be=!1;Re.subscribe((0,U._)(Q,Ae=>{be=!0,Q.next(Ae)},()=>{be||Q.next(G),Q.complete()}))})}},3294:(In,dt,N)=>{"use strict";N.d(dt,{F:()=>G});var l=N(3669),U=N(9974),Z=N(4360);function G(Q,be=l.D){return Q=Q??Re,(0,U.N)((Ae,ve)=>{let Te,ue=!0;Ae.subscribe((0,Z._)(ve,Ne=>{const pe=be(Ne);(ue||!Q(Te,pe))&&(ue=!1,Te=pe,ve.next(Ne))}))})}function Re(Q,be){return Q===be}},5964:(In,dt,N)=>{"use strict";N.d(dt,{p:()=>Z});var l=N(9974),U=N(4360);function Z(G,Re){return(0,l.N)((Q,be)=>{let Ae=0;Q.subscribe((0,U._)(be,ve=>G.call(Re,ve,Ae++)&&be.next(ve)))})}},980:(In,dt,N)=>{"use strict";N.d(dt,{j:()=>U});var l=N(9974);function U(Z){return(0,l.N)((G,Re)=>{try{G.subscribe(Re)}finally{Re.add(Z)}})}},1594:(In,dt,N)=>{"use strict";N.d(dt,{$:()=>be});var l=N(9350),U=N(5964),Z=N(6697),G=N(9901),Re=N(3774),Q=N(3669);function be(Ae,ve){const Te=arguments.length>=2;return ue=>ue.pipe(Ae?(0,U.p)((Ne,pe)=>Ae(Ne,pe,ue)):Q.D,(0,Z.s)(1),Te?(0,G.U)(ve):(0,Re.v)(()=>new l.G))}},6354:(In,dt,N)=>{"use strict";N.d(dt,{T:()=>Z});var l=N(9974),U=N(4360);function Z(G,Re){return(0,l.N)((Q,be)=>{let Ae=0;Q.subscribe((0,U._)(be,ve=>{be.next(G.call(Re,ve,Ae++))}))})}},6365:(In,dt,N)=>{"use strict";N.d(dt,{U:()=>Z});var l=N(1397),U=N(3669);function Z(G=1/0){return(0,l.Z)(U.D,G)}},1397:(In,dt,N)=>{"use strict";N.d(dt,{Z:()=>Ae});var l=N(6354),U=N(8750),Z=N(9974),G=N(5225),Re=N(4360),be=N(8071);function Ae(ve,Te,ue=1/0){return(0,be.T)(Te)?Ae((Ne,pe)=>(0,l.T)((xe,nt)=>Te(Ne,xe,pe,nt))((0,U.Tg)(ve(Ne,pe))),ue):("number"==typeof Te&&(ue=Te),(0,Z.N)((Ne,pe)=>function Q(ve,Te,ue,Ne,pe,xe,nt,yt){const it=[];let He=0,At=0,Pt=!1;const Ke=()=>{Pt&&!it.length&&!He&&Te.complete()},Le=Ye=>He<Ne?at(Ye):it.push(Ye),at=Ye=>{xe&&Te.next(Ye),He++;let Ze=!1;(0,U.Tg)(ue(Ye,At++)).subscribe((0,Re._)(Te,Dt=>{pe?.(Dt),xe?Le(Dt):Te.next(Dt)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(He--;it.length&&He<Ne;){const Dt=it.shift();nt?(0,G.N)(Te,nt,()=>at(Dt)):at(Dt)}Ke()}catch(Dt){Te.error(Dt)}}))};return ve.subscribe((0,Re._)(Te,Le,()=>{Pt=!0,Ke()})),()=>{yt?.()}}(Ne,pe,ve,ue)))}},941:(In,dt,N)=>{"use strict";N.d(dt,{Q:()=>G});var l=N(5225),U=N(9974),Z=N(4360);function G(Re,Q=0){return(0,U.N)((be,Ae)=>{be.subscribe((0,Z._)(Ae,ve=>(0,l.N)(Ae,Re,()=>Ae.next(ve),Q),()=>(0,l.N)(Ae,Re,()=>Ae.complete(),Q),ve=>(0,l.N)(Ae,Re,()=>Ae.error(ve),Q)))})}},2816:(In,dt,N)=>{"use strict";N.d(dt,{S:()=>G});var l=N(9974),U=N(4360);function G(Re,Q){return(0,l.N)(function Z(Re,Q,be,Ae,ve){return(Te,ue)=>{let Ne=be,pe=Q,xe=0;Te.subscribe((0,U._)(ue,nt=>{const yt=xe++;pe=Ne?Re(pe,nt,yt):(Ne=!0,nt),Ae&&ue.next(pe)},ve&&(()=>{Ne&&ue.next(pe),ue.complete()})))}}(Re,Q,arguments.length>=2,!0))}},7647:(In,dt,N)=>{"use strict";N.d(dt,{u:()=>Re});var l=N(8750),U=N(1413),Z=N(7707),G=N(9974);function Re(be={}){const{connector:Ae=()=>new U.B,resetOnError:ve=!0,resetOnComplete:Te=!0,resetOnRefCountZero:ue=!0}=be;return Ne=>{let pe,xe,nt,yt=0,it=!1,He=!1;const At=()=>{xe?.unsubscribe(),xe=void 0},Pt=()=>{At(),pe=nt=void 0,it=He=!1},Ke=()=>{const Le=pe;Pt(),Le?.unsubscribe()};return(0,G.N)((Le,at)=>{yt++,!He&&!it&&At();const Ye=nt=nt??Ae();at.add(()=>{yt--,0===yt&&!He&&!it&&(xe=Q(Ke,ue))}),Ye.subscribe(at),!pe&&yt>0&&(pe=new Z.Ms({next:Ze=>Ye.next(Ze),error:Ze=>{He=!0,At(),xe=Q(Pt,ve,Ze),Ye.error(Ze)},complete:()=>{it=!0,At(),xe=Q(Pt,Te),Ye.complete()}}),(0,l.Tg)(Le).subscribe(pe))})(Ne)}}function Q(be,Ae,...ve){if(!0===Ae)return void be();if(!1===Ae)return;const Te=new Z.Ms({next:()=>{Te.unsubscribe(),be()}});return(0,l.Tg)(Ae(...ve)).subscribe(Te)}},6496:(In,dt,N)=>{"use strict";N.d(dt,{t:()=>Re});var l=N(1413),U=N(6129);class Z extends l.B{constructor(be=1/0,Ae=1/0,ve=U.U){super(),this._bufferSize=be,this._windowTime=Ae,this._timestampProvider=ve,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ae===1/0,this._bufferSize=Math.max(1,be),this._windowTime=Math.max(1,Ae)}next(be){const{isStopped:Ae,_buffer:ve,_infiniteTimeWindow:Te,_timestampProvider:ue,_windowTime:Ne}=this;Ae||(ve.push(be),!Te&&ve.push(ue.now()+Ne)),this._trimBuffer(),super.next(be)}_subscribe(be){this._throwIfClosed(),this._trimBuffer();const Ae=this._innerSubscribe(be),{_infiniteTimeWindow:ve,_buffer:Te}=this,ue=Te.slice();for(let Ne=0;Ne<ue.length&&!be.closed;Ne+=ve?1:2)be.next(ue[Ne]);return this._checkFinalizedStatuses(be),Ae}_trimBuffer(){const{_bufferSize:be,_timestampProvider:Ae,_buffer:ve,_infiniteTimeWindow:Te}=this,ue=(Te?1:2)*be;if(be<1/0&&ue<ve.length&&ve.splice(0,ve.length-ue),!Te){const Ne=Ae.now();let pe=0;for(let xe=1;xe<ve.length&&ve[xe]<=Ne;xe+=2)pe=xe;pe&&ve.splice(0,pe+1)}}}var G=N(7647);function Re(Q,be,Ae){let ve,Te=!1;return Q&&"object"==typeof Q?({bufferSize:ve=1/0,windowTime:be=1/0,refCount:Te=!1,scheduler:Ae}=Q):ve=Q??1/0,(0,G.u)({connector:()=>new Z(ve,be,Ae),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Te})}},9172:(In,dt,N)=>{"use strict";N.d(dt,{Z:()=>G});var l=N(8793),U=N(3794),Z=N(9974);function G(...Re){const Q=(0,U.lI)(Re);return(0,Z.N)((be,Ae)=>{(Q?(0,l.x)(Re,be,Q):(0,l.x)(Re,be)).subscribe(Ae)})}},6745:(In,dt,N)=>{"use strict";N.d(dt,{_:()=>U});var l=N(9974);function U(Z,G=0){return(0,l.N)((Re,Q)=>{Q.add(Z.schedule(()=>Re.subscribe(Q),G))})}},5558:(In,dt,N)=>{"use strict";N.d(dt,{n:()=>G});var l=N(8750),U=N(9974),Z=N(4360);function G(Re,Q){return(0,U.N)((be,Ae)=>{let ve=null,Te=0,ue=!1;const Ne=()=>ue&&!ve&&Ae.complete();be.subscribe((0,Z._)(Ae,pe=>{ve?.unsubscribe();let xe=0;const nt=Te++;(0,l.Tg)(Re(pe,nt)).subscribe(ve=(0,Z._)(Ae,yt=>Ae.next(Q?Q(pe,yt,nt,xe++):yt),()=>{ve=null,Ne()}))},()=>{ue=!0,Ne()}))})}},6697:(In,dt,N)=>{"use strict";N.d(dt,{s:()=>G});var l=N(983),U=N(9974),Z=N(4360);function G(Re){return Re<=0?()=>l.w:(0,U.N)((Q,be)=>{let Ae=0;Q.subscribe((0,Z._)(be,ve=>{++Ae<=Re&&(be.next(ve),Re<=Ae&&be.complete())}))})}},8141:(In,dt,N)=>{"use strict";N.d(dt,{M:()=>Re});var l=N(8071),U=N(9974),Z=N(4360),G=N(3669);function Re(Q,be,Ae){const ve=(0,l.T)(Q)||be||Ae?{next:Q,error:be,complete:Ae}:Q;return ve?(0,U.N)((Te,ue)=>{var Ne;null===(Ne=ve.subscribe)||void 0===Ne||Ne.call(ve);let pe=!0;Te.subscribe((0,Z._)(ue,xe=>{var nt;null===(nt=ve.next)||void 0===nt||nt.call(ve,xe),ue.next(xe)},()=>{var xe;pe=!1,null===(xe=ve.complete)||void 0===xe||xe.call(ve),ue.complete()},xe=>{var nt;pe=!1,null===(nt=ve.error)||void 0===nt||nt.call(ve,xe),ue.error(xe)},()=>{var xe,nt;pe&&(null===(xe=ve.unsubscribe)||void 0===xe||xe.call(ve)),null===(nt=ve.finalize)||void 0===nt||nt.call(ve)}))}):G.D}},3774:(In,dt,N)=>{"use strict";N.d(dt,{v:()=>G});var l=N(9350),U=N(9974),Z=N(4360);function G(Q=Re){return(0,U.N)((be,Ae)=>{let ve=!1;be.subscribe((0,Z._)(Ae,Te=>{ve=!0,Ae.next(Te)},()=>ve?Ae.complete():Ae.error(Q())))})}function Re(){return new l.G}},6780:(In,dt,N)=>{"use strict";N.d(dt,{R:()=>Re});var l=N(8359);class U extends l.yU{constructor(be,Ae){super()}schedule(be,Ae=0){return this}}const Z={setInterval(Q,be,...Ae){const{delegate:ve}=Z;return ve?.setInterval?ve.setInterval(Q,be,...Ae):setInterval(Q,be,...Ae)},clearInterval(Q){const{delegate:be}=Z;return(be?.clearInterval||clearInterval)(Q)},delegate:void 0};var G=N(7908);class Re extends U{constructor(be,Ae){super(be,Ae),this.scheduler=be,this.work=Ae,this.pending=!1}schedule(be,Ae=0){var ve;if(this.closed)return this;this.state=be;const Te=this.id,ue=this.scheduler;return null!=Te&&(this.id=this.recycleAsyncId(ue,Te,Ae)),this.pending=!0,this.delay=Ae,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(ue,this.id,Ae),this}requestAsyncId(be,Ae,ve=0){return Z.setInterval(be.flush.bind(be,this),ve)}recycleAsyncId(be,Ae,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return Ae;null!=Ae&&Z.clearInterval(Ae)}execute(be,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(be,Ae);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,Ae){let Te,ve=!1;try{this.work(be)}catch(ue){ve=!0,Te=ue||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),Te}unsubscribe(){if(!this.closed){const{id:be,scheduler:Ae}=this,{actions:ve}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.o)(ve,this),null!=be&&(this.id=this.recycleAsyncId(Ae,be,null)),this.delay=null,super.unsubscribe()}}}},9687:(In,dt,N)=>{"use strict";N.d(dt,{q:()=>Z});var l=N(6129);class U{constructor(Re,Q=U.now){this.schedulerActionCtor=Re,this.now=Q}schedule(Re,Q=0,be){return new this.schedulerActionCtor(this,Re).schedule(be,Q)}}U.now=l.U.now;class Z extends U{constructor(Re,Q=U.now){super(Re,Q),this.actions=[],this._active=!1}flush(Re){const{actions:Q}=this;if(this._active)return void Q.push(Re);let be;this._active=!0;do{if(be=Re.execute(Re.state,Re.delay))break}while(Re=Q.shift());if(this._active=!1,be){for(;Re=Q.shift();)Re.unsubscribe();throw be}}}},3236:(In,dt,N)=>{"use strict";N.d(dt,{E:()=>Z});var l=N(6780);const Z=new(N(9687).q)(l.R)},6129:(In,dt,N)=>{"use strict";N.d(dt,{U:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},9270:(In,dt,N)=>{"use strict";N.d(dt,{f:()=>l});const l={setTimeout(U,Z,...G){const{delegate:Re}=l;return Re?.setTimeout?Re.setTimeout(U,Z,...G):setTimeout(U,Z,...G)},clearTimeout(U){const{delegate:Z}=l;return(Z?.clearTimeout||clearTimeout)(U)},delegate:void 0}},4761:(In,dt,N)=>{"use strict";N.d(dt,{l:()=>U});const U=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(In,dt,N)=>{"use strict";N.d(dt,{s:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(In,dt,N)=>{"use strict";N.d(dt,{G:()=>U});const U=(0,N(1853).L)(Z=>function(){Z(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(In,dt,N)=>{"use strict";N.d(dt,{R0:()=>Q,ms:()=>G,lI:()=>Re});var l=N(8071);function Z(be){return be[be.length-1]}function G(be){return(0,l.T)(Z(be))?be.pop():void 0}function Re(be){return function U(be){return be&&(0,l.T)(be.schedule)}(Z(be))?be.pop():void 0}function Q(be,Ae){return"number"==typeof Z(be)?be.pop():Ae}},3073:(In,dt,N)=>{"use strict";N.d(dt,{D:()=>Re});const{isArray:l}=Array,{getPrototypeOf:U,prototype:Z,keys:G}=Object;function Re(be){if(1===be.length){const Ae=be[0];if(l(Ae))return{args:Ae,keys:null};if(function Q(be){return be&&"object"==typeof be&&U(be)===Z}(Ae)){const ve=G(Ae);return{args:ve.map(Te=>Ae[Te]),keys:ve}}}return{args:be,keys:null}}},7908:(In,dt,N)=>{"use strict";function l(U,Z){if(U){const G=U.indexOf(Z);0<=G&&U.splice(G,1)}}N.d(dt,{o:()=>l})},1853:(In,dt,N)=>{"use strict";function l(U){const G=U(Re=>{Error.call(Re),Re.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}N.d(dt,{L:()=>l})},8496:(In,dt,N)=>{"use strict";function l(U,Z){return U.reduce((G,Re,Q)=>(G[Re]=Z[Q],G),{})}N.d(dt,{e:()=>l})},9786:(In,dt,N)=>{"use strict";N.d(dt,{Y:()=>Z,l:()=>G});var l=N(1026);let U=null;function Z(Re){if(l.$.useDeprecatedSynchronousErrorHandling){const Q=!U;if(Q&&(U={errorThrown:!1,error:null}),Re(),Q){const{errorThrown:be,error:Ae}=U;if(U=null,be)throw Ae}}else Re()}function G(Re){l.$.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=Re)}},5225:(In,dt,N)=>{"use strict";function l(U,Z,G,Re=0,Q=!1){const be=Z.schedule(function(){G(),Q?U.add(this.schedule(null,Re)):this.unsubscribe()},Re);if(U.add(be),!Q)return be}N.d(dt,{N:()=>l})},3669:(In,dt,N)=>{"use strict";function l(U){return U}N.d(dt,{D:()=>l})},7441:(In,dt,N)=>{"use strict";N.d(dt,{X:()=>l});const l=U=>U&&"number"==typeof U.length&&"function"!=typeof U},7953:(In,dt,N)=>{"use strict";N.d(dt,{T:()=>U});var l=N(8071);function U(Z){return Symbol.asyncIterator&&(0,l.T)(Z?.[Symbol.asyncIterator])}},8071:(In,dt,N)=>{"use strict";function l(U){return"function"==typeof U}N.d(dt,{T:()=>l})},5055:(In,dt,N)=>{"use strict";N.d(dt,{l:()=>Z});var l=N(3494),U=N(8071);function Z(G){return(0,U.T)(G[l.s])}},5397:(In,dt,N)=>{"use strict";N.d(dt,{x:()=>Z});var l=N(4761),U=N(8071);function Z(G){return(0,U.T)(G?.[l.l])}},4402:(In,dt,N)=>{"use strict";N.d(dt,{A:()=>Z});var l=N(1985),U=N(8071);function Z(G){return!!G&&(G instanceof l.c||(0,U.T)(G.lift)&&(0,U.T)(G.subscribe))}},9858:(In,dt,N)=>{"use strict";N.d(dt,{y:()=>U});var l=N(8071);function U(Z){return(0,l.T)(Z?.then)}},5196:(In,dt,N)=>{"use strict";N.d(dt,{C:()=>Z,U:()=>G});var l=N(1635),U=N(8071);function Z(Re){return(0,l.AQ)(this,arguments,function*(){const be=Re.getReader();try{for(;;){const{value:Ae,done:ve}=yield(0,l.N3)(be.read());if(ve)return yield(0,l.N3)(void 0);yield yield(0,l.N3)(Ae)}}finally{be.releaseLock()}})}function G(Re){return(0,U.T)(Re?.getReader)}},9974:(In,dt,N)=>{"use strict";N.d(dt,{N:()=>Z,S:()=>U});var l=N(8071);function U(G){return(0,l.T)(G?.lift)}function Z(G){return Re=>{if(U(Re))return Re.lift(function(Q){try{return G(Q,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(In,dt,N)=>{"use strict";N.d(dt,{I:()=>G});var l=N(6354);const{isArray:U}=Array;function G(Re){return(0,l.T)(Q=>function Z(Re,Q){return U(Q)?Re(...Q):Re(Q)}(Re,Q))}},5343:(In,dt,N)=>{"use strict";function l(){}N.d(dt,{l:()=>l})},1203:(In,dt,N)=>{"use strict";N.d(dt,{F:()=>U,m:()=>Z});var l=N(3669);function U(...G){return Z(G)}function Z(G){return 0===G.length?l.D:1===G.length?G[0]:function(Q){return G.reduce((be,Ae)=>Ae(be),Q)}}},5334:(In,dt,N)=>{"use strict";N.d(dt,{m:()=>Z});var l=N(1026),U=N(9270);function Z(G){U.f.setTimeout(()=>{const{onUnhandledError:Re}=l.$;if(!Re)throw G;Re(G)})}},591:(In,dt,N)=>{"use strict";function l(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(dt,{L:()=>l})},8996:(In,dt,N)=>{var l={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,6647,7428],"./ion-datetime_3.entry.js":[2885,6647,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment-content.entry.js":[9073,9073],"./ion-segment-view.entry.js":[323,323],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select-modal.entry.js":[770,770],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function U(Z){if(!N.o(l,Z))return Promise.resolve().then(()=>{var Q=new Error("Cannot find module '"+Z+"'");throw Q.code="MODULE_NOT_FOUND",Q});var G=l[Z],Re=G[0];return Promise.all(G.slice(1).map(N.e)).then(()=>N(Re))}U.keys=()=>Object.keys(l),U.id=8996,In.exports=U},177:(In,dt,N)=>{"use strict";N.d(dt,{AJ:()=>un,MD:()=>Zt,N0:()=>mi,QT:()=>Z,QX:()=>uo,Sm:()=>yt,Sq:()=>Qe,T3:()=>ts,VF:()=>Re,Vy:()=>jn,Xr:()=>On,YU:()=>an,ZD:()=>G,_b:()=>J,aZ:()=>He,bT:()=>Et,fw:()=>it,hb:()=>xe,hj:()=>ve,qQ:()=>be,vh:()=>So});var l=N(4438);let U=null;function Z(){return U}function G(M){U??=M}class Re{}const be=new l.nKC("");let Ae=(()=>{class M{historyGo($){throw new Error("")}static{this.\u0275fac=function(se){return new(se||M)}}static{this.\u0275prov=l.jDH({token:M,factory:()=>(0,l.WQX)(Te),providedIn:"platform"})}}return M})();const ve=new l.nKC("");let Te=(()=>{class M extends Ae{constructor(){super(),this._doc=(0,l.WQX)(be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Z().getBaseHref(this._doc)}onPopState($){const se=Z().getGlobalEventTarget(this._doc,"window");return se.addEventListener("popstate",$,!1),()=>se.removeEventListener("popstate",$)}onHashChange($){const se=Z().getGlobalEventTarget(this._doc,"window");return se.addEventListener("hashchange",$,!1),()=>se.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,se,tt){this._history.pushState($,se,tt)}replaceState($,se,tt){this._history.replaceState($,se,tt)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}static{this.\u0275fac=function(se){return new(se||M)}}static{this.\u0275prov=l.jDH({token:M,factory:()=>new M,providedIn:"platform"})}}return M})();function ue(M,ne){if(0==M.length)return ne;if(0==ne.length)return M;let $=0;return M.endsWith("/")&&$++,ne.startsWith("/")&&$++,2==$?M+ne.substring(1):1==$?M+ne:M+"/"+ne}function Ne(M){const ne=M.match(/#|\?|$/),$=ne&&ne.index||M.length;return M.slice(0,$-("/"===M[$-1]?1:0))+M.slice($)}function pe(M){return M&&"?"!==M[0]?"?"+M:M}let xe=(()=>{class M{historyGo($){throw new Error("")}static{this.\u0275fac=function(se){return new(se||M)}}static{this.\u0275prov=l.jDH({token:M,factory:()=>(0,l.WQX)(yt),providedIn:"root"})}}return M})();const nt=new l.nKC("");let yt=(()=>{class M extends xe{constructor($,se){super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=se??this._platformLocation.getBaseHrefFromDOM()??(0,l.WQX)(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return ue(this._baseHref,$)}path($=!1){const se=this._platformLocation.pathname+pe(this._platformLocation.search),tt=this._platformLocation.hash;return tt&&$?`${se}${tt}`:se}pushState($,se,tt,sn){const yn=this.prepareExternalUrl(tt+pe(sn));this._platformLocation.pushState($,se,yn)}replaceState($,se,tt,sn){const yn=this.prepareExternalUrl(tt+pe(sn));this._platformLocation.replaceState($,se,yn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(se){return new(se||M)(l.KVO(Ae),l.KVO(nt,8))}}static{this.\u0275prov=l.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),it=(()=>{class M extends xe{constructor($,se){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=se&&(this._baseHref=se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){const se=this._platformLocation.hash??"#";return se.length>0?se.substring(1):se}prepareExternalUrl($){const se=ue(this._baseHref,$);return se.length>0?"#"+se:se}pushState($,se,tt,sn){let yn=this.prepareExternalUrl(tt+pe(sn));0==yn.length&&(yn=this._platformLocation.pathname),this._platformLocation.pushState($,se,yn)}replaceState($,se,tt,sn){let yn=this.prepareExternalUrl(tt+pe(sn));0==yn.length&&(yn=this._platformLocation.pathname),this._platformLocation.replaceState($,se,yn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(se){return new(se||M)(l.KVO(Ae),l.KVO(nt,8))}}static{this.\u0275prov=l.jDH({token:M,factory:M.\u0275fac})}}return M})(),He=(()=>{class M{constructor($){this._subject=new l.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const se=this._locationStrategy.getBaseHref();this._basePath=function Le(M){if(new RegExp("^(https?:)?//").test(M)){const[,$]=M.split(/\/\/[^\/]+/);return $}return M}(Ne(Ke(se))),this._locationStrategy.onPopState(tt=>{this._subject.emit({url:this.path(!0),pop:!0,state:tt.state,type:tt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,se=""){return this.path()==this.normalize($+pe(se))}normalize($){return M.stripTrailingSlash(function Pt(M,ne){if(!M||!ne.startsWith(M))return ne;const $=ne.substring(M.length);return""===$||["/",";","?","#"].includes($[0])?$:ne}(this._basePath,Ke($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,se="",tt=null){this._locationStrategy.pushState(tt,"",$,se),this._notifyUrlChangeListeners(this.prepareExternalUrl($+pe(se)),tt)}replaceState($,se="",tt=null){this._locationStrategy.replaceState(tt,"",$,se),this._notifyUrlChangeListeners(this.prepareExternalUrl($+pe(se)),tt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){this._locationStrategy.historyGo?.($)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription??=this.subscribe(se=>{this._notifyUrlChangeListeners(se.url,se.state)}),()=>{const se=this._urlChangeListeners.indexOf($);this._urlChangeListeners.splice(se,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",se){this._urlChangeListeners.forEach(tt=>tt($,se))}subscribe($,se,tt){return this._subject.subscribe({next:$,error:se,complete:tt})}static{this.normalizeQueryParams=pe}static{this.joinWithSlash=ue}static{this.stripTrailingSlash=Ne}static{this.\u0275fac=function(se){return new(se||M)(l.KVO(xe))}}static{this.\u0275prov=l.jDH({token:M,factory:()=>function At(){return new He((0,l.KVO)(xe))}(),providedIn:"root"})}}return M})();function Ke(M){return M.replace(/\/index.html$/,"")}var Ye=function(M){return M[M.Decimal=0]="Decimal",M[M.Percent=1]="Percent",M[M.Currency=2]="Currency",M[M.Scientific=3]="Scientific",M}(Ye||{}),Dt=function(M){return M[M.Format=0]="Format",M[M.Standalone=1]="Standalone",M}(Dt||{}),H=function(M){return M[M.Narrow=0]="Narrow",M[M.Abbreviated=1]="Abbreviated",M[M.Wide=2]="Wide",M[M.Short=3]="Short",M}(H||{}),We=function(M){return M[M.Short=0]="Short",M[M.Medium=1]="Medium",M[M.Long=2]="Long",M[M.Full=3]="Full",M}(We||{});const bt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function le(M,ne){return xn((0,l.H5H)(M)[l.KH2.DateFormat],ne)}function Pe(M,ne){return xn((0,l.H5H)(M)[l.KH2.TimeFormat],ne)}function ot(M,ne){return xn((0,l.H5H)(M)[l.KH2.DateTimeFormat],ne)}function Xe(M,ne){const $=(0,l.H5H)(M),se=$[l.KH2.NumberSymbols][ne];if(typeof se>"u"){if(ne===bt.CurrencyDecimal)return $[l.KH2.NumberSymbols][bt.Decimal];if(ne===bt.CurrencyGroup)return $[l.KH2.NumberSymbols][bt.Group]}return se}function hn(M){if(!M[l.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${M[l.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xn(M,ne){for(let $=ne;$>-1;$--)if(typeof M[$]<"u")return M[$];throw new Error("Locale data API: locale data undefined")}function Un(M){const[ne,$]=M.split(":");return{hours:+ne,minutes:+$}}const Ht=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mn={},Er=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ir=function(M){return M[M.Short=0]="Short",M[M.ShortGMT=1]="ShortGMT",M[M.Long=2]="Long",M[M.Extended=3]="Extended",M}(ir||{}),Jn=function(M){return M[M.FullYear=0]="FullYear",M[M.Month=1]="Month",M[M.Date=2]="Date",M[M.Hours=3]="Hours",M[M.Minutes=4]="Minutes",M[M.Seconds=5]="Seconds",M[M.FractionalSeconds=6]="FractionalSeconds",M[M.Day=7]="Day",M}(Jn||{}),Hn=function(M){return M[M.DayPeriods=0]="DayPeriods",M[M.Days=1]="Days",M[M.Months=2]="Months",M[M.Eras=3]="Eras",M}(Hn||{});function Nr(M,ne,$,se){let tt=function Ge(M){if(vt(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[tt,sn=1,yn=1]=M.split("-").map(fr=>+fr);return Rr(tt,sn-1,yn)}const $=parseFloat(M);if(!isNaN(M-$))return new Date($);let se;if(se=M.match(Ht))return function $e(M){const ne=new Date(0);let $=0,se=0;const tt=M[8]?ne.setUTCFullYear:ne.setFullYear,sn=M[8]?ne.setUTCHours:ne.setHours;M[9]&&($=Number(M[9]+M[10]),se=Number(M[9]+M[11])),tt.call(ne,Number(M[1]),Number(M[2])-1,Number(M[3]));const yn=Number(M[4]||0)-$,fr=Number(M[5]||0)-se,Di=Number(M[6]||0),ns=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return sn.call(ne,yn,fr,Di,ns),ne}(se)}const ne=new Date(M);if(!vt(ne))throw new Error(`Unable to convert "${M}" into a date`);return ne}(M);ne=rr($,ne)||ne;let fr,yn=[];for(;ne;){if(fr=Er.exec(ne),!fr){yn.push(ne);break}{yn=yn.concat(fr.slice(1));const Vi=yn.pop();if(!Vi)break;ne=Vi}}let Di=tt.getTimezoneOffset();se&&(Di=Tt(se,Di),tt=function Bn(M,ne,$){const se=$?-1:1,tt=M.getTimezoneOffset();return function dn(M,ne){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+ne),M}(M,se*(Tt(ne,tt)-tt))}(tt,se,!0));let ns="";return yn.forEach(Vi=>{const Ii=function rt(M){if(ht[M])return ht[M];let ne;switch(M){case"G":case"GG":case"GGG":ne=_r(Hn.Eras,H.Abbreviated);break;case"GGGG":ne=_r(Hn.Eras,H.Wide);break;case"GGGGG":ne=_r(Hn.Eras,H.Narrow);break;case"y":ne=Tr(Jn.FullYear,1,0,!1,!0);break;case"yy":ne=Tr(Jn.FullYear,2,0,!0,!0);break;case"yyy":ne=Tr(Jn.FullYear,3,0,!1,!0);break;case"yyyy":ne=Tr(Jn.FullYear,4,0,!1,!0);break;case"Y":ne=jt(1);break;case"YY":ne=jt(2,!0);break;case"YYY":ne=jt(3);break;case"YYYY":ne=jt(4);break;case"M":case"L":ne=Tr(Jn.Month,1,1);break;case"MM":case"LL":ne=Tr(Jn.Month,2,1);break;case"MMM":ne=_r(Hn.Months,H.Abbreviated);break;case"MMMM":ne=_r(Hn.Months,H.Wide);break;case"MMMMM":ne=_r(Hn.Months,H.Narrow);break;case"LLL":ne=_r(Hn.Months,H.Abbreviated,Dt.Standalone);break;case"LLLL":ne=_r(Hn.Months,H.Wide,Dt.Standalone);break;case"LLLLL":ne=_r(Hn.Months,H.Narrow,Dt.Standalone);break;case"w":ne=Ai(1);break;case"ww":ne=Ai(2);break;case"W":ne=Ai(1,!0);break;case"d":ne=Tr(Jn.Date,1);break;case"dd":ne=Tr(Jn.Date,2);break;case"c":case"cc":ne=Tr(Jn.Day,1);break;case"ccc":ne=_r(Hn.Days,H.Abbreviated,Dt.Standalone);break;case"cccc":ne=_r(Hn.Days,H.Wide,Dt.Standalone);break;case"ccccc":ne=_r(Hn.Days,H.Narrow,Dt.Standalone);break;case"cccccc":ne=_r(Hn.Days,H.Short,Dt.Standalone);break;case"E":case"EE":case"EEE":ne=_r(Hn.Days,H.Abbreviated);break;case"EEEE":ne=_r(Hn.Days,H.Wide);break;case"EEEEE":ne=_r(Hn.Days,H.Narrow);break;case"EEEEEE":ne=_r(Hn.Days,H.Short);break;case"a":case"aa":case"aaa":ne=_r(Hn.DayPeriods,H.Abbreviated);break;case"aaaa":ne=_r(Hn.DayPeriods,H.Wide);break;case"aaaaa":ne=_r(Hn.DayPeriods,H.Narrow);break;case"b":case"bb":case"bbb":ne=_r(Hn.DayPeriods,H.Abbreviated,Dt.Standalone,!0);break;case"bbbb":ne=_r(Hn.DayPeriods,H.Wide,Dt.Standalone,!0);break;case"bbbbb":ne=_r(Hn.DayPeriods,H.Narrow,Dt.Standalone,!0);break;case"B":case"BB":case"BBB":ne=_r(Hn.DayPeriods,H.Abbreviated,Dt.Format,!0);break;case"BBBB":ne=_r(Hn.DayPeriods,H.Wide,Dt.Format,!0);break;case"BBBBB":ne=_r(Hn.DayPeriods,H.Narrow,Dt.Format,!0);break;case"h":ne=Tr(Jn.Hours,1,-12);break;case"hh":ne=Tr(Jn.Hours,2,-12);break;case"H":ne=Tr(Jn.Hours,1);break;case"HH":ne=Tr(Jn.Hours,2);break;case"m":ne=Tr(Jn.Minutes,1);break;case"mm":ne=Tr(Jn.Minutes,2);break;case"s":ne=Tr(Jn.Seconds,1);break;case"ss":ne=Tr(Jn.Seconds,2);break;case"S":ne=Tr(Jn.FractionalSeconds,1);break;case"SS":ne=Tr(Jn.FractionalSeconds,2);break;case"SSS":ne=Tr(Jn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ne=Pr(ir.Short);break;case"ZZZZZ":ne=Pr(ir.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ne=Pr(ir.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ne=Pr(ir.Long);break;default:return null}return ht[M]=ne,ne}(Vi);ns+=Ii?Ii(tt,$,Di):"''"===Vi?"'":Vi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ns}function Rr(M,ne,$){const se=new Date(0);return se.setFullYear(M,ne,$),se.setHours(0,0,0),se}function rr(M,ne){const $=function Mt(M){return(0,l.H5H)(M)[l.KH2.LocaleId]}(M);if(Mn[$]??={},Mn[$][ne])return Mn[$][ne];let se="";switch(ne){case"shortDate":se=le(M,We.Short);break;case"mediumDate":se=le(M,We.Medium);break;case"longDate":se=le(M,We.Long);break;case"fullDate":se=le(M,We.Full);break;case"shortTime":se=Pe(M,We.Short);break;case"mediumTime":se=Pe(M,We.Medium);break;case"longTime":se=Pe(M,We.Long);break;case"fullTime":se=Pe(M,We.Full);break;case"short":const tt=rr(M,"shortTime"),sn=rr(M,"shortDate");se=dr(ot(M,We.Short),[tt,sn]);break;case"medium":const yn=rr(M,"mediumTime"),fr=rr(M,"mediumDate");se=dr(ot(M,We.Medium),[yn,fr]);break;case"long":const Di=rr(M,"longTime"),ns=rr(M,"longDate");se=dr(ot(M,We.Long),[Di,ns]);break;case"full":const Vi=rr(M,"fullTime"),Ii=rr(M,"fullDate");se=dr(ot(M,We.Full),[Vi,Ii])}return se&&(Mn[$][ne]=se),se}function dr(M,ne){return ne&&(M=M.replace(/\{([^}]+)}/g,function($,se){return null!=ne&&se in ne?ne[se]:$})),M}function Or(M,ne,$="-",se,tt){let sn="";(M<0||tt&&M<=0)&&(tt?M=1-M:(M=-M,sn=$));let yn=String(M);for(;yn.length<ne;)yn="0"+yn;return se&&(yn=yn.slice(yn.length-ne)),sn+yn}function Tr(M,ne,$=0,se=!1,tt=!1){return function(sn,yn){let fr=function pr(M,ne){switch(M){case Jn.FullYear:return ne.getFullYear();case Jn.Month:return ne.getMonth();case Jn.Date:return ne.getDate();case Jn.Hours:return ne.getHours();case Jn.Minutes:return ne.getMinutes();case Jn.Seconds:return ne.getSeconds();case Jn.FractionalSeconds:return ne.getMilliseconds();case Jn.Day:return ne.getDay();default:throw new Error(`Unknown DateType value "${M}".`)}}(M,sn);if(($>0||fr>-$)&&(fr+=$),M===Jn.Hours)0===fr&&-12===$&&(fr=12);else if(M===Jn.FractionalSeconds)return function Qr(M,ne){return Or(M,3).substring(0,ne)}(fr,ne);const Di=Xe(yn,bt.MinusSign);return Or(fr,ne,Di,se,tt)}}function _r(M,ne,$=Dt.Format,se=!1){return function(tt,sn){return function fi(M,ne,$,se,tt,sn){switch($){case Hn.Months:return function qe(M,ne,$){const se=(0,l.H5H)(M),sn=xn([se[l.KH2.MonthsFormat],se[l.KH2.MonthsStandalone]],ne);return xn(sn,$)}(ne,tt,se)[M.getMonth()];case Hn.Days:return function cn(M,ne,$){const se=(0,l.H5H)(M),sn=xn([se[l.KH2.DaysFormat],se[l.KH2.DaysStandalone]],ne);return xn(sn,$)}(ne,tt,se)[M.getDay()];case Hn.DayPeriods:const yn=M.getHours(),fr=M.getMinutes();if(sn){const ns=function Vn(M){const ne=(0,l.H5H)(M);return hn(ne),(ne[l.KH2.ExtraData][2]||[]).map(se=>"string"==typeof se?Un(se):[Un(se[0]),Un(se[1])])}(ne),Vi=function Gn(M,ne,$){const se=(0,l.H5H)(M);hn(se);const sn=xn([se[l.KH2.ExtraData][0],se[l.KH2.ExtraData][1]],ne)||[];return xn(sn,$)||[]}(ne,tt,se),Ii=ns.findIndex(os=>{if(Array.isArray(os)){const[$r,Rn]=os,sr=yn>=$r.hours&&fr>=$r.minutes,vi=yn<Rn.hours||yn===Rn.hours&&fr<Rn.minutes;if($r.hours<Rn.hours){if(sr&&vi)return!0}else if(sr||vi)return!0}else if(os.hours===yn&&os.minutes===fr)return!0;return!1});if(-1!==Ii)return Vi[Ii]}return function kt(M,ne,$){const se=(0,l.H5H)(M),sn=xn([se[l.KH2.DayPeriodsFormat],se[l.KH2.DayPeriodsStandalone]],ne);return xn(sn,$)}(ne,tt,se)[yn<12?0:1];case Hn.Eras:return function Se(M,ne){return xn((0,l.H5H)(M)[l.KH2.Eras],ne)}(ne,se)[M.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${$}`)}}(tt,sn,M,ne,$,se)}}function Pr(M){return function(ne,$,se){const tt=-1*se,sn=Xe($,bt.MinusSign),yn=tt>0?Math.floor(tt/60):Math.ceil(tt/60);switch(M){case ir.Short:return(tt>=0?"+":"")+Or(yn,2,sn)+Or(Math.abs(tt%60),2,sn);case ir.ShortGMT:return"GMT"+(tt>=0?"+":"")+Or(yn,1,sn);case ir.Long:return"GMT"+(tt>=0?"+":"")+Or(yn,2,sn)+":"+Or(Math.abs(tt%60),2,sn);case ir.Extended:return 0===se?"Z":(tt>=0?"+":"")+Or(yn,2,sn)+":"+Or(Math.abs(tt%60),2,sn);default:throw new Error(`Unknown zone width "${M}"`)}}}const pi=0,gr=4;function ci(M){const ne=M.getDay(),$=0===ne?-3:gr-ne;return Rr(M.getFullYear(),M.getMonth(),M.getDate()+$)}function Ai(M,ne=!1){return function($,se){let tt;if(ne){const sn=new Date($.getFullYear(),$.getMonth(),1).getDay()-1,yn=$.getDate();tt=1+Math.floor((yn+sn)/7)}else{const sn=ci($),yn=function bi(M){const ne=Rr(M,pi,1).getDay();return Rr(M,0,1+(ne<=gr?gr:gr+7)-ne)}(sn.getFullYear()),fr=sn.getTime()-yn.getTime();tt=1+Math.round(fr/6048e5)}return Or(tt,M,Xe(se,bt.MinusSign))}}function jt(M,ne=!1){return function($,se){return Or(ci($).getFullYear(),M,Xe(se,bt.MinusSign),ne)}}const ht={};function Tt(M,ne){M=M.replace(/:/g,"");const $=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN($)?ne:$}function vt(M){return M instanceof Date&&!isNaN(M.valueOf())}const Jt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function $i(M){const ne=parseInt(M);if(isNaN(ne))throw new Error("Invalid integer literal when parsing "+M);return ne}function J(M,ne){ne=encodeURIComponent(ne);for(const $ of M.split(";")){const se=$.indexOf("="),[tt,sn]=-1==se?[$,""]:[$.slice(0,se),$.slice(se+1)];if(tt.trim()===ne)return decodeURIComponent(sn)}return null}const Ve=/\s+/,pt=[];let an=(()=>{class M{constructor($,se){this._ngEl=$,this._renderer=se,this.initialClasses=pt,this.stateMap=new Map}set klass($){this.initialClasses=null!=$?$.trim().split(Ve):pt}set ngClass($){this.rawClass="string"==typeof $?$.trim().split(Ve):$}ngDoCheck(){for(const se of this.initialClasses)this._updateState(se,!0);const $=this.rawClass;if(Array.isArray($)||$ instanceof Set)for(const se of $)this._updateState(se,!0);else if(null!=$)for(const se of Object.keys($))this._updateState(se,!!$[se]);this._applyStateDiff()}_updateState($,se){const tt=this.stateMap.get($);void 0!==tt?(tt.enabled!==se&&(tt.changed=!0,tt.enabled=se),tt.touched=!0):this.stateMap.set($,{enabled:se,changed:!0,touched:!0})}_applyStateDiff(){for(const $ of this.stateMap){const se=$[0],tt=$[1];tt.changed?(this._toggleClass(se,tt.enabled),tt.changed=!1):tt.touched||(tt.enabled&&this._toggleClass(se,!1),this.stateMap.delete(se)),tt.touched=!1}}_toggleClass($,se){($=$.trim()).length>0&&$.split(Ve).forEach(tt=>{se?this._renderer.addClass(this._ngEl.nativeElement,tt):this._renderer.removeClass(this._ngEl.nativeElement,tt)})}static{this.\u0275fac=function(se){return new(se||M)(l.rXU(l.aKT),l.rXU(l.sFG))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return M})();class Ue{constructor(ne,$,se,tt){this.$implicit=ne,this.ngForOf=$,this.index=se,this.count=tt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qe=(()=>{class M{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,se,tt){this._viewContainer=$,this._template=se,this._differs=tt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const se=this._viewContainer;$.forEachOperation((tt,sn,yn)=>{if(null==tt.previousIndex)se.createEmbeddedView(this._template,new Ue(tt.item,this._ngForOf,-1,-1),null===yn?void 0:yn);else if(null==yn)se.remove(null===sn?void 0:sn);else if(null!==sn){const fr=se.get(sn);se.move(fr,yn),Wt(fr,tt)}});for(let tt=0,sn=se.length;tt<sn;tt++){const fr=se.get(tt).context;fr.index=tt,fr.count=sn,fr.ngForOf=this._ngForOf}$.forEachIdentityChange(tt=>{Wt(se.get(tt.currentIndex),tt)})}static ngTemplateContextGuard($,se){return!0}static{this.\u0275fac=function(se){return new(se||M)(l.rXU(l.c1b),l.rXU(l.C4Q),l.rXU(l._q3))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return M})();function Wt(M,ne){M.context.$implicit=ne.item}let Et=(()=>{class M{constructor($,se){this._viewContainer=$,this._context=new _n,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=se}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){Qn("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){Qn("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,se){return!0}static{this.\u0275fac=function(se){return new(se||M)(l.rXU(l.c1b),l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return M})();class _n{constructor(){this.$implicit=null,this.ngIf=null}}function Qn(M,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,l.Tbb)(ne)}'.`)}let ts=(()=>{class M{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges($){if(this._shouldRecreateView($)){const se=this._viewContainerRef;if(this._viewRef&&se.remove(se.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const tt=this._createContextForwardProxy();this._viewRef=se.createEmbeddedView(this.ngTemplateOutlet,tt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView($){return!!$.ngTemplateOutlet||!!$.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:($,se,tt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,se,tt),get:($,se,tt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,se,tt)}})}static{this.\u0275fac=function(se){return new(se||M)(l.rXU(l.c1b))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.OA$]})}}return M})();function ye(M,ne){return new l.wOt(2100,!1)}const Ri=new l.nKC(""),mr=new l.nKC("");let So=(()=>{class M{constructor($,se,tt){this.locale=$,this.defaultTimezone=se,this.defaultOptions=tt}transform($,se,tt,sn){if(null==$||""===$||$!=$)return null;try{return Nr($,se??this.defaultOptions?.dateFormat??"mediumDate",sn||this.locale,tt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(yn){throw ye()}}static{this.\u0275fac=function(se){return new(se||M)(l.rXU(l.xe9,16),l.rXU(Ri,24),l.rXU(mr,24))}}static{this.\u0275pipe=l.EJ8({name:"date",type:M,pure:!0,standalone:!0})}}return M})(),uo=(()=>{class M{constructor($){this._locale=$}transform($,se,tt){if(!function O(M){return!(null==M||""===M||M!=M)}($))return null;tt||=this._locale;try{return function Gi(M,ne,$){return function Wr(M,ne,$,se,tt,sn,yn=!1){let fr="",Di=!1;if(isFinite(M)){let ns=function wi(M){let se,tt,sn,yn,fr,ne=Math.abs(M)+"",$=0;for((tt=ne.indexOf("."))>-1&&(ne=ne.replace(".","")),(sn=ne.search(/e/i))>0?(tt<0&&(tt=sn),tt+=+ne.slice(sn+1),ne=ne.substring(0,sn)):tt<0&&(tt=ne.length),sn=0;"0"===ne.charAt(sn);sn++);if(sn===(fr=ne.length))se=[0],tt=1;else{for(fr--;"0"===ne.charAt(fr);)fr--;for(tt-=sn,se=[],yn=0;sn<=fr;sn++,yn++)se[yn]=Number(ne.charAt(sn))}return tt>22&&(se=se.splice(0,21),$=tt-1,tt=1),{digits:se,exponent:$,integerLen:tt}}(M);yn&&(ns=function Ar(M){if(0===M.digits[0])return M;const ne=M.digits.length-M.integerLen;return M.exponent?M.exponent+=2:(0===ne?M.digits.push(0,0):1===ne&&M.digits.push(0),M.integerLen+=2),M}(ns));let Vi=ne.minInt,Ii=ne.minFrac,os=ne.maxFrac;if(sn){const Hi=sn.match(Jt);if(null===Hi)throw new Error(`${sn} is not a valid digit info`);const xs=Hi[1],Ws=Hi[3],di=Hi[5];null!=xs&&(Vi=$i(xs)),null!=Ws&&(Ii=$i(Ws)),null!=di?os=$i(di):null!=Ws&&Ii>os&&(os=Ii)}!function ti(M,ne,$){if(ne>$)throw new Error(`The minimum number of digits after fraction (${ne}) is higher than the maximum (${$}).`);let se=M.digits,tt=se.length-M.integerLen;const sn=Math.min(Math.max(ne,tt),$);let yn=sn+M.integerLen,fr=se[yn];if(yn>0){se.splice(Math.max(M.integerLen,yn));for(let Ii=yn;Ii<se.length;Ii++)se[Ii]=0}else{tt=Math.max(0,tt),M.integerLen=1,se.length=Math.max(1,yn=sn+1),se[0]=0;for(let Ii=1;Ii<yn;Ii++)se[Ii]=0}if(fr>=5)if(yn-1<0){for(let Ii=0;Ii>yn;Ii--)se.unshift(0),M.integerLen++;se.unshift(1),M.integerLen++}else se[yn-1]++;for(;tt<Math.max(0,sn);tt++)se.push(0);let Di=0!==sn;const ns=ne+M.integerLen,Vi=se.reduceRight(function(Ii,os,$r,Rn){return Rn[$r]=(os+=Ii)<10?os:os-10,Di&&(0===Rn[$r]&&$r>=ns?Rn.pop():Di=!1),os>=10?1:0},0);Vi&&(se.unshift(Vi),M.integerLen++)}(ns,Ii,os);let $r=ns.digits,Rn=ns.integerLen;const sr=ns.exponent;let vi=[];for(Di=$r.every(Hi=>!Hi);Rn<Vi;Rn++)$r.unshift(0);for(;Rn<0;Rn++)$r.unshift(0);Rn>0?vi=$r.splice(Rn,$r.length):(vi=$r,$r=[0]);const Es=[];for($r.length>=ne.lgSize&&Es.unshift($r.splice(-ne.lgSize,$r.length).join(""));$r.length>ne.gSize;)Es.unshift($r.splice(-ne.gSize,$r.length).join(""));$r.length&&Es.unshift($r.join("")),fr=Es.join(Xe($,se)),vi.length&&(fr+=Xe($,tt)+vi.join("")),sr&&(fr+=Xe($,bt.Exponential)+"+"+sr)}else fr=Xe($,bt.Infinity);return fr=M<0&&!Di?ne.negPre+fr+ne.negSuf:ne.posPre+fr+ne.posSuf,fr}(M,function Ur(M,ne="-"){const $={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},se=M.split(";"),tt=se[0],sn=se[1],yn=-1!==tt.indexOf(".")?tt.split("."):[tt.substring(0,tt.lastIndexOf("0")+1),tt.substring(tt.lastIndexOf("0")+1)],fr=yn[0],Di=yn[1]||"";$.posPre=fr.substring(0,fr.indexOf("#"));for(let Vi=0;Vi<Di.length;Vi++){const Ii=Di.charAt(Vi);"0"===Ii?$.minFrac=$.maxFrac=Vi+1:"#"===Ii?$.maxFrac=Vi+1:$.posSuf+=Ii}const ns=fr.split(",");if($.gSize=ns[1]?ns[1].length:0,$.lgSize=ns[2]||ns[1]?(ns[2]||ns[1]).length:0,sn){const Vi=tt.length-$.posPre.length-$.posSuf.length,Ii=sn.indexOf("#");$.negPre=sn.substring(0,Ii).replace(/'/g,""),$.negSuf=sn.slice(Ii+Vi).replace(/'/g,"")}else $.negPre=ne+$.posPre,$.negSuf=$.posSuf;return $}(function De(M,ne){return(0,l.H5H)(M)[l.KH2.NumberFormats][ne]}(ne,Ye.Decimal),Xe(ne,bt.MinusSign)),ne,bt.Group,bt.Decimal,$)}(function S(M){if("string"==typeof M&&!isNaN(Number(M)-parseFloat(M)))return Number(M);if("number"!=typeof M)throw new Error(`${M} is not a number`);return M}($),tt,se)}catch(sn){throw ye()}}static{this.\u0275fac=function(se){return new(se||M)(l.rXU(l.xe9,16))}}static{this.\u0275pipe=l.EJ8({name:"number",type:M,pure:!0,standalone:!0})}}return M})();let Zt=(()=>{class M{static{this.\u0275fac=function(se){return new(se||M)}}static{this.\u0275mod=l.$C({type:M})}static{this.\u0275inj=l.G2t({})}}return M})();const un="browser",gn="server";function jn(M){return M===gn}let On=(()=>{class M{static{this.\u0275prov=(0,l.jDH)({token:M,providedIn:"root",factory:()=>function fn(M){return M===un}((0,l.WQX)(l.Agw))?new lr((0,l.WQX)(be),window):new Li})}}return M})();class lr{constructor(ne,$){this.document=ne,this.window=$,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(ne){this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){const $=function Gr(M,ne){const $=M.getElementById(ne)||M.getElementsByName(ne)[0];if($)return $;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const se=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let tt=se.currentNode;for(;tt;){const sn=tt.shadowRoot;if(sn){const yn=sn.getElementById(ne)||sn.querySelector(`[name="${ne}"]`);if(yn)return yn}tt=se.nextNode()}}return null}(this.document,ne);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(ne){this.window.history.scrollRestoration=ne}scrollToElement(ne){const $=ne.getBoundingClientRect(),se=$.left+this.window.pageXOffset,tt=$.top+this.window.pageYOffset,sn=this.offset();this.window.scrollTo(se-sn[0],tt-sn[1])}}class Li{setOffset(ne){}getScrollPosition(){return[0,0]}scrollToPosition(ne){}scrollToAnchor(ne){}setHistoryScrollRestoration(ne){}}class mi{}},1626:(In,dt,N)=>{"use strict";N.d(dt,{$R:()=>Bn,Qq:()=>ot,q1:()=>xr});var l=N(467),U=N(4438),Z=N(7673),G=N(1985),Re=N(8455),Q=N(274),be=N(5964),Ae=N(6354),ve=N(980),Te=N(5558),ue=N(177);class Ne{}class pe{}class xe{constructor(Ue){this.normalizedNames=new Map,this.lazyUpdate=null,Ue?"string"==typeof Ue?this.lazyInit=()=>{this.headers=new Map,Ue.split("\n").forEach(Qe=>{const Wt=Qe.indexOf(":");if(Wt>0){const Xt=Qe.slice(0,Wt),Et=Xt.toLowerCase(),_n=Qe.slice(Wt+1).trim();this.maybeSetNormalizedName(Xt,Et),this.headers.has(Et)?this.headers.get(Et).push(_n):this.headers.set(Et,[_n])}})}:typeof Headers<"u"&&Ue instanceof Headers?(this.headers=new Map,Ue.forEach((Qe,Wt)=>{this.setHeaderEntries(Wt,Qe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ue).forEach(([Qe,Wt])=>{this.setHeaderEntries(Qe,Wt)})}:this.headers=new Map}has(Ue){return this.init(),this.headers.has(Ue.toLowerCase())}get(Ue){this.init();const Qe=this.headers.get(Ue.toLowerCase());return Qe&&Qe.length>0?Qe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ue){return this.init(),this.headers.get(Ue.toLowerCase())||null}append(Ue,Qe){return this.clone({name:Ue,value:Qe,op:"a"})}set(Ue,Qe){return this.clone({name:Ue,value:Qe,op:"s"})}delete(Ue,Qe){return this.clone({name:Ue,value:Qe,op:"d"})}maybeSetNormalizedName(Ue,Qe){this.normalizedNames.has(Qe)||this.normalizedNames.set(Qe,Ue)}init(){this.lazyInit&&(this.lazyInit instanceof xe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ue=>this.applyUpdate(Ue)),this.lazyUpdate=null))}copyFrom(Ue){Ue.init(),Array.from(Ue.headers.keys()).forEach(Qe=>{this.headers.set(Qe,Ue.headers.get(Qe)),this.normalizedNames.set(Qe,Ue.normalizedNames.get(Qe))})}clone(Ue){const Qe=new xe;return Qe.lazyInit=this.lazyInit&&this.lazyInit instanceof xe?this.lazyInit:this,Qe.lazyUpdate=(this.lazyUpdate||[]).concat([Ue]),Qe}applyUpdate(Ue){const Qe=Ue.name.toLowerCase();switch(Ue.op){case"a":case"s":let Wt=Ue.value;if("string"==typeof Wt&&(Wt=[Wt]),0===Wt.length)return;this.maybeSetNormalizedName(Ue.name,Qe);const Xt=("a"===Ue.op?this.headers.get(Qe):void 0)||[];Xt.push(...Wt),this.headers.set(Qe,Xt);break;case"d":const Et=Ue.value;if(Et){let _n=this.headers.get(Qe);if(!_n)return;_n=_n.filter(Qn=>-1===Et.indexOf(Qn)),0===_n.length?(this.headers.delete(Qe),this.normalizedNames.delete(Qe)):this.headers.set(Qe,_n)}else this.headers.delete(Qe),this.normalizedNames.delete(Qe)}}setHeaderEntries(Ue,Qe){const Wt=(Array.isArray(Qe)?Qe:[Qe]).map(Et=>Et.toString()),Xt=Ue.toLowerCase();this.headers.set(Xt,Wt),this.maybeSetNormalizedName(Ue,Xt)}forEach(Ue){this.init(),Array.from(this.normalizedNames.keys()).forEach(Qe=>Ue(this.normalizedNames.get(Qe),this.headers.get(Qe)))}}class yt{encodeKey(Ue){return Pt(Ue)}encodeValue(Ue){return Pt(Ue)}decodeKey(Ue){return decodeURIComponent(Ue)}decodeValue(Ue){return decodeURIComponent(Ue)}}const He=/%(\d[a-f0-9])/gi,At={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Pt(de){return encodeURIComponent(de).replace(He,(Ue,Qe)=>At[Qe]??Ue)}function Ke(de){return`${de}`}class Le{constructor(Ue={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ue.encoder||new yt,Ue.fromString){if(Ue.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function it(de,Ue){const Qe=new Map;return de.length>0&&de.replace(/^\?/,"").split("&").forEach(Xt=>{const Et=Xt.indexOf("="),[_n,Qn]=-1==Et?[Ue.decodeKey(Xt),""]:[Ue.decodeKey(Xt.slice(0,Et)),Ue.decodeValue(Xt.slice(Et+1))],Yn=Qe.get(_n)||[];Yn.push(Qn),Qe.set(_n,Yn)}),Qe}(Ue.fromString,this.encoder)}else Ue.fromObject?(this.map=new Map,Object.keys(Ue.fromObject).forEach(Qe=>{const Wt=Ue.fromObject[Qe],Xt=Array.isArray(Wt)?Wt.map(Ke):[Ke(Wt)];this.map.set(Qe,Xt)})):this.map=null}has(Ue){return this.init(),this.map.has(Ue)}get(Ue){this.init();const Qe=this.map.get(Ue);return Qe?Qe[0]:null}getAll(Ue){return this.init(),this.map.get(Ue)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ue,Qe){return this.clone({param:Ue,value:Qe,op:"a"})}appendAll(Ue){const Qe=[];return Object.keys(Ue).forEach(Wt=>{const Xt=Ue[Wt];Array.isArray(Xt)?Xt.forEach(Et=>{Qe.push({param:Wt,value:Et,op:"a"})}):Qe.push({param:Wt,value:Xt,op:"a"})}),this.clone(Qe)}set(Ue,Qe){return this.clone({param:Ue,value:Qe,op:"s"})}delete(Ue,Qe){return this.clone({param:Ue,value:Qe,op:"d"})}toString(){return this.init(),this.keys().map(Ue=>{const Qe=this.encoder.encodeKey(Ue);return this.map.get(Ue).map(Wt=>Qe+"="+this.encoder.encodeValue(Wt)).join("&")}).filter(Ue=>""!==Ue).join("&")}clone(Ue){const Qe=new Le({encoder:this.encoder});return Qe.cloneFrom=this.cloneFrom||this,Qe.updates=(this.updates||[]).concat(Ue),Qe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ue=>this.map.set(Ue,this.cloneFrom.map.get(Ue))),this.updates.forEach(Ue=>{switch(Ue.op){case"a":case"s":const Qe=("a"===Ue.op?this.map.get(Ue.param):void 0)||[];Qe.push(Ke(Ue.value)),this.map.set(Ue.param,Qe);break;case"d":if(void 0===Ue.value){this.map.delete(Ue.param);break}{let Wt=this.map.get(Ue.param)||[];const Xt=Wt.indexOf(Ke(Ue.value));-1!==Xt&&Wt.splice(Xt,1),Wt.length>0?this.map.set(Ue.param,Wt):this.map.delete(Ue.param)}}}),this.cloneFrom=this.updates=null)}}class Ye{constructor(){this.map=new Map}set(Ue,Qe){return this.map.set(Ue,Qe),this}get(Ue){return this.map.has(Ue)||this.map.set(Ue,Ue.defaultValue()),this.map.get(Ue)}delete(Ue){return this.map.delete(Ue),this}has(Ue){return this.map.has(Ue)}keys(){return this.map.keys()}}function Dt(de){return typeof ArrayBuffer<"u"&&de instanceof ArrayBuffer}function H(de){return typeof Blob<"u"&&de instanceof Blob}function We(de){return typeof FormData<"u"&&de instanceof FormData}class ze{constructor(Ue,Qe,Wt,Xt){let Et;if(this.url=Qe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ue.toUpperCase(),function Ze(de){switch(de){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Xt?(this.body=void 0!==Wt?Wt:null,Et=Xt):Et=Wt,Et&&(this.reportProgress=!!Et.reportProgress,this.withCredentials=!!Et.withCredentials,Et.responseType&&(this.responseType=Et.responseType),Et.headers&&(this.headers=Et.headers),Et.context&&(this.context=Et.context),Et.params&&(this.params=Et.params),this.transferCache=Et.transferCache),this.headers??=new xe,this.context??=new Ye,this.params){const _n=this.params.toString();if(0===_n.length)this.urlWithParams=Qe;else{const Qn=Qe.indexOf("?");this.urlWithParams=Qe+(-1===Qn?"?":Qn<Qe.length-1?"&":"")+_n}}else this.params=new Le,this.urlWithParams=Qe}serializeBody(){return null===this.body?null:"string"==typeof this.body||Dt(this.body)||H(this.body)||We(this.body)||function bt(de){return typeof URLSearchParams<"u"&&de instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Le?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||We(this.body)?null:H(this.body)?this.body.type||null:Dt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Le?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ue={}){const Qe=Ue.method||this.method,Wt=Ue.url||this.url,Xt=Ue.responseType||this.responseType,Et=Ue.transferCache??this.transferCache,_n=void 0!==Ue.body?Ue.body:this.body,Qn=Ue.withCredentials??this.withCredentials,Yn=Ue.reportProgress??this.reportProgress;let En=Ue.headers||this.headers,kn=Ue.params||this.params;const Lr=Ue.context??this.context;return void 0!==Ue.setHeaders&&(En=Object.keys(Ue.setHeaders).reduce((Tn,Lt)=>Tn.set(Lt,Ue.setHeaders[Lt]),En)),Ue.setParams&&(kn=Object.keys(Ue.setParams).reduce((Tn,Lt)=>Tn.set(Lt,Ue.setParams[Lt]),kn)),new ze(Qe,Wt,_n,{params:kn,headers:En,context:Lr,reportProgress:Yn,responseType:Xt,withCredentials:Qn,transferCache:Et})}}var Mt=function(de){return de[de.Sent=0]="Sent",de[de.UploadProgress=1]="UploadProgress",de[de.ResponseHeader=2]="ResponseHeader",de[de.DownloadProgress=3]="DownloadProgress",de[de.Response=4]="Response",de[de.User=5]="User",de}(Mt||{});class kt{constructor(Ue,Qe=200,Wt="OK"){this.headers=Ue.headers||new xe,this.status=void 0!==Ue.status?Ue.status:Qe,this.statusText=Ue.statusText||Wt,this.url=Ue.url||null,this.ok=this.status>=200&&this.status<300}}class cn extends kt{constructor(Ue={}){super(Ue),this.type=Mt.ResponseHeader}clone(Ue={}){return new cn({headers:Ue.headers||this.headers,status:void 0!==Ue.status?Ue.status:this.status,statusText:Ue.statusText||this.statusText,url:Ue.url||this.url||void 0})}}class qe extends kt{constructor(Ue={}){super(Ue),this.type=Mt.Response,this.body=void 0!==Ue.body?Ue.body:null}clone(Ue={}){return new qe({body:void 0!==Ue.body?Ue.body:this.body,headers:Ue.headers||this.headers,status:void 0!==Ue.status?Ue.status:this.status,statusText:Ue.statusText||this.statusText,url:Ue.url||this.url||void 0})}}class Se extends kt{constructor(Ue){super(Ue,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ue.url||"(unknown url)"}`:`Http failure response for ${Ue.url||"(unknown url)"}: ${Ue.status} ${Ue.statusText}`,this.error=Ue.error||null}}function Pe(de,Ue){return{body:Ue,headers:de.headers,context:de.context,observe:de.observe,params:de.params,reportProgress:de.reportProgress,responseType:de.responseType,withCredentials:de.withCredentials,transferCache:de.transferCache}}let ot=(()=>{class de{constructor(Qe){this.handler=Qe}request(Qe,Wt,Xt={}){let Et;if(Qe instanceof ze)Et=Qe;else{let Yn,En;Yn=Xt.headers instanceof xe?Xt.headers:new xe(Xt.headers),Xt.params&&(En=Xt.params instanceof Le?Xt.params:new Le({fromObject:Xt.params})),Et=new ze(Qe,Wt,void 0!==Xt.body?Xt.body:null,{headers:Yn,context:Xt.context,params:En,reportProgress:Xt.reportProgress,responseType:Xt.responseType||"json",withCredentials:Xt.withCredentials,transferCache:Xt.transferCache})}const _n=(0,Z.of)(Et).pipe((0,Q.H)(Yn=>this.handler.handle(Yn)));if(Qe instanceof ze||"events"===Xt.observe)return _n;const Qn=_n.pipe((0,be.p)(Yn=>Yn instanceof qe));switch(Xt.observe||"body"){case"body":switch(Et.responseType){case"arraybuffer":return Qn.pipe((0,Ae.T)(Yn=>{if(null!==Yn.body&&!(Yn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Yn.body}));case"blob":return Qn.pipe((0,Ae.T)(Yn=>{if(null!==Yn.body&&!(Yn.body instanceof Blob))throw new Error("Response is not a Blob.");return Yn.body}));case"text":return Qn.pipe((0,Ae.T)(Yn=>{if(null!==Yn.body&&"string"!=typeof Yn.body)throw new Error("Response is not a string.");return Yn.body}));default:return Qn.pipe((0,Ae.T)(Yn=>Yn.body))}case"response":return Qn;default:throw new Error(`Unreachable: unhandled observe type ${Xt.observe}}`)}}delete(Qe,Wt={}){return this.request("DELETE",Qe,Wt)}get(Qe,Wt={}){return this.request("GET",Qe,Wt)}head(Qe,Wt={}){return this.request("HEAD",Qe,Wt)}jsonp(Qe,Wt){return this.request("JSONP",Qe,{params:(new Le).append(Wt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Qe,Wt={}){return this.request("OPTIONS",Qe,Wt)}patch(Qe,Wt,Xt={}){return this.request("PATCH",Qe,Pe(Xt,Wt))}post(Qe,Wt,Xt={}){return this.request("POST",Qe,Pe(Xt,Wt))}put(Qe,Wt,Xt={}){return this.request("PUT",Qe,Pe(Xt,Wt))}static{this.\u0275fac=function(Wt){return new(Wt||de)(U.KVO(Ne))}}static{this.\u0275prov=U.jDH({token:de,factory:de.\u0275fac})}}return de})();const Xe=/^\)\]\}',?\n/;function Ct(de){if(de.url)return de.url;const Ue="X-Request-URL".toLocaleLowerCase();return de.headers.get(Ue)}let fe=(()=>{class de{constructor(){this.fetchImpl=(0,U.WQX)(st,{optional:!0})?.fetch??((...Qe)=>globalThis.fetch(...Qe)),this.ngZone=(0,U.WQX)(U.SKi)}handle(Qe){return new G.c(Wt=>{const Xt=new AbortController;return this.doRequest(Qe,Xt.signal,Wt).then(Ot,Et=>Wt.error(new Se({error:Et}))),()=>Xt.abort()})}doRequest(Qe,Wt,Xt){var Et=this;return(0,l.A)(function*(){const _n=Et.createRequestInit(Qe);let Qn;try{const on=Et.ngZone.runOutsideAngular(()=>Et.fetchImpl(Qe.urlWithParams,{signal:Wt,..._n}));(function Nt(de){de.then(Ot,Ot)})(on),Xt.next({type:Mt.Sent}),Qn=yield on}catch(on){return void Xt.error(new Se({error:on,status:on.status??0,statusText:on.statusText,url:Qe.urlWithParams,headers:on.headers}))}const Yn=new xe(Qn.headers),En=Qn.statusText,kn=Ct(Qn)??Qe.urlWithParams;let Lr=Qn.status,Tn=null;if(Qe.reportProgress&&Xt.next(new cn({headers:Yn,status:Lr,statusText:En,url:kn})),Qn.body){const on=Qn.headers.get("content-length"),ar=[],oi=Qn.body.getReader();let he,ye,ts=0;const ct=typeof Zone<"u"&&Zone.current;yield Et.ngZone.runOutsideAngular((0,l.A)(function*(){for(;;){const{done:wn,value:Zn}=yield oi.read();if(wn)break;if(ar.push(Zn),ts+=Zn.length,Qe.reportProgress){ye="text"===Qe.responseType?(ye??"")+(he??=new TextDecoder).decode(Zn,{stream:!0}):void 0;const er=()=>Xt.next({type:Mt.DownloadProgress,total:on?+on:void 0,loaded:ts,partialText:ye});ct?ct.run(er):er()}}}));const qt=Et.concatChunks(ar,ts);try{const wn=Qn.headers.get("Content-Type")??"";Tn=Et.parseBody(Qe,qt,wn)}catch(wn){return void Xt.error(new Se({error:wn,headers:new xe(Qn.headers),status:Qn.status,statusText:Qn.statusText,url:Ct(Qn)??Qe.urlWithParams}))}}0===Lr&&(Lr=Tn?200:0),Lr>=200&&Lr<300?(Xt.next(new qe({body:Tn,headers:Yn,status:Lr,statusText:En,url:kn})),Xt.complete()):Xt.error(new Se({error:Tn,headers:Yn,status:Lr,statusText:En,url:kn}))})()}parseBody(Qe,Wt,Xt){switch(Qe.responseType){case"json":const Et=(new TextDecoder).decode(Wt).replace(Xe,"");return""===Et?null:JSON.parse(Et);case"text":return(new TextDecoder).decode(Wt);case"blob":return new Blob([Wt],{type:Xt});case"arraybuffer":return Wt.buffer}}createRequestInit(Qe){const Wt={},Xt=Qe.withCredentials?"include":void 0;if(Qe.headers.forEach((Et,_n)=>Wt[Et]=_n.join(",")),Qe.headers.has("Accept")||(Wt.Accept="application/json, text/plain, */*"),!Qe.headers.has("Content-Type")){const Et=Qe.detectContentTypeHeader();null!==Et&&(Wt["Content-Type"]=Et)}return{body:Qe.serializeBody(),method:Qe.method,headers:Wt,credentials:Xt}}concatChunks(Qe,Wt){const Xt=new Uint8Array(Wt);let Et=0;for(const _n of Qe)Xt.set(_n,Et),Et+=_n.length;return Xt}static{this.\u0275fac=function(Wt){return new(Wt||de)}}static{this.\u0275prov=U.jDH({token:de,factory:de.\u0275fac})}}return de})();class st{}function Ot(){}function hn(de,Ue){return Ue(de)}function Vn(de,Ue){return(Qe,Wt)=>Ue.intercept(Qe,{handle:Xt=>de(Xt,Wt)})}const Nn=new U.nKC(""),xn=new U.nKC(""),Un=new U.nKC(""),Xn=new U.nKC("",{providedIn:"root",factory:()=>!0});function mt(){let de=null;return(Ue,Qe)=>{null===de&&(de=((0,U.WQX)(Nn,{optional:!0})??[]).reduceRight(Vn,hn));const Wt=(0,U.WQX)(U.TgB);if((0,U.WQX)(Xn)){const Et=Wt.add();return de(Ue,Qe).pipe((0,ve.j)(()=>Wt.remove(Et)))}return de(Ue,Qe)}}let Mn=(()=>{class de extends Ne{constructor(Qe,Wt){super(),this.backend=Qe,this.injector=Wt,this.chain=null,this.pendingTasks=(0,U.WQX)(U.TgB),this.contributeToStability=(0,U.WQX)(Xn)}handle(Qe){if(null===this.chain){const Wt=Array.from(new Set([...this.injector.get(xn),...this.injector.get(Un,[])]));this.chain=Wt.reduceRight((Xt,Et)=>function Gn(de,Ue,Qe){return(Wt,Xt)=>(0,U.N4e)(Qe,()=>Ue(Wt,Et=>de(Et,Xt)))}(Xt,Et,this.injector),hn)}if(this.contributeToStability){const Wt=this.pendingTasks.add();return this.chain(Qe,Xt=>this.backend.handle(Xt)).pipe((0,ve.j)(()=>this.pendingTasks.remove(Wt)))}return this.chain(Qe,Wt=>this.backend.handle(Wt))}static{this.\u0275fac=function(Wt){return new(Wt||de)(U.KVO(pe),U.KVO(U.uvJ))}}static{this.\u0275prov=U.jDH({token:de,factory:de.\u0275fac})}}return de})();const pr=/^\)\]\}',?\n/;let fi=(()=>{class de{constructor(Qe){this.xhrFactory=Qe}handle(Qe){if("JSONP"===Qe.method)throw new U.wOt(-2800,!1);const Wt=this.xhrFactory;return(Wt.\u0275loadImpl?(0,Re.H)(Wt.\u0275loadImpl()):(0,Z.of)(null)).pipe((0,Te.n)(()=>new G.c(Et=>{const _n=Wt.build();if(_n.open(Qe.method,Qe.urlWithParams),Qe.withCredentials&&(_n.withCredentials=!0),Qe.headers.forEach((ar,oi)=>_n.setRequestHeader(ar,oi.join(","))),Qe.headers.has("Accept")||_n.setRequestHeader("Accept","application/json, text/plain, */*"),!Qe.headers.has("Content-Type")){const ar=Qe.detectContentTypeHeader();null!==ar&&_n.setRequestHeader("Content-Type",ar)}if(Qe.responseType){const ar=Qe.responseType.toLowerCase();_n.responseType="json"!==ar?ar:"text"}const Qn=Qe.serializeBody();let Yn=null;const En=()=>{if(null!==Yn)return Yn;const ar=_n.statusText||"OK",oi=new xe(_n.getAllResponseHeaders()),ts=function _r(de){return"responseURL"in de&&de.responseURL?de.responseURL:/^X-Request-URL:/m.test(de.getAllResponseHeaders())?de.getResponseHeader("X-Request-URL"):null}(_n)||Qe.url;return Yn=new cn({headers:oi,status:_n.status,statusText:ar,url:ts}),Yn},kn=()=>{let{headers:ar,status:oi,statusText:ts,url:he}=En(),ye=null;204!==oi&&(ye=typeof _n.response>"u"?_n.responseText:_n.response),0===oi&&(oi=ye?200:0);let ct=oi>=200&&oi<300;if("json"===Qe.responseType&&"string"==typeof ye){const qt=ye;ye=ye.replace(pr,"");try{ye=""!==ye?JSON.parse(ye):null}catch(wn){ye=qt,ct&&(ct=!1,ye={error:wn,text:ye})}}ct?(Et.next(new qe({body:ye,headers:ar,status:oi,statusText:ts,url:he||void 0})),Et.complete()):Et.error(new Se({error:ye,headers:ar,status:oi,statusText:ts,url:he||void 0}))},Lr=ar=>{const{url:oi}=En(),ts=new Se({error:ar,status:_n.status||0,statusText:_n.statusText||"Unknown Error",url:oi||void 0});Et.error(ts)};let Tn=!1;const Lt=ar=>{Tn||(Et.next(En()),Tn=!0);let oi={type:Mt.DownloadProgress,loaded:ar.loaded};ar.lengthComputable&&(oi.total=ar.total),"text"===Qe.responseType&&_n.responseText&&(oi.partialText=_n.responseText),Et.next(oi)},on=ar=>{let oi={type:Mt.UploadProgress,loaded:ar.loaded};ar.lengthComputable&&(oi.total=ar.total),Et.next(oi)};return _n.addEventListener("load",kn),_n.addEventListener("error",Lr),_n.addEventListener("timeout",Lr),_n.addEventListener("abort",Lr),Qe.reportProgress&&(_n.addEventListener("progress",Lt),null!==Qn&&_n.upload&&_n.upload.addEventListener("progress",on)),_n.send(Qn),Et.next({type:Mt.Sent}),()=>{_n.removeEventListener("error",Lr),_n.removeEventListener("abort",Lr),_n.removeEventListener("load",kn),_n.removeEventListener("timeout",Lr),Qe.reportProgress&&(_n.removeEventListener("progress",Lt),null!==Qn&&_n.upload&&_n.upload.removeEventListener("progress",on)),_n.readyState!==_n.DONE&&_n.abort()}})))}static{this.\u0275fac=function(Wt){return new(Wt||de)(U.KVO(ue.N0))}}static{this.\u0275prov=U.jDH({token:de,factory:de.\u0275fac})}}return de})();const Pr=new U.nKC(""),gr=new U.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ci=new U.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ai{}let jt=(()=>{class de{constructor(Qe,Wt,Xt){this.doc=Qe,this.platform=Wt,this.cookieName=Xt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Qe=this.doc.cookie||"";return Qe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ue._b)(Qe,this.cookieName),this.lastCookieString=Qe),this.lastToken}static{this.\u0275fac=function(Wt){return new(Wt||de)(U.KVO(ue.qQ),U.KVO(U.Agw),U.KVO(gr))}}static{this.\u0275prov=U.jDH({token:de,factory:de.\u0275fac})}}return de})();function ht(de,Ue){const Qe=de.url.toLowerCase();if(!(0,U.WQX)(Pr)||"GET"===de.method||"HEAD"===de.method||Qe.startsWith("http://")||Qe.startsWith("https://"))return Ue(de);const Wt=(0,U.WQX)(Ai).getToken(),Xt=(0,U.WQX)(ci);return null!=Wt&&!de.headers.has(Xt)&&(de=de.clone({headers:de.headers.set(Xt,Wt)})),Ue(de)}var Tt=function(de){return de[de.Interceptors=0]="Interceptors",de[de.LegacyInterceptors=1]="LegacyInterceptors",de[de.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",de[de.NoXsrfProtection=3]="NoXsrfProtection",de[de.JsonpSupport=4]="JsonpSupport",de[de.RequestsMadeViaParent=5]="RequestsMadeViaParent",de[de.Fetch=6]="Fetch",de}(Tt||{});function dn(de,Ue){return{\u0275kind:de,\u0275providers:Ue}}function Bn(...de){const Ue=[ot,fi,Mn,{provide:Ne,useExisting:Mn},{provide:pe,useFactory:()=>(0,U.WQX)(fe,{optional:!0})??(0,U.WQX)(fi)},{provide:xn,useValue:ht,multi:!0},{provide:Pr,useValue:!0},{provide:Ai,useClass:jt}];for(const Qe of de)Ue.push(...Qe.\u0275providers);return(0,U.EmA)(Ue)}const $e=new U.nKC("");let xr=(()=>{class de{static{this.\u0275fac=function(Wt){return new(Wt||de)}}static{this.\u0275mod=U.$C({type:de})}static{this.\u0275inj=U.G2t({providers:[Bn(dn(Tt.LegacyInterceptors,[{provide:$e,useFactory:mt},{provide:xn,useExisting:$e,multi:!0}]))]})}}return de})()},4438:(In,dt,N)=>{"use strict";function l(e,n){return Object.is(e,n)}N.d(dt,{iLQ:()=>lI,sZ2:()=>Uu,hnV:()=>hS,Hbi:()=>nO,o8S:()=>qd,BIS:()=>Km,gRc:()=>SS,Ql9:()=>bN,Ocv:()=>xN,Z63:()=>eo,aKT:()=>Hc,uvJ:()=>cs,zcH:()=>Ss,bkB:()=>Ba,$GK:()=>Pn,nKC:()=>Qt,zZn:()=>Js,_q3:()=>iC,MKu:()=>sC,xe9:()=>JT,Co$:()=>mm,Vns:()=>yu,SKi:()=>T,Xx1:()=>lr,Agw:()=>ip,PLl:()=>ey,sFG:()=>$p,_9s:()=>em,czy:()=>_p,kdw:()=>Li,C4Q:()=>zo,NYb:()=>_N,giA:()=>uS,xvI:()=>Gx,RxE:()=>nS,c1b:()=>Hp,gXe:()=>ps,mal:()=>HE,L39:()=>NO,EWP:()=>kO,a0P:()=>jO,Ol2:()=>Z0,w6W:()=>cR,oH4:()=>wS,Rfq:()=>jt,WQX:()=>Fe,naY:()=>$N,QuC:()=>bs,EmA:()=>Ki,fpN:()=>tO,HJs:()=>HO,N4e:()=>ro,vPA:()=>v_,O8t:()=>LO,H3F:()=>rS,H8p:()=>Dl,KH2:()=>Lm,TgB:()=>jc,wOt:()=>mt,WHO:()=>lS,e01:()=>cS,H5H:()=>AT,Zy3:()=>Gt,mq5:()=>EA,JZv:()=>pr,LfX:()=>zt,plB:()=>Ju,jNT:()=>XT,zjR:()=>dS,TL$:()=>sf,Tbb:()=>gr,Vt3:()=>Hf,GFd:()=>Ic,OA$:()=>ms,Jv_:()=>SD,aNF:()=>RD,R7$:()=>Dv,BMQ:()=>hT,HbH:()=>sA,AVh:()=>yT,wni:()=>rD,VBU:()=>ea,FsC:()=>Ms,jDH:()=>Ar,G2t:()=>ti,$C:()=>Ro,EJ8:()=>gl,rXU:()=>Dh,nrm:()=>wT,eu8:()=>bT,bVm:()=>JE,qex:()=>YE,k0s:()=>QE,j41:()=>qE,RV6:()=>vA,xGo:()=>Uc,KVO:()=>S,kS0:()=>fc,QTQ:()=>Bg,bIt:()=>RT,lsd:()=>oD,XpG:()=>zA,nI1:()=>VD,bMT:()=>UD,i5U:()=>BD,SdG:()=>KA,NAR:()=>GA,Y8G:()=>mT,sMw:()=>xD,mGM:()=>sD,Njj:()=>Fl,tSv:()=>My,eBV:()=>eh,n$t:()=>Bi,xc7:()=>_T,DNE:()=>tT,EFF:()=>mD,JRh:()=>NT,SpI:()=>rI,Lme:()=>OT,E5c:()=>kT,DH7:()=>wD,mxI:()=>FT,R50:()=>LT,GBs:()=>iD});let U=null,Z=!1,G=1;const Re=Symbol("SIGNAL");function Q(e){const n=U;return U=e,n}const Te={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ue(e){if(Z)throw new Error("");if(null===U)return;U.consumerOnSignalRead(e);const n=U.nextProducerIndex++;Ye(U),n<U.producerNode.length&&U.producerNode[n]!==e&&at(U)&&Le(U.producerNode[n],U.producerIndexOfThis[n]),U.producerNode[n]!==e&&(U.producerNode[n]=e,U.producerIndexOfThis[n]=at(U)?Ke(e,U,n):0),U.producerLastReadVersion[n]=e.version}function pe(e){if((!at(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==G)){if(!e.producerMustRecompute(e)&&!At(e))return e.dirty=!1,void(e.lastCleanEpoch=G);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=G}}function xe(e){if(void 0===e.liveConsumerNode)return;const n=Z;Z=!0;try{for(const i of e.liveConsumerNode)i.dirty||yt(i)}finally{Z=n}}function nt(){return!1!==U?.consumerAllowSignalWrites}function yt(e){e.dirty=!0,xe(e),e.consumerMarkedDirty?.(e)}function it(e){return e&&(e.nextProducerIndex=0),Q(e)}function He(e,n){if(Q(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(at(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)Le(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function At(e){Ye(e);for(let n=0;n<e.producerNode.length;n++){const i=e.producerNode[n],s=e.producerLastReadVersion[n];if(s!==i.version||(pe(i),s!==i.version))return!0}return!1}function Pt(e){if(Ye(e),at(e))for(let n=0;n<e.producerNode.length;n++)Le(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ke(e,n,i){if(Ze(e),0===e.liveConsumerNode.length&&Dt(e))for(let s=0;s<e.producerNode.length;s++)e.producerIndexOfThis[s]=Ke(e.producerNode[s],e,s);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(n)-1}function Le(e,n){if(Ze(e),1===e.liveConsumerNode.length&&Dt(e))for(let s=0;s<e.producerNode.length;s++)Le(e.producerNode[s],e.producerIndexOfThis[s]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const s=e.liveConsumerIndexOfThis[n],c=e.liveConsumerNode[n];Ye(c),c.producerIndexOfThis[s]=n}}function at(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ye(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Ze(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Dt(e){return void 0!==e.producerNode}const We=Symbol("UNSET"),bt=Symbol("COMPUTING"),ze=Symbol("ERRORED"),Mt={...Te,value:We,dirty:!0,error:null,equal:l,producerMustRecompute:e=>e.value===We||e.value===bt,producerRecomputeValue(e){if(e.value===bt)throw new Error("Detected cycle in computations.");const n=e.value;e.value=bt;const i=it(e);let s;try{s=e.computation()}catch(c){s=ze,e.error=c}finally{He(e,i)}n!==We&&n!==ze&&s!==ze&&e.equal(n,s)?e.value=n:(e.value=s,e.version++)}};let cn=function kt(){throw new Error};function qe(){cn()}let Ie=null;function ot(e,n){nt()||qe(),e.equal(e.value,n)||(e.value=n,function fe(e){e.version++,function Ne(){G++}(),xe(e),Ie?.()}(e))}const Ct={...Te,equal:l,value:void 0};var Vn=N(4412),Gn=N(1413),Nn=N(8359),xn=N(6354);const Xn="https://g.co/ng/security#xss";class mt extends Error{constructor(n,i){super(Gt(n,i)),this.code=n}}function Gt(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}function Hn(e){return{toString:e}.toString()}const Rr="__parameters__";function Qr(e,n,i){return Hn(()=>{const s=function Or(e){return function(...i){if(e){const s=e(...i);for(const c in s)this[c]=s[c]}}}(n);function c(...f){if(this instanceof c)return s.apply(this,f),this;const y=new c(...f);return w.annotation=y,w;function w(x,W,re){const Oe=x.hasOwnProperty(Rr)?x[Rr]:Object.defineProperty(x,Rr,{value:[]})[Rr];for(;Oe.length<=re;)Oe.push(null);return(Oe[re]=Oe[re]||[]).push(y),x}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=e,c.annotationCls=c,c})}const pr=globalThis;function Pr(e){for(let n in e)if(e[n]===Pr)return n;throw Error("Could not find renamed property on target object.")}function pi(e,n){for(const i in n)n.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=n[i])}function gr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(gr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function bi(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Ai=Pr({__forward_ref__:Pr});function jt(e){return e.__forward_ref__=jt,e.toString=function(){return gr(this())},e}function ht(e){return rt(e)?e():e}function rt(e){return"function"==typeof e&&e.hasOwnProperty(Ai)&&e.__forward_ref__===jt}function Ar(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ti(e){return{providers:e.providers||[],imports:e.imports||[]}}function $i(e){return ae(e,J)||ae(e,pt)}function zt(e){return null!==$i(e)}function ae(e,n){return e.hasOwnProperty(n)?e[n]:null}function ie(e){return e&&(e.hasOwnProperty(Ve)||e.hasOwnProperty(an))?e[Ve]:null}const J=Pr({\u0275prov:Pr}),Ve=Pr({\u0275inj:Pr}),pt=Pr({ngInjectableDef:Pr}),an=Pr({ngInjectorDef:Pr});class Qt{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Ar({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function kn(e){return e&&!!e.\u0275providers}const Lr=Pr({\u0275cmp:Pr}),Tn=Pr({\u0275dir:Pr}),Lt=Pr({\u0275pipe:Pr}),on=Pr({\u0275mod:Pr}),ar=Pr({\u0275fac:Pr}),oi=Pr({__NG_ELEMENT_ID__:Pr}),ts=Pr({__NG_ENV_ID__:Pr});function he(e){return"string"==typeof e?e:null==e?"":String(e)}function Cr(e,n){throw new mt(-201,!1)}var Pn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Pn||{});let tr;function Br(){return tr}function hs(e){const n=tr;return tr=e,n}function Ri(e,n,i){const s=$i(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&Pn.Optional?null:void 0!==n?n:void Cr()}const ur={},zr="__NG_DI_FLAG__",Xr="ngTempTokenPath",zi=/\n/gm,Ts="__source";let uo;function ce(e){const n=uo;return uo=e,n}function O(e,n=Pn.Default){if(void 0===uo)throw new mt(-203,!1);return null===uo?Ri(e,void 0,n):uo.get(e,n&Pn.Optional?null:void 0,n)}function S(e,n=Pn.Default){return(Br()||O)(ht(e),n)}function Fe(e,n=Pn.Default){return S(e,Zt(n))}function Zt(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function un(e){const n=[];for(let i=0;i<e.length;i++){const s=ht(e[i]);if(Array.isArray(s)){if(0===s.length)throw new mt(900,!1);let c,f=Pn.Default;for(let y=0;y<s.length;y++){const w=s[y],x=fn(w);"number"==typeof x?-1===x?c=w.token:f|=x:c=w}n.push(S(c,f))}else n.push(S(s))}return n}function gn(e,n){return e[zr]=n,e.prototype[zr]=n,e}function fn(e){return e[zr]}const lr=gn(Qr("Optional"),8),Li=gn(Qr("SkipSelf"),4);function qr(e,n){return e.hasOwnProperty(ar)?e[ar]:null}function Ei(e,n){e.forEach(i=>Array.isArray(i)?Ei(i,n):n(i))}function ho(e,n,i){n>=e.length?e.push(i):e.splice(n,0,i)}function Sa(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function ui(e,n,i){let s=Ls(e,n);return s>=0?e[1|s]=i:(s=~s,function Zo(e,n,i,s){let c=e.length;if(c==n)e.push(i,s);else if(1===c)e.push(s,e[0]),e[0]=i;else{for(c--,e.push(e[c-1],e[c]);c>n;)e[c]=e[c-2],c--;e[n]=i,e[n+1]=s}}(e,s,n,i)),s}function fa(e,n){const i=Ls(e,n);if(i>=0)return e[1|i]}function Ls(e,n){return function pa(e,n,i){let s=0,c=e.length>>i;for(;c!==s;){const f=s+(c-s>>1),y=e[f<<i];if(n===y)return f<<i;y>n?c=f:s=f+1}return~(c<<i)}(e,n,1)}const Fs={},wr=[],eo=new Qt(""),Wa=new Qt("",-1),to=new Qt("");class za{get(n,i=ur){if(i===ur){const s=new Error(`NullInjectorError: No provider for ${gr(n)}!`);throw s.name="NullInjectorError",s}return i}}var Vs=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Vs||{}),ps=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ps||{}),Ks=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ks||{});function Zr(e,n,i){let s=e.length;for(;;){const c=e.indexOf(n,i);if(-1===c)return c;if(0===c||e.charCodeAt(c-1)<=32){const f=n.length;if(c+f===s||e.charCodeAt(c+f)<=32)return c}i=c+1}}function Cs(e,n,i){let s=0;for(;s<i.length;){const c=i[s];if("number"==typeof c){if(0!==c)break;s++;const f=i[s++],y=i[s++],w=i[s++];e.setAttribute(n,y,w,f)}else{const f=c,y=i[++s];Yc(f)?e.setProperty(n,f,y):e.setAttribute(n,f,y),s++}}return s}function Fo(e){return 3===e||4===e||6===e}function Yc(e){return 64===e.charCodeAt(0)}function ji(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const c=n[s];"number"==typeof c?i=c:0===i||Ra(e,i,c,null,-1===i||2===i?n[++s]:null)}}return e}function Ra(e,n,i,s,c){let f=0,y=e.length;if(-1===n)y=-1;else for(;f<e.length;){const w=e[f++];if("number"==typeof w){if(w===n){y=-1;break}if(w>n){y=f-1;break}}}for(;f<e.length;){const w=e[f];if("number"==typeof w)break;if(w===i){if(null===s)return void(null!==c&&(e[f+1]=c));if(s===e[f+1])return void(e[f+2]=c)}f++,null!==s&&f++,null!==c&&f++}-1!==y&&(e.splice(y,0,n),f=y+1),e.splice(f++,0,i),null!==s&&e.splice(f++,0,s),null!==c&&e.splice(f++,0,c)}const Gl="ng-template";function Kl(e,n,i,s){let c=0;if(s){for(;c<n.length&&"string"==typeof n[c];c+=2)if("class"===n[c]&&-1!==Zr(n[c+1].toLowerCase(),i,0))return!0}else if(Pa(e))return!1;if(c=n.indexOf(1,c),c>-1){let f;for(;++c<n.length&&"string"==typeof(f=n[c]);)if(f.toLowerCase()===i)return!0}return!1}function Pa(e){return 4===e.type&&e.value!==Gl}function Vo(e,n,i){return n===(4!==e.type||i?e.value:Gl)}function Y(e,n,i){let s=4;const c=e.attrs,f=null!==c?function Dr(e){for(let n=0;n<e.length;n++)if(Fo(e[n]))return n;return e.length}(c):0;let y=!1;for(let w=0;w<n.length;w++){const x=n[w];if("number"!=typeof x){if(!y)if(4&s){if(s=2|1&s,""!==x&&!Vo(e,x,i)||""===x&&1===n.length){if(ee(s))return!1;y=!0}}else if(8&s){if(null===c||!Kl(e,c,x,i)){if(ee(s))return!1;y=!0}}else{const W=n[++w],re=B(x,c,Pa(e),i);if(-1===re){if(ee(s))return!1;y=!0;continue}if(""!==W){let Oe;if(Oe=re>f?"":c[re+1].toLowerCase(),2&s&&W!==Oe){if(ee(s))return!1;y=!0}}}}else{if(!y&&!ee(s)&&!ee(x))return!1;if(y&&ee(x))continue;y=!1,s=x|1&s}}return ee(s)||y}function ee(e){return!(1&e)}function B(e,n,i,s){if(null===n)return-1;let c=0;if(s||!i){let f=!1;for(;c<n.length;){const y=n[c];if(y===e)return c;if(3===y||6===y)f=!0;else{if(1===y||2===y){let w=n[++c];for(;"string"==typeof w;)w=n[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=f?1:2}return-1}return function br(e,n){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const s=e[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,e)}function we(e,n,i=!1){for(let s=0;s<n.length;s++)if(Y(e,n[s],i))return!0;return!1}function yo(e,n){e:for(let i=0;i<n.length;i++){const s=n[i];if(e.length===s.length){for(let c=0;c<e.length;c++)if(e[c]!==s[c])continue e;return!0}}return!1}function Us(e,n){return e?":not("+n.trim()+")":n}function Ga(e){let n=e[0],i=1,s=2,c="",f=!1;for(;i<e.length;){let y=e[i];if("string"==typeof y)if(2&s){const w=e[++i];c+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&s?c+="."+y:4&s&&(c+=" "+y);else""!==c&&!ee(y)&&(n+=Us(f,c),c=""),s=y,f=f||!ee(s);i++}return""!==c&&(n+=Us(f,c)),n}function ea(e){return Hn(()=>{const n=Po(e),i={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Vs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ps.Emulated,styles:e.styles||wr,_:null,schemas:e.schemas||null,tView:null,id:""};ta(i);const s=e.dependencies;return i.directiveDefs=Ma(s,!1),i.pipeDefs=Ma(s,!0),i.id=function Jc(e){let n=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const c of i)n=Math.imul(31,n)+c.charCodeAt(0)|0;return n+=2147483648,"c"+n}(i),i})}function ws(e){return ni(e)||Yr(e)}function Pi(e){return null!==e}function Ro(e){return Hn(()=>({type:e.type,bootstrap:e.bootstrap||wr,declarations:e.declarations||wr,imports:e.imports||wr,exports:e.exports||wr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Bs(e,n){if(null==e)return Fs;const i={};for(const s in e)if(e.hasOwnProperty(s)){const c=e[s];let f,y,w=Ks.None;Array.isArray(c)?(w=c[0],f=c[1],y=c[2]??f):(f=c,y=c),n?(i[f]=w!==Ks.None?[s,w]:s,n[f]=y):i[f]=s}return i}function Ms(e){return Hn(()=>{const n=Po(e);return ta(n),n})}function gl(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ni(e){return e[Lr]||null}function Yr(e){return e[Tn]||null}function as(e){return e[Lt]||null}function bs(e){const n=ni(e)||Yr(e)||as(e);return null!==n&&n.standalone}function ai(e,n){const i=e[on]||null;if(!i&&!0===n)throw new Error(`Type ${gr(e)} does not have '\u0275mod' property.`);return i}function Po(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Fs,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||wr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bs(e.inputs,n),outputs:Bs(e.outputs),debugInfo:null}}function ta(e){e.features?.forEach(n=>n(e))}function Ma(e,n){if(!e)return null;const i=n?as:ws;return()=>("function"==typeof e?e():e).map(s=>i(s)).filter(Pi)}function Ki(e){return{\u0275providers:e}}function Eo(...e){return{\u0275providers:ga(0,e),\u0275fromNgModule:!0}}function ga(e,...n){const i=[],s=new Set;let c;const f=y=>{i.push(y)};return Ei(n,y=>{const w=y;$s(w,f,[],s)&&(c||=[],c.push(w))}),void 0!==c&&na(c,f),i}function na(e,n){for(let i=0;i<e.length;i++){const{ngModule:s,providers:c}=e[i];js(c,f=>{n(f,s)})}}function $s(e,n,i,s){if(!(e=ht(e)))return!1;let c=null,f=ie(e);const y=!f&&ni(e);if(f||y){if(y&&!y.standalone)return!1;c=e}else{const x=e.ngModule;if(f=ie(x),!f)return!1;c=x}const w=s.has(c);if(y){if(w)return!1;if(s.add(c),y.dependencies){const x="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const W of x)$s(W,n,i,s)}}else{if(!f)return!1;{if(null!=f.imports&&!w){let W;s.add(c);try{Ei(f.imports,re=>{$s(re,n,i,s)&&(W||=[],W.push(re))})}finally{}void 0!==W&&na(W,n)}if(!w){const W=qr(c)||(()=>new c);n({provide:c,useFactory:W,deps:wr},c),n({provide:to,useValue:c,multi:!0},c),n({provide:eo,useValue:()=>S(c),multi:!0},c)}const x=f.providers;if(null!=x&&!w){const W=e;js(x,re=>{n(re,W)})}}}return c!==e&&void 0!==e.providers}function js(e,n){for(let i of e)kn(i)&&(i=i.\u0275providers),Array.isArray(i)?js(i,n):n(i)}const ml=Pr({provide:String,useValue:Pr});function ra(e){return null!==e&&"object"==typeof e&&ml in e}function no(e){return"function"==typeof e}const Dl=new Qt(""),Mo={},qa={};let Qa;function va(){return void 0===Qa&&(Qa=new za),Qa}class cs{}class Io extends cs{get destroyed(){return this._destroyed}constructor(n,i,s,c){super(),this.parent=i,this.source=s,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ki(n,y=>this.processProvider(y)),this.records.set(Wa,xo(void 0,this)),c.has("environment")&&this.records.set(cs,xo(void 0,this));const f=this.records.get(Dl);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(to,wr,Pn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=Q(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=ce(this),s=hs(void 0);try{return n()}finally{ce(i),hs(s)}}get(n,i=ur,s=Pn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ts))return n[ts](this);s=Zt(s);const f=ce(this),y=hs(void 0);try{if(!(s&Pn.SkipSelf)){let x=this.records.get(n);if(void 0===x){const W=function xa(e){return"function"==typeof e||"object"==typeof e&&e instanceof Qt}(n)&&$i(n);x=W&&this.injectableDefInScope(W)?xo(vl(n),Mo):null,this.records.set(n,x)}if(null!=x)return this.hydrate(n,x)}return(s&Pn.Self?va():this.parent).get(n,i=s&Pn.Optional&&i===ur?null:i)}catch(w){if("NullInjectorError"===w.name){if((w[Xr]=w[Xr]||[]).unshift(gr(n)),f)throw w;return function jn(e,n,i,s){const c=e[Xr];throw n[Ts]&&c.unshift(n[Ts]),e.message=function et(e,n,i,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let c=gr(n);if(Array.isArray(n))c=n.map(gr).join(" -> ");else if("object"==typeof n){let f=[];for(let y in n)if(n.hasOwnProperty(y)){let w=n[y];f.push(y+":"+("string"==typeof w?JSON.stringify(w):gr(w)))}c=`{${f.join(", ")}}`}return`${i}${s?"("+s+")":""}[${c}]: ${e.replace(zi,"\n  ")}`}("\n"+e.message,c,i,s),e.ngTokenPath=c,e[Xr]=null,e}(w,n,"R3InjectorError",this.source)}throw w}finally{hs(y),ce(f)}}resolveInjectorInitializers(){const n=Q(null),i=ce(this),s=hs(void 0);try{const f=this.get(eo,wr,Pn.Self);for(const y of f)y()}finally{ce(i),hs(s),Q(n)}}toString(){const n=[],i=this.records;for(const s of i.keys())n.push(gr(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new mt(205,!1)}processProvider(n){let i=no(n=ht(n))?n:ht(n&&n.provide);const s=function Hs(e){return ra(e)?xo(void 0,e.useValue):xo(_l(e),Mo)}(n);if(!no(n)&&!0===n.multi){let c=this.records.get(i);c||(c=xo(void 0,Mo,!0),c.factory=()=>un(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,s)}hydrate(n,i){const s=Q(null);try{return i.value===Mo&&(i.value=qa,i.value=i.factory()),"object"==typeof i.value&&i.value&&function ys(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{Q(s)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=ht(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function vl(e){const n=$i(e),i=null!==n?n.factory:qr(e);if(null!==i)return i;if(e instanceof Qt)throw new mt(204,!1);if(e instanceof Function)return function Ji(e){if(e.length>0)throw new mt(204,!1);const i=function _e(e){return e&&(e[J]||e[pt])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new mt(204,!1)}function _l(e,n,i){let s;if(no(e)){const c=ht(e);return qr(c)||vl(c)}if(ra(e))s=()=>ht(e.useValue);else if(function wc(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...un(e.deps||[]));else if(function ia(e){return!(!e||!e.useExisting)}(e))s=()=>S(ht(e.useExisting));else{const c=ht(e&&(e.useClass||e.provide));if(!function Ya(e){return!!e.deps}(e))return qr(c)||vl(c);s=()=>new c(...un(e.deps))}return s}function xo(e,n,i=!1){return{factory:e,value:n,multi:i?[]:void 0}}function ki(e,n){for(const i of e)Array.isArray(i)?ki(i,n):i&&kn(i)?ki(i.\u0275providers,n):n(i)}function ro(e,n){e instanceof Io&&e.assertNotDestroyed();const s=ce(e),c=hs(void 0);try{return n()}finally{ce(s),hs(c)}}function To(){return void 0!==Br()||null!=function C(){return uo}()}const $r=0,Rn=1,sr=2,vi=3,Es=4,Hi=5,xs=6,Ws=7,di=8,Yi=9,fo=10,jr=11,_a=12,Ql=13,po=14,rs=15,As=16,Sl=17,Na=18,go=19,io=20,Xs=21,Yl=22,so=23,yr=25,Rl=1,mo=7,Jl=9,gs=10;var Iu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Iu||{});function Zi(e){return Array.isArray(e)&&"object"==typeof e[Rl]}function oo(e){return Array.isArray(e)&&!0===e[Rl]}function vo(e){return!!(4&e.flags)}function Bo(e){return e.componentOffset>-1}function Ja(e){return!(1&~e.flags)}function ao(e){return!!e.template}function Ns(e){return!!(512&e[sr])}class ls{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function Mi(e,n,i,s){null!==n?n.applyValueToInputSignal(n,s):e[i]=s}function ms(){return $o}function $o(e){return e.type.prototype.ngOnChanges&&(e.setInput=Za),sa}function sa(){const e=Ml(this),n=e?.current;if(n){const i=e.previous;if(i===Fs)e.previous=n;else for(let s in n)i[s]=n[s];e.current=null,this.ngOnChanges(n)}}function Za(e,n,i,s,c){const f=this.declaredInputs[s],y=Ml(e)||function bc(e,n){return e[el]=n}(e,{previous:Fs,current:null}),w=y.current||(y.current={}),x=y.previous,W=x[f];w[f]=new ls(W&&W.currentValue,i,x===Fs),Mi(e,n,c,i)}ms.ngInherit=!0;const el="__ngSimpleChanges__";function Ml(e){return e[el]||null}const oa=function(e,n,i){};function Ci(e){for(;Array.isArray(e);)e=e[$r];return e}function ya(e,n){return Ci(n[e])}function Ds(e,n){return Ci(n[e.index])}function nu(e,n){return e.data[n]}function Ac(e,n){return e[n]}function Xi(e,n){const i=n[e];return Zi(i)?i:i[$r]}function Dc(e){return!(128&~e[sr])}function No(e,n){return null==n?null:e[n]}function Tu(e){e[Sl]=0}function $h(e){1024&e[sr]||(e[sr]|=1024,Dc(e)&&ka(e))}function Sc(e){return!!(9216&e[sr]||e[so]?.dirty)}function Ol(e){e[fo].changeDetectionScheduler?.notify(8),64&e[sr]&&(e[sr]|=1024),Sc(e)&&ka(e)}function ka(e){e[fo].changeDetectionScheduler?.notify(0);let n=aa(e);for(;null!==n&&!(8192&n[sr])&&(n[sr]|=8192,Dc(n));)n=aa(n)}function nl(e,n){if(!(256&~e[sr]))throw new mt(911,!1);null===e[Xs]&&(e[Xs]=[]),e[Xs].push(n)}function aa(e){const n=e[vi];return oo(n)?n[vi]:n}const ei={lFrame:nh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Cu=!1;function Hh(){return ei.bindingsEnabled}function Pc(){return null!==ei.skipHydrationRootTNode}function ln(){return ei.lFrame.lView}function ii(){return ei.lFrame.tView}function eh(e){return ei.lFrame.contextLView=e,e[di]}function Fl(e){return ei.lFrame.contextLView=null,e}function hi(){let e=Vl();for(;null!==e&&64===e.type;)e=e.parent;return e}function Vl(){return ei.lFrame.currentTNode}function jo(e,n){const i=ei.lFrame;i.currentTNode=e,i.isParent=n}function Ho(){return ei.lFrame.isParent}function iu(){ei.lFrame.isParent=!1}function xc(){return Cu}function Wh(e){Cu=e}function bo(){const e=ei.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function La(){return ei.lFrame.bindingIndex}function Fa(){return ei.lFrame.bindingIndex++}function Tl(e){const n=ei.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,i}function bu(e,n){const i=ei.lFrame;i.bindingIndex=i.bindingRootIndex=e,Va(n)}function Va(e){ei.lFrame.currentDirectiveIndex=e}function dd(){return ei.lFrame.currentQueryIndex}function su(e){ei.lFrame.currentQueryIndex=e}function zh(e){const n=e[Rn];return 2===n.type?n.declTNode:1===n.type?e[Hi]:null}function Cl(e,n,i){if(i&Pn.SkipSelf){let c=n,f=e;for(;!(c=c.parent,null!==c||i&Pn.Host||(c=zh(f),null===c||(f=f[po],10&c.type))););if(null===c)return!1;n=c,e=f}const s=ei.lFrame=Au();return s.currentTNode=n,s.lView=e,!0}function hd(e){const n=Au(),i=e[Rn];ei.lFrame=n,n.currentTNode=i.firstChild,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Au(){const e=ei.lFrame,n=null===e?null:e.child;return null===n?nh(e):n}function nh(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Du(){const e=ei.lFrame;return ei.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const rc=Du;function sl(){const e=Du();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Os(){return ei.lFrame.selectedIndex}function Ea(e){ei.lFrame.selectedIndex=e}function Ui(){const e=ei.lFrame;return nu(e.tView,e.selectedIndex)}let sh=!0;function ol(){return sh}function Wo(e){sh=e}function la(e,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const f=e.data[i].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:x,ngAfterViewChecked:W,ngOnDestroy:re}=f;y&&(e.contentHooks??=[]).push(-i,y),w&&((e.contentHooks??=[]).push(i,w),(e.contentCheckHooks??=[]).push(i,w)),x&&(e.viewHooks??=[]).push(-i,x),W&&((e.viewHooks??=[]).push(i,W),(e.viewCheckHooks??=[]).push(i,W)),null!=re&&(e.destroyHooks??=[]).push(i,re)}}function sc(e,n,i){pd(e,n,3,i)}function Oc(e,n,i,s){(3&e[sr])===i&&pd(e,n,i,s)}function Gh(e,n){let i=e[sr];(3&i)===n&&(i&=16383,i+=1,e[sr]=i)}function pd(e,n,i,s){const f=s??-1,y=n.length-1;let w=0;for(let x=void 0!==s?65535&e[Sl]:0;x<y;x++)if("number"==typeof n[x+1]){if(w=n[x],null!=s&&w>=s)break}else n[x]<0&&(e[Sl]+=65536),(w<f||-1==f)&&(oc(e,i,n,x),e[Sl]=(4294901760&e[Sl])+x+2),x++}function Ru(e,n){oa(4,e,n);const i=Q(null);try{n.call(e)}finally{Q(i),oa(5,e,n)}}function oc(e,n,i,s){const c=i[s]<0,f=i[s+1],w=e[c?-i[s]:i[s]];c?e[sr]>>14<e[Sl]>>16&&(3&e[sr])===n&&(e[sr]+=16384,Ru(w,f)):Ru(w,f)}const ca=-1;class Ia{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}const ko={};class qs{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){s=Zt(s);const c=this.injector.get(n,ko,s);return c!==ko||i===ko?c:this.parentInjector.get(n,i,s)}}function Lc(e){return e!==ca}function ou(e){return 32767&e}function Fc(e,n){let i=function al(e){return e>>16}(e),s=n;for(;i>0;)s=s[po],i--;return s}let md=!0;function ll(e){const n=md;return md=e,n}const Vc=255,ch=5;let vd=0;const is={};function cl(e,n){const i=_d(e,n);if(-1!==i)return i;const s=n[Rn];s.firstCreatePass&&(e.injectorIndex=n.length,lc(s.data,e),lc(n,null),lc(s.blueprint,null));const c=Ta(e,n),f=e.injectorIndex;if(Lc(c)){const y=ou(c),w=Fc(c,n),x=w[Rn].data;for(let W=0;W<8;W++)n[f+W]=w[y+W]|x[y+W]}return n[f+8]=c,f}function lc(e,n){e.push(0,0,0,0,0,0,0,0,n)}function _d(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Ta(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,s=null,c=n;for(;null!==c;){if(s=hc(c),null===s)return ca;if(i++,c=c[po],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return ca}function ul(e,n,i){!function xu(e,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(oi)&&(s=i[oi]),null==s&&(s=i[oi]=vd++);const c=s&Vc;n.data[e+(c>>ch)]|=1<<c}(e,n,i)}function Ul(e,n,i){if(i&Pn.Optional||void 0!==e)return e;Cr()}function ua(e,n,i,s){if(i&Pn.Optional&&void 0===s&&(s=null),!(i&(Pn.Self|Pn.Host))){const c=e[Yi],f=hs(void 0);try{return c?c.get(n,s,i&Pn.Optional):Ri(n,s,i&Pn.Optional)}finally{hs(f)}}return Ul(s,0,i)}function bl(e,n,i,s=Pn.Default,c){if(null!==e){if(2048&n[sr]&&!(s&Pn.Self)){const y=function fh(e,n,i,s,c){let f=e,y=n;for(;null!==f&&null!==y&&2048&y[sr]&&!(512&y[sr]);){const w=dh(f,y,i,s|Pn.Self,is);if(w!==is)return w;let x=f.parent;if(!x){const W=y[io];if(W){const re=W.get(i,is,s);if(re!==is)return re}x=hc(y),y=y[po]}f=x}return c}(e,n,i,s,is);if(y!==is)return y}const f=dh(e,n,i,s,is);if(f!==is)return f}return ua(n,i,s,c)}function dh(e,n,i,s,c){const f=function Xh(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(oi)?e[oi]:void 0;return"number"==typeof n?n>=0?n&Vc:Yf:n}(i);if("function"==typeof f){if(!Cl(n,e,s))return s&Pn.Host?Ul(c,0,s):ua(n,i,s,c);try{let y;if(y=f(s),null!=y||s&Pn.Optional)return y;Cr()}finally{rc()}}else if("number"==typeof f){let y=null,w=_d(e,n),x=ca,W=s&Pn.Host?n[rs][Hi]:null;for((-1===w||s&Pn.SkipSelf)&&(x=-1===w?Ta(e,n):n[w+8],x!==ca&&yd(s,!1)?(y=n[Rn],w=ou(x),n=Fc(x,n)):w=-1);-1!==w;){const re=n[Rn];if(qh(f,w,re.data)){const Oe=cc(w,n,i,y,s,W);if(Oe!==is)return Oe}x=n[w+8],x!==ca&&yd(s,n[Rn].data[w+8]===W)&&qh(f,w,n)?(y=re,w=ou(x),n=Fc(x,n)):w=-1}}return c}function cc(e,n,i,s,c,f){const y=n[Rn],w=y.data[e+8],re=uc(w,y,i,null==s?Bo(w)&&md:s!=y&&!!(3&w.type),c&Pn.Host&&f===w);return null!==re?dc(n,y,re,w):is}function uc(e,n,i,s,c){const f=e.providerIndexes,y=n.data,w=1048575&f,x=e.directiveStart,re=f>>20,lt=c?w+re:e.directiveEnd;for(let wt=s?w:w+re;wt<lt;wt++){const Bt=y[wt];if(wt<x&&i===Bt||wt>=x&&Bt.type===i)return wt}if(c){const wt=y[x];if(wt&&ao(wt)&&wt.type===i)return x}return null}function dc(e,n,i,s){let c=e[i];const f=n.data;if(function ah(e){return e instanceof Ia}(c)){const y=c;y.resolving&&function wn(e,n){throw n&&n.join(" > "),new mt(-200,e)}(function ye(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():he(e)}(f[i]));const w=ll(y.canSeeViewProviders);y.resolving=!0;const W=y.injectImpl?hs(y.injectImpl):null;Cl(e,s,Pn.Default);try{c=e[i]=y.factory(void 0,f,e,s),n.firstCreatePass&&i>=s.directiveStart&&function oh(e,n,i){const{ngOnChanges:s,ngOnInit:c,ngDoCheck:f}=n.type.prototype;if(s){const y=$o(n);(i.preOrderHooks??=[]).push(e,y),(i.preOrderCheckHooks??=[]).push(e,y)}c&&(i.preOrderHooks??=[]).push(0-e,c),f&&((i.preOrderHooks??=[]).push(e,f),(i.preOrderCheckHooks??=[]).push(e,f))}(i,f[i],n)}finally{null!==W&&hs(W),ll(w),y.resolving=!1,rc()}}return c}function qh(e,n,i){return!!(i[n+(e>>ch)]&1<<e)}function yd(e,n){return!(e&Pn.Self||e&Pn.Host&&n)}class Qs{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return bl(this._tNode,this._lView,n,Zt(s),i)}}function Yf(){return new Qs(hi(),ln())}function Uc(e){return Hn(()=>{const n=e.prototype.constructor,i=n[ar]||hh(n),s=Object.prototype;let c=Object.getPrototypeOf(e.prototype).constructor;for(;c&&c!==s;){const f=c[ar]||hh(c);if(f&&f!==i)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function hh(e){return rt(e)?()=>{const n=hh(ht(e));return n&&n()}:qr(e)}function hc(e){const n=e[Rn],i=n.type;return 2===i?n.declTNode:1===i?e[Hi]:null}function fc(e){return function uh(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const i=e.attrs;if(i){const s=i.length;let c=0;for(;c<s;){const f=i[c];if(Fo(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<s&&"string"==typeof i[c];)c++;else{if(f===n)return i[c+1];c+=2}}}return null}(hi(),e)}function Cd(e,n=null,i=null,s){const c=cu(e,n,i,s);return c.resolveInjectorInitializers(),c}function cu(e,n=null,i=null,s,c=new Set){const f=[i||wr,Eo(e)];return s=s||("object"==typeof e?void 0:gr(e)),new Io(f,n||va(),s||null,c)}class Js{static{this.THROW_IF_NOT_FOUND=ur}static{this.NULL=new za}static create(n,i){if(Array.isArray(n))return Cd({name:""},i,n,"");{const s=n.name??"";return Cd({name:s},n.parent,n.providers,s)}}static{this.\u0275prov=Ar({token:Js,providedIn:"any",factory:()=>S(Wa)})}static{this.__NG_ELEMENT_ID__=-1}}new Qt("").__NG_ELEMENT_ID__=e=>{const n=hi();if(null===n)throw new mt(204,!1);if(2&n.type)return n.value;if(e&Pn.Optional)return null;throw new mt(204,!1)};function uu(e){return e.ngOriginalError}const Nu=!0;let Zs=(()=>{class e{static{this.__NG_ELEMENT_ID__=Dd}static{this.__NG_ENV_ID__=i=>i}}return e})();class gh extends Zs{constructor(n){super(),this._lView=n}onDestroy(n){return nl(this._lView,n),()=>function wo(e,n){if(null===e[Xs])return;const i=e[Xs].indexOf(n);-1!==i&&e[Xs].splice(i,1)}(this._lView,n)}}function Dd(){return new gh(ln())}let jc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Vn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Ar({token:e,providedIn:"root",factory:()=>new e})}}return e})();const Ba=class Ou extends Gn.B{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,To()&&(this.destroyRef=Fe(Zs,{optional:!0})??void 0,this.pendingTasks=Fe(jc,{optional:!0})??void 0)}emit(n){const i=Q(null);try{super.next(n)}finally{Q(i)}}subscribe(n,i,s){let c=n,f=i||(()=>null),y=s;if(n&&"object"==typeof n){const x=n;c=x.next?.bind(x),f=x.error?.bind(x),y=x.complete?.bind(x)}this.__isAsync&&(f=this.wrapInTimeout(f),c&&(c=this.wrapInTimeout(c)),y&&(y=this.wrapInTimeout(y)));const w=super.subscribe({next:c,error:f,complete:y});return n instanceof Nn.yU&&n.add(w),w}wrapInTimeout(n){return i=>{const s=this.pendingTasks?.add();setTimeout(()=>{n(i),void 0!==s&&this.pendingTasks?.remove(s)})}}};function Sd(...e){}function mh(e){let n,i;function s(){e=Sd;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),s()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{e(),s()})),()=>s()}function Rd(e){return queueMicrotask(()=>e()),()=>{e=Sd}}const Pd="isAngularZone",jl=Pd+"_ID";let du=0;class T{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ba(!1),this.onMicrotaskEmpty=new Ba(!1),this.onStable=new Ba(!1),this.onError=new Ba(!1);const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1,scheduleInRootZone:f=Nu}=n;if(typeof Zone>"u")throw new mt(908,!1);Zone.assertZonePatched();const y=this;y._nesting=0,y._outer=y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!c&&s,y.shouldCoalesceRunChangeDetection=c,y.callbackScheduled=!1,y.scheduleInRootZone=f,function z(e){const n=()=>{!function b(e){function n(){mh(()=>{e.callbackScheduled=!1,me(e),e.isCheckStableRunning=!0,v(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),me(e))}(e)},i=du++;e._inner=e._inner.fork({name:"angular",properties:{[Pd]:!0,[jl]:i,[jl+i]:!0},onInvokeTask:(s,c,f,y,w,x)=>{if(function nr(e){return hr(e,"__ignore_ng_zone__")}(x))return s.invokeTask(f,y,w,x);try{return ft(e),s.invokeTask(f,y,w,x)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||e.shouldCoalesceRunChangeDetection)&&n(),Ut(e)}},onInvoke:(s,c,f,y,w,x,W)=>{try{return ft(e),s.invoke(f,y,w,x,W)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Ir(e){return hr(e,"__scheduler_tick__")}(x)&&n(),Ut(e)}},onHasTask:(s,c,f,y)=>{s.hasTask(f,y),c===f&&("microTask"==y.change?(e._hasPendingMicrotasks=y.microTask,me(e),v(e)):"macroTask"==y.change&&(e.hasPendingMacrotasks=y.macroTask))},onHandleError:(s,c,f,y)=>(s.handleError(f,y),e.runOutsideAngular(()=>e.onError.emit(y)),!1)})}(y)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Pd)}static assertInAngularZone(){if(!T.isInAngularZone())throw new mt(909,!1)}static assertNotInAngularZone(){if(T.isInAngularZone())throw new mt(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,c){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+c,n,g,Sd,Sd);try{return f.runTask(y,i,s)}finally{f.cancelTask(y)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const g={};function v(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function me(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function ft(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ut(e){e._nesting--,v(e)}class vn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ba,this.onMicrotaskEmpty=new Ba,this.onStable=new Ba,this.onError=new Ba}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,c){return n.apply(i,s)}}function hr(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class Ss{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&uu(n);for(;i&&uu(i);)i=uu(i);return i||null}}const mc=new Qt("",{providedIn:"root",factory:()=>{const e=Fe(T),n=Fe(Ss);return i=>e.runOutsideAngular(()=>n.handleError(i))}});function Lu(){return Al(hi(),ln())}function Al(e,n){return new Hc(Ds(e,n))}let Hc=(()=>{class e{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=Lu}}return e})();function Zh(e){return e instanceof Hc?e.nativeElement:e}function _o(){return this._results[Symbol.iterator]()}class xd{get changes(){return this._changes??=new Ba}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=xd.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=_o)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const s=function Fi(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Ti(e,n,i){if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++){let c=e[s],f=n[s];if(i&&(c=i(c),f=i(f)),f!==c)return!1}return!0}(this._results,s,i))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Fu(e){return!(128&~e.flags)}const tp=new Map;let ig=0;function h(e){tp.delete(e[go])}const Ee="__ngContext__";function tn(e,n){Zi(n)?(e[Ee]=n[go],function p(e){tp.set(e[go],e)}(n)):e[Ee]=n}function sg(e){return Y_(e[_a])}function Q_(e){return Y_(e[Es])}function Y_(e){for(;null!==e&&!oo(e);)e=e[Es];return e}let kd;function sf(e){kd=e}const Uu=new Qt("",{providedIn:"root",factory:()=>wI}),wI="ng",ey=new Qt(""),ip=new Qt("",{providedIn:"platform",factory:()=>"unknown"}),Km=new Qt("",{providedIn:"root",factory:()=>function Vu(){if(void 0!==kd)return kd;if(typeof document<"u")return document;throw new mt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let fg=()=>null;function tv(e,n,i=!1){return fg(e,n,i)}const Eg=new Qt("",{providedIn:"root",factory:()=>!1});let Ig;function lv(e){return function dp(){if(void 0===Ig&&(Ig=null,pr.trustedTypes))try{Ig=pr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ig}()?.createScriptURL(e)||e}class Cg{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xn})`}}function gu(e){return e instanceof Cg?e.changingThisBreaksApplicationSecurity:e}function Ld(e,n){const i=function uv(e){return e instanceof Cg&&e.getTypeName()||null}(e);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Xn})`)}return i===n}const LI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var pf=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(pf||{});function vv(e){const n=$u();return n?n.sanitize(pf.URL,e)||"":Ld(e,"URL")?gu(e):function dv(e){return(e=String(e)).match(LI)?e:"unsafe:"+e}(he(e))}function Pg(e){const n=$u();if(n)return lv(n.sanitize(pf.RESOURCE_URL,e)||"");if(Ld(e,"ResourceURL"))return lv(gu(e));throw new mt(904,!1)}function Bi(e,n,i){return function Mg(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Pg:vv}(n,i)(e)}function $u(){const e=ln();return e&&e[fo].sanitizer}const wy=/^>|^->|<!--|-->|--!>|<!-$/g,wa=/(<|>)/g,zs="\u200b$1\u200b";function My(e){return e.ownerDocument.defaultView}function ba(e){return e instanceof Function?e():e}var _p=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(_p||{});let Ng;function _f(e,n){return Ng(e,n)}function _c(e,n,i,s,c){if(null!=s){let f,y=!1;oo(s)?f=s:Zi(s)&&(y=!0,s=s[$r]);const w=Ci(s);0===e&&null!==i?null==c?wf(n,i,w):Vd(n,i,w,c||null,!0):1===e&&null!==i?Vd(n,i,w,c||null,!0):2===e?function wp(e,n,i){e.removeChild(null,n,i)}(n,w,y):3===e&&n.destroyNode(w),null!=f&&function JI(e,n,i,s,c){const f=i[mo];f!==Ci(i)&&_c(n,e,s,f,c);for(let w=gs;w<i.length;w++){const x=i[w];Fg(x[Rn],x,e,n,s,f)}}(n,e,f,i,c)}}function Og(e,n){return e.createComment(function Gc(e){return e.replace(wy,n=>n.replace(wa,zs))}(n))}function If(e,n,i){return e.createElement(n,i)}function kg(e,n){n[fo].changeDetectionScheduler?.notify(9),Fg(e,n,n[jr],2,null,null)}function wv(e,n){const i=e[Jl],s=n[vi];(Zi(s)||n[rs]!==s[vi][rs])&&(e[sr]|=Iu.HasTransplantedViews),null===i?e[Jl]=[n]:i.push(n)}function ju(e,n){const i=e[Jl],s=i.indexOf(n);i.splice(s,1)}function Tf(e,n){if(e.length<=gs)return;const i=gs+n,s=e[i];if(s){const c=s[As];null!==c&&c!==e&&ju(c,s),n>0&&(e[i-1][Es]=s[Es]);const f=Sa(e,gs+n);!function Ev(e,n){kg(e,n),n[$r]=null,n[Hi]=null}(s[Rn],s);const y=f[Na];null!==y&&y.detachView(f[Rn]),s[vi]=null,s[Es]=null,s[sr]&=-129}return s}function yp(e,n){if(!(256&n[sr])){const i=n[jr];i.destroyNode&&Fg(e,n,i,3,null,null),function Tv(e){let n=e[_a];if(!n)return Ep(e[Rn],e);for(;n;){let i=null;if(Zi(n))i=n[_a];else{const s=n[gs];s&&(i=s)}if(!i){for(;n&&!n[Es]&&n!==e;)Zi(n)&&Ep(n[Rn],n),n=n[vi];null===n&&(n=e),Zi(n)&&Ep(n[Rn],n),i=n&&n[Es]}n=i}}(n)}}function Ep(e,n){if(256&n[sr])return;const i=Q(null);try{n[sr]&=-129,n[sr]|=256,n[so]&&Pt(n[so]),function QI(e,n){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let s=0;s<i.length;s+=2){const c=n[i[s]];if(!(c instanceof Ia)){const f=i[s+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const w=c[f[y]],x=f[y+1];oa(4,w,x);try{x.call(w)}finally{oa(5,w,x)}}else{oa(4,c,f);try{f.call(c)}finally{oa(5,c,f)}}}}}(e,n),function Ip(e,n){const i=e.cleanup,s=n[Ws];if(null!==i)for(let f=0;f<i.length-1;f+=2)if("string"==typeof i[f]){const y=i[f+3];y>=0?s[y]():s[-y].unsubscribe(),f+=2}else i[f].call(s[i[f+1]]);null!==s&&(n[Ws]=null);const c=n[Xs];if(null!==c){n[Xs]=null;for(let f=0;f<c.length;f++)(0,c[f])()}}(e,n),1===n[Rn].type&&n[jr].destroy();const s=n[As];if(null!==s&&oo(n[vi])){s!==n[vi]&&ju(s,n);const c=n[Na];null!==c&&c.detachView(e)}h(n)}finally{Q(i)}}function Cf(e,n,i){return function Tp(e,n,i){let s=n;for(;null!==s&&168&s.type;)s=(n=s).parent;if(null===s)return i[$r];{const{componentOffset:c}=s;if(c>-1){const{encapsulation:f}=e.data[s.directiveStart+c];if(f===ps.None||f===ps.Emulated)return null}return Ds(s,i)}}(e,n.parent,i)}function Vd(e,n,i,s,c){e.insertBefore(n,i,s,c)}function wf(e,n,i){e.appendChild(n,i)}function Oy(e,n,i,s,c){null!==s?Vd(e,n,i,s,c):wf(e,n,i)}function bf(e,n){return e.parentNode(n)}function Lg(e,n,i){return Hu(e,n,i)}let Ah,Hu=function Af(e,n,i){return 40&e.type?Ds(e,i):null};function Wu(e,n,i,s){const c=Cf(e,s,n),f=n[jr],w=Lg(s.parent||n[Hi],s,n);if(null!=c)if(Array.isArray(i))for(let x=0;x<i.length;x++)Oy(f,c,i[x],w,!1);else Oy(f,c,i,w,!1);void 0!==Ah&&Ah(f,s,n,i,c)}function Df(e,n){if(null!==n){const i=n.type;if(3&i)return Ds(n,e);if(4&i)return Cp(-1,e[n.index]);if(8&i){const s=n.child;if(null!==s)return Df(e,s);{const c=e[n.index];return oo(c)?Cp(-1,c):Ci(c)}}if(128&i)return Df(e,n.next);if(32&i)return _f(n,e)()||Ci(e[n.index]);{const s=YI(e,n);return null!==s?Array.isArray(s)?s[0]:Df(aa(e[rs]),s):Df(e,n.next)}}return null}function YI(e,n){return null!==n?e[rs][Hi].projection[n.projection]:null}function Cp(e,n){const i=gs+e+1;if(i<n.length){const s=n[i],c=s[Rn].firstChild;if(null!==c)return Df(s,c)}return n[mo]}function bv(e,n,i,s,c,f,y){for(;null!=i;){if(128===i.type){i=i.next;continue}const w=s[i.index],x=i.type;if(y&&0===n&&(w&&tn(Ci(w),s),i.flags|=2),32&~i.flags)if(8&x)bv(e,n,i.child,s,c,f,!1),_c(n,e,c,w,f);else if(32&x){const W=_f(i,s);let re;for(;re=W();)_c(n,e,c,re,f);_c(n,e,c,w,f)}else 16&x?Fy(e,n,s,i,c,f):_c(n,e,c,w,f);i=y?i.projectionNext:i.next}}function Fg(e,n,i,s,c,f){bv(i,s,e.firstChild,n,c,f,!1)}function Fy(e,n,i,s,c,f){const y=i[rs],x=y[Hi].projection[s.projection];if(Array.isArray(x))for(let W=0;W<x.length;W++)_c(n,e,c,x[W],f);else{let W=x;const re=y[vi];Fu(s)&&(W.flags|=128),bv(e,n,W,re,c,f,!0)}}function Vy(e,n,i){""===i?e.removeAttribute(n,"class"):e.setAttribute(n,"class",i)}function Av(e,n,i){const{mergedAttrs:s,classes:c,styles:f}=i;null!==s&&Cs(e,n,s),null!==c&&Vy(e,n,c),null!==f&&function ZI(e,n,i){e.setAttribute(n,"style",i)}(e,n,f)}const _i={};function Dv(e=1){Sv(ii(),ln(),Os()+e,!1)}function Sv(e,n,i,s){if(!s)if(3&~n[sr]){const f=e.preOrderHooks;null!==f&&Oc(n,f,0,i)}else{const f=e.preOrderCheckHooks;null!==f&&sc(n,f,i)}Ea(i)}function Dh(e,n=Pn.Default){const i=ln();return null===i?S(e,n):bl(hi(),i,ht(e),n)}function Bg(){throw new Error("invalid")}function Ap(e,n,i,s,c,f){const y=Q(null);try{let w=null;c&Ks.SignalBased&&(w=n[s][Re]),null!==w&&void 0!==w.transformFn&&(f=w.transformFn(f)),c&Ks.HasDecoratorInputTransform&&(f=e.inputTransforms[s].call(n,f)),null!==e.setInput?e.setInput(n,w,f,i,s):Mi(n,w,s,f)}finally{Q(y)}}function Rv(e,n,i,s,c,f,y,w,x,W,re){const Oe=n.blueprint.slice();return Oe[$r]=c,Oe[sr]=204|s,(null!==W||e&&2048&e[sr])&&(Oe[sr]|=2048),Tu(Oe),Oe[vi]=Oe[po]=e,Oe[di]=i,Oe[fo]=y||e&&e[fo],Oe[jr]=w||e&&e[jr],Oe[Yi]=x||e&&e[Yi]||null,Oe[Hi]=f,Oe[go]=function Bm(){return ig++}(),Oe[xs]=re,Oe[io]=W,Oe[rs]=2==n.type?e[rs]:Oe,Oe}function Sf(e,n,i,s,c){let f=e.data[n];if(null===f)f=function Pv(e,n,i,s,c){const f=Vl(),y=Ho(),x=e.data[n]=function a0(e,n,i,s,c,f){let y=n?n.injectorIndex:-1,w=0;return Pc()&&(w|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,i,n,s,c);return null===e.firstChild&&(e.firstChild=x),null!==f&&(y?null==f.child&&null!==x.parent&&(f.child=x):null===f.next&&(f.next=x,x.prev=f)),x}(e,n,i,s,c),function Nc(){return ei.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=i,f.value=s,f.attrs=c;const y=function rl(){const e=ei.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return jo(f,!0),f}function $g(e,n,i,s){if(0===i)return-1;const c=n.length;for(let f=0;f<i;f++)n.push(s),e.blueprint.push(s),e.data.push(null);return c}function t0(e,n,i,s,c){const f=Os(),y=2&s;try{Ea(-1),y&&n.length>yr&&Sv(e,n,yr,!1),oa(y?2:0,c),i(s,c)}finally{Ea(f),oa(y?3:1,c)}}function zu(e,n,i){if(vo(n)){const s=Q(null);try{const f=n.directiveEnd;for(let y=n.directiveStart;y<f;y++){const w=e.data[y];w.contentQueries&&w.contentQueries(1,i[y],y)}}finally{Q(s)}}}function Xc(e,n,i){Hh()&&(function f0(e,n,i,s){const c=i.directiveStart,f=i.directiveEnd;Bo(i)&&function nb(e,n,i){const s=Ds(n,e),c=Gu(i);let y=16;i.signals?y=4096:i.onPush&&(y=64);const w=Hg(e,Rv(e,c,null,y,s,n,null,e[fo].rendererFactory.createRenderer(s,i),null,null,null));e[n.index]=w}(n,i,e.data[c+i.componentOffset]),e.firstCreatePass||cl(i,n),tn(s,n);const y=i.initialInputs;for(let w=c;w<f;w++){const x=e.data[w],W=dc(n,e,w,i);tn(W,n),null!==y&&Bd(0,w-c,W,x,0,y),ao(x)&&(Xi(i.index,n)[di]=dc(n,e,w,i))}}(e,n,i,Ds(i,n)),!(64&~i.flags)&&Wy(e,n,i))}function Sh(e,n,i=Ds){const s=n.localNames;if(null!==s){let c=n.index+1;for(let f=0;f<s.length;f+=2){const y=s[f+1],w=-1===y?i(n,e):e[y];e[c++]=w}}}function Gu(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Mv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Mv(e,n,i,s,c,f,y,w,x,W,re){const Oe=yr+s,lt=Oe+c,wt=function Uy(e,n){const i=[];for(let s=0;s<n;s++)i.push(s<e?null:_i);return i}(Oe,lt),Bt="function"==typeof W?W():W;return wt[Rn]={type:e,blueprint:wt,template:i,queries:null,viewQuery:w,declTNode:n,data:wt.slice().fill(null,Oe),bindingStartIndex:Oe,expandoStartIndex:lt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:x,consts:Bt,incompleteFirstPass:!1,ssrId:re}}let By=()=>null;function xv(e,n,i,s,c){for(let f in n){if(!n.hasOwnProperty(f))continue;const y=n[f];if(void 0===y)continue;s??={};let w,x=Ks.None;Array.isArray(y)?(w=y[0],x=y[1]):w=y;let W=f;if(null!==c){if(!c.hasOwnProperty(f))continue;W=c[f]}0===e?Nv(s,i,W,w,x):Nv(s,i,W,w)}return s}function Nv(e,n,i,s,c){let f;e.hasOwnProperty(i)?(f=e[i]).push(n,s):f=e[i]=[n,s],void 0!==c&&f.push(c)}function hl(e,n,i,s,c,f,y,w){const x=Ds(n,i);let re,W=n.inputs;!w&&null!=W&&(re=W[s])?(Wg(e,i,re,s,c),Bo(n)&&function u0(e,n){const i=Xi(n,e);16&i[sr]||(i[sr]|=64)}(i,n.index)):3&n.type&&(s=function c0(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(s),c=null!=y?y(c,n.value||"",s):c,f.setProperty(x,s,c))}function jy(e,n,i,s){if(Hh()){const c=null===s?null:{"":-1},f=function eb(e,n){const i=e.directiveRegistry;let s=null,c=null;if(i)for(let f=0;f<i.length;f++){const y=i[f];if(we(n,y.selectors,!1))if(s||(s=[]),ao(y))if(null!==y.findHostDirectiveDefs){const w=[];c=c||new Map,y.findHostDirectiveDefs(y,w,c),s.unshift(...w,y),zy(e,n,w.length)}else s.unshift(y),zy(e,n,0);else c=c||new Map,y.findHostDirectiveDefs?.(y,s,c),s.push(y)}return null===s?null:[s,c]}(e,i);let y,w;null===f?y=w=null:[y,w]=f,null!==y&&Hy(e,n,i,y,c,w),c&&function tb(e,n,i){if(n){const s=e.localNames=[];for(let c=0;c<n.length;c+=2){const f=i[n[c+1]];if(null==f)throw new mt(-301,!1);s.push(n[c],f)}}}(i,s,c)}i.mergedAttrs=ji(i.mergedAttrs,i.attrs)}function Hy(e,n,i,s,c,f){for(let W=0;W<s.length;W++)ul(cl(i,n),e,s[W].type);!function g0(e,n,i){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+i,e.providerIndexes=n}(i,e.data.length,s.length);for(let W=0;W<s.length;W++){const re=s[W];re.providersResolver&&re.providersResolver(re)}let y=!1,w=!1,x=$g(e,n,s.length,null);for(let W=0;W<s.length;W++){const re=s[W];i.mergedAttrs=ji(i.mergedAttrs,re.hostAttrs),m0(e,i,n,x,re),p0(x,re,c),null!==re.contentQueries&&(i.flags|=4),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(i.flags|=64);const Oe=re.type.prototype;!y&&(Oe.ngOnChanges||Oe.ngOnInit||Oe.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),y=!0),!w&&(Oe.ngOnChanges||Oe.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),w=!0),x++}!function l0(e,n,i){const c=n.directiveEnd,f=e.data,y=n.attrs,w=[];let x=null,W=null;for(let re=n.directiveStart;re<c;re++){const Oe=f[re],lt=i?i.get(Oe):null,Bt=lt?lt.outputs:null;x=xv(0,Oe.inputs,re,x,lt?lt.inputs:null),W=xv(1,Oe.outputs,re,W,Bt);const bn=null===x||null===y||Pa(n)?null:v0(x,re,y);w.push(bn)}null!==x&&(x.hasOwnProperty("class")&&(n.flags|=8),x.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=w,n.inputs=x,n.outputs=W}(e,i,f)}function Wy(e,n,i){const s=i.directiveStart,c=i.directiveEnd,f=i.index,y=function Qf(){return ei.lFrame.currentDirectiveIndex}();try{Ea(f);for(let w=s;w<c;w++){const x=e.data[w],W=n[w];Va(w),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Zw(x,W)}}finally{Ea(-1),Va(y)}}function Zw(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function zy(e,n,i){n.componentOffset=i,(e.components??=[]).push(n.index)}function p0(e,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=e;ao(n)&&(i[""]=e)}}function m0(e,n,i,s,c){e.data[s]=c;const f=c.factory||(c.factory=qr(c.type)),y=new Ia(f,ao(c),Dh);e.blueprint[s]=y,i[s]=y,function d0(e,n,i,s,c){const f=c.hostBindings;if(f){let y=e.hostBindingOpCodes;null===y&&(y=e.hostBindingOpCodes=[]);const w=~n.index;(function h0(e){let n=e.length;for(;n>0;){const i=e[--n];if("number"==typeof i&&i<0)return i}return 0})(y)!=w&&y.push(w),y.push(i,s,f)}}(e,n,s,$g(e,i,c.hostVars,_i),c)}function mu(e,n,i,s,c,f){const y=Ds(e,n);!function jg(e,n,i,s,c,f,y){if(null==f)e.removeAttribute(n,c,i);else{const w=null==y?he(f):y(f,s||"",c);e.setAttribute(n,c,w,i)}}(n[jr],y,f,e.value,i,s,c)}function Bd(e,n,i,s,c,f){const y=f[n];if(null!==y)for(let w=0;w<y.length;)Ap(s,i,y[w++],y[w++],y[w++],y[w++])}function v0(e,n,i){let s=null,c=0;for(;c<i.length;){const f=i[c];if(0!==f)if(5!==f){if("number"==typeof f)break;if(e.hasOwnProperty(f)){null===s&&(s=[]);const y=e[f];for(let w=0;w<y.length;w+=3)if(y[w]===n){s.push(f,y[w+1],y[w+2],i[c+1]);break}}c+=2}else c+=2;else c+=4}return s}function Gy(e,n,i,s){return[e,!0,0,n,null,s,null,i,null,null]}function Ky(e,n){const i=e.contentQueries;if(null!==i){const s=Q(null);try{for(let c=0;c<i.length;c+=2){const y=i[c+1];if(-1!==y){const w=e.data[y];su(i[c]),w.contentQueries(2,n[y],y)}}}finally{Q(s)}}}function Hg(e,n){return e[_a]?e[Ql][Es]=n:e[_a]=n,e[Ql]=n,n}function Ov(e,n,i){su(0);const s=Q(null);try{n(e,i)}finally{Q(s)}}function Xy(e){return e[Ws]??=[]}function _0(e){return e.cleanup??=[]}function kv(e,n){const i=e[Yi],s=i?i.get(Ss,null):null;s&&s.handleError(n)}function Wg(e,n,i,s,c){for(let f=0;f<i.length;){const y=i[f++],w=i[f++],x=i[f++];Ap(e.data[y],n[y],s,w,x,c)}}function Ku(e,n,i){const s=ya(n,e);!function Ef(e,n,i){e.setValue(n,i)}(e[jr],s,i)}function ib(e,n){const i=Xi(n,e),s=i[Rn];!function sb(e,n){for(let i=n.length;i<e.blueprint.length;i++)n.push(e.blueprint[i])}(s,i);const c=i[$r];null!==c&&null===i[xs]&&(i[xs]=tv(c,i[Yi])),qy(s,i,i[di])}function qy(e,n,i){hd(n);try{const s=e.viewQuery;null!==s&&Ov(1,s,i);const c=e.template;null!==c&&t0(e,n,c,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),n[Na]?.finishViewCreation(e),e.staticContentQueries&&Ky(e,n),e.staticViewQueries&&Ov(2,e.viewQuery,i);const f=e.components;null!==f&&function ob(e,n){for(let i=0;i<n.length;i++)ib(e,n[i])}(n,f)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{n[sr]&=-5,sl()}}function Rh(e,n,i,s){const c=Q(null);try{const f=n.tView,x=Rv(e,f,i,4096&e[sr]?4096:16,null,n,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null);x[As]=e[n.index];const re=e[Na];return null!==re&&(x[Na]=re.createEmbeddedView(f)),qy(f,x,i),x}finally{Q(c)}}function Pf(e,n){return!n||null===n.firstChild||Fu(e)}function Dp(e,n,i,s=!0){const c=n[Rn];if(function Cv(e,n,i,s){const c=gs+s,f=i.length;s>0&&(i[c-1][Es]=n),s<f-gs?(n[Es]=i[c],ho(i,gs+s,n)):(i.push(n),n[Es]=null),n[vi]=i;const y=n[As];null!==y&&i!==y&&wv(y,n);const w=n[Na];null!==w&&w.insertView(e),Ol(n),n[sr]|=128}(c,n,e,i),s){const y=Cp(i,e),w=n[jr],x=bf(w,e[mo]);null!==x&&function Iv(e,n,i,s,c,f){s[$r]=c,s[Hi]=n,Fg(e,s,i,1,c,f)}(c,e[Hi],w,n,x,y)}const f=n[xs];null!==f&&null!==f.firstChild&&(f.firstChild=null)}function Ph(e,n,i,s,c=!1){for(;null!==i;){if(128===i.type){i=c?i.projectionNext:i.next;continue}const f=n[i.index];null!==f&&s.push(Ci(f)),oo(f)&&Sp(f,s);const y=i.type;if(8&y)Ph(e,n,i.child,s);else if(32&y){const w=_f(i,n);let x;for(;x=w();)s.push(x)}else if(16&y){const w=YI(n,i);if(Array.isArray(w))s.push(...w);else{const x=aa(n[rs]);Ph(x[Rn],x,w,s,!0)}}i=c?i.projectionNext:i.next}return s}function Sp(e,n){for(let i=gs;i<e.length;i++){const s=e[i],c=s[Rn].firstChild;null!==c&&Ph(s[Rn],s,c,n)}e[mo]!==e[$r]&&n.push(e[mo])}let Yy=[];const Zy={...Te,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ka(e.lView)},consumerOnSignalRead(){this.lView[so]=this}},Vv={...Te,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=aa(e.lView);for(;n&&!eE(n[Rn]);)n=aa(n);n&&$h(n)},consumerOnSignalRead(){this.lView[so]=this}};function eE(e){return 2!==e.type}const I0=100;function Pp(e,n=!0,i=0){const s=e[fo],c=s.rendererFactory;c.begin?.();try{!function zg(e,n){const i=xc();try{Wh(!0),Gg(e,n);let s=0;for(;Sc(e);){if(s===I0)throw new mt(103,!1);s++,Gg(e,1)}}finally{Wh(i)}}(e,i)}catch(y){throw n&&kv(e,y),y}finally{c.end?.(),s.inlineEffectRunner?.flush()}}function nE(e,n,i,s){const c=n[sr];if(!(256&~c))return;n[fo].inlineEffectRunner?.flush(),hd(n);let w=!0,x=null,W=null;eE(e)?(W=function E0(e){return e[so]??function Fv(e){const n=Yy.pop()??Object.create(Zy);return n.lView=e,n}(e)}(n),x=it(W)):null===function be(){return U}()?(w=!1,W=function Rp(e){const n=e[so]??Object.create(Vv);return n.lView=e,n}(n),x=it(W)):n[so]&&(Pt(n[so]),n[so]=null);try{Tu(n),function wu(e){return ei.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&t0(e,n,i,2,s);const re=!(3&~c);if(re){const wt=e.preOrderCheckHooks;null!==wt&&sc(n,wt,null)}else{const wt=e.preOrderHooks;null!==wt&&Oc(n,wt,0,null),Gh(n,0)}if(function Mh(e){for(let n=sg(e);null!==n;n=Q_(n)){if(!(n[sr]&Iu.HasTransplantedViews))continue;const i=n[Jl];for(let s=0;s<i.length;s++)$h(i[s])}}(n),Uv(n,0),null!==e.contentQueries&&Ky(e,n),re){const wt=e.contentCheckHooks;null!==wt&&sc(n,wt)}else{const wt=e.contentHooks;null!==wt&&Oc(n,wt,1),Gh(n,1)}!function e0(e,n){const i=e.hostBindingOpCodes;if(null!==i)try{for(let s=0;s<i.length;s++){const c=i[s];if(c<0)Ea(~c);else{const f=c,y=i[++s],w=i[++s];bu(y,f),w(2,n[f])}}}finally{Ea(-1)}}(e,n);const Oe=e.components;null!==Oe&&Bv(n,Oe,0);const lt=e.viewQuery;if(null!==lt&&Ov(2,lt,s),re){const wt=e.viewCheckHooks;null!==wt&&sc(n,wt)}else{const wt=e.viewHooks;null!==wt&&Oc(n,wt,2),Gh(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Yl]){for(const wt of n[Yl])wt();n[Yl]=null}n[sr]&=-73}catch(re){throw ka(n),re}finally{null!==W&&(He(W,x),w&&function Jy(e){e.lView[so]!==e&&(e.lView=null,Yy.push(e))}(W)),sl()}}function Uv(e,n){for(let i=sg(e);null!==i;i=Q_(i))for(let s=gs;s<i.length;s++)$a(i[s],n)}function yc(e,n,i){$a(Xi(n,e),i)}function $a(e,n){Dc(e)&&Gg(e,n)}function Gg(e,n){const s=e[Rn],c=e[sr],f=e[so];let y=!!(0===n&&16&c);if(y||=!!(64&c&&0===n),y||=!!(1024&c),y||=!(!f?.dirty||!At(f)),y||=!1,f&&(f.dirty=!1),e[sr]&=-9217,y)nE(s,e,s.template,e[di]);else if(8192&c){Uv(e,1);const w=s.components;null!==w&&Bv(e,w,1)}}function Bv(e,n,i){for(let s=0;s<n.length;s++)yc(e,n[s],i)}function Xu(e,n){const i=xc()?64:1088;for(e[fo].changeDetectionScheduler?.notify(n);e;){e[sr]|=i;const s=aa(e);if(Ns(e)&&!s)return e;e=s}return null}class qu{get rootNodes(){const n=this._lView,i=n[Rn];return Ph(i,n,i.firstChild,[])}constructor(n,i,s=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[di]}set context(n){this._lView[di]=n}get destroyed(){return!(256&~this._lView[sr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[vi];if(oo(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(Tf(n,s),Sa(i,s))}this._attachedToViewContainer=!1}yp(this._lView[Rn],this._lView)}onDestroy(n){nl(this._lView,n)}markForCheck(){Xu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[sr]&=-129}reattach(){Ol(this._lView),this._lView[sr]|=128}detectChanges(){this._lView[sr]|=1024,Pp(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new mt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Ns(this._lView),i=this._lView[As];null!==i&&!n&&ju(i,this._lView),kg(this._lView[Rn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new mt(902,!1);this._appRef=n;const i=Ns(this._lView),s=this._lView[As];null!==s&&!i&&wv(s,this._lView),Ol(this._lView)}}let zo=(()=>{class e{static{this.__NG_ELEMENT_ID__=Mf}}return e})();const T0=zo,$v=class extends T0{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,s){const c=Rh(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:s});return new qu(c)}};function Mf(){return vu(hi(),ln())}function vu(e,n){return 4&e.type?new $v(n,e,Al(e,n)):null}let Zg=()=>null;function Ao(e,n){return Zg(e,n)}class Qu{}const Lf=new Qt("",{providedIn:"root",factory:()=>!1}),pE=new Qt(""),Nh=new Qt("");class gE{}class Zv{}class t_{resolveComponentFactory(n){throw function e_(e){const n=Error(`No component factory found for ${gr(e)}.`);return n.ngComponent=e,n}(n)}}class Bp{static{this.NULL=new t_}}class em{}let $p=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function n_(){const e=ln(),i=Xi(hi().index,e);return(Zi(i)?i:e)[jr]}()}}return e})(),r_=(()=>{class e{static{this.\u0275prov=Ar({token:e,providedIn:"root",factory:()=>null})}}return e})();function Ju(e){return!!ai(e)}function ed(e,n,i){let s=i?e.styles:null,c=i?e.classes:null,f=0;if(null!==n)for(let y=0;y<n.length;y++){const w=n[y];"number"==typeof w?f=w:1==f?c=bi(c,w):2==f&&(s=bi(s,w+": "+n[++y]+";"))}i?e.styles=s:e.stylesWithoutHost=s,i?e.classes=c:e.classesWithoutHost=c}class _E extends Bp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=ni(n);return new Vf(i,this.ngModule)}}function yE(e,n){const i=[];for(const s in e){if(!e.hasOwnProperty(s))continue;const c=e[s];if(void 0===c)continue;const f=Array.isArray(c),y=f?c[0]:c;i.push(n?{propName:y,templateName:s,isSignal:!!((f?c[1]:Ks.None)&Ks.SignalBased)}:{propName:y,templateName:s})}return i}class Vf extends Zv{get inputs(){const n=this.componentDef,i=n.inputTransforms,s=yE(n.inputs,!0);if(null!==i)for(const c of s)i.hasOwnProperty(c.propName)&&(c.transform=i[c.propName]);return s}get outputs(){return yE(this.componentDef.outputs,!1)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Xl(e){return e.map(Ga).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,s,c){const f=Q(null);try{let y=(c=c||this.ngModule)instanceof cs?c:c?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const w=y?new qs(n,y):n,x=w.get(em,null);if(null===x)throw new mt(407,!1);const Oe={rendererFactory:x,sanitizer:w.get(r_,null),inlineEffectRunner:null,changeDetectionScheduler:w.get(Qu,null)},lt=x.createRenderer(null,this.componentDef),wt=this.componentDef.selectors[0][0]||"div",Bt=s?function n0(e,n,i,s){const f=s.get(Eg,!1)||i===ps.ShadowDom,y=e.selectRootElement(n,f);return function Ud(e){By(e)}(y),y}(lt,s,this.componentDef.encapsulation,w):If(lt,wt,function nm(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(wt));let bn=512;this.componentDef.signals?bn|=4096:this.componentDef.onPush||(bn|=16);let Kn=null;null!==Bt&&(Kn=tv(Bt,w,!0));const or=Mv(0,null,null,1,0,null,null,null,null,null,null),Cn=Rv(null,or,null,bn,null,null,Oe,lt,w,null,Kn);hd(Cn);let yi,es,ks=null;try{const Yo=this.componentDef;let Cc,Um=null;Yo.findHostDirectiveDefs?(Cc=[],Um=new Map,Yo.findHostDirectiveDefs(Yo,Cc,Um),Cc.push(Yo)):Cc=[Yo];const oR=function rm(e,n){const i=e[Rn],s=yr;return e[s]=n,Sf(i,s,2,"#host",null)}(Cn,Bt);ks=function Hd(e,n,i,s,c,f,y){const w=c[Rn];!function EE(e,n,i,s){for(const c of e)n.mergedAttrs=ji(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(ed(n,n.mergedAttrs,!0),null!==i&&Av(s,i,n))}(s,e,n,y);let x=null;null!==n&&(x=tv(n,c[Yi]));const W=f.rendererFactory.createRenderer(n,i);let re=16;i.signals?re=4096:i.onPush&&(re=64);const Oe=Rv(c,Gu(i),null,re,c[e.index],e,f,W,null,null,x);return w.firstCreatePass&&zy(w,e,s.length-1),Hg(c,Oe),c[e.index]=Oe}(oR,Bt,Yo,Cc,Cn,Oe,lt),es=nu(or,yr),Bt&&function o_(e,n,i,s){if(s)Cs(e,i,["ng-version","18.2.13"]);else{const{attrs:c,classes:f}=function Qi(e){const n=[],i=[];let s=1,c=2;for(;s<e.length;){let f=e[s];if("string"==typeof f)2===c?""!==f&&n.push(f,e[++s]):8===c&&i.push(f);else{if(!ee(c))break;c=f}s++}return{attrs:n,classes:i}}(n.selectors[0]);c&&Cs(e,i,c),f&&f.length>0&&Vy(e,i,f.join(" "))}}(lt,Yo,Bt,s),void 0!==i&&function a_(e,n,i){const s=e.projection=[];for(let c=0;c<n.length;c++){const f=i[c];s.push(null!=f?Array.from(f):null)}}(es,this.ngContentSelectors,i),yi=function IE(e,n,i,s,c,f){const y=hi(),w=c[Rn],x=Ds(y,c);Hy(w,c,y,i,null,s);for(let re=0;re<i.length;re++)tn(dc(c,w,y.directiveStart+re,y),c);Wy(w,c,y),x&&tn(x,c);const W=dc(c,w,y.directiveStart+y.componentOffset,y);if(e[di]=c[di]=W,null!==f)for(const re of f)re(W,n);return zu(w,y,c),W}(ks,Yo,Cc,Um,Cn,[TE]),qy(or,Cn,null)}catch(Yo){throw null!==ks&&h(ks),h(Cn),Yo}finally{sl()}return new s_(this.componentType,yi,Al(es,Cn),Cn,es)}finally{Q(f)}}}class s_ extends gE{constructor(n,i,s,c,f){super(),this.location=s,this._rootLView=c,this._tNode=f,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new qu(c,void 0,!1),this.componentType=n}setInput(n,i){const s=this._tNode.inputs;let c;if(null!==s&&(c=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const f=this._rootLView;Wg(f[Rn],f,c,n,i),this.previousInputValues.set(n,i),Xu(Xi(this._tNode.index,f),1)}}get injector(){return new Qs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function TE(){const e=hi();la(ln()[Rn],e)}let Hp=(()=>{class e{static{this.__NG_ELEMENT_ID__=L0}}return e})();function L0(){return Wd(hi(),ln())}const im=Hp,l_=class extends im{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return Al(this._hostTNode,this._hostLView)}get injector(){return new Qs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ta(this._hostTNode,this._hostLView);if(Lc(n)){const i=Fc(n,this._hostLView),s=ou(n);return new Qs(i[Rn].data[s+8],i)}return new Qs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=sm(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-gs}createEmbeddedView(n,i,s){let c,f;"number"==typeof s?c=s:null!=s&&(c=s.index,f=s.injector);const y=Ao(this._lContainer,n.ssrId),w=n.createEmbeddedViewImpl(i||{},f,y);return this.insertImpl(w,c,Pf(this._hostTNode,y)),w}createComponent(n,i,s,c,f){const y=n&&!function tt(e){return"function"==typeof e}(n);let w;if(y)w=i;else{const Bt=i||{};w=Bt.index,s=Bt.injector,c=Bt.projectableNodes,f=Bt.environmentInjector||Bt.ngModuleRef}const x=y?n:new Vf(ni(n)),W=s||this.parentInjector;if(!f&&null==x.ngModule){const bn=(y?W:this.parentInjector).get(cs,null);bn&&(f=bn)}const re=ni(x.componentType??{}),Oe=Ao(this._lContainer,re?.id??null),wt=x.create(W,c,Oe?.firstChild??null,f);return this.insertImpl(wt.hostView,w,Pf(this._hostTNode,Oe)),wt}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,s){const c=n._lView;if(function Bh(e){return oo(e[vi])}(c)){const w=this.indexOf(n);if(-1!==w)this.detach(w);else{const x=c[vi],W=new l_(x,x[Hi],x[vi]);W.detach(W.indexOf(n))}}const f=this._adjustIndex(i),y=this._lContainer;return Dp(y,c,f,s),n.attachToViewContainerRef(),ho(kh(y),f,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=sm(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=Tf(this._lContainer,i);s&&(Sa(kh(this._lContainer),i),yp(s[Rn],s))}detach(n){const i=this._adjustIndex(n,-1),s=Tf(this._lContainer,i);return s&&null!=Sa(kh(this._lContainer),i)?new qu(s):null}_adjustIndex(n,i=0){return n??this.length+i}};function sm(e){return e[8]}function kh(e){return e[8]||(e[8]=[])}function Wd(e,n){let i;const s=n[e.index];return oo(s)?i=s:(i=Gy(s,n,null,e),n[e.index]=i,Hg(n,i)),CE(i,n,e,s),new l_(i,e,n)}let CE=function d_(e,n,i,s){if(e[mo])return;let c;c=8&i.type?Ci(s):function c_(e,n){const i=e[jr],s=i.createComment(""),c=Ds(n,e);return Vd(i,bf(i,c),s,function ky(e,n){return e.nextSibling(n)}(i,c),!1),s}(n,i),e[mo]=c},om=()=>!1;class am{constructor(n){this.queryList=n,this.matches=null}clone(){return new am(this.queryList)}setDirty(){this.queryList.setDirty()}}class p_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let f=0;f<s;f++){const y=i.getByIndex(f);c.push(this.queries[y.indexInDeclarationView].clone())}return new p_(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==m_(n,i).matches&&this.queries[i].setDirty()}}class bE{constructor(n,i,s=null){this.flags=i,this.read=s,this.predicate="string"==typeof n?function V0(e){return e.split(",").map(n=>n.trim())}(n):n}}class lm{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const c=null!==i?i.length:0,f=this.getByIndex(s).embeddedTView(n,c);f&&(f.indexInDeclarationView=s,null!==i?i.push(f):i=[f])}return null!==i?new lm(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class cm{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new cm(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let c=0;c<s.length;c++){const f=s[c];this.matchTNodeWithReadOption(n,i,F0(i,f)),this.matchTNodeWithReadOption(n,i,uc(i,n,f,!1,!1))}else s===zo?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,uc(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const c=this.metadata.read;if(null!==c)if(c===Hc||c===Hp||c===zo&&4&i.type)this.addMatch(i.index,-2);else{const f=uc(i,n,c,!1,!1);null!==f&&this.addMatch(i.index,f)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function F0(e,n){const i=e.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function td(e,n,i,s){return-1===i?function Lh(e,n){return 11&e.type?Al(e,n):4&e.type?vu(e,n):null}(n,e):-2===i?function um(e,n,i){return i===Hc?Al(n,e):i===zo?vu(n,e):i===Hp?Wd(n,e):void 0}(e,n,s):dc(e,e[Rn],i,n)}function Wp(e,n,i,s){const c=n[Na].queries[s];if(null===c.matches){const f=e.data,y=i.matches,w=[];for(let x=0;null!==y&&x<y.length;x+=2){const W=y[x];w.push(W<0?null:td(n,f[W],y[x+1],i.metadata.read))}c.matches=w}return c.matches}function dm(e,n,i,s){const c=e.queries.getByIndex(i),f=c.matches;if(null!==f){const y=Wp(e,n,c,i);for(let w=0;w<f.length;w+=2){const x=f[w];if(x>0)s.push(y[w/2]);else{const W=f[w+1],re=n[-x];for(let Oe=gs;Oe<re.length;Oe++){const lt=re[Oe];lt[As]===lt[vi]&&dm(lt[Rn],lt,W,s)}if(null!==re[Jl]){const Oe=re[Jl];for(let lt=0;lt<Oe.length;lt++){const wt=Oe[lt];dm(wt[Rn],wt,W,s)}}}}}return s}function zp(e,n,i){const s=new xd(!(4&~i));return function o0(e,n,i,s){const c=Xy(n);c.push(i),e.firstCreatePass&&_0(e).push(s,c.length-1)}(e,n,s,s.destroy),(n[Na]??=new p_).queries.push(new am(s))-1}function g_(e,n,i){null===e.queries&&(e.queries=new lm),e.queries.track(new cm(n,i))}function m_(e,n){return e.queries.getByIndex(n)}function AE(e,n){const i=e[Rn],s=m_(i,n);return s.crossesNgTemplate?dm(i,e,n,[]):Wp(i,e,s,n)}const DE=new Set;function Go(e){DE.has(e)||(DE.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function v_(e,n){Go("NgSignals");const i=function Me(e){const n=Object.create(Ct);n.value=e;const i=()=>(ue(n),n.value);return i[Re]=n,i}(e),s=i[Re];return n?.equal&&(s.equal=n.equal),i.set=c=>ot(s,c),i.update=c=>function Xe(e,n){nt()||qe(),ot(e,n(e.value))}(s,c),i.asReadonly=Fh.bind(i),i}function Fh(){const e=this[Re];if(void 0===e.readonlyFn){const n=()=>this();n[Re]=e,e.readonlyFn=n}return e.readonlyFn}function SE(e){return function nd(e){return"function"==typeof e&&void 0!==e[Re]}(e)&&"function"==typeof e.set}function Hf(e){let n=function S_(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const s=[e];for(;n;){let c;if(ao(e))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new mt(903,!1);c=n.\u0275dir}if(c){if(i){s.push(c);const y=e;y.inputs=Qp(e.inputs),y.inputTransforms=Qp(e.inputTransforms),y.declaredInputs=Qp(e.declaredInputs),y.outputs=Qp(e.outputs);const w=c.hostBindings;w&&j(e,w);const x=c.viewQuery,W=c.contentQueries;if(x&&Wf(e,x),W&&I(e,W),Wl(e,c),pi(e.outputs,c.outputs),ao(c)&&c.data.animation){const re=e.data;re.animation=(re.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let y=0;y<f.length;y++){const w=f[y];w&&w.ngInherit&&w(e),w===Hf&&(i=!1)}}n=Object.getPrototypeOf(n)}!function FE(e){let n=0,i=null;for(let s=e.length-1;s>=0;s--){const c=e[s];c.hostVars=n+=c.hostVars,c.hostAttrs=ji(c.hostAttrs,i=ji(i,c.hostAttrs))}}(s)}function Wl(e,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;const s=n.inputs[i];if(void 0!==s&&(e.inputs[i]=s,e.declaredInputs[i]=n.declaredInputs[i],null!==n.inputTransforms)){const c=Array.isArray(s)?s[0]:s;if(!n.inputTransforms.hasOwnProperty(c))continue;e.inputTransforms??={},e.inputTransforms[c]=n.inputTransforms[c]}}}function Qp(e){return e===Fs?{}:e===wr?[]:e}function Wf(e,n){const i=e.viewQuery;e.viewQuery=i?(s,c)=>{n(s,c),i(s,c)}:n}function I(e,n){const i=e.contentQueries;e.contentQueries=i?(s,c,f)=>{n(s,c,f),i(s,c,f)}:n}function j(e,n){const i=e.hostBindings;e.hostBindings=i?(s,c)=>{n(s,c),i(s,c)}:n}function Ic(e){const n=e.inputConfig,i={};for(const s in n)if(n.hasOwnProperty(s)){const c=n[s];Array.isArray(c)&&c[3]&&(i[s]=c[3])}e.inputTransforms=i}class yu{}class mm{}function cR(e,n){return new Y0(e,n??null,[])}class Y0 extends yu{constructor(n,i,s,c=!0){super(),this.ngModuleType=n,this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _E(this);const f=ai(n);this._bootstrapComponents=ba(f.bootstrap),this._r3Injector=cu(n,i,[{provide:yu,useValue:this},{provide:Bp,useValue:this.componentFactoryResolver},...s],gr(n),new Set(["environment"])),c&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class J0 extends mm{constructor(n){super(),this.moduleType=n}create(n){return new Y0(this.moduleType,n,[])}}class mb extends yu{constructor(n){super(),this.componentFactoryResolver=new _E(this),this.instance=null;const i=new Io([...n.providers,{provide:yu,useValue:this},{provide:Bp,useValue:this.componentFactoryResolver}],n.parent||va(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Z0(e,n,i=null){return new mb({providers:e,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}function VE(e){return!!eT(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function eT(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Gd(e,n,i){return e[n]=i}function Xo(e,n,i){return!Object.is(e[n],i)&&(e[n]=i,!0)}function Yp(e,n,i,s){const c=Xo(e,n,i);return Xo(e,n+1,s)||c}function UE(e,n,i,s,c){const f=Yp(e,n,i,s);return Xo(e,n+2,c)||f}function P_(e,n,i,s,c,f,y,w,x,W){const re=i+yr,Oe=n.firstCreatePass?function gR(e,n,i,s,c,f,y,w,x){const W=n.consts,re=Sf(n,e,4,y||null,w||null);jy(n,i,re,No(W,x)),la(n,re);const Oe=re.tView=Mv(2,re,s,c,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,W,null);return null!==n.queries&&(n.queries.template(n,re),Oe.queries=n.queries.embeddedTView(re)),re}(re,n,e,s,c,f,y,w,x):n.data[re];jo(Oe,!1);const lt=vb(n,e,Oe,i);ol()&&Wu(n,e,lt,Oe),tn(lt,e);const wt=Gy(lt,e,lt,Oe);return e[re]=wt,Hg(e,wt),function u_(e,n,i){return om(e,n,i)}(wt,Oe,e),Ja(Oe)&&Xc(n,e,Oe),null!=x&&Sh(e,Oe,W),Oe}function tT(e,n,i,s,c,f,y,w){const x=ln(),W=ii();return P_(x,W,e,n,i,s,c,No(W.consts,f),y,w),tT}let vb=function _b(e,n,i,s){return Wo(!0),n[jr].createComment("")};var ym=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(ym||{});let wb=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Ar({token:e,providedIn:"root",factory:()=>new e})}}return e})();class N_{constructor(){this.ngZone=Fe(T),this.scheduler=Fe(Qu),this.errorHandler=Fe(Ss,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ym.EarlyRead,ym.Write,ym.MixedReadWrite,ym.Read]}execute(){this.executing=!0;for(const n of N_.PHASES)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[n])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>i.hooks[n](i.pipelinedValue))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=Ar({token:N_,providedIn:"root",factory:()=>new N_})}}class yR{constructor(n,i,s,c){this.impl=n,this.hooks=i,this.once=s,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=c?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function HE(e,n){!n?.injector&&function Co(e){if(!To())throw new mt(-203,!1)}();const i=n?.injector??Fe(Js);return function Hl(e){return"browser"===(e??Fe(Js)).get(ip)}(i)?(Go("NgAfterNextRender"),function bb(e,n,i,s){const c=n.get(wb);c.impl??=n.get(N_);const f=i?.phase??ym.MixedReadWrite,y=!0!==i?.manualCleanup?n.get(Zs):null,w=new yR(c.impl,function IR(e,n){if(e instanceof Function){const i=[void 0,void 0,void 0,void 0];return i[n]=e,i}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,f),s,y);return c.impl.register(w),w}(e,i,n,!0)):Ab}const Ab={destroy(){}};function hT(e,n,i,s){const c=ln();return Xo(c,Fa(),n)&&(ii(),mu(Ui(),c,e,n,i,s)),hT}function GE(e,n){return e<<17|n<<2}function Gf(e){return e>>17&32767}function fT(e){return 2|e}function Zp(e){return(131068&e)>>2}function pT(e,n){return-131069&e|n<<2}function gT(e){return 1|e}function Jb(e,n,i,s){const c=e[i+1],f=null===n;let y=s?Gf(c):Zp(c),w=!1;for(;0!==y&&(!1===w||f);){const W=e[y+1];rP(e[y],n)&&(w=!0,e[y+1]=s?gT(W):fT(W)),y=s?Gf(W):Zp(W)}w&&(e[i+1]=s?fT(c):gT(c))}function rP(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Ls(e,n)>=0}const Aa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zb(e){return e.substring(Aa.key,Aa.keyEnd)}function eA(e,n){const i=Aa.textEnd;return i===n?-1:(n=Aa.keyEnd=function aP(e,n,i){for(;n<i&&e.charCodeAt(n)>32;)n++;return n}(e,Aa.key=n,i),Om(e,n,i))}function Om(e,n,i){for(;n<i&&e.charCodeAt(n)<=32;)n++;return n}function mT(e,n,i){const s=ln();return Xo(s,Fa(),n)&&hl(ii(),Ui(),s,e,n,s[jr],i,!1),mT}function vT(e,n,i,s,c){const y=c?"class":"style";Wg(e,i,n.inputs[y],y,s)}function _T(e,n,i){return sd(e,n,i,!1),_T}function yT(e,n){return sd(e,n,null,!0),yT}function sA(e){!function od(e,n,i,s){const c=ii(),f=Tl(2);c.firstUpdatePass&&aA(c,null,f,s);const y=ln();if(i!==_i&&Xo(y,f,i)){const w=c.data[Os()];if(dA(w,s)&&!oA(c,f)){let x=s?w.classesWithoutHost:w.stylesWithoutHost;null!==x&&(i=bi(x,i||"")),vT(c,w,y,i,s)}else!function vP(e,n,i,s,c,f,y,w){c===_i&&(c=wr);let x=0,W=0,re=0<c.length?c[0]:null,Oe=0<f.length?f[0]:null;for(;null!==re||null!==Oe;){const lt=x<c.length?c[x+1]:void 0,wt=W<f.length?f[W+1]:void 0;let bn,Bt=null;re===Oe?(x+=2,W+=2,lt!==wt&&(Bt=Oe,bn=wt)):null===Oe||null!==re&&re<Oe?(x+=2,Bt=re):(W+=2,Bt=Oe,bn=wt),null!==Bt&&cA(e,n,i,s,Bt,bn,y,w),re=x<c.length?c[x]:null,Oe=W<f.length?f[W]:null}}(c,w,y,y[jr],y[f+1],y[f+1]=function gP(e,n,i){if(null==i||""===i)return wr;const s=[],c=gu(i);if(Array.isArray(c))for(let f=0;f<c.length;f++)e(s,c[f],!0);else if("object"==typeof c)for(const f in c)c.hasOwnProperty(f)&&e(s,f,c[f]);else"string"==typeof c&&n(s,c);return s}(e,n,i),s,f)}}(mP,Xd,e,!0)}function Xd(e,n){for(let i=function sP(e){return function nA(e){Aa.key=0,Aa.keyEnd=0,Aa.value=0,Aa.valueEnd=0,Aa.textEnd=e.length}(e),eA(e,Om(e,0,Aa.textEnd))}(n);i>=0;i=eA(n,i))ui(e,Zb(n),!0)}function sd(e,n,i,s){const c=ln(),f=ii(),y=Tl(2);f.firstUpdatePass&&aA(f,e,y,s),n!==_i&&Xo(c,y,n)&&cA(f,f.data[Os()],c,c[jr],e,c[y+1]=function _P(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=gr(gu(e)))),e}(n,i),s,y)}function oA(e,n){return n>=e.expandoStartIndex}function aA(e,n,i,s){const c=e.data;if(null===c[i+1]){const f=c[Os()],y=oA(e,i);dA(f,s)&&null===n&&!y&&(n=!1),n=function dP(e,n,i,s){const c=function il(e){const n=ei.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let f=s?n.residualClasses:n.residualStyles;if(null===c)0===(s?n.classBindings:n.styleBindings)&&(i=k_(i=ET(null,e,n,i,s),n.attrs,s),f=null);else{const y=n.directiveStylingLast;if(-1===y||e[y]!==c)if(i=ET(c,e,n,i,s),null===f){let x=function hP(e,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==Zp(s))return e[Gf(s)]}(e,n,s);void 0!==x&&Array.isArray(x)&&(x=ET(null,e,n,x[1],s),x=k_(x,n.attrs,s),function fP(e,n,i,s){e[Gf(i?n.classBindings:n.styleBindings)]=s}(e,n,s,x))}else f=function pP(e,n,i){let s;const c=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<c;f++)s=k_(s,e[f].hostAttrs,i);return k_(s,n.attrs,i)}(e,n,s)}return void 0!==f&&(s?n.residualClasses=f:n.residualStyles=f),i}(c,f,n,s),function tP(e,n,i,s,c,f){let y=f?n.classBindings:n.styleBindings,w=Gf(y),x=Zp(y);e[s]=i;let re,W=!1;if(Array.isArray(i)?(re=i[1],(null===re||Ls(i,re)>0)&&(W=!0)):re=i,c)if(0!==x){const lt=Gf(e[w+1]);e[s+1]=GE(lt,w),0!==lt&&(e[lt+1]=pT(e[lt+1],s)),e[w+1]=function ZR(e,n){return 131071&e|n<<17}(e[w+1],s)}else e[s+1]=GE(w,0),0!==w&&(e[w+1]=pT(e[w+1],s)),w=s;else e[s+1]=GE(x,0),0===w?w=s:e[x+1]=pT(e[x+1],s),x=s;W&&(e[s+1]=fT(e[s+1])),Jb(e,re,s,!0),Jb(e,re,s,!1),function nP(e,n,i,s,c){const f=c?e.residualClasses:e.residualStyles;null!=f&&"string"==typeof n&&Ls(f,n)>=0&&(i[s+1]=gT(i[s+1]))}(n,re,e,s,f),y=GE(w,x),f?n.classBindings=y:n.styleBindings=y}(c,f,n,i,y,s)}}function ET(e,n,i,s,c){let f=null;const y=i.directiveEnd;let w=i.directiveStylingLast;for(-1===w?w=i.directiveStart:w++;w<y&&(f=n[w],s=k_(s,f.hostAttrs,c),f!==e);)w++;return null!==e&&(i.directiveStylingLast=w),s}function k_(e,n,i){const s=i?1:2;let c=-1;if(null!==n)for(let f=0;f<n.length;f++){const y=n[f];"number"==typeof y?c=y:c===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ui(e,y,!!i||n[++f]))}return void 0===e?null:e}function mP(e,n,i){const s=String(n);""!==s&&!s.includes(" ")&&ui(e,s,i)}function cA(e,n,i,s,c,f,y,w){if(!(3&n.type))return;const x=e.data,W=x[w+1],re=function eP(e){return!(1&~e)}(W)?uA(x,n,i,c,Zp(W),y):void 0;KE(re)||(KE(f)||function JR(e){return!(2&~e)}(W)&&(f=uA(x,null,i,c,w,y)),function Ug(e,n,i,s,c){if(n)c?e.addClass(i,s):e.removeClass(i,s);else{let f=-1===s.indexOf("-")?void 0:_p.DashCase;null==c?e.removeStyle(i,s,f):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),f|=_p.Important),e.setStyle(i,s,c,f))}}(s,y,ya(Os(),i),c,f))}function uA(e,n,i,s,c,f){const y=null===n;let w;for(;c>0;){const x=e[c],W=Array.isArray(x),re=W?x[1]:x,Oe=null===re;let lt=i[c+1];lt===_i&&(lt=Oe?wr:void 0);let wt=Oe?fa(lt,s):re===s?lt:void 0;if(W&&!KE(wt)&&(wt=fa(x,s)),KE(wt)&&(w=wt,y))return w;const Bt=e[c+1];c=y?Gf(Bt):Zp(Bt)}if(null!==n){let x=f?n.residualClasses:n.residualStyles;null!=x&&(w=fa(x,s))}return w}function KE(e){return void 0!==e}function dA(e,n){return!!(e.flags&(n?8:16))}function qE(e,n,i,s){const c=ln(),f=ii(),y=yr+e,w=c[jr],x=f.firstCreatePass?function $P(e,n,i,s,c,f){const y=n.consts,x=Sf(n,e,2,s,No(y,c));return jy(n,i,x,No(y,f)),null!==x.attrs&&ed(x,x.attrs,!1),null!==x.mergedAttrs&&ed(x,x.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,x),x}(y,f,c,n,i,s):f.data[y],W=gA(f,c,x,w,n,e);c[y]=W;const re=Ja(x);return jo(x,!0),Av(w,W,x),!function vm(e){return!(32&~e.flags)}(x)&&ol()&&Wu(f,c,W,x),0===function nc(){return ei.lFrame.elementDepthCount}()&&tn(W,c),function ld(){ei.lFrame.elementDepthCount++}(),re&&(Xc(f,c,x),zu(f,x,c)),null!==s&&Sh(c,x),qE}function QE(){let e=hi();Ho()?iu():(e=e.parent,jo(e,!1));const n=e;(function Mc(e){return ei.skipHydrationRootTNode===e})(n)&&function vs(){ei.skipHydrationRootTNode=null}(),function jh(){ei.lFrame.elementDepthCount--}();const i=ii();return i.firstCreatePass&&(la(i,e),vo(e)&&i.queries.elementEnd(e)),null!=n.classesWithoutHost&&function Oo(e){return!!(8&e.flags)}(n)&&vT(i,n,ln(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function kc(e){return!!(16&e.flags)}(n)&&vT(i,n,ln(),n.stylesWithoutHost,!1),QE}function wT(e,n,i,s){return qE(e,n,i,s),QE(),wT}let gA=(e,n,i,s,c,f)=>(Wo(!0),If(s,c,function wl(){return ei.lFrame.currentNamespace}()));function YE(e,n,i){const s=ln(),c=ii(),f=e+yr,y=c.firstCreatePass?function WP(e,n,i,s,c){const f=n.consts,y=No(f,s),w=Sf(n,e,8,"ng-container",y);return null!==y&&ed(w,y,!0),jy(n,i,w,No(f,c)),null!==n.queries&&n.queries.elementStart(n,w),w}(f,c,s,n,i):c.data[f];jo(y,!0);const w=mA(c,s,y,e);return s[f]=w,ol()&&Wu(c,s,w,y),tn(w,s),Ja(y)&&(Xc(c,s,y),zu(c,y,s)),null!=i&&Sh(s,y),YE}function JE(){let e=hi();const n=ii();return Ho()?iu():(e=e.parent,jo(e,!1)),n.firstCreatePass&&(la(n,e),vo(e)&&n.queries.elementEnd(e)),JE}function bT(e,n,i){return YE(e,n,i),JE(),bT}let mA=(e,n,i,s)=>(Wo(!0),Og(n[jr],""));function vA(){return ln()}const eg=void 0;var XP=["en",[["a","p"],["AM","PM"],eg],[["AM","PM"],eg,eg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],eg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],eg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",eg,"{1} 'at' {0}",eg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function KP(e){const i=Math.floor(Math.abs(e)),s=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let km={};function AT(e){const n=function qP(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=IA(n);if(i)return i;const s=n.split("-")[0];if(i=IA(s),i)return i;if("en"===s)return XP;throw new mt(701,!1)}function EA(e){return AT(e)[Lm.PluralCase]}function IA(e){return e in km||(km[e]=pr.ng&&pr.ng.common&&pr.ng.common.locales&&pr.ng.common.locales[e]),km[e]}var Lm=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Lm||{});const ZE="en-US";let TA=ZE,BA=(e,n,i)=>{};function RT(e,n,i,s){const c=ln(),f=ii(),y=hi();return PT(f,c,c[jr],y,e,n,s),RT}function PT(e,n,i,s,c,f,y){const w=Ja(s),W=e.firstCreatePass&&_0(e),re=n[di],Oe=Xy(n);let lt=!0;if(3&s.type||y){const bn=Ds(s,n),Kn=y?y(bn):bn,or=Oe.length,Cn=y?es=>y(Ci(es[s.index])):s.index;let yi=null;if(!y&&w&&(yi=function FM(e,n,i,s){const c=e.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const y=c[f];if(y===i&&c[f+1]===s){const w=n[Ws],x=c[f+2];return w.length>x?w[x]:null}"string"==typeof y&&(f+=2)}return null}(e,n,c,s.index)),null!==yi)(yi.__ngLastListenerFn__||yi).__ngNextListenerFn__=f,yi.__ngLastListenerFn__=f,lt=!1;else{f=WA(s,n,re,f),BA(bn,c,f);const es=i.listen(Kn,c,f);Oe.push(f,es),W&&W.push(c,Cn,or,or+1)}}else f=WA(s,n,re,f);const wt=s.outputs;let Bt;if(lt&&null!==wt&&(Bt=wt[c])){const bn=Bt.length;if(bn)for(let Kn=0;Kn<bn;Kn+=2){const ks=n[Bt[Kn]][Bt[Kn+1]].subscribe(f),Yo=Oe.length;Oe.push(f,ks),W&&W.push(c,s.index,Yo,-(Yo+1))}}}function HA(e,n,i,s){const c=Q(null);try{return oa(6,n,i),!1!==i(s)}catch(f){return kv(e,f),!1}finally{oa(7,n,i),Q(c)}}function WA(e,n,i,s){return function c(f){if(f===Function)return s;Xu(e.componentOffset>-1?Xi(e.index,n):n,5);let w=HA(n,i,s,f),x=c.__ngNextListenerFn__;for(;x;)w=HA(n,i,x,f)&&w,x=x.__ngNextListenerFn__;return w}}function zA(e=1){return function ic(e){return(ei.lFrame.contextLView=function ru(e,n){for(;e>0;)n=n[po],e--;return n}(e,ei.lFrame.contextLView))[di]}(e)}function VM(e,n){let i=null;const s=function _t(e){const n=e.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(e);for(let c=0;c<n.length;c++){const f=n[c];if("*"!==f){if(null===s?we(e,f,!0):yo(s,f))return c}else i=c}return i}function GA(e){const n=ln()[rs][Hi];if(!n.projection){const s=n.projection=function Gs(e,n){const i=[];for(let s=0;s<e;s++)i.push(n);return i}(e?e.length:1,null),c=s.slice();let f=n.child;for(;null!==f;){if(128!==f.type){const y=e?VM(f,e):0;null!==y&&(c[y]?c[y].projectionNext=f:s[y]=f,c[y]=f)}f=f.next}}}function KA(e,n=0,i,s,c,f){const y=ln(),w=ii(),x=s?e+1:null;null!==x&&P_(y,w,x,s,c,f,null,i);const W=Sf(w,yr+e,16,null,i||null);null===W.projection&&(W.projection=n),iu();const Oe=!y[xs]||Pc();null===y[rs][Hi].projection[W.projection]&&null!==x?function UM(e,n,i){const s=yr+i,c=n.data[s],f=e[s],y=Ao(f,c.tView.ssrId);Dp(f,Rh(e,c,void 0,{dehydratedView:y}),0,Pf(c,y))}(y,w,x):Oe&&32&~W.flags&&function Vg(e,n,i){Fy(n[jr],0,n,i,Cf(e,i,n),Lg(i.parent||n[Hi],i,n))}(w,y,W)}function rD(e,n,i,s){!function Bf(e,n,i,s){const c=ii();if(c.firstCreatePass){const f=hi();g_(c,new bE(n,i,s),f.index),function U0(e,n){const i=e.contentQueries||(e.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,n)}(c,e),!(2&~i)&&(c.staticContentQueries=!0)}return zp(c,ln(),i)}(e,n,i,s)}function iD(e,n,i){!function Uf(e,n,i){const s=ii();return s.firstCreatePass&&(g_(s,new bE(e,n,i),-1),!(2&~n)&&(s.staticViewQueries=!0)),zp(s,ln(),n)}(e,n,i)}function sD(e){const n=ln(),i=ii(),s=dd();su(s+1);const c=m_(i,s);if(e.dirty&&function Si(e){return!(4&~e[sr])}(n)===!(2&~c.metadata.flags)){if(null===c.matches)e.reset([]);else{const f=AE(n,s);e.reset(f,Zh),e.notifyOnChanges()}return!0}return!1}function oD(){return function Rs(e,n){return e[Na].queries[n].queryList}(ln(),dd())}function mD(e,n=""){const i=ln(),s=ii(),c=e+yr,f=s.firstCreatePass?Sf(s,c,1,n,null):s.data[c],y=vD(s,i,f,n,e);i[c]=y,ol()&&Wu(s,i,y,f),jo(f,!1)}let vD=(e,n,i,s,c)=>(Wo(!0),function yf(e,n){return e.createText(n)}(n[jr],s));function NT(e){return rI("",e,""),NT}function rI(e,n,i){const s=ln(),c=function Am(e,n,i,s){return Xo(e,Fa(),i)?n+he(i)+s:_i}(s,e,n,i);return c!==_i&&Ku(s,Os(),c),rI}function OT(e,n,i,s,c){const f=ln(),y=function Dm(e,n,i,s,c,f){const w=Yp(e,La(),i,c);return Tl(2),w?n+he(i)+s+he(c)+f:_i}(f,e,n,i,s,c);return y!==_i&&Ku(f,Os(),y),OT}function kT(e,n,i,s,c,f,y){const w=ln(),x=function Sm(e,n,i,s,c,f,y,w){const W=UE(e,La(),i,c,y);return Tl(3),W?n+he(i)+s+he(c)+f+he(y)+w:_i}(w,e,n,i,s,c,f,y);return x!==_i&&Ku(w,Os(),x),kT}function LT(e,n,i){SE(n)&&(n=n());const s=ln();return Xo(s,Fa(),n)&&hl(ii(),Ui(),s,e,n,s[jr],i,!1),LT}function wD(e,n){const i=SE(e);return i&&e.set(n),i}function FT(e,n){const i=ln(),s=ii(),c=hi();return PT(s,i,i[jr],c,e,n),FT}function VT(e,n,i,s,c){if(e=ht(e),Array.isArray(e))for(let f=0;f<e.length;f++)VT(e[f],n,i,s,c);else{const f=ii(),y=ln(),w=hi();let x=no(e)?e:ht(e.provide);const W=_l(e),re=1048575&w.providerIndexes,Oe=w.directiveStart,lt=w.providerIndexes>>20;if(no(e)||!e.multi){const wt=new Ia(W,c,Dh),Bt=BT(x,n,c?re:re+lt,Oe);-1===Bt?(ul(cl(w,y),f,x),UT(f,e,n.length),n.push(x),w.directiveStart++,w.directiveEnd++,c&&(w.providerIndexes+=1048576),i.push(wt),y.push(wt)):(i[Bt]=wt,y[Bt]=wt)}else{const wt=BT(x,n,re+lt,Oe),Bt=BT(x,n,re,re+lt),Kn=Bt>=0&&i[Bt];if(c&&!Kn||!c&&!(wt>=0&&i[wt])){ul(cl(w,y),f,x);const or=function ox(e,n,i,s,c){const f=new Ia(e,i,Dh);return f.multi=[],f.index=n,f.componentProviders=0,DD(f,c,s&&!i),f}(c?sx:ix,i.length,c,s,W);!c&&Kn&&(i[Bt].providerFactory=or),UT(f,e,n.length,0),n.push(x),w.directiveStart++,w.directiveEnd++,c&&(w.providerIndexes+=1048576),i.push(or),y.push(or)}else UT(f,e,wt>-1?wt:Bt,DD(i[c?Bt:wt],W,!c&&s));!c&&s&&Kn&&i[Bt].componentProviders++}}}function UT(e,n,i,s){const c=no(n),f=function ma(e){return!!e.useClass}(n);if(c||f){const x=(f?ht(n.useClass):n).prototype.ngOnDestroy;if(x){const W=e.destroyHooks||(e.destroyHooks=[]);if(!c&&n.multi){const re=W.indexOf(i);-1===re?W.push(i,[s,x]):W[re+1].push(s,x)}else W.push(i,x)}}}function DD(e,n,i){return i&&e.componentProviders++,e.multi.push(n)-1}function BT(e,n,i,s){for(let c=i;c<s;c++)if(n[c]===e)return c;return-1}function ix(e,n,i,s){return $T(this.multi,[])}function sx(e,n,i,s){const c=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=dc(i,i[Rn],this.providerFactory.index,s);f=w.slice(0,y),$T(c,f);for(let x=y;x<w.length;x++)f.push(w[x])}else f=[],$T(c,f);return f}function $T(e,n){for(let i=0;i<e.length;i++)n.push((0,e[i])());return n}function SD(e,n=[]){return i=>{i.providersResolver=(s,c)=>function rx(e,n,i){const s=ii();if(s.firstCreatePass){const c=ao(e);VT(i,s.data,s.blueprint,c,!0),VT(n,s.data,s.blueprint,c,!1)}}(s,c?c(e):e,n)}}let ax=(()=>{class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const s=ga(0,i.type),c=s.length>0?Z0([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Ar({token:e,providedIn:"environment",factory:()=>new e(S(cs))})}}return e})();function RD(e){Go("NgStandalone"),e.getStandaloneInjector=n=>n.get(ax).getOrCreateStandaloneInjector(e)}function xD(e,n,i,s,c,f){return function kD(e,n,i,s,c,f,y,w){const x=n+i;return UE(e,x,c,f,y)?Gd(e,x+3,w?s.call(w,c,f,y):s(c,f,y)):$_(e,x+3)}(ln(),bo(),e,n,i,s,c,f)}function $_(e,n){const i=e[n];return i===_i?void 0:i}function VD(e,n){const i=ii();let s;const c=e+yr;i.firstCreatePass?(s=function Ex(e,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(e===s.name)return s}}(n,i.pipeRegistry),i.data[c]=s,s.onDestroy&&(i.destroyHooks??=[]).push(c,s.onDestroy)):s=i.data[c];const f=s.factory||(s.factory=qr(s.type)),w=hs(Dh);try{const x=ll(!1),W=f();return ll(x),function xT(e,n,i,s){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),n[i]=s}(i,ln(),c,W),W}finally{hs(w)}}function UD(e,n,i){const s=e+yr,c=ln(),f=Ac(c,s);return j_(c,s)?function ND(e,n,i,s,c,f){const y=n+i;return Xo(e,y,c)?Gd(e,y+1,f?s.call(f,c):s(c)):$_(e,y+1)}(c,bo(),n,f.transform,i,f):f.transform(i)}function BD(e,n,i,s){const c=e+yr,f=ln(),y=Ac(f,c);return j_(f,c)?function OD(e,n,i,s,c,f,y){const w=n+i;return Yp(e,w,c,f)?Gd(e,w+2,y?s.call(y,c,f):s(c,f)):$_(e,w+2)}(f,bo(),n,y.transform,i,s,y):y.transform(i,s)}function j_(e,n){return e[Rn].data[n].pure}class nS{constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const Gx=new nS("18.2.13");let rS=(()=>{class e{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const lS=new Qt(""),cS=new Qt("");let KT,_N=(()=>{class e{constructor(i,s,c){this._ngZone=i,this.registry=s,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,KT||(function yN(e){KT=e}(c),c.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{T.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,c){let f=-1;s&&s>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),i()},s)),this._callbacks.push({doneCb:i,timeoutId:f,updateCb:c})}whenStable(i,s,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,c),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,c){return[]}static{this.\u0275fac=function(s){return new(s||e)(S(T),S(uS),S(cS))}}static{this.\u0275prov=Ar({token:e,factory:e.\u0275fac})}}return e})(),uS=(()=>{class e{constructor(){this._applications=new Map}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return KT?.findTestabilityInTree(this,i,s)??null}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function XT(e){return!!e&&"function"==typeof e.then}function dS(e){return!!e&&"function"==typeof e.subscribe}const hS=new Qt("");let fS=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s}),this.appInits=Fe(hS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const f=c();if(XT(f))i.push(f);else if(dS(f)){const y=new Promise((w,x)=>{f.subscribe({complete:w,error:x})});i.push(y)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(c=>{this.reject(c)}),0===i.length&&s(),this.initialized=!0}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const lI=new Qt("");function gS(e,n){return Array.isArray(n)?n.reduce(gS,e):{...e,...n}}let qd=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Fe(mc),this.afterRenderManager=Fe(wb),this.zonelessEnabled=Fe(Lf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Gn.B,this.afterTick=new Gn.B,this.componentTypes=[],this.components=[],this.isStable=Fe(jc).hasPendingTasks.pipe((0,xn.T)(i=>!i)),this._injector=Fe(cs)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let i;return new Promise(s=>{i=this.isStable.subscribe({next:c=>{c&&s()}})}).finally(()=>{i.unsubscribe()})}get injector(){return this._injector}bootstrap(i,s){const c=i instanceof Zv;if(!this._injector.get(fS).done)throw!c&&bs(i),new mt(405,!1);let y;y=c?i:this._injector.get(Bp).resolveComponentFactory(i),this.componentTypes.push(y.componentType);const w=function EN(e){return e.isBoundToModule}(y)?void 0:this._injector.get(yu),W=y.create(Js.NULL,[],s||y.selector,w),re=W.location.nativeElement,Oe=W.injector.get(lS,null);return Oe?.registerApplication(re),W.onDestroy(()=>{this.detachView(W.hostView),cI(this.components,W),Oe?.unregisterApplication(re)}),this._loadComponent(W),W}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new mt(101,!1);const i=Q(null);try{this._runningTick=!0,this.synchronize()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,Q(i),this.afterTick.next()}}synchronize(){let i=null;this._injector.destroyed||(i=this._injector.get(em,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let s=0;for(;0!==this.dirtyFlags&&s++<10;)this.synchronizeOnce(i)}synchronizeOnce(i){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const s=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(s);for(let{_lView:c,notifyErrorHandler:f}of this._views)CN(c,f,s,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else i?.begin?.(),i?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:i})=>Sc(i))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;cI(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const s=this._injector.get(lI,[]);[...this._bootstrapListeners,...s].forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>cI(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new mt(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function cI(e,n){const i=e.indexOf(n);i>-1&&e.splice(i,1)}function CN(e,n,i,s){(i||Sc(e))&&Pp(e,n,i&&!s?0:1)}class wN{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let bN=(()=>{class e{compileModuleSync(i){return new J0(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const s=this.compileModuleSync(i),f=ba(ai(i).declarations).reduce((y,w)=>{const x=ni(w);return x&&y.push(new Vf(x)),y},[]);return new wN(s,f)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),SN=(()=>{class e{constructor(){this.zone=Fe(T),this.changeDetectionScheduler=Fe(Qu),this.applicationRef=Fe(qd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function qT({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:i}){return e??=()=>new T({...QT(),scheduleInRootZone:i}),[{provide:T,useFactory:e},{provide:eo,multi:!0,useFactory:()=>{const s=Fe(SN,{optional:!0});return()=>s.initialize()}},{provide:eo,multi:!0,useFactory:()=>{const s=Fe(PN);return()=>{s.initialize()}}},!0===n?{provide:pE,useValue:!0}:[],{provide:Nh,useValue:i??Nu}]}function QT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let PN=(()=>{class e{constructor(){this.subscription=new Nn.yU,this.initialized=!1,this.zone=Fe(T),this.pendingTasks=Fe(jc)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{T.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{T.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),z_=(()=>{class e{constructor(){this.appRef=Fe(qd),this.taskService=Fe(jc),this.ngZone=Fe(T),this.zonelessEnabled=Fe(Lf),this.disableScheduling=Fe(pE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Nn.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(jl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Fe(Nh,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vn||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&5===i)return;switch(i){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const s=this.useMicrotaskScheduler?Rd:mh;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>s(()=>this.tick())):this.ngZone.runOutsideAngular(()=>s(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(jl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Rd(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const JT=new Qt("",{providedIn:"root",factory:()=>Fe(JT,Pn.Optional|Pn.SkipSelf)||function MN(){return typeof $localize<"u"&&$localize.locale||ZE}()}),xN=new Qt("",{providedIn:"root",factory:()=>"USD"}),dI=new Qt("");function hI(e){return!e.moduleRef}let TS=(()=>{class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const c=s?.scheduleInRootZone,y=s?.ignoreChangesOutsideZone,w=[qT({ngZoneFactory:()=>function ds(e="zone.js",n){return"noop"===e?new vn:"zone.js"===e?new T(n):e}(s?.ngZone,{...QT({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}),scheduleInRootZone:c}),ignoreChangesOutsideZone:y}),{provide:Qu,useExisting:z_}],x=function uR(e,n,i){return new Y0(e,n,i,!1)}(i.moduleType,this.injector,w);return function IS(e){const n=hI(e)?e.r3Injector:e.moduleRef.injector,i=n.get(T);return i.run(()=>{hI(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const s=n.get(Ss,null);let c;if(i.runOutsideAngular(()=>{c=i.onError.subscribe({next:f=>{s.handleError(f)}})}),hI(e)){const f=()=>n.destroy(),y=e.platformInjector.get(dI);y.add(f),n.onDestroy(()=>{c.unsubscribe(),y.delete(f)})}else{const f=()=>e.moduleRef.destroy(),y=e.platformInjector.get(dI);y.add(f),e.moduleRef.onDestroy(()=>{cI(e.allPlatformModules,e.moduleRef),c.unsubscribe(),y.delete(f)})}return function TN(e,n,i){try{const s=i();return XT(s)?s.catch(c=>{throw n.runOutsideAngular(()=>e.handleError(c)),c}):s}catch(s){throw n.runOutsideAngular(()=>e.handleError(s)),s}}(s,i,()=>{const f=n.get(fS);return f.runInitializers(),f.donePromise.then(()=>{if(function ZP(e){"string"==typeof e&&(TA=e.toLowerCase().replace(/_/g,"-"))}(n.get(JT,ZE)||ZE),hI(e)){const w=n.get(qd);return void 0!==e.rootComponent&&w.bootstrap(e.rootComponent),w}return function FN(e,n){const i=e.injector.get(qd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new mt(-403,!1);e.instance.ngDoBootstrap(i)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:x,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(i,s=[]){const c=gS({},s);return function DN(e,n,i){const s=new J0(i);return Promise.resolve(s)}(0,0,i).then(f=>this.bootstrapModuleFactory(f,c))}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new mt(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const i=this._injector.get(dI,null);i&&(i.forEach(s=>s()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(s){return new(s||e)(S(Js))}}static{this.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Kf=null;const CS=new Qt("");function wS(e,n,i=[]){const s=`Platform: ${n}`,c=new Qt(s);return(f=[])=>{let y=ZT();if(!y||y.injector.get(CS,!1)){const w=[...i,...f,{provide:c,useValue:!0}];e?e(w):function VN(e){if(Kf&&!Kf.get(CS,!1))throw new mt(400,!1);(function pS(){!function Se(e){cn=e}(()=>{throw new mt(600,!1)})})(),Kf=e;const n=e.get(TS);(function AS(e){e.get(ey,null)?.forEach(i=>i())})(e)}(function bS(e=[],n){return Js.create({name:n,providers:[{provide:Dl,useValue:"platform"},{provide:dI,useValue:new Set([()=>Kf=null])},...e]})}(w,s))}return function UN(){const n=ZT();if(!n)throw new mt(401,!1);return n}()}}function ZT(){return Kf?.get(TS)??null}function $N(){return!1}let SS=(()=>{class e{static{this.__NG_ELEMENT_ID__=jN}}return e})();function jN(e){return function HN(e,n,i){if(Bo(e)&&!i){const s=Xi(e.index,n);return new qu(s,s)}return 175&e.type?new qu(n[rs],n):null}(hi(),ln(),!(16&~e))}class xS{constructor(){}supports(n){return VE(n)}create(n){return new XN(n)}}const KN=(e,n)=>n;class XN{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||KN}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,c=0,f=null;for(;i||s;){const y=!s||i&&i.currentIndex<OS(s,c,f)?i:s,w=OS(y,c,f),x=y.currentIndex;if(y===s)c--,s=s._nextRemoved;else if(i=i._next,null==y.previousIndex)c++;else{f||(f=[]);const W=w-c,re=x-c;if(W!=re){for(let lt=0;lt<W;lt++){const wt=lt<f.length?f[lt]:f[lt]=0,Bt=wt+lt;re<=Bt&&Bt<W&&(f[lt]=wt+1)}f[y.previousIndex]=re-W}}w!==x&&n(y,w,x)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!VE(n))throw new mt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,f,y,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let w=0;w<this.length;w++)f=n[w],y=this._trackByFn(w,f),null!==i&&Object.is(i.trackById,y)?(s&&(i=this._verifyReinsertion(i,f,y,w)),Object.is(i.item,f)||this._addIdentityChange(i,f)):(i=this._mismatch(i,f,y,w),s=!0),i=i._next}else c=0,function fR(e,n){if(Array.isArray(e))for(let i=0;i<e.length;i++)n(e[i]);else{const i=e[Symbol.iterator]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,w=>{y=this._trackByFn(c,w),null!==i&&Object.is(i.trackById,y)?(s&&(i=this._verifyReinsertion(i,w,y,c)),Object.is(i.item,w)||this._addIdentityChange(i,w)):(i=this._mismatch(i,w,y,c),s=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,c){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,f,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,f,c)):n=this._addAfter(new qN(i,s),f,c),n}_verifyReinsertion(n,i,s,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==f?n=this._reinsertAfter(f,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,f=n._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new NS),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new NS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class qN{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QN{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class NS{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new QN,this.map.set(i,s)),s.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OS(e,n,i){const s=e.previousIndex;if(null===s)return s;let c=0;return i&&s<i.length&&(c=i[s]),s+n+c}class kS{constructor(){}supports(n){return n instanceof Map||eT(n)}create(){return new YN}}class YN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||eT(n)))throw new mt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const f=this._getOrCreateRecordForKey(c,s);i=this._insertBeforeOrAppend(i,f)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const f=c._prev,y=c._next;return f&&(f._next=y),y&&(y._prev=f),c._next=null,c._prev=null,c}const s=new JN(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class JN{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function LS(){return new iC([new xS])}let iC=(()=>{class e{static{this.\u0275prov=Ar({token:e,providedIn:"root",factory:LS})}constructor(i){this.factories=i}static create(i,s){if(null!=s){const c=s.factories.slice();i=i.concat(c)}return new e(i)}static extend(i){return{provide:e,useFactory:s=>e.create(i,s||LS()),deps:[[e,new Li,new lr]]}}find(i){const s=this.factories.find(c=>c.supports(i));if(null!=s)return s;throw new mt(901,!1)}}return e})();function FS(){return new sC([new kS])}let sC=(()=>{class e{static{this.\u0275prov=Ar({token:e,providedIn:"root",factory:FS})}constructor(i){this.factories=i}static create(i,s){if(s){const c=s.factories.slice();i=i.concat(c)}return new e(i)}static extend(i){return{provide:e,useFactory:s=>e.create(i,s||FS()),deps:[[e,new Li,new lr]]}}find(i){const s=this.factories.find(c=>c.supports(i));if(s)return s;throw new mt(901,!1)}}return e})();const tO=wS(null,"core",[]);let nO=(()=>{class e{constructor(i){}static{this.\u0275fac=function(s){return new(s||e)(S(qd))}}static{this.\u0275mod=Ro({type:e})}static{this.\u0275inj=ti({})}}return e})();function NO(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function kO(e,n){Go("NgSignals");const i=function H(e){const n=Object.create(Mt);n.computation=e;const i=()=>{if(pe(n),ue(n),n.value===ze)throw n.error;return n.value};return i[Re]=n,i}(e);return n?.equal&&(i[Re].equal=n.equal),i}function LO(e){const n=Q(null);try{return e()}finally{Q(n)}}function jO(e,n){const i=ni(e),s=n.elementInjector||va();return new Vf(i).create(s,n.projectableNodes,n.hostElement,n.environmentInjector)}function HO(e){const n=ni(e);if(!n)return null;const i=new Vf(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},5719:(In,dt,N)=>{"use strict";N.d(dt,{DS:()=>bt,X8:()=>ze,$z:()=>Ze,UB:()=>H,yy:()=>at,ZP:()=>Ye,AU:()=>Dt,CP:()=>Le,gF:()=>We}),N(324);var U=N(177),Z=N(4438),G=N(574),Re=N(9253),Q=N(1413),be=N(7673),Ae=N(1985),ve=N(8455),Te=N(7786),ue=N(941),Ne=N(5558),pe=N(6354),xe=N(6496),nt=N(1594),yt=N(8071);function it(Mt,kt){return(0,yt.T)(kt)?(0,Ne.n)(()=>Mt,kt):(0,Ne.n)(()=>Mt)}var He=N(6745),At=N(5964),Pt=N(762);const Le=new Z.nKC("angularfire2.auth.use-emulator"),at=new Z.nKC("angularfire2.auth.settings"),Ye=new Z.nKC("angularfire2.auth.tenant-id"),Ze=new Z.nKC("angularfire2.auth.langugage-code"),Dt=new Z.nKC("angularfire2.auth.use-device-language"),H=new Z.nKC("angularfire.auth.persistence"),We=(Mt,kt,cn,qe,Se,Ie,Me,le)=>(0,Re.BM)(`${Mt.name}.auth`,"AngularFireAuth",Mt.name,()=>{const Pe=kt.runOutsideAngular(()=>Mt.auth());if(cn&&Pe.useEmulator(...cn),qe&&(Pe.tenantId=qe),Pe.languageCode=Se,Ie&&Pe.useDeviceLanguage(),Me)for(const[ot,Xe]of Object.entries(Me))Pe.settings[ot]=Xe;return le&&Pe.setPersistence(le),Pe},[cn,qe,Se,Ie,Me,le]);let bt=(()=>{class Mt{authState;idToken;user;idTokenResult;credential;constructor(cn,qe,Se,Ie,Me,le,Pe,ot,Xe,De,Ct,fe){const st=new Q.B,Ot=(0,be.of)(void 0).pipe((0,ue.Q)(Me.outsideAngular),(0,Ne.n)(()=>Ie.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,324)))),(0,pe.T)(()=>(0,Re.iB)(cn,Ie,qe)),(0,pe.T)(Nt=>We(Nt,Ie,le,ot,Xe,De,Pe,Ct)),(0,xe.t)({bufferSize:1,refCount:!1}));if((0,U.Vy)(Se))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,be.of)(null);else{Ot.pipe((0,nt.$)()).subscribe();const Nt=Ot.pipe((0,Ne.n)(Gn=>Gn.getRedirectResult().then(Nn=>Nn,()=>null)),G.U0,(0,xe.t)({bufferSize:1,refCount:!1})),hn=Ot.pipe((0,Ne.n)(Gn=>new Ae.c(Nn=>({unsubscribe:Ie.runOutsideAngular(()=>Gn.onAuthStateChanged(xn=>Nn.next(xn),xn=>Nn.error(xn),()=>Nn.complete()))})))),Vn=Ot.pipe((0,Ne.n)(Gn=>new Ae.c(Nn=>({unsubscribe:Ie.runOutsideAngular(()=>Gn.onIdTokenChanged(xn=>Nn.next(xn),xn=>Nn.error(xn),()=>Nn.complete()))}))));this.authState=Nt.pipe(it(hn),(0,He._)(Me.outsideAngular),(0,ue.Q)(Me.insideAngular)),this.user=Nt.pipe(it(Vn),(0,He._)(Me.outsideAngular),(0,ue.Q)(Me.insideAngular)),this.idToken=this.user.pipe((0,Ne.n)(Gn=>Gn?(0,ve.H)(Gn.getIdToken()):(0,be.of)(null))),this.idTokenResult=this.user.pipe((0,Ne.n)(Gn=>Gn?(0,ve.H)(Gn.getIdTokenResult()):(0,be.of)(null))),this.credential=(0,Te.h)(Nt,st,this.authState.pipe((0,At.p)(Gn=>!Gn))).pipe((0,pe.T)(Gn=>Gn?.user?Gn:null),(0,He._)(Me.outsideAngular),(0,ue.Q)(Me.insideAngular))}return(0,Re.Gt)(this,Ot,Ie,{spy:{apply:(Nt,hn,Vn)=>{(Nt.startsWith("signIn")||Nt.startsWith("createUser"))&&Vn.then(Gn=>st.next(Gn))}}})}static \u0275fac=function(qe){return new(qe||Mt)(Z.KVO(Re.rx),Z.KVO(Re.uP,8),Z.KVO(Z.Agw),Z.KVO(Z.SKi),Z.KVO(G.u0),Z.KVO(Le,8),Z.KVO(at,8),Z.KVO(Ye,8),Z.KVO(Ze,8),Z.KVO(Dt,8),Z.KVO(H,8),Z.KVO(G.Jv,8))};static \u0275prov=Z.jDH({token:Mt,factory:Mt.\u0275fac,providedIn:"any"})}return Mt})(),ze=(()=>{class Mt{constructor(){Pt.A.registerVersion("angularfire",G.xv.full,"auth-compat")}static \u0275fac=function(qe){return new(qe||Mt)};static \u0275mod=Z.$C({type:Mt});static \u0275inj=Z.G2t({providers:[bt]})}return Mt})()},49:(In,dt,N)=>{"use strict";N.d(dt,{w$:()=>ig,wd:()=>Bm});var l=N(4438),U=N(574),Z=N(9253),G=N(5719),Re=N(6354),Q=N(7647),be=N(2816),Ae=N(9974),ve=N(4360),Te=N(8750),ue=N(3669),Ne=N(5343),pe=N(3794),yt=N(5558),it=N(3294),He=N(3236),At=N(1985),Pt=N(7786),Ke=N(7673),at=(N(324),N(9574)),Ye=N(8779),Ze=N(467),Dt=N(1156),H=N(1401),We=N(5398);const bt="@firebase/database";let Mt="";function kt(p){Mt=p}class cn{constructor(d){this.domStorage_=d,this.prefix_="firebase:"}set(d,h){null==h?this.domStorage_.removeItem(this.prefixedName_(d)):this.domStorage_.setItem(this.prefixedName_(d),(0,H.As)(h))}get(d){const h=this.domStorage_.getItem(this.prefixedName_(d));return null==h?null:(0,H.$L)(h)}remove(d){this.domStorage_.removeItem(this.prefixedName_(d))}prefixedName_(d){return this.prefix_+d}toString(){return this.domStorage_.toString()}}class qe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(d,h){null==h?delete this.cache_[d]:this.cache_[d]=h}get(d){return(0,H.gR)(this.cache_,d)?this.cache_[d]:null}remove(d){delete this.cache_[d]}}const Se=function(p){try{if(typeof window<"u"&&typeof window[p]<"u"){const d=window[p];return d.setItem("firebase:sentinel","cache"),d.removeItem("firebase:sentinel"),new cn(d)}}catch{}return new qe},Ie=Se("localStorage"),Me=Se("sessionStorage"),le=new We.Vy("@firebase/database"),Pe=function(){let p=1;return function(){return p++}}(),ot=function(p){const d=(0,H.kj)(p),h=new H.gz;h.update(d);const _=h.digest();return H.K3.encodeByteArray(_)},Xe=function(...p){let d="";for(let h=0;h<p.length;h++){const _=p[h];Array.isArray(_)||_&&"object"==typeof _&&"number"==typeof _.length?d+=Xe.apply(null,_):d+="object"==typeof _?(0,H.As)(_):_,d+=" "}return d};let De=null,Ct=!0;const fe=function(p,d){(0,H.vA)(!d||!0===p||!1===p,"Can't turn on custom loggers persistently."),!0===p?(le.logLevel=We.$b.VERBOSE,De=le.log.bind(le),d&&Me.set("logging_enabled",!0)):"function"==typeof p?De=p:(De=null,Me.remove("logging_enabled"))},st=function(...p){if(!0===Ct&&(Ct=!1,null===De&&!0===Me.get("logging_enabled")&&fe(!0)),De){const d=Xe.apply(null,p);De(d)}},Ot=function(p){return function(...d){st(p,...d)}},Nt=function(...p){const d="FIREBASE INTERNAL ERROR: "+Xe(...p);le.error(d)},hn=function(...p){const d=`FIREBASE FATAL ERROR: ${Xe(...p)}`;throw le.error(d),new Error(d)},Vn=function(...p){const d="FIREBASE WARNING: "+Xe(...p);le.warn(d)},Nn=function(p){return"number"==typeof p&&(p!=p||p===Number.POSITIVE_INFINITY||p===Number.NEGATIVE_INFINITY)},Un="[MIN_NAME]",Xn="[MAX_NAME]",mt=function(p,d){if(p===d)return 0;if(p===Un||d===Xn)return-1;if(d===Un||p===Xn)return 1;{const h=Qr(p),_=Qr(d);return null!==h?null!==_?h-_==0?p.length-d.length:h-_:-1:null!==_?1:p<d?-1:1}},Gt=function(p,d){return p===d?0:p<d?-1:1},Ht=function(p,d){if(d&&p in d)return d[p];throw new Error("Missing required key ("+p+") in object: "+(0,H.As)(d))},Mn=function(p){if("object"!=typeof p||null===p)return(0,H.As)(p);const d=[];for(const _ in p)d.push(_);d.sort();let h="{";for(let _=0;_<d.length;_++)0!==_&&(h+=","),h+=(0,H.As)(d[_]),h+=":",h+=Mn(p[d[_]]);return h+="}",h},Er=function(p,d){const h=p.length;if(h<=d)return[p];const _=[];for(let A=0;A<h;A+=d)_.push(p.substring(A,A+d>h?h:A+d));return _};function ir(p,d){for(const h in p)p.hasOwnProperty(h)&&d(h,p[h])}const Jn=function(p){(0,H.vA)(!Nn(p),"Invalid JSON number");const _=1023;let A,V,X,Ee,je;0===p?(V=0,X=0,A=1/p==-1/0?1:0):(A=p<0,(p=Math.abs(p))>=Math.pow(2,1-_)?(Ee=Math.min(Math.floor(Math.log(p)/Math.LN2),_),V=Ee+_,X=Math.round(p*Math.pow(2,52-Ee)-Math.pow(2,52))):(V=0,X=Math.round(p/Math.pow(2,-1074))));const ut=[];for(je=52;je;je-=1)ut.push(X%2?1:0),X=Math.floor(X/2);for(je=11;je;je-=1)ut.push(V%2?1:0),V=Math.floor(V/2);ut.push(A?1:0),ut.reverse();const tn=ut.join("");let pn="";for(je=0;je<64;je+=8){let Dn=parseInt(tn.substr(je,8),2).toString(16);1===Dn.length&&(Dn="0"+Dn),pn+=Dn}return pn.toLowerCase()},rr=new RegExp("^-?(0*)\\d{1,10}$"),Qr=function(p){if(rr.test(p)){const d=Number(p);if(d>=-2147483648&&d<=2147483647)return d}return null},Tr=function(p){try{p()}catch(d){setTimeout(()=>{throw Vn("Exception was thrown by user callback.",d.stack||""),d},Math.floor(0))}},_r=function(p,d){const h=setTimeout(p,d);return"number"==typeof h&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(h):"object"==typeof h&&h.unref&&h.unref(),h};class fi{constructor(d,h){this.appName_=d,this.appCheckProvider=h,this.appCheck=h?.getImmediate({optional:!0}),this.appCheck||h?.get().then(_=>this.appCheck=_)}getToken(d){return this.appCheck?this.appCheck.getToken(d):new Promise((h,_)=>{setTimeout(()=>{this.appCheck?this.getToken(d).then(h,_):h(null)},0)})}addTokenChangeListener(d){var h;null===(h=this.appCheckProvider)||void 0===h||h.get().then(_=>_.addTokenListener(d))}notifyForInvalidToken(){Vn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Pr{constructor(d,h,_){this.appName_=d,this.firebaseOptions_=h,this.authProvider_=_,this.auth_=null,this.auth_=_.getImmediate({optional:!0}),this.auth_||_.onInit(A=>this.auth_=A)}getToken(d){return this.auth_?this.auth_.getToken(d).catch(h=>h&&"auth/token-not-initialized"===h.code?(st("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(h)):new Promise((h,_)=>{setTimeout(()=>{this.auth_?this.getToken(d).then(h,_):h(null)},0)})}addTokenChangeListener(d){this.auth_?this.auth_.addAuthTokenListener(d):this.authProvider_.get().then(h=>h.addAuthTokenListener(d))}removeTokenChangeListener(d){this.authProvider_.get().then(h=>h.removeAuthTokenListener(d))}notifyForInvalidToken(){let d='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';d+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vn(d)}}let pi=(()=>{class p{constructor(h){this.accessToken=h}getToken(h){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(h){h(this.accessToken)}removeTokenChangeListener(h){}notifyForInvalidToken(){}}return p.OWNER="owner",p})();const ht=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Bn="websocket",Ge="long_polling";class $e{constructor(d,h,_,A,V=!1,X="",Ee=!1,je=!1){this.secure=h,this.namespace=_,this.webSocketOnly=A,this.nodeAdmin=V,this.persistenceKey=X,this.includeNamespaceInQueryParams=Ee,this.isUsingEmulator=je,this._host=d.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ie.get("host:"+d)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(d){d!==this.internalHost&&(this.internalHost=d,this.isCacheableHost()&&Ie.set("host:"+this._host,this.internalHost))}toString(){let d=this.toURLString();return this.persistenceKey&&(d+="<"+this.persistenceKey+">"),d}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Jt(p,d,h){let _;if((0,H.vA)("string"==typeof d,"typeof type must == string"),(0,H.vA)("object"==typeof h,"typeof params must == object"),d===Bn)_=(p.secure?"wss://":"ws://")+p.internalHost+"/.ws?";else{if(d!==Ge)throw new Error("Unknown connection type: "+d);_=(p.secure?"https://":"http://")+p.internalHost+"/.lp?"}(function vt(p){return p.host!==p.internalHost||p.isCustomHost()||p.includeNamespaceInQueryParams})(p)&&(h.ns=p.namespace);const A=[];return ir(h,(V,X)=>{A.push(V+"="+X)}),_+A.join("&")}class xt{constructor(){this.counters_={}}incrementCounter(d,h=1){(0,H.gR)(this.counters_,d)||(this.counters_[d]=0),this.counters_[d]+=h}get(){return(0,H.A4)(this.counters_)}}const Fn={},qn={};function Jr(p){const d=p.toString();return Fn[d]||(Fn[d]=new xt),Fn[d]}class xr{constructor(d){this.onMessage_=d,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(d,h){this.closeAfterResponse=d,this.onClose=h,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(d,h){for(this.pendingResponses[d]=h;this.pendingResponses[this.currentResponseNum];){const _=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let A=0;A<_.length;++A)_[A]&&Tr(()=>{this.onMessage_(_[A])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class pt{constructor(d,h,_,A,V,X,Ee){this.connId=d,this.repoInfo=h,this.applicationId=_,this.appCheckToken=A,this.authToken=V,this.transportSessionId=X,this.lastSessionId=Ee,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ot(d),this.stats_=Jr(h),this.urlFn=je=>(this.appCheckToken&&(je.ac=this.appCheckToken),Jt(h,Ge,je))}open(d,h){this.curSegmentNum=0,this.onDisconnect_=h,this.myPacketOrderer=new xr(d),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(p){if((0,H.$g)()||"complete"===document.readyState)p();else{let d=!1;const h=function(){document.body?d||(d=!0,p()):setTimeout(h,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",h,!1),window.addEventListener("load",h,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&h()}),window.attachEvent("onload",h))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new an((...V)=>{const[X,Ee,je,ut,tn]=V;if(this.incrementIncomingBytes_(V),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===X)this.id=Ee,this.password=je;else{if("close"!==X)throw new Error("Unrecognized command received: "+X);Ee?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Ee,()=>{this.onClosed_()})):this.onClosed_()}},(...V)=>{const[X,Ee]=V;this.incrementIncomingBytes_(V),this.myPacketOrderer.handleResponse(X,Ee)},()=>{this.onClosed_()},this.urlFn);const _={start:"t"};_.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(_.cb=this.scriptTagHolder.uniqueCallbackIdentifier),_.v="5",this.transportSessionId&&(_.s=this.transportSessionId),this.lastSessionId&&(_.ls=this.lastSessionId),this.applicationId&&(_.p=this.applicationId),this.appCheckToken&&(_.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&ht.test(location.hostname)&&(_.r="f");const A=this.urlFn(_);this.log_("Connecting via long-poll to "+A),this.scriptTagHolder.addTag(A,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){pt.forceAllow_=!0}static forceDisallow(){pt.forceDisallow_=!0}static isAvailable(){return!((0,H.$g)()||!pt.forceAllow_&&(pt.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(d){const h=(0,H.As)(d);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);const _=(0,H.KA)(h),A=Er(_,1840);for(let V=0;V<A.length;V++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,A.length,A[V]),this.curSegmentNum++}addDisconnectPingFrame(d,h){if((0,H.$g)())return;this.myDisconnFrame=document.createElement("iframe");const _={dframe:"t"};_.id=d,_.pw=h,this.myDisconnFrame.src=this.urlFn(_),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(d){const h=(0,H.As)(d).length;this.bytesReceived+=h,this.stats_.incrementCounter("bytes_received",h)}}class an{constructor(d,h,_,A){if(this.onDisconnect=_,this.urlFn=A,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.$g)())this.commandCB=d,this.onMessageCB=h;else{this.uniqueCallbackIdentifier=Pe(),window["pLPCommand"+this.uniqueCallbackIdentifier]=d,window["pRTLPCB"+this.uniqueCallbackIdentifier]=h,this.myIFrame=an.createIFrame_();let V="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(V='<script>document.domain="'+document.domain+'";<\/script>');const X="<html><body>"+V+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(X),this.myIFrame.doc.close()}catch(Ee){st("frame writing exception"),Ee.stack&&st(Ee.stack),st(Ee)}}}static createIFrame_(){const d=document.createElement("iframe");if(d.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(d);try{d.contentWindow.document||st("No IE domain setting required")}catch{const _=document.domain;d.src="javascript:void((function(){document.open();document.domain='"+_+"';document.close();})())"}return d.contentDocument?d.doc=d.contentDocument:d.contentWindow?d.doc=d.contentWindow.document:d.document&&(d.doc=d.document),d}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const d=this.onDisconnect;d&&(this.onDisconnect=null,d())}startLongPoll(d,h){for(this.myID=d,this.myPW=h,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const d={};d.id=this.myID,d.pw=this.myPW,d.ser=this.currentSerial;let h=this.urlFn(d),_="",A=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+_.length<=1870;){const X=this.pendingSegs.shift();_=_+"&seg"+A+"="+X.seg+"&ts"+A+"="+X.ts+"&d"+A+"="+X.d,A++}return h+=_,this.addLongPollTag_(h,this.currentSerial),!0}return!1}enqueueSegment(d,h,_){this.pendingSegs.push({seg:d,ts:h,d:_}),this.alive&&this.newRequest_()}addLongPollTag_(d,h){this.outstandingRequests.add(h);const _=()=>{this.outstandingRequests.delete(h),this.newRequest_()},A=setTimeout(_,Math.floor(25e3));this.addTag(d,()=>{clearTimeout(A),_()})}addTag(d,h){(0,H.$g)()?this.doNodeLongPoll(d,h):setTimeout(()=>{try{if(!this.sendNewPolls)return;const _=this.myIFrame.doc.createElement("script");_.type="text/javascript",_.async=!0,_.src=d,_.onload=_.onreadystatechange=function(){const A=_.readyState;(!A||"loaded"===A||"complete"===A)&&(_.onload=_.onreadystatechange=null,_.parentNode&&_.parentNode.removeChild(_),h())},_.onerror=()=>{st("Long-poll script failed to load: "+d),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(_)}catch{}},Math.floor(1))}}let Ue=null;typeof MozWebSocket<"u"?Ue=MozWebSocket:typeof WebSocket<"u"&&(Ue=WebSocket);let Qe=(()=>{class p{constructor(h,_,A,V,X,Ee,je){this.connId=h,this.applicationId=A,this.appCheckToken=V,this.authToken=X,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ot(this.connId),this.stats_=Jr(_),this.connURL=p.connectionURL_(_,Ee,je,V,A),this.nodeAdmin=_.nodeAdmin}static connectionURL_(h,_,A,V,X){const Ee={v:"5"};return!(0,H.$g)()&&typeof location<"u"&&location.hostname&&ht.test(location.hostname)&&(Ee.r="f"),_&&(Ee.s=_),A&&(Ee.ls=A),V&&(Ee.ac=V),X&&(Ee.p=X),Jt(h,Bn,Ee)}open(h,_){this.onDisconnect=_,this.onMessage=h,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ie.set("previous_websocket_failure",!0);try{let A;if((0,H.$g)()){A={headers:{"User-Agent":`Firebase/5/${Mt}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(A.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(A.headers["X-Firebase-AppCheck"]=this.appCheckToken);const X=process.env,Ee=0===this.connURL.indexOf("wss://")?X.HTTPS_PROXY||X.https_proxy:X.HTTP_PROXY||X.http_proxy;Ee&&(A.proxy={origin:Ee})}this.mySock=new Ue(this.connURL,[],A)}catch(A){this.log_("Error instantiating WebSocket.");const V=A.message||A.data;return V&&this.log_(V),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=A=>{this.handleIncomingFrame(A)},this.mySock.onerror=A=>{this.log_("WebSocket error.  Closing connection.");const V=A.message||A.data;V&&this.log_(V),this.onClosed_()}}start(){}static forceDisallow(){p.forceDisallow_=!0}static isAvailable(){let h=!1;if(typeof navigator<"u"&&navigator.userAgent){const A=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);A&&A.length>1&&parseFloat(A[1])<4.4&&(h=!0)}return!h&&null!==Ue&&!p.forceDisallow_}static previouslyFailed(){return Ie.isInMemoryStorage||!0===Ie.get("previous_websocket_failure")}markConnectionHealthy(){Ie.remove("previous_websocket_failure")}appendFrame_(h){if(this.frames.push(h),this.frames.length===this.totalFrames){const _=this.frames.join("");this.frames=null;const A=(0,H.$L)(_);this.onMessage(A)}}handleNewFrameCount_(h){this.totalFrames=h,this.frames=[]}extractFrameCount_(h){if((0,H.vA)(null===this.frames,"We already have a frame buffer"),h.length<=6){const _=Number(h);if(!isNaN(_))return this.handleNewFrameCount_(_),null}return this.handleNewFrameCount_(1),h}handleIncomingFrame(h){if(null===this.mySock)return;const _=h.data;if(this.bytesReceived+=_.length,this.stats_.incrementCounter("bytes_received",_.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(_);else{const A=this.extractFrameCount_(_);null!==A&&this.appendFrame_(A)}}send(h){this.resetKeepAlive();const _=(0,H.As)(h);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);const A=Er(_,16384);A.length>1&&this.sendString_(String(A.length));for(let V=0;V<A.length;V++)this.sendString_(A[V])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(h){try{this.mySock.send(h)}catch(_){this.log_("Exception thrown from WebSocket.send():",_.message||_.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return p.responsesRequiredToBeHealthy=2,p.healthyTimeout=3e4,p})(),Wt=(()=>{class p{constructor(h){this.initTransports_(h)}static get ALL_TRANSPORTS(){return[pt,Qe]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(h){const _=Qe&&Qe.isAvailable();let A=_&&!Qe.previouslyFailed();if(h.webSocketOnly&&(_||Vn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),A=!0),A)this.transports_=[Qe];else{const V=this.transports_=[];for(const X of p.ALL_TRANSPORTS)X&&X.isAvailable()&&V.push(X);p.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return p.globalTransportInitialized_=!1,p})();class he{constructor(d,h,_,A,V,X,Ee,je,ut,tn){this.id=d,this.repoInfo_=h,this.applicationId_=_,this.appCheckToken_=A,this.authToken_=V,this.onMessage_=X,this.onReady_=Ee,this.onDisconnect_=je,this.onKill_=ut,this.lastSessionId=tn,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ot("c:"+this.id+":"),this.transportManager_=new Wt(h),this.log_("Connection created"),this.start_()}start_(){const d=this.transportManager_.initialTransport();this.conn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;const h=this.connReceiver_(this.conn_),_=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(h,_)},Math.floor(0));const A=d.healthyTimeout||0;A>0&&(this.healthyTimeout_=_r(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(A)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(d){return h=>{d===this.conn_?this.onConnectionLost_(h):d===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(d){return h=>{2!==this.state_&&(d===this.rx_?this.onPrimaryMessageReceived_(h):d===this.secondaryConn_?this.onSecondaryMessageReceived_(h):this.log_("message on old connection"))}}sendRequest(d){this.sendData_({t:"d",d})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(d){if("t"in d){const h=d.t;"a"===h?this.upgradeIfSecondaryHealthy_():"r"===h?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===h&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(d){const h=Ht("t",d),_=Ht("d",d);if("c"===h)this.onSecondaryControl_(_);else{if("d"!==h)throw new Error("Unknown protocol layer: "+h);this.pendingDataMessages.push(_)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(d){const h=Ht("t",d),_=Ht("d",d);"c"===h?this.onControl_(_):"d"===h&&this.onDataMessage_(_)}onDataMessage_(d){this.onPrimaryResponse_(),this.onMessage_(d)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(d){const h=Ht("t",d);if("d"in d){const _=d.d;if("h"===h){const A=Object.assign({},_);this.repoInfo_.isUsingEmulator&&(A.h=this.repoInfo_.host),this.onHandshake_(A)}else if("n"===h){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let A=0;A<this.pendingDataMessages.length;++A)this.onDataMessage_(this.pendingDataMessages[A]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===h?this.onConnectionShutdown_(_):"r"===h?this.onReset_(_):"e"===h?Nt("Server Error: "+_):"o"===h?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nt("Unknown control packet command: "+h)}}onHandshake_(d){const h=d.ts,_=d.v,A=d.h;this.sessionId=d.s,this.repoInfo_.host=A,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,h),"5"!==_&&Vn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const d=this.transportManager_.upgradeTransport();d&&this.startUpgrade_(d)}startUpgrade_(d){this.secondaryConn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;const h=this.connReceiver_(this.secondaryConn_),_=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(h,_),_r(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(d){this.log_("Reset packet received.  New host: "+d),this.repoInfo_.host=d,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(d,h){this.log_("Realtime connection established."),this.conn_=d,this.state_=1,this.onReady_&&(this.onReady_(h,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_r(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const d=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===d||this.rx_===d)&&this.close()}onConnectionLost_(d){this.conn_=null,d||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ie.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(d){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(d),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(d){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(d)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ye{put(d,h,_,A){}merge(d,h,_,A){}refreshAuthToken(d){}refreshAppCheckToken(d){}onDisconnectPut(d,h,_){}onDisconnectMerge(d,h,_){}onDisconnectCancel(d,h){}reportStats(d){}}class ct{constructor(d){this.allowedEvents_=d,this.listeners_={},(0,H.vA)(Array.isArray(d)&&d.length>0,"Requires a non-empty array")}trigger(d,...h){if(Array.isArray(this.listeners_[d])){const _=[...this.listeners_[d]];for(let A=0;A<_.length;A++)_[A].callback.apply(_[A].context,h)}}on(d,h,_){this.validateEventType_(d),this.listeners_[d]=this.listeners_[d]||[],this.listeners_[d].push({callback:h,context:_});const A=this.getInitialEvent(d);A&&h.apply(_,A)}off(d,h,_){this.validateEventType_(d);const A=this.listeners_[d]||[];for(let V=0;V<A.length;V++)if(A[V].callback===h&&(!_||_===A[V].context))return void A.splice(V,1)}validateEventType_(d){(0,H.vA)(this.allowedEvents_.find(h=>h===d),"Unknown event: "+d)}}class qt extends ct{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,H.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new qt}getInitialEvent(d){return(0,H.vA)("online"===d,"Unknown event type: "+d),[this.online_]}currentlyOnline(){return this.online_}}class er{constructor(d,h){if(void 0===h){this.pieces_=d.split("/");let _=0;for(let A=0;A<this.pieces_.length;A++)this.pieces_[A].length>0&&(this.pieces_[_]=this.pieces_[A],_++);this.pieces_.length=_,this.pieceNum_=0}else this.pieces_=d,this.pieceNum_=h}toString(){let d="";for(let h=this.pieceNum_;h<this.pieces_.length;h++)""!==this.pieces_[h]&&(d+="/"+this.pieces_[h]);return d||"/"}}function Cr(){return new er("")}function Pn(p){return p.pieceNum_>=p.pieces_.length?null:p.pieces_[p.pieceNum_]}function tr(p){return p.pieces_.length-p.pieceNum_}function Br(p){let d=p.pieceNum_;return d<p.pieces_.length&&d++,new er(p.pieces_,d)}function hs(p){return p.pieceNum_<p.pieces_.length?p.pieces_[p.pieces_.length-1]:null}function mr(p,d=0){return p.pieces_.slice(p.pieceNum_+d)}function So(p){if(p.pieceNum_>=p.pieces_.length)return null;const d=[];for(let h=p.pieceNum_;h<p.pieces_.length-1;h++)d.push(p.pieces_[h]);return new er(d,0)}function ur(p,d){const h=[];for(let _=p.pieceNum_;_<p.pieces_.length;_++)h.push(p.pieces_[_]);if(d instanceof er)for(let _=d.pieceNum_;_<d.pieces_.length;_++)h.push(d.pieces_[_]);else{const _=d.split("/");for(let A=0;A<_.length;A++)_[A].length>0&&h.push(_[A])}return new er(h,0)}function zr(p){return p.pieceNum_>=p.pieces_.length}function Xr(p,d){const h=Pn(p),_=Pn(d);if(null===h)return d;if(h===_)return Xr(Br(p),Br(d));throw new Error("INTERNAL ERROR: innerPath ("+d+") is not within outerPath ("+p+")")}function Wn(p,d){const h=mr(p,0),_=mr(d,0);for(let A=0;A<h.length&&A<_.length;A++){const V=mt(h[A],_[A]);if(0!==V)return V}return h.length===_.length?0:h.length<_.length?-1:1}function zi(p,d){if(tr(p)!==tr(d))return!1;for(let h=p.pieceNum_,_=d.pieceNum_;h<=p.pieces_.length;h++,_++)if(p.pieces_[h]!==d.pieces_[_])return!1;return!0}function fs(p,d){let h=p.pieceNum_,_=d.pieceNum_;if(tr(p)>tr(d))return!1;for(;h<p.pieces_.length;){if(p.pieces_[h]!==d.pieces_[_])return!1;++h,++_}return!0}class Ts{constructor(d,h){this.errorPrefix_=h,this.parts_=mr(d,0),this.byteLength_=Math.max(1,this.parts_.length);for(let _=0;_<this.parts_.length;_++)this.byteLength_+=(0,H.OE)(this.parts_[_]);ce(this)}}function ce(p){if(p.byteLength_>768)throw new Error(p.errorPrefix_+"has a key path longer than 768 bytes ("+p.byteLength_+").");if(p.parts_.length>32)throw new Error(p.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+O(p))}function O(p){return 0===p.parts_.length?"":"in property '"+p.parts_.join(".")+"'"}class S extends ct{constructor(){let d,h;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(h="visibilitychange",d="hidden"):typeof document.mozHidden<"u"?(h="mozvisibilitychange",d="mozHidden"):typeof document.msHidden<"u"?(h="msvisibilitychange",d="msHidden"):typeof document.webkitHidden<"u"&&(h="webkitvisibilitychange",d="webkitHidden")),this.visible_=!0,h&&document.addEventListener(h,()=>{const _=!document[d];_!==this.visible_&&(this.visible_=_,this.trigger("visible",_))},!1)}static getInstance(){return new S}getInitialEvent(d){return(0,H.vA)("visible"===d,"Unknown event type: "+d),[this.visible_]}}const K=1e3;let Gr,et=(()=>{class p extends ye{constructor(h,_,A,V,X,Ee,je,ut){if(super(),this.repoInfo_=h,this.applicationId_=_,this.onDataUpdate_=A,this.onConnectStatus_=V,this.onServerInfoUpdate_=X,this.authTokenProvider_=Ee,this.appCheckTokenProvider_=je,this.authOverride_=ut,this.id=p.nextPersistentConnectionId_++,this.log_=Ot("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=K,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ut&&!(0,H.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");S.getInstance().on("visible",this.onVisible_,this),-1===h.host.indexOf("fblocal")&&qt.getInstance().on("online",this.onOnline_,this)}sendRequest(h,_,A){const V=++this.requestNumber_,X={r:V,a:h,b:_};this.log_((0,H.As)(X)),(0,H.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(X),A&&(this.requestCBHash_[V]=A)}get(h){this.initConnection_();const _=new H.cY,V={action:"g",request:{p:h._path.toString(),q:h._queryObject},onComplete:Ee=>{const je=Ee.d;"ok"===Ee.s?_.resolve(je):_.reject(je)}};return this.outstandingGets_.push(V),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),_.promise}listen(h,_,A,V){this.initConnection_();const X=h._queryIdentifier,Ee=h._path.toString();this.log_("Listen called for "+Ee+" "+X),this.listens.has(Ee)||this.listens.set(Ee,new Map),(0,H.vA)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.vA)(!this.listens.get(Ee).has(X),"listen() called twice for same path/queryId.");const je={onComplete:V,hashFn:_,query:h,tag:A};this.listens.get(Ee).set(X,je),this.connected_&&this.sendListen_(je)}sendGet_(h){const _=this.outstandingGets_[h];this.sendRequest("g",_.request,A=>{delete this.outstandingGets_[h],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),_.onComplete&&_.onComplete(A)})}sendListen_(h){const _=h.query,A=_._path.toString(),V=_._queryIdentifier;this.log_("Listen on "+A+" for "+V);const X={p:A};h.tag&&(X.q=_._queryObject,X.t=h.tag),X.h=h.hashFn(),this.sendRequest("q",X,je=>{const ut=je.d,tn=je.s;p.warnOnListenWarnings_(ut,_),(this.listens.get(A)&&this.listens.get(A).get(V))===h&&(this.log_("listen response",je),"ok"!==tn&&this.removeListen_(A,V),h.onComplete&&h.onComplete(tn,ut))})}static warnOnListenWarnings_(h,_){if(h&&"object"==typeof h&&(0,H.gR)(h,"w")){const A=(0,H.yw)(h,"w");if(Array.isArray(A)&&~A.indexOf("no_index")){const V='".indexOn": "'+_._queryParams.getIndex().toString()+'"',X=_._path.toString();Vn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${V} at ${X} to your security rules for better performance.`)}}}refreshAuthToken(h){this.authToken_=h,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(h)}reduceReconnectDelayIfAdminCredential_(h){(h&&40===h.length||(0,H.qc)(h))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(h){this.appCheckToken_=h,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const h=this.authToken_,_=(0,H.Cv)(h)?"auth":"gauth",A={cred:h};null===this.authOverride_?A.noauth=!0:"object"==typeof this.authOverride_&&(A.authvar=this.authOverride_),this.sendRequest(_,A,V=>{const X=V.s,Ee=V.d||"error";this.authToken_===h&&("ok"===X?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(X,Ee))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},h=>{const _=h.s,A=h.d||"error";"ok"===_?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(_,A)})}unlisten(h,_){const A=h._path.toString(),V=h._queryIdentifier;this.log_("Unlisten called for "+A+" "+V),(0,H.vA)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(A,V)&&this.connected_&&this.sendUnlisten_(A,V,h._queryObject,_)}sendUnlisten_(h,_,A,V){this.log_("Unlisten on "+h+" for "+_);const X={p:h};V&&(X.q=A,X.t=V),this.sendRequest("n",X)}onDisconnectPut(h,_,A){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",h,_,A):this.onDisconnectRequestQueue_.push({pathString:h,action:"o",data:_,onComplete:A})}onDisconnectMerge(h,_,A){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",h,_,A):this.onDisconnectRequestQueue_.push({pathString:h,action:"om",data:_,onComplete:A})}onDisconnectCancel(h,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",h,null,_):this.onDisconnectRequestQueue_.push({pathString:h,action:"oc",data:null,onComplete:_})}sendOnDisconnect_(h,_,A,V){const X={p:_,d:A};this.log_("onDisconnect "+h,X),this.sendRequest(h,X,Ee=>{V&&setTimeout(()=>{V(Ee.s,Ee.d)},Math.floor(0))})}put(h,_,A,V){this.putInternal("p",h,_,A,V)}merge(h,_,A,V){this.putInternal("m",h,_,A,V)}putInternal(h,_,A,V,X){this.initConnection_();const Ee={p:_,d:A};void 0!==X&&(Ee.h=X),this.outstandingPuts_.push({action:h,request:Ee,onComplete:V}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+_)}sendPut_(h){const _=this.outstandingPuts_[h].action,A=this.outstandingPuts_[h].request,V=this.outstandingPuts_[h].onComplete;this.outstandingPuts_[h].queued=this.connected_,this.sendRequest(_,A,X=>{this.log_(_+" response",X),delete this.outstandingPuts_[h],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),V&&V(X.s,X.d)})}reportStats(h){if(this.connected_){const _={c:h};this.log_("reportStats",_),this.sendRequest("s",_,A=>{"ok"!==A.s&&this.log_("reportStats","Error sending stats: "+A.d)})}}onDataMessage_(h){if("r"in h){this.log_("from server: "+(0,H.As)(h));const _=h.r,A=this.requestCBHash_[_];A&&(delete this.requestCBHash_[_],A(h.b))}else{if("error"in h)throw"A server-side error has occurred: "+h.error;"a"in h&&this.onDataPush_(h.a,h.b)}}onDataPush_(h,_){this.log_("handleServerMessage",h,_),"d"===h?this.onDataUpdate_(_.p,_.d,!1,_.t):"m"===h?this.onDataUpdate_(_.p,_.d,!0,_.t):"c"===h?this.onListenRevoked_(_.p,_.q):"ac"===h?this.onAuthRevoked_(_.s,_.d):"apc"===h?this.onAppCheckRevoked_(_.s,_.d):"sd"===h?this.onSecurityDebugPacket_(_):Nt("Unrecognized action received from server: "+(0,H.As)(h)+"\nAre you using the latest client?")}onReady_(h,_){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(h),this.lastSessionId=_,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(h){(0,H.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(h))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(h){h&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=K,this.realtime_||this.scheduleConnect_(0)),this.visible_=h}onOnline_(h){h?(this.log_("Browser went online."),this.reconnectDelay_=K,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=K),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const h=(new Date).getTime()-this.lastConnectionAttemptTime_;let _=Math.max(0,this.reconnectDelay_-h);_=Math.random()*_,this.log_("Trying to reconnect in "+_+"ms"),this.scheduleConnect_(_),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var h=this;return(0,Ze.A)(function*(){if(h.shouldReconnect_()){h.log_("Making a connection attempt"),h.lastConnectionAttemptTime_=(new Date).getTime(),h.lastConnectionEstablishedTime_=null;const _=h.onDataMessage_.bind(h),A=h.onReady_.bind(h),V=h.onRealtimeDisconnect_.bind(h),X=h.id+":"+p.nextConnectionId_++,Ee=h.lastSessionId;let je=!1,ut=null;const tn=function(){ut?ut.close():(je=!0,V())};h.realtime_={close:tn,sendRequest:function(vr){(0,H.vA)(ut,"sendRequest call when we're not connected not allowed."),ut.sendRequest(vr)}};const Dn=h.forceTokenRefresh_;h.forceTokenRefresh_=!1;try{const[vr,Hr]=yield Promise.all([h.authTokenProvider_.getToken(Dn),h.appCheckTokenProvider_.getToken(Dn)]);je?st("getToken() completed but was canceled"):(st("getToken() completed. Creating connection."),h.authToken_=vr&&vr.accessToken,h.appCheckToken_=Hr&&Hr.token,ut=new he(X,h.repoInfo_,h.applicationId_,h.appCheckToken_,h.authToken_,_,A,V,Wi=>{Vn(Wi+" ("+h.repoInfo_.toString()+")"),h.interrupt("server_kill")},Ee))}catch(vr){h.log_("Failed to get token: "+vr),je||(h.repoInfo_.nodeAdmin&&Vn(vr),tn())}}})()}interrupt(h){st("Interrupting connection for reason: "+h),this.interruptReasons_[h]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(h){st("Resuming connection for reason: "+h),delete this.interruptReasons_[h],(0,H.Im)(this.interruptReasons_)&&(this.reconnectDelay_=K,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(h){const _=h-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:_})}cancelSentTransactions_(){for(let h=0;h<this.outstandingPuts_.length;h++){const _=this.outstandingPuts_[h];_&&"h"in _.request&&_.queued&&(_.onComplete&&_.onComplete("disconnect"),delete this.outstandingPuts_[h],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(h,_){let A;A=_?_.map(X=>Mn(X)).join("$"):"default";const V=this.removeListen_(h,A);V&&V.onComplete&&V.onComplete("permission_denied")}removeListen_(h,_){const A=new er(h).toString();let V;if(this.listens.has(A)){const X=this.listens.get(A);V=X.get(_),X.delete(_),0===X.size&&this.listens.delete(A)}else V=void 0;return V}onAuthRevoked_(h,_){st("Auth token revoked: "+h+"/"+_),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===h||"permission_denied"===h)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(h,_){st("App check token revoked: "+h+"/"+_),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===h||"permission_denied"===h)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(h){this.securityDebugCallback_?this.securityDebugCallback_(h):"msg"in h&&console.log("FIREBASE: "+h.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const h of this.listens.values())for(const _ of h.values())this.sendListen_(_);for(let h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){const h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(let h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)}sendConnectStats_(){const h={};let _="js";(0,H.$g)()&&(_=this.repoInfo_.nodeAdmin?"admin_node":"node"),h["sdk."+_+"."+Mt.replace(/\./g,"-")]=1,(0,H.jZ)()?h["framework.cordova"]=1:(0,H.lV)()&&(h["framework.reactnative"]=1),this.reportStats(h)}shouldReconnect_(){const h=qt.getInstance().currentlyOnline();return(0,H.Im)(this.interruptReasons_)&&h}}return p.nextPersistentConnectionId_=0,p.nextConnectionId_=0,p})();class On{constructor(d,h){this.name=d,this.node=h}static Wrap(d,h){return new On(d,h)}}class lr{getCompare(){return this.compare.bind(this)}indexedValueChanged(d,h){const _=new On(Un,d),A=new On(Un,h);return 0!==this.compare(_,A)}minPost(){return On.MIN}}class Li extends lr{static get __EMPTY_NODE(){return Gr}static set __EMPTY_NODE(d){Gr=d}compare(d,h){return mt(d.name,h.name)}isDefinedOn(d){throw(0,H.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(d,h){return!1}minPost(){return On.MIN}maxPost(){return new On(Xn,Gr)}makePost(d,h){return(0,H.vA)("string"==typeof d,"KeyIndex indexValue must always be a string."),new On(d,Gr)}toString(){return".key"}}const mi=new Li;class qr{constructor(d,h,_,A,V=null){this.isReverse_=A,this.resultGenerator_=V,this.nodeStack_=[];let X=1;for(;!d.isEmpty();)if(X=h?_(d.key,h):1,A&&(X*=-1),X<0)d=this.isReverse_?d.left:d.right;else{if(0===X){this.nodeStack_.push(d);break}this.nodeStack_.push(d),d=this.isReverse_?d.right:d.left}}getNext(){if(0===this.nodeStack_.length)return null;let h,d=this.nodeStack_.pop();if(h=this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value},this.isReverse_)for(d=d.left;!d.isEmpty();)this.nodeStack_.push(d),d=d.right;else for(d=d.right;!d.isEmpty();)this.nodeStack_.push(d),d=d.left;return h}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const d=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value}}}let Gs,Ti=(()=>{class p{constructor(h,_,A,V,X){this.key=h,this.value=_,this.color=A??p.RED,this.left=V??Ei.EMPTY_NODE,this.right=X??Ei.EMPTY_NODE}copy(h,_,A,V,X){return new p(h??this.key,_??this.value,A??this.color,V??this.left,X??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(h){return this.left.inorderTraversal(h)||!!h(this.key,this.value)||this.right.inorderTraversal(h)}reverseTraversal(h){return this.right.reverseTraversal(h)||h(this.key,this.value)||this.left.reverseTraversal(h)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(h,_,A){let V=this;const X=A(h,V.key);return V=X<0?V.copy(null,null,null,V.left.insert(h,_,A),null):0===X?V.copy(null,_,null,null,null):V.copy(null,null,null,null,V.right.insert(h,_,A)),V.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ei.EMPTY_NODE;let h=this;return!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.removeMin_(),null),h.fixUp_()}remove(h,_){let A,V;if(A=this,_(h,A.key)<0)!A.left.isEmpty()&&!A.left.isRed_()&&!A.left.left.isRed_()&&(A=A.moveRedLeft_()),A=A.copy(null,null,null,A.left.remove(h,_),null);else{if(A.left.isRed_()&&(A=A.rotateRight_()),!A.right.isEmpty()&&!A.right.isRed_()&&!A.right.left.isRed_()&&(A=A.moveRedRight_()),0===_(h,A.key)){if(A.right.isEmpty())return Ei.EMPTY_NODE;V=A.right.min_(),A=A.copy(V.key,V.value,null,null,A.right.removeMin_())}A=A.copy(null,null,null,null,A.right.remove(h,_))}return A.fixUp_()}isRed_(){return this.color}fixUp_(){let h=this;return h.right.isRed_()&&!h.left.isRed_()&&(h=h.rotateLeft_()),h.left.isRed_()&&h.left.left.isRed_()&&(h=h.rotateRight_()),h.left.isRed_()&&h.right.isRed_()&&(h=h.colorFlip_()),h}moveRedLeft_(){let h=this.colorFlip_();return h.right.left.isRed_()&&(h=h.copy(null,null,null,null,h.right.rotateRight_()),h=h.rotateLeft_(),h=h.colorFlip_()),h}moveRedRight_(){let h=this.colorFlip_();return h.left.left.isRed_()&&(h=h.rotateRight_(),h=h.colorFlip_()),h}rotateLeft_(){const h=this.copy(null,null,p.RED,null,this.right.left);return this.right.copy(null,null,this.color,h,null)}rotateRight_(){const h=this.copy(null,null,p.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,h)}colorFlip_(){const h=this.left.copy(null,null,!this.left.color,null,null),_=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,h,_)}checkMaxDepth_(){const h=this.check_();return Math.pow(2,h)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const h=this.left.check_();if(h!==this.right.check_())throw new Error("Black depths differ");return h+(this.isRed_()?0:1)}}return p.RED=!0,p.BLACK=!1,p})();class Ei{constructor(d,h=Ei.EMPTY_NODE){this.comparator_=d,this.root_=h}insert(d,h){return new Ei(this.comparator_,this.root_.insert(d,h,this.comparator_).copy(null,null,Ti.BLACK,null,null))}remove(d){return new Ei(this.comparator_,this.root_.remove(d,this.comparator_).copy(null,null,Ti.BLACK,null,null))}get(d){let h,_=this.root_;for(;!_.isEmpty();){if(h=this.comparator_(d,_.key),0===h)return _.value;h<0?_=_.left:h>0&&(_=_.right)}return null}getPredecessorKey(d){let h,_=this.root_,A=null;for(;!_.isEmpty();){if(h=this.comparator_(d,_.key),0===h){if(_.left.isEmpty())return A?A.key:null;for(_=_.left;!_.right.isEmpty();)_=_.right;return _.key}h<0?_=_.left:h>0&&(A=_,_=_.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(d){return this.root_.inorderTraversal(d)}reverseTraversal(d){return this.root_.reverseTraversal(d)}getIterator(d){return new qr(this.root_,null,this.comparator_,!1,d)}getIteratorFrom(d,h){return new qr(this.root_,d,this.comparator_,!1,h)}getReverseIteratorFrom(d,h){return new qr(this.root_,d,this.comparator_,!0,h)}getReverseIterator(d){return new qr(this.root_,null,this.comparator_,!0,d)}}function ho(p,d){return mt(p.name,d.name)}function Sa(p,d){return mt(p,d)}Ei.EMPTY_NODE=new class Fi{copy(d,h,_,A,V){return this}insert(d,h,_){return new Ti(d,h,null)}remove(d,h){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(d){return!1}reverseTraversal(d){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Jo=function(p){return"number"==typeof p?"number:"+Jn(p):"string:"+p},Zo=function(p){if(p.isLeafNode()){const d=p.val();(0,H.vA)("string"==typeof d||"number"==typeof d||"object"==typeof d&&(0,H.gR)(d,".sv"),"Priority must be a string or number.")}else(0,H.vA)(p===Gs||p.isEmpty(),"priority of unexpected type.");(0,H.vA)(p===Gs||p.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ha,fa,Ls,ui=(()=>{class p{constructor(h,_=p.__childrenNodeConstructor.EMPTY_NODE){this.value_=h,this.priorityNode_=_,this.lazyHash_=null,(0,H.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Zo(this.priorityNode_)}static set __childrenNodeConstructor(h){ha=h}static get __childrenNodeConstructor(){return ha}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(h){return new p(this.value_,h)}getImmediateChild(h){return".priority"===h?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE}getChild(h){return zr(h)?this:".priority"===Pn(h)?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(h,_){return null}updateImmediateChild(h,_){return".priority"===h?this.updatePriority(_):_.isEmpty()&&".priority"!==h?this:p.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(h,_).updatePriority(this.priorityNode_)}updateChild(h,_){const A=Pn(h);return null===A?_:_.isEmpty()&&".priority"!==A?this:((0,H.vA)(".priority"!==A||1===tr(h),".priority must be the last token in a path"),this.updateImmediateChild(A,p.__childrenNodeConstructor.EMPTY_NODE.updateChild(Br(h),_)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(h,_){return!1}val(h){return h&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let h="";this.priorityNode_.isEmpty()||(h+="priority:"+Jo(this.priorityNode_.val())+":");const _=typeof this.value_;h+=_+":",h+="number"===_?Jn(this.value_):this.value_,this.lazyHash_=ot(h)}return this.lazyHash_}getValue(){return this.value_}compareTo(h){return h===p.__childrenNodeConstructor.EMPTY_NODE?1:h instanceof p.__childrenNodeConstructor?-1:((0,H.vA)(h.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(h))}compareToLeafNode_(h){const _=typeof h.value_,A=typeof this.value_,V=p.VALUE_TYPE_ORDER.indexOf(_),X=p.VALUE_TYPE_ORDER.indexOf(A);return(0,H.vA)(V>=0,"Unknown leaf type: "+_),(0,H.vA)(X>=0,"Unknown leaf type: "+A),V===X?"object"===A?0:this.value_<h.value_?-1:this.value_===h.value_?0:1:X-V}withIndex(){return this}isIndexed(){return!0}equals(h){return h===this||!!h.isLeafNode()&&(this.value_===h.value_&&this.priorityNode_.equals(h.priorityNode_))}}return p.VALUE_TYPE_ORDER=["object","boolean","number","string"],p})();const wr=new class Fs extends lr{compare(d,h){const _=d.node.getPriority(),A=h.node.getPriority(),V=_.compareTo(A);return 0===V?mt(d.name,h.name):V}isDefinedOn(d){return!d.getPriority().isEmpty()}indexedValueChanged(d,h){return!d.getPriority().equals(h.getPriority())}minPost(){return On.MIN}maxPost(){return new On(Xn,new ui("[PRIORITY-POST]",Ls))}makePost(d,h){const _=fa(d);return new On(h,new ui("[PRIORITY-POST]",_))}toString(){return".priority"}},eo=Math.log(2);class Wa{constructor(d){this.count=parseInt(Math.log(d+1)/eo,10),this.current_=this.count-1;const A=(()=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=d+1&A}nextBitIsOne(){const d=!(this.bits_&1<<this.current_);return this.current_--,d}}const to=function(p,d,h,_){p.sort(d);const A=function(je,ut){const tn=ut-je;let pn,Dn;if(0===tn)return null;if(1===tn)return pn=p[je],Dn=h?h(pn):pn,new Ti(Dn,pn.node,Ti.BLACK,null,null);{const vr=parseInt(tn/2,10)+je,Hr=A(je,vr),Wi=A(vr+1,ut);return pn=p[vr],Dn=h?h(pn):pn,new Ti(Dn,pn.node,Ti.BLACK,Hr,Wi)}},Ee=function(je){let ut=null,tn=null,pn=p.length;const Dn=function(Hr,Wi){const Lo=pn-Hr,dl=pn;pn-=Hr;const Wc=A(Lo+1,dl),zc=p[Lo],nf=h?h(zc):zc;vr(new Ti(nf,zc.node,Wi,null,Wc))},vr=function(Hr){ut?(ut.left=Hr,ut=Hr):(tn=Hr,ut=Hr)};for(let Hr=0;Hr<je.count;++Hr){const Wi=je.nextBitIsOne(),Lo=Math.pow(2,je.count-(Hr+1));Wi?Dn(Lo,Ti.BLACK):(Dn(Lo,Ti.BLACK),Dn(Lo,Ti.RED))}return tn}(new Wa(p.length));return new Ei(_||d,Ee)};let za;const Vs={};class ps{constructor(d,h){this.indexes_=d,this.indexSet_=h}static get Default(){return(0,H.vA)(Vs&&wr,"ChildrenNode.ts has not been loaded"),za=za||new ps({".priority":Vs},{".priority":wr}),za}get(d){const h=(0,H.yw)(this.indexes_,d);if(!h)throw new Error("No index defined for "+d);return h instanceof Ei?h:null}hasIndex(d){return(0,H.gR)(this.indexSet_,d.toString())}addIndex(d,h){(0,H.vA)(d!==mi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const _=[];let A=!1;const V=h.getIterator(On.Wrap);let Ee,X=V.getNext();for(;X;)A=A||d.isDefinedOn(X.node),_.push(X),X=V.getNext();Ee=A?to(_,d.getCompare()):Vs;const je=d.toString(),ut=Object.assign({},this.indexSet_);ut[je]=d;const tn=Object.assign({},this.indexes_);return tn[je]=Ee,new ps(tn,ut)}addToIndexes(d,h){const _=(0,H.kH)(this.indexes_,(A,V)=>{const X=(0,H.yw)(this.indexSet_,V);if((0,H.vA)(X,"Missing index implementation for "+V),A===Vs){if(X.isDefinedOn(d.node)){const Ee=[],je=h.getIterator(On.Wrap);let ut=je.getNext();for(;ut;)ut.name!==d.name&&Ee.push(ut),ut=je.getNext();return Ee.push(d),to(Ee,X.getCompare())}return Vs}{const Ee=h.get(d.name);let je=A;return Ee&&(je=je.remove(new On(d.name,Ee))),je.insert(d,d.node)}});return new ps(_,this.indexSet_)}removeFromIndexes(d,h){const _=(0,H.kH)(this.indexes_,A=>{if(A===Vs)return A;{const V=h.get(d.name);return V?A.remove(new On(d.name,V)):A}});return new ps(_,this.indexSet_)}}let Ks,Zr=(()=>{class p{constructor(h,_,A){this.children_=h,this.priorityNode_=_,this.indexMap_=A,this.lazyHash_=null,this.priorityNode_&&Zo(this.priorityNode_),this.children_.isEmpty()&&(0,H.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ks||(Ks=new p(new Ei(Sa),null,ps.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ks}updatePriority(h){return this.children_.isEmpty()?this:new p(this.children_,h,this.indexMap_)}getImmediateChild(h){if(".priority"===h)return this.getPriority();{const _=this.children_.get(h);return null===_?Ks:_}}getChild(h){const _=Pn(h);return null===_?this:this.getImmediateChild(_).getChild(Br(h))}hasChild(h){return null!==this.children_.get(h)}updateImmediateChild(h,_){if((0,H.vA)(_,"We should always be passing snapshot nodes"),".priority"===h)return this.updatePriority(_);{const A=new On(h,_);let V,X;_.isEmpty()?(V=this.children_.remove(h),X=this.indexMap_.removeFromIndexes(A,this.children_)):(V=this.children_.insert(h,_),X=this.indexMap_.addToIndexes(A,this.children_));const Ee=V.isEmpty()?Ks:this.priorityNode_;return new p(V,Ee,X)}}updateChild(h,_){const A=Pn(h);if(null===A)return _;{(0,H.vA)(".priority"!==Pn(h)||1===tr(h),".priority must be the last token in a path");const V=this.getImmediateChild(A).updateChild(Br(h),_);return this.updateImmediateChild(A,V)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(h){if(this.isEmpty())return null;const _={};let A=0,V=0,X=!0;if(this.forEachChild(wr,(Ee,je)=>{_[Ee]=je.val(h),A++,X&&p.INTEGER_REGEXP_.test(Ee)?V=Math.max(V,Number(Ee)):X=!1}),!h&&X&&V<2*A){const Ee=[];for(const je in _)Ee[je]=_[je];return Ee}return h&&!this.getPriority().isEmpty()&&(_[".priority"]=this.getPriority().val()),_}hash(){if(null===this.lazyHash_){let h="";this.getPriority().isEmpty()||(h+="priority:"+Jo(this.getPriority().val())+":"),this.forEachChild(wr,(_,A)=>{const V=A.hash();""!==V&&(h+=":"+_+":"+V)}),this.lazyHash_=""===h?"":ot(h)}return this.lazyHash_}getPredecessorChildName(h,_,A){const V=this.resolveIndex_(A);if(V){const X=V.getPredecessorKey(new On(h,_));return X?X.name:null}return this.children_.getPredecessorKey(h)}getFirstChildName(h){const _=this.resolveIndex_(h);if(_){const A=_.minKey();return A&&A.name}return this.children_.minKey()}getFirstChild(h){const _=this.getFirstChildName(h);return _?new On(_,this.children_.get(_)):null}getLastChildName(h){const _=this.resolveIndex_(h);if(_){const A=_.maxKey();return A&&A.name}return this.children_.maxKey()}getLastChild(h){const _=this.getLastChildName(h);return _?new On(_,this.children_.get(_)):null}forEachChild(h,_){const A=this.resolveIndex_(h);return A?A.inorderTraversal(V=>_(V.name,V.node)):this.children_.inorderTraversal(_)}getIterator(h){return this.getIteratorFrom(h.minPost(),h)}getIteratorFrom(h,_){const A=this.resolveIndex_(_);if(A)return A.getIteratorFrom(h,V=>V);{const V=this.children_.getIteratorFrom(h.name,On.Wrap);let X=V.peek();for(;null!=X&&_.compare(X,h)<0;)V.getNext(),X=V.peek();return V}}getReverseIterator(h){return this.getReverseIteratorFrom(h.maxPost(),h)}getReverseIteratorFrom(h,_){const A=this.resolveIndex_(_);if(A)return A.getReverseIteratorFrom(h,V=>V);{const V=this.children_.getReverseIteratorFrom(h.name,On.Wrap);let X=V.peek();for(;null!=X&&_.compare(X,h)>0;)V.getNext(),X=V.peek();return V}}compareTo(h){return this.isEmpty()?h.isEmpty()?0:-1:h.isLeafNode()||h.isEmpty()?1:h===Fo?-1:0}withIndex(h){if(h===mi||this.indexMap_.hasIndex(h))return this;{const _=this.indexMap_.addIndex(h,this.children_);return new p(this.children_,this.priorityNode_,_)}}isIndexed(h){return h===mi||this.indexMap_.hasIndex(h)}equals(h){if(h===this)return!0;if(h.isLeafNode())return!1;{const _=h;if(this.getPriority().equals(_.getPriority())){if(this.children_.count()===_.children_.count()){const A=this.getIterator(wr),V=_.getIterator(wr);let X=A.getNext(),Ee=V.getNext();for(;X&&Ee;){if(X.name!==Ee.name||!X.node.equals(Ee.node))return!1;X=A.getNext(),Ee=V.getNext()}return null===X&&null===Ee}return!1}return!1}}resolveIndex_(h){return h===mi?null:this.indexMap_.get(h.toString())}}return p.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,p})();const Fo=new class Cs extends Zr{constructor(){super(new Ei(Sa),Zr.EMPTY_NODE,ps.Default)}compareTo(d){return d===this?0:1}equals(d){return d===this}getPriority(){return this}getImmediateChild(d){return Zr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(On,{MIN:{value:new On(Un,Zr.EMPTY_NODE)},MAX:{value:new On(Xn,Fo)}}),Li.__EMPTY_NODE=Zr.EMPTY_NODE,ui.__childrenNodeConstructor=Zr,function qi(p){Gs=p}(Fo),function pa(p){Ls=p}(Fo);const Yc=!0;function ji(p,d=null){if(null===p)return Zr.EMPTY_NODE;if("object"==typeof p&&".priority"in p&&(d=p[".priority"]),(0,H.vA)(null===d||"string"==typeof d||"number"==typeof d||"object"==typeof d&&".sv"in d,"Invalid priority type found: "+typeof d),"object"==typeof p&&".value"in p&&null!==p[".value"]&&(p=p[".value"]),"object"!=typeof p||".sv"in p)return new ui(p,ji(d));if(p instanceof Array||!Yc){let h=Zr.EMPTY_NODE;return ir(p,(_,A)=>{if((0,H.gR)(p,_)&&"."!==_.substring(0,1)){const V=ji(A);(V.isLeafNode()||!V.isEmpty())&&(h=h.updateImmediateChild(_,V))}}),h.updatePriority(ji(d))}{const h=[];let _=!1;if(ir(p,(X,Ee)=>{if("."!==X.substring(0,1)){const je=ji(Ee);je.isEmpty()||(_=_||!je.getPriority().isEmpty(),h.push(new On(X,je)))}}),0===h.length)return Zr.EMPTY_NODE;const V=to(h,ho,X=>X.name,Sa);if(_){const X=to(h,wr.getCompare());return new Zr(V,ji(d),new ps({".priority":X},{".priority":wr}))}return new Zr(V,ji(d),ps.Default)}}!function Ps(p){fa=p}(ji);class Ra extends lr{constructor(d){super(),this.indexPath_=d,(0,H.vA)(!zr(d)&&".priority"!==Pn(d),"Can't create PathIndex with empty path or .priority key")}extractChild(d){return d.getChild(this.indexPath_)}isDefinedOn(d){return!d.getChild(this.indexPath_).isEmpty()}compare(d,h){const _=this.extractChild(d.node),A=this.extractChild(h.node),V=_.compareTo(A);return 0===V?mt(d.name,h.name):V}makePost(d,h){const _=ji(d),A=Zr.EMPTY_NODE.updateChild(this.indexPath_,_);return new On(h,A)}maxPost(){const d=Zr.EMPTY_NODE.updateChild(this.indexPath_,Fo);return new On(Xn,d)}toString(){return mr(this.indexPath_,0).join("/")}}const Kl=new class Gl extends lr{compare(d,h){const _=d.node.compareTo(h.node);return 0===_?mt(d.name,h.name):_}isDefinedOn(d){return!0}indexedValueChanged(d,h){return!d.equals(h)}minPost(){return On.MIN}maxPost(){return On.MAX}makePost(d,h){const _=ji(d);return new On(h,_)}toString(){return".value"}};function Pa(p){return{type:"value",snapshotNode:p}}function Vo(p,d){return{type:"child_added",snapshotNode:d,childName:p}}function Y(p,d){return{type:"child_removed",snapshotNode:d,childName:p}}function ee(p,d,h){return{type:"child_changed",snapshotNode:d,childName:p,oldSnap:h}}class we{constructor(d){this.index_=d}updateChild(d,h,_,A,V,X){(0,H.vA)(d.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Ee=d.getImmediateChild(h);return Ee.getChild(A).equals(_.getChild(A))&&Ee.isEmpty()===_.isEmpty()||(null!=X&&(_.isEmpty()?d.hasChild(h)?X.trackChildChange(Y(h,Ee)):(0,H.vA)(d.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Ee.isEmpty()?X.trackChildChange(Vo(h,_)):X.trackChildChange(ee(h,_,Ee))),d.isLeafNode()&&_.isEmpty())?d:d.updateImmediateChild(h,_).withIndex(this.index_)}updateFullNode(d,h,_){return null!=_&&(d.isLeafNode()||d.forEachChild(wr,(A,V)=>{h.hasChild(A)||_.trackChildChange(Y(A,V))}),h.isLeafNode()||h.forEachChild(wr,(A,V)=>{if(d.hasChild(A)){const X=d.getImmediateChild(A);X.equals(V)||_.trackChildChange(ee(A,V,X))}else _.trackChildChange(Vo(A,V))})),h.withIndex(this.index_)}updatePriority(d,h){return d.isEmpty()?Zr.EMPTY_NODE:d.updatePriority(h)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class _t{constructor(d){this.indexedFilter_=new we(d.getIndex()),this.index_=d.getIndex(),this.startPost_=_t.getStartPost_(d),this.endPost_=_t.getEndPost_(d),this.startIsInclusive_=!d.startAfterSet_,this.endIsInclusive_=!d.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(d){const h=this.startIsInclusive_?this.index_.compare(this.getStartPost(),d)<=0:this.index_.compare(this.getStartPost(),d)<0,_=this.endIsInclusive_?this.index_.compare(d,this.getEndPost())<=0:this.index_.compare(d,this.getEndPost())<0;return h&&_}updateChild(d,h,_,A,V,X){return this.matches(new On(h,_))||(_=Zr.EMPTY_NODE),this.indexedFilter_.updateChild(d,h,_,A,V,X)}updateFullNode(d,h,_){h.isLeafNode()&&(h=Zr.EMPTY_NODE);let A=h.withIndex(this.index_);A=A.updatePriority(Zr.EMPTY_NODE);const V=this;return h.forEachChild(wr,(X,Ee)=>{V.matches(new On(X,Ee))||(A=A.updateImmediateChild(X,Zr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(d,A,_)}updatePriority(d,h){return d}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(d){if(d.hasStart()){const h=d.getIndexStartName();return d.getIndex().makePost(d.getIndexStartValue(),h)}return d.getIndex().minPost()}static getEndPost_(d){if(d.hasEnd()){const h=d.getIndexEndName();return d.getIndex().makePost(d.getIndexEndValue(),h)}return d.getIndex().maxPost()}}class Dr{constructor(d){this.withinDirectionalStart=h=>this.reverse_?this.withinEndPost(h):this.withinStartPost(h),this.withinDirectionalEnd=h=>this.reverse_?this.withinStartPost(h):this.withinEndPost(h),this.withinStartPost=h=>{const _=this.index_.compare(this.rangedFilter_.getStartPost(),h);return this.startIsInclusive_?_<=0:_<0},this.withinEndPost=h=>{const _=this.index_.compare(h,this.rangedFilter_.getEndPost());return this.endIsInclusive_?_<=0:_<0},this.rangedFilter_=new _t(d),this.index_=d.getIndex(),this.limit_=d.getLimit(),this.reverse_=!d.isViewFromLeft(),this.startIsInclusive_=!d.startAfterSet_,this.endIsInclusive_=!d.endBeforeSet_}updateChild(d,h,_,A,V,X){return this.rangedFilter_.matches(new On(h,_))||(_=Zr.EMPTY_NODE),d.getImmediateChild(h).equals(_)?d:d.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(d,h,_,A,V,X):this.fullLimitUpdateChild_(d,h,_,V,X)}updateFullNode(d,h,_){let A;if(h.isLeafNode()||h.isEmpty())A=Zr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<h.numChildren()&&h.isIndexed(this.index_)){let V;A=Zr.EMPTY_NODE.withIndex(this.index_),V=this.reverse_?h.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let X=0;for(;V.hasNext()&&X<this.limit_;){const Ee=V.getNext();if(this.withinDirectionalStart(Ee)){if(!this.withinDirectionalEnd(Ee))break;A=A.updateImmediateChild(Ee.name,Ee.node),X++}}}else{let V;A=h.withIndex(this.index_),A=A.updatePriority(Zr.EMPTY_NODE),V=this.reverse_?A.getReverseIterator(this.index_):A.getIterator(this.index_);let X=0;for(;V.hasNext();){const Ee=V.getNext();X<this.limit_&&this.withinDirectionalStart(Ee)&&this.withinDirectionalEnd(Ee)?X++:A=A.updateImmediateChild(Ee.name,Zr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(d,A,_)}updatePriority(d,h){return d}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(d,h,_,A,V){let X;if(this.reverse_){const pn=this.index_.getCompare();X=(Dn,vr)=>pn(vr,Dn)}else X=this.index_.getCompare();const Ee=d;(0,H.vA)(Ee.numChildren()===this.limit_,"");const je=new On(h,_),ut=this.reverse_?Ee.getFirstChild(this.index_):Ee.getLastChild(this.index_),tn=this.rangedFilter_.matches(je);if(Ee.hasChild(h)){const pn=Ee.getImmediateChild(h);let Dn=A.getChildAfterChild(this.index_,ut,this.reverse_);for(;null!=Dn&&(Dn.name===h||Ee.hasChild(Dn.name));)Dn=A.getChildAfterChild(this.index_,Dn,this.reverse_);const vr=null==Dn?1:X(Dn,je);if(tn&&!_.isEmpty()&&vr>=0)return V?.trackChildChange(ee(h,_,pn)),Ee.updateImmediateChild(h,_);{V?.trackChildChange(Y(h,pn));const Wi=Ee.updateImmediateChild(h,Zr.EMPTY_NODE);return null!=Dn&&this.rangedFilter_.matches(Dn)?(V?.trackChildChange(Vo(Dn.name,Dn.node)),Wi.updateImmediateChild(Dn.name,Dn.node)):Wi}}return _.isEmpty()?d:tn&&X(ut,je)>=0?(null!=V&&(V.trackChildChange(Y(ut.name,ut.node)),V.trackChildChange(Vo(h,_))),Ee.updateImmediateChild(h,_).updateImmediateChild(ut.name,Zr.EMPTY_NODE)):d}}class br{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,H.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,H.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Un}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,H.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,H.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,H.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===wr}copy(){const d=new br;return d.limitSet_=this.limitSet_,d.limit_=this.limit_,d.startSet_=this.startSet_,d.startAfterSet_=this.startAfterSet_,d.indexStartValue_=this.indexStartValue_,d.startNameSet_=this.startNameSet_,d.indexStartName_=this.indexStartName_,d.endSet_=this.endSet_,d.endBeforeSet_=this.endBeforeSet_,d.indexEndValue_=this.indexEndValue_,d.endNameSet_=this.endNameSet_,d.indexEndName_=this.indexEndName_,d.index_=this.index_,d.viewFrom_=this.viewFrom_,d}}function Xl(p,d,h){const _=p.copy();return _.startSet_=!0,void 0===d&&(d=null),_.indexStartValue_=d,null!=h?(_.startNameSet_=!0,_.indexStartName_=h):(_.startNameSet_=!1,_.indexStartName_=""),_}function ea(p,d,h){const _=p.copy();return _.endSet_=!0,void 0===d&&(d=null),_.indexEndValue_=d,void 0!==h?(_.endNameSet_=!0,_.indexEndName_=h):(_.endNameSet_=!1,_.indexEndName_=""),_}function Pi(p,d){const h=p.copy();return h.index_=d,h}function Ro(p){const d={};if(p.isDefault())return d;let h;if(p.index_===wr?h="$priority":p.index_===Kl?h="$value":p.index_===mi?h="$key":((0,H.vA)(p.index_ instanceof Ra,"Unrecognized index type!"),h=p.index_.toString()),d.orderBy=(0,H.As)(h),p.startSet_){const _=p.startAfterSet_?"startAfter":"startAt";d[_]=(0,H.As)(p.indexStartValue_),p.startNameSet_&&(d[_]+=","+(0,H.As)(p.indexStartName_))}if(p.endSet_){const _=p.endBeforeSet_?"endBefore":"endAt";d[_]=(0,H.As)(p.indexEndValue_),p.endNameSet_&&(d[_]+=","+(0,H.As)(p.indexEndName_))}return p.limitSet_&&(p.isViewFromLeft()?d.limitToFirst=p.limit_:d.limitToLast=p.limit_),d}function Bs(p){const d={};if(p.startSet_&&(d.sp=p.indexStartValue_,p.startNameSet_&&(d.sn=p.indexStartName_),d.sin=!p.startAfterSet_),p.endSet_&&(d.ep=p.indexEndValue_,p.endNameSet_&&(d.en=p.indexEndName_),d.ein=!p.endBeforeSet_),p.limitSet_){d.l=p.limit_;let h=p.viewFrom_;""===h&&(h=p.isViewFromLeft()?"l":"r"),d.vf=h}return p.index_!==wr&&(d.i=p.index_.toString()),d}class Ms extends ye{constructor(d,h,_,A){super(),this.repoInfo_=d,this.onDataUpdate_=h,this.authTokenProvider_=_,this.appCheckTokenProvider_=A,this.log_=Ot("p:rest:"),this.listens_={}}reportStats(d){throw new Error("Method not implemented.")}static getListenId_(d,h){return void 0!==h?"tag$"+h:((0,H.vA)(d._queryParams.isDefault(),"should have a tag if it's not a default query."),d._path.toString())}listen(d,h,_,A){const V=d._path.toString();this.log_("Listen called for "+V+" "+d._queryIdentifier);const X=Ms.getListenId_(d,_),Ee={};this.listens_[X]=Ee;const je=Ro(d._queryParams);this.restRequest_(V+".json",je,(ut,tn)=>{let pn=tn;if(404===ut&&(pn=null,ut=null),null===ut&&this.onDataUpdate_(V,pn,!1,_),(0,H.yw)(this.listens_,X)===Ee){let Dn;Dn=ut?401===ut?"permission_denied":"rest_error:"+ut:"ok",A(Dn,null)}})}unlisten(d,h){const _=Ms.getListenId_(d,h);delete this.listens_[_]}get(d){const h=Ro(d._queryParams),_=d._path.toString(),A=new H.cY;return this.restRequest_(_+".json",h,(V,X)=>{let Ee=X;404===V&&(Ee=null,V=null),null===V?(this.onDataUpdate_(_,Ee,!1,null),A.resolve(Ee)):A.reject(new Error(Ee))}),A.promise}refreshAuthToken(d){}restRequest_(d,h={},_){return h.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([A,V])=>{A&&A.accessToken&&(h.auth=A.accessToken),V&&V.token&&(h.ac=V.token);const X=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+d+"?ns="+this.repoInfo_.namespace+(0,H.Am)(h);this.log_("Sending REST request for "+X);const Ee=new XMLHttpRequest;Ee.onreadystatechange=()=>{if(_&&4===Ee.readyState){this.log_("REST Response for "+X+" received. status:",Ee.status,"response:",Ee.responseText);let je=null;if(Ee.status>=200&&Ee.status<300){try{je=(0,H.$L)(Ee.responseText)}catch{Vn("Failed to parse JSON response for "+X+": "+Ee.responseText)}_(null,je)}else 401!==Ee.status&&404!==Ee.status&&Vn("Got unsuccessful REST response for "+X+" Status: "+Ee.status),_(Ee.status);_=null}},Ee.open("GET",X,!0),Ee.send()})}}class gl{constructor(){this.rootNode_=Zr.EMPTY_NODE}getNode(d){return this.rootNode_.getChild(d)}updateSnapshot(d,h){this.rootNode_=this.rootNode_.updateChild(d,h)}}function ni(){return{value:null,children:new Map}}function Yr(p,d,h){if(zr(d))p.value=h,p.children.clear();else if(null!==p.value)p.value=p.value.updateChild(d,h);else{const _=Pn(d);p.children.has(_)||p.children.set(_,ni()),Yr(p.children.get(_),d=Br(d),h)}}function as(p,d){if(zr(d))return p.value=null,p.children.clear(),!0;if(null!==p.value){if(p.value.isLeafNode())return!1;{const h=p.value;return p.value=null,h.forEachChild(wr,(_,A)=>{Yr(p,new er(_),A)}),as(p,d)}}if(p.children.size>0){const h=Pn(d);return d=Br(d),p.children.has(h)&&as(p.children.get(h),d)&&p.children.delete(h),0===p.children.size}return!0}function bs(p,d,h){null!==p.value?h(d,p.value):function ai(p,d){p.children.forEach((h,_)=>{d(_,h)})}(p,(_,A)=>{bs(A,new er(d.toString()+"/"+_),h)})}class Po{constructor(d){this.collection_=d,this.last_=null}get(){const d=this.collection_.get(),h=Object.assign({},d);return this.last_&&ir(this.last_,(_,A)=>{h[_]=h[_]-A}),this.last_=d,h}}class Jc{constructor(d,h){this.server_=h,this.statsToReport_={},this.statsListener_=new Po(d);const _=1e4+2e4*Math.random();_r(this.reportStats_.bind(this),Math.floor(_))}reportStats_(){const d=this.statsListener_.get(),h={};let _=!1;ir(d,(A,V)=>{V>0&&(0,H.gR)(this.statsToReport_,A)&&(h[A]=V,_=!0)}),_&&this.server_.reportStats(h),_r(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ki=function(p){return p[p.OVERWRITE=0]="OVERWRITE",p[p.MERGE=1]="MERGE",p[p.ACK_USER_WRITE=2]="ACK_USER_WRITE",p[p.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",p}(Ki||{});function na(p){return{fromUser:!1,fromServer:!0,queryId:p,tagged:!0}}class $s{constructor(d,h,_){this.path=d,this.affectedTree=h,this.revert=_,this.type=Ki.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(d){if(zr(this.path)){if(null!=this.affectedTree.value)return(0,H.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const h=this.affectedTree.subtree(new er(d));return new $s(Cr(),h,this.revert)}}return(0,H.vA)(Pn(this.path)===d,"operationForChild called for unrelated child."),new $s(Br(this.path),this.affectedTree,this.revert)}}class Xa{constructor(d,h){this.source=d,this.path=h,this.type=Ki.LISTEN_COMPLETE}operationForChild(d){return zr(this.path)?new Xa(this.source,Cr()):new Xa(this.source,Br(this.path))}}class js{constructor(d,h,_){this.source=d,this.path=h,this.snap=_,this.type=Ki.OVERWRITE}operationForChild(d){return zr(this.path)?new js(this.source,Cr(),this.snap.getImmediateChild(d)):new js(this.source,Br(this.path),this.snap)}}class ml{constructor(d,h,_){this.source=d,this.path=h,this.children=_,this.type=Ki.MERGE}operationForChild(d){if(zr(this.path)){const h=this.children.subtree(new er(d));return h.isEmpty()?null:h.value?new js(this.source,Cr(),h.value):new ml(this.source,Cr(),h)}return(0,H.vA)(Pn(this.path)===d,"Can't get a merge for a child not on the path of the operation"),new ml(this.source,Br(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ra{constructor(d,h,_){this.node_=d,this.fullyInitialized_=h,this.filtered_=_}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(d){if(zr(d))return this.isFullyInitialized()&&!this.filtered_;const h=Pn(d);return this.isCompleteForChild(h)}isCompleteForChild(d){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(d)}getNode(){return this.node_}}class ia{constructor(d){this.query_=d,this.index_=this.query_._queryParams.getIndex()}}function no(p,d,h,_,A,V){const X=_.filter(Ee=>Ee.type===h);X.sort((Ee,je)=>function Dl(p,d,h){if(null==d.childName||null==h.childName)throw(0,H.Hk)("Should only compare child_ events.");const _=new On(d.childName,d.snapshotNode),A=new On(h.childName,h.snapshotNode);return p.index_.compare(_,A)}(p,Ee,je)),X.forEach(Ee=>{const je=function ma(p,d,h){return"value"===d.type||"child_removed"===d.type||(d.prevName=h.getPredecessorChildName(d.childName,d.snapshotNode,p.index_)),d}(p,Ee,V);A.forEach(ut=>{ut.respondsTo(Ee.type)&&d.push(ut.createEvent(je,p.query_))})})}function Mo(p,d){return{eventCache:p,serverCache:d}}function qa(p,d,h,_){return Mo(new ra(d,h,_),p.serverCache)}function Qa(p,d,h,_){return Mo(p.eventCache,new ra(d,h,_))}function va(p){return p.eventCache.isFullyInitialized()?p.eventCache.getNode():null}function cs(p){return p.serverCache.isFullyInitialized()?p.serverCache.getNode():null}let Io;class Ji{constructor(d,h=(()=>(Io||(Io=new Ei(Gt)),Io))()){this.value=d,this.children=h}static fromObject(d){let h=new Ji(null);return ir(d,(_,A)=>{h=h.set(new er(_),A)}),h}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(d,h){if(null!=this.value&&h(this.value))return{path:Cr(),value:this.value};if(zr(d))return null;{const _=Pn(d),A=this.children.get(_);if(null!==A){const V=A.findRootMostMatchingPathAndValue(Br(d),h);return null!=V?{path:ur(new er(_),V.path),value:V.value}:null}return null}}findRootMostValueAndPath(d){return this.findRootMostMatchingPathAndValue(d,()=>!0)}subtree(d){if(zr(d))return this;{const h=Pn(d),_=this.children.get(h);return null!==_?_.subtree(Br(d)):new Ji(null)}}set(d,h){if(zr(d))return new Ji(h,this.children);{const _=Pn(d),V=(this.children.get(_)||new Ji(null)).set(Br(d),h),X=this.children.insert(_,V);return new Ji(this.value,X)}}remove(d){if(zr(d))return this.children.isEmpty()?new Ji(null):new Ji(null,this.children);{const h=Pn(d),_=this.children.get(h);if(_){const A=_.remove(Br(d));let V;return V=A.isEmpty()?this.children.remove(h):this.children.insert(h,A),null===this.value&&V.isEmpty()?new Ji(null):new Ji(this.value,V)}return this}}get(d){if(zr(d))return this.value;{const h=Pn(d),_=this.children.get(h);return _?_.get(Br(d)):null}}setTree(d,h){if(zr(d))return h;{const _=Pn(d),V=(this.children.get(_)||new Ji(null)).setTree(Br(d),h);let X;return X=V.isEmpty()?this.children.remove(_):this.children.insert(_,V),new Ji(this.value,X)}}fold(d){return this.fold_(Cr(),d)}fold_(d,h){const _={};return this.children.inorderTraversal((A,V)=>{_[A]=V.fold_(ur(d,A),h)}),h(d,this.value,_)}findOnPath(d,h){return this.findOnPath_(d,Cr(),h)}findOnPath_(d,h,_){const A=!!this.value&&_(h,this.value);if(A)return A;if(zr(d))return null;{const V=Pn(d),X=this.children.get(V);return X?X.findOnPath_(Br(d),ur(h,V),_):null}}foreachOnPath(d,h){return this.foreachOnPath_(d,Cr(),h)}foreachOnPath_(d,h,_){if(zr(d))return this;{this.value&&_(h,this.value);const A=Pn(d),V=this.children.get(A);return V?V.foreachOnPath_(Br(d),ur(h,A),_):new Ji(null)}}foreach(d){this.foreach_(Cr(),d)}foreach_(d,h){this.children.inorderTraversal((_,A)=>{A.foreach_(ur(d,_),h)}),this.value&&h(d,this.value)}foreachChild(d){this.children.inorderTraversal((h,_)=>{_.value&&d(h,_.value)})}}class Hs{constructor(d){this.writeTree_=d}static empty(){return new Hs(new Ji(null))}}function _l(p,d,h){if(zr(d))return new Hs(new Ji(h));{const _=p.writeTree_.findRootMostValueAndPath(d);if(null!=_){const A=_.path;let V=_.value;const X=Xr(A,d);return V=V.updateChild(X,h),new Hs(p.writeTree_.set(A,V))}{const A=new Ji(h),V=p.writeTree_.setTree(d,A);return new Hs(V)}}}function xo(p,d,h){let _=p;return ir(h,(A,V)=>{_=_l(_,ur(d,A),V)}),_}function Ya(p,d){if(zr(d))return Hs.empty();{const h=p.writeTree_.setTree(d,new Ji(null));return new Hs(h)}}function ys(p,d){return null!=xa(p,d)}function xa(p,d){const h=p.writeTree_.findRootMostValueAndPath(d);return null!=h?p.writeTree_.get(h.path).getChild(Xr(h.path,d)):null}function ki(p){const d=[],h=p.writeTree_.value;return null!=h?h.isLeafNode()||h.forEachChild(wr,(_,A)=>{d.push(new On(_,A))}):p.writeTree_.children.inorderTraversal((_,A)=>{null!=A.value&&d.push(new On(_,A.value))}),d}function ro(p,d){if(zr(d))return p;{const h=xa(p,d);return new Hs(null!=h?new Ji(h):p.writeTree_.subtree(d))}}function To(p){return p.writeTree_.isEmpty()}function Co(p,d){return Uo(Cr(),p.writeTree_,d)}function Uo(p,d,h){if(null!=d.value)return h.updateChild(p,d.value);{let _=null;return d.children.inorderTraversal((A,V)=>{".priority"===A?((0,H.vA)(null!==V.value,"Priority writes must always be leaf nodes"),_=V.value):h=Uo(ur(p,A),V,h)}),!h.getChild(p).isEmpty()&&null!==_&&(h=h.updateChild(ur(p,".priority"),_)),h}}function ql(p,d){return Yi(d,p)}function tt(p,d){if(p.snap)return fs(p.path,d);for(const h in p.children)if(p.children.hasOwnProperty(h)&&fs(ur(p.path,h),d))return!0;return!1}function yn(p){return p.visible}function fr(p,d,h){let _=Hs.empty();for(let A=0;A<p.length;++A){const V=p[A];if(d(V)){const X=V.path;let Ee;if(V.snap)fs(h,X)?(Ee=Xr(h,X),_=_l(_,Ee,V.snap)):fs(X,h)&&(Ee=Xr(X,h),_=_l(_,Cr(),V.snap.getChild(Ee)));else{if(!V.children)throw(0,H.Hk)("WriteRecord should have .snap or .children");if(fs(h,X))Ee=Xr(h,X),_=xo(_,Ee,V.children);else if(fs(X,h))if(Ee=Xr(X,h),zr(Ee))_=xo(_,Cr(),V.children);else{const je=(0,H.yw)(V.children,Pn(Ee));if(je){const ut=je.getChild(Br(Ee));_=_l(_,Cr(),ut)}}}}}return _}function Di(p,d,h,_,A){if(_||A){const V=ro(p.visibleWrites,d);return!A&&To(V)?h:A||null!=h||ys(V,Cr())?Co(fr(p.allWrites,function(ut){return(ut.visible||A)&&(!_||!~_.indexOf(ut.writeId))&&(fs(ut.path,d)||fs(d,ut.path))},d),h||Zr.EMPTY_NODE):null}{const V=xa(p.visibleWrites,d);if(null!=V)return V;{const X=ro(p.visibleWrites,d);return To(X)?h:null!=h||ys(X,Cr())?Co(X,h||Zr.EMPTY_NODE):null}}}function sr(p,d,h,_){return Di(p.writeTree,p.treePath,d,h,_)}function vi(p,d){return function ns(p,d,h){let _=Zr.EMPTY_NODE;const A=xa(p.visibleWrites,d);if(A)return A.isLeafNode()||A.forEachChild(wr,(V,X)=>{_=_.updateImmediateChild(V,X)}),_;if(h){const V=ro(p.visibleWrites,d);return h.forEachChild(wr,(X,Ee)=>{const je=Co(ro(V,new er(X)),Ee);_=_.updateImmediateChild(X,je)}),ki(V).forEach(X=>{_=_.updateImmediateChild(X.name,X.node)}),_}return ki(ro(p.visibleWrites,d)).forEach(X=>{_=_.updateImmediateChild(X.name,X.node)}),_}(p.writeTree,p.treePath,d)}function Es(p,d,h,_){return function Vi(p,d,h,_,A){(0,H.vA)(_||A,"Either existingEventSnap or existingServerSnap must exist");const V=ur(d,h);if(ys(p.visibleWrites,V))return null;{const X=ro(p.visibleWrites,V);return To(X)?A.getChild(h):Co(X,A.getChild(h))}}(p.writeTree,p.treePath,d,h,_)}function Hi(p,d){return function os(p,d){return xa(p.visibleWrites,d)}(p.writeTree,ur(p.treePath,d))}function Ws(p,d,h){return function Ii(p,d,h,_){const A=ur(d,h),V=xa(p.visibleWrites,A);return null!=V?V:_.isCompleteForChild(h)?Co(ro(p.visibleWrites,A),_.getNode().getImmediateChild(h)):null}(p.writeTree,p.treePath,d,h)}function di(p,d){return Yi(ur(p.treePath,d),p.writeTree)}function Yi(p,d){return{treePath:p,writeTree:d}}class fo{constructor(){this.changeMap=new Map}trackChildChange(d){const h=d.type,_=d.childName;(0,H.vA)("child_added"===h||"child_changed"===h||"child_removed"===h,"Only child changes supported for tracking"),(0,H.vA)(".priority"!==_,"Only non-priority child changes can be tracked.");const A=this.changeMap.get(_);if(A){const V=A.type;if("child_added"===h&&"child_removed"===V)this.changeMap.set(_,ee(_,d.snapshotNode,A.snapshotNode));else if("child_removed"===h&&"child_added"===V)this.changeMap.delete(_);else if("child_removed"===h&&"child_changed"===V)this.changeMap.set(_,Y(_,A.oldSnap));else if("child_changed"===h&&"child_added"===V)this.changeMap.set(_,Vo(_,d.snapshotNode));else{if("child_changed"!==h||"child_changed"!==V)throw(0,H.Hk)("Illegal combination of changes: "+d+" occurred after "+A);this.changeMap.set(_,ee(_,d.snapshotNode,A.oldSnap))}}else this.changeMap.set(_,d)}getChanges(){return Array.from(this.changeMap.values())}}const _a=new class jr{getCompleteChild(d){return null}getChildAfterChild(d,h,_){return null}};class Ql{constructor(d,h,_=null){this.writes_=d,this.viewCache_=h,this.optCompleteServerCache_=_}getCompleteChild(d){const h=this.viewCache_.eventCache;if(h.isCompleteForChild(d))return h.getNode().getImmediateChild(d);{const _=null!=this.optCompleteServerCache_?new ra(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ws(this.writes_,d,_)}}getChildAfterChild(d,h,_){const A=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:cs(this.viewCache_),V=function xs(p,d,h,_,A,V){return function $r(p,d,h,_,A,V,X){let Ee;const je=ro(p.visibleWrites,d),ut=xa(je,Cr());if(null!=ut)Ee=ut;else{if(null==h)return[];Ee=Co(je,h)}if(Ee=Ee.withIndex(X),Ee.isEmpty()||Ee.isLeafNode())return[];{const tn=[],pn=X.getCompare(),Dn=V?Ee.getReverseIteratorFrom(_,X):Ee.getIteratorFrom(_,X);let vr=Dn.getNext();for(;vr&&tn.length<A;)0!==pn(vr,_)&&tn.push(vr),vr=Dn.getNext();return tn}}(p.writeTree,p.treePath,d,h,_,A,V)}(this.writes_,A,h,1,_,d);return 0===V.length?null:V[0]}}function Na(p,d,h,_,A,V){const X=d.eventCache;if(null!=Hi(_,h))return d;{let Ee,je;if(zr(h))if((0,H.vA)(d.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),d.serverCache.isFiltered()){const ut=cs(d),pn=vi(_,ut instanceof Zr?ut:Zr.EMPTY_NODE);Ee=p.filter.updateFullNode(d.eventCache.getNode(),pn,V)}else{const ut=sr(_,cs(d));Ee=p.filter.updateFullNode(d.eventCache.getNode(),ut,V)}else{const ut=Pn(h);if(".priority"===ut){(0,H.vA)(1===tr(h),"Can't have a priority with additional path components");const tn=X.getNode();je=d.serverCache.getNode();const pn=Es(_,h,tn,je);Ee=null!=pn?p.filter.updatePriority(tn,pn):X.getNode()}else{const tn=Br(h);let pn;if(X.isCompleteForChild(ut)){je=d.serverCache.getNode();const Dn=Es(_,h,X.getNode(),je);pn=null!=Dn?X.getNode().getImmediateChild(ut).updateChild(tn,Dn):X.getNode().getImmediateChild(ut)}else pn=Ws(_,ut,d.serverCache);Ee=null!=pn?p.filter.updateChild(X.getNode(),ut,pn,tn,A,V):X.getNode()}}return qa(d,Ee,X.isFullyInitialized()||zr(h),p.filter.filtersNodes())}}function go(p,d,h,_,A,V,X,Ee){const je=d.serverCache;let ut;const tn=X?p.filter:p.filter.getIndexedFilter();if(zr(h))ut=tn.updateFullNode(je.getNode(),_,null);else if(tn.filtersNodes()&&!je.isFiltered()){const vr=je.getNode().updateChild(h,_);ut=tn.updateFullNode(je.getNode(),vr,null)}else{const vr=Pn(h);if(!je.isCompleteForPath(h)&&tr(h)>1)return d;const Hr=Br(h),Lo=je.getNode().getImmediateChild(vr).updateChild(Hr,_);ut=".priority"===vr?tn.updatePriority(je.getNode(),Lo):tn.updateChild(je.getNode(),vr,Lo,Hr,_a,null)}const pn=Qa(d,ut,je.isFullyInitialized()||zr(h),tn.filtersNodes());return Na(p,pn,h,A,new Ql(A,pn,V),Ee)}function io(p,d,h,_,A,V,X){const Ee=d.eventCache;let je,ut;const tn=new Ql(A,d,V);if(zr(h))ut=p.filter.updateFullNode(d.eventCache.getNode(),_,X),je=qa(d,ut,!0,p.filter.filtersNodes());else{const pn=Pn(h);if(".priority"===pn)ut=p.filter.updatePriority(d.eventCache.getNode(),_),je=qa(d,ut,Ee.isFullyInitialized(),Ee.isFiltered());else{const Dn=Br(h),vr=Ee.getNode().getImmediateChild(pn);let Hr;if(zr(Dn))Hr=_;else{const Wi=tn.getCompleteChild(pn);Hr=null!=Wi?".priority"===hs(Dn)&&Wi.getChild(So(Dn)).isEmpty()?Wi:Wi.updateChild(Dn,_):Zr.EMPTY_NODE}je=vr.equals(Hr)?d:qa(d,p.filter.updateChild(Ee.getNode(),pn,Hr,Dn,tn,X),Ee.isFullyInitialized(),p.filter.filtersNodes())}}return je}function Xs(p,d){return p.eventCache.isCompleteForChild(d)}function so(p,d,h){return h.foreach((_,A)=>{d=d.updateChild(_,A)}),d}function yr(p,d,h,_,A,V,X,Ee){if(d.serverCache.getNode().isEmpty()&&!d.serverCache.isFullyInitialized())return d;let ut,je=d;ut=zr(h)?_:new Ji(null).setTree(h,_);const tn=d.serverCache.getNode();return ut.children.inorderTraversal((pn,Dn)=>{if(tn.hasChild(pn)){const Hr=so(0,d.serverCache.getNode().getImmediateChild(pn),Dn);je=go(p,je,new er(pn),Hr,A,V,X,Ee)}}),ut.children.inorderTraversal((pn,Dn)=>{const vr=!d.serverCache.isCompleteForChild(pn)&&null===Dn.value;if(!tn.hasChild(pn)&&!vr){const Wi=so(0,d.serverCache.getNode().getImmediateChild(pn),Dn);je=go(p,je,new er(pn),Wi,A,V,X,Ee)}}),je}class Oa{constructor(d,h){this.query_=d,this.eventRegistrations_=[];const _=this.query_._queryParams,A=new we(_.getIndex()),V=function yo(p){return p.loadsAllData()?new we(p.getIndex()):p.hasLimit()?new Dr(p):new _t(p)}(_);this.processor_=function po(p){return{filter:p}}(V);const X=h.serverCache,Ee=h.eventCache,je=A.updateFullNode(Zr.EMPTY_NODE,X.getNode(),null),ut=V.updateFullNode(Zr.EMPTY_NODE,Ee.getNode(),null),tn=new ra(je,X.isFullyInitialized(),A.filtersNodes()),pn=new ra(ut,Ee.isFullyInitialized(),V.filtersNodes());this.viewCache_=Mo(pn,tn),this.eventGenerator_=new ia(this.query_)}get query(){return this.query_}}function Iu(p,d){const h=cs(p.viewCache_);return h&&(p.query._queryParams.loadsAllData()||!zr(d)&&!h.getImmediateChild(Pn(d)).isEmpty())?h.getChild(d):null}function Zi(p){return 0===p.eventRegistrations_.length}function vo(p,d,h){const _=[];if(h){(0,H.vA)(null==d,"A cancel should cancel all event registrations.");const A=p.query._path;p.eventRegistrations_.forEach(V=>{const X=V.createCancelEvent(h,A);X&&_.push(X)})}if(d){let A=[];for(let V=0;V<p.eventRegistrations_.length;++V){const X=p.eventRegistrations_[V];if(X.matches(d)){if(d.hasAnyCallback()){A=A.concat(p.eventRegistrations_.slice(V+1));break}}else A.push(X)}p.eventRegistrations_=A}else p.eventRegistrations_=[];return _}function Bo(p,d,h,_){d.type===Ki.MERGE&&null!==d.source.queryId&&((0,H.vA)(cs(p.viewCache_),"We should always have a full cache before handling merges"),(0,H.vA)(va(p.viewCache_),"Missing event cache, even though we have a server cache"));const A=p.viewCache_,V=function As(p,d,h,_,A){const V=new fo;let X,Ee;if(h.type===Ki.OVERWRITE){const ut=h;ut.source.fromUser?X=io(p,d,ut.path,ut.snap,_,A,V):((0,H.vA)(ut.source.fromServer,"Unknown source."),Ee=ut.source.tagged||d.serverCache.isFiltered()&&!zr(ut.path),X=go(p,d,ut.path,ut.snap,_,A,Ee,V))}else if(h.type===Ki.MERGE){const ut=h;ut.source.fromUser?X=function Yl(p,d,h,_,A,V,X){let Ee=d;return _.foreach((je,ut)=>{const tn=ur(h,je);Xs(d,Pn(tn))&&(Ee=io(p,Ee,tn,ut,A,V,X))}),_.foreach((je,ut)=>{const tn=ur(h,je);Xs(d,Pn(tn))||(Ee=io(p,Ee,tn,ut,A,V,X))}),Ee}(p,d,ut.path,ut.children,_,A,V):((0,H.vA)(ut.source.fromServer,"Unknown source."),Ee=ut.source.tagged||d.serverCache.isFiltered(),X=yr(p,d,ut.path,ut.children,_,A,Ee,V))}else if(h.type===Ki.ACK_USER_WRITE){const ut=h;X=ut.revert?function mo(p,d,h,_,A,V){let X;if(null!=Hi(_,h))return d;{const Ee=new Ql(_,d,A),je=d.eventCache.getNode();let ut;if(zr(h)||".priority"===Pn(h)){let tn;if(d.serverCache.isFullyInitialized())tn=sr(_,cs(d));else{const pn=d.serverCache.getNode();(0,H.vA)(pn instanceof Zr,"serverChildren would be complete if leaf node"),tn=vi(_,pn)}ut=p.filter.updateFullNode(je,tn,V)}else{const tn=Pn(h);let pn=Ws(_,tn,d.serverCache);null==pn&&d.serverCache.isCompleteForChild(tn)&&(pn=je.getImmediateChild(tn)),ut=null!=pn?p.filter.updateChild(je,tn,pn,Br(h),Ee,V):d.eventCache.getNode().hasChild(tn)?p.filter.updateChild(je,tn,Zr.EMPTY_NODE,Br(h),Ee,V):je,ut.isEmpty()&&d.serverCache.isFullyInitialized()&&(X=sr(_,cs(d)),X.isLeafNode()&&(ut=p.filter.updateFullNode(ut,X,V)))}return X=d.serverCache.isFullyInitialized()||null!=Hi(_,Cr()),qa(d,ut,X,p.filter.filtersNodes())}}(p,d,ut.path,_,A,V):function Rl(p,d,h,_,A,V,X){if(null!=Hi(A,h))return d;const Ee=d.serverCache.isFiltered(),je=d.serverCache;if(null!=_.value){if(zr(h)&&je.isFullyInitialized()||je.isCompleteForPath(h))return go(p,d,h,je.getNode().getChild(h),A,V,Ee,X);if(zr(h)){let ut=new Ji(null);return je.getNode().forEachChild(mi,(tn,pn)=>{ut=ut.set(new er(tn),pn)}),yr(p,d,h,ut,A,V,Ee,X)}return d}{let ut=new Ji(null);return _.foreach((tn,pn)=>{const Dn=ur(h,tn);je.isCompleteForPath(Dn)&&(ut=ut.set(tn,je.getNode().getChild(Dn)))}),yr(p,d,h,ut,A,V,Ee,X)}}(p,d,ut.path,ut.affectedTree,_,A,V)}else{if(h.type!==Ki.LISTEN_COMPLETE)throw(0,H.Hk)("Unknown operation type: "+h.type);X=function us(p,d,h,_,A){const V=d.serverCache;return Na(p,Qa(d,V.getNode(),V.isFullyInitialized()||zr(h),V.isFiltered()),h,_,_a,A)}(p,d,h.path,_,V)}const je=V.getChanges();return function Sl(p,d,h){const _=d.eventCache;if(_.isFullyInitialized()){const A=_.getNode().isLeafNode()||_.getNode().isEmpty(),V=va(p);(h.length>0||!p.eventCache.isFullyInitialized()||A&&!_.getNode().equals(V)||!_.getNode().getPriority().equals(V.getPriority()))&&h.push(Pa(va(d)))}}(d,X,je),{viewCache:X,changes:je}}(p.processor_,A,d,h,_);return function rs(p,d){(0,H.vA)(d.eventCache.getNode().isIndexed(p.filter.getIndex()),"Event snap not indexed"),(0,H.vA)(d.serverCache.getNode().isIndexed(p.filter.getIndex()),"Server snap not indexed")}(p.processor_,V.viewCache),(0,H.vA)(V.viewCache.serverCache.isFullyInitialized()||!A.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),p.viewCache_=V.viewCache,ao(p,V.changes,V.viewCache.eventCache.getNode(),null)}function ao(p,d,h,_){return function wc(p,d,h,_){const A=[],V=[];return d.forEach(X=>{"child_changed"===X.type&&p.index_.indexedValueChanged(X.oldSnap,X.snapshotNode)&&V.push(function B(p,d){return{type:"child_moved",snapshotNode:d,childName:p}}(X.childName,X.snapshotNode))}),no(p,A,"child_removed",d,_,h),no(p,A,"child_added",d,_,h),no(p,A,"child_moved",V,_,h),no(p,A,"child_changed",d,_,h),no(p,A,"value",d,_,h),A}(p.eventGenerator_,d,h,_?[_]:p.eventRegistrations_)}let Ns,R;class Zc{constructor(){this.views=new Map}}function si(p,d,h,_){const A=d.source.queryId;if(null!==A){const V=p.views.get(A);return(0,H.vA)(null!=V,"SyncTree gave us an op for an invalid query."),Bo(V,d,h,_)}{let V=[];for(const X of p.views.values())V=V.concat(Bo(X,d,h,_));return V}}function Zl(p,d,h,_,A){const X=p.views.get(d._queryIdentifier);if(!X){let Ee=sr(h,A?_:null),je=!1;Ee?je=!0:_ instanceof Zr?(Ee=vi(h,_),je=!1):(Ee=Zr.EMPTY_NODE,je=!1);const ut=Mo(new ra(Ee,je,!1),new ra(_,A,!1));return new Oa(d,ut)}return X}function Yd(p){const d=[];for(const h of p.views.values())h.query._queryParams.loadsAllData()||d.push(h);return d}function ec(p,d){let h=null;for(const _ of p.views.values())h=h||Iu(_,d);return h}function yl(p,d){return d._queryParams.loadsAllData()?L(p):p.views.get(d._queryIdentifier)}function Uh(p,d){return null!=yl(p,d)}function D(p){return null!=L(p)}function L(p){for(const d of p.views.values())if(d.query._queryParams.loadsAllData())return d;return null}let Ce=1;class Je{constructor(d){this.listenProvider_=d,this.syncPointTree_=new Ji(null),this.pendingWriteTree_=function Rn(){return{visibleWrites:Hs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function en(p,d,h,_,A){return function M(p,d,h,_,A){(0,H.vA)(_>p.lastWriteId,"Stacking an older write on top of newer ones"),void 0===A&&(A=!0),p.allWrites.push({path:d,snap:h,writeId:_,visible:A}),A&&(p.visibleWrites=_l(p.visibleWrites,d,h)),p.lastWriteId=_}(p.pendingWriteTree_,d,h,_,A),A?bc(p,new js({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,h)):[]}function zn(p,d,h=!1){const _=function $(p,d){for(let h=0;h<p.allWrites.length;h++){const _=p.allWrites[h];if(_.writeId===d)return _}return null}(p.pendingWriteTree_,d);if(function se(p,d){const h=p.allWrites.findIndex(Ee=>Ee.writeId===d);(0,H.vA)(h>=0,"removeWrite called with nonexistent writeId.");const _=p.allWrites[h];p.allWrites.splice(h,1);let A=_.visible,V=!1,X=p.allWrites.length-1;for(;A&&X>=0;){const Ee=p.allWrites[X];Ee.visible&&(X>=h&&tt(Ee,_.path)?A=!1:fs(_.path,Ee.path)&&(V=!0)),X--}return!!A&&(V?(function sn(p){p.visibleWrites=fr(p.allWrites,yn,Cr()),p.lastWriteId=p.allWrites.length>0?p.allWrites[p.allWrites.length-1].writeId:-1}(p),!0):(_.snap?p.visibleWrites=Ya(p.visibleWrites,_.path):ir(_.children,je=>{p.visibleWrites=Ya(p.visibleWrites,ur(_.path,je))}),!0))}(p.pendingWriteTree_,d)){let V=new Ji(null);return null!=_.snap?V=V.set(Cr(),!0):ir(_.children,X=>{V=V.set(new er(X),!0)}),bc(p,new $s(_.path,V,h))}return[]}function Fr(p,d,h){return bc(p,new js({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,h))}function ms(p,d,h,_,A=!1){const V=d._path,X=p.syncPointTree_.get(V);let Ee=[];if(X&&("default"===d._queryIdentifier||Uh(X,d))){const je=function Qd(p,d,h,_){const A=d._queryIdentifier,V=[];let X=[];const Ee=D(p);if("default"===A)for(const[je,ut]of p.views.entries())X=X.concat(vo(ut,h,_)),Zi(ut)&&(p.views.delete(je),ut.query._queryParams.loadsAllData()||V.push(ut.query));else{const je=p.views.get(A);je&&(X=X.concat(vo(je,h,_)),Zi(je)&&(p.views.delete(A),je.query._queryParams.loadsAllData()||V.push(je.query)))}return Ee&&!D(p)&&V.push(new(function eu(){return(0,H.vA)(Ns,"Reference.ts has not been loaded"),Ns}())(d._repo,d._path)),{removed:V,events:X}}(X,d,h,_);(function tu(p){return 0===p.views.size})(X)&&(p.syncPointTree_=p.syncPointTree_.remove(V));const ut=je.removed;if(Ee=je.events,!A){const tn=-1!==ut.findIndex(Dn=>Dn._queryParams.loadsAllData()),pn=p.syncPointTree_.findOnPath(V,(Dn,vr)=>D(vr));if(tn&&!pn){const Dn=p.syncPointTree_.subtree(V);if(!Dn.isEmpty()){const vr=function Ds(p){return p.fold((d,h,_)=>{if(h&&D(h))return[L(h)];{let A=[];return h&&(A=Yd(h)),ir(_,(V,X)=>{A=A.concat(X)}),A}})}(Dn);for(let Hr=0;Hr<vr.length;++Hr){const Wi=vr[Hr],Lo=Wi.query,dl=oa(p,Wi);p.listenProvider_.startListening(Nl(Lo),Il(p,Lo),dl.hashFn,dl.onComplete)}}}!pn&&ut.length>0&&!_&&(tn?p.listenProvider_.stopListening(Nl(d),null):ut.forEach(Dn=>{const vr=p.queryToTagMap.get(tc(Dn));p.listenProvider_.stopListening(Nl(Dn),vr)}))}!function nu(p,d){for(let h=0;h<d.length;++h){const _=d[h];if(!_._queryParams.loadsAllData()){const A=tc(_),V=p.queryToTagMap.get(A);p.queryToTagMap.delete(A),p.tagToQueryMap.delete(V)}}}(p,ut)}return Ee}function $o(p,d,h,_){const A=Ci(p,_);if(null!=A){const V=xl(A),X=V.path,Ee=V.queryId,je=Xr(X,d);return ya(p,X,new js(na(Ee),je,h))}return[]}function Za(p,d,h,_=!1){const A=d._path;let V=null,X=!1;p.syncPointTree_.foreachOnPath(A,(Dn,vr)=>{const Hr=Xr(Dn,A);V=V||ec(vr,Hr),X=X||D(vr)});let je,Ee=p.syncPointTree_.get(A);Ee?(X=X||D(Ee),V=V||ec(Ee,Cr())):(Ee=new Zc,p.syncPointTree_=p.syncPointTree_.set(A,Ee)),null!=V?je=!0:(je=!1,V=Zr.EMPTY_NODE,p.syncPointTree_.subtree(A).foreachChild((vr,Hr)=>{const Wi=ec(Hr,Cr());Wi&&(V=V.updateImmediateChild(vr,Wi))}));const ut=Uh(Ee,d);if(!ut&&!d._queryParams.loadsAllData()){const Dn=tc(d);(0,H.vA)(!p.queryToTagMap.has(Dn),"View does not exist, but we have a tag");const vr=function Ac(){return Ce++}();p.queryToTagMap.set(Dn,vr),p.tagToQueryMap.set(vr,Dn)}let pn=function ad(p,d,h,_,A,V){const X=Zl(p,d,_,A,V);return p.views.has(d._queryIdentifier)||p.views.set(d._queryIdentifier,X),function oo(p,d){p.eventRegistrations_.push(d)}(X,h),function Ja(p,d){const h=p.viewCache_.eventCache,_=[];return h.getNode().isLeafNode()||h.getNode().forEachChild(wr,(V,X)=>{_.push(Vo(V,X))}),h.isFullyInitialized()&&_.push(Pa(h.getNode())),ao(p,_,h.getNode(),d)}(X,h)}(Ee,d,h,ql(p.pendingWriteTree_,A),V,je);if(!ut&&!X&&!_){const Dn=yl(Ee,d);pn=pn.concat(function Xi(p,d,h){const _=d._path,A=Il(p,d),V=oa(p,h),X=p.listenProvider_.startListening(Nl(d),A,V.hashFn,V.onComplete),Ee=p.syncPointTree_.subtree(_);if(A)(0,H.vA)(!D(Ee.value),"If we're adding a query, it shouldn't be shadowed");else{const je=Ee.fold((ut,tn,pn)=>{if(!zr(ut)&&tn&&D(tn))return[L(tn).query];{let Dn=[];return tn&&(Dn=Dn.concat(Yd(tn).map(vr=>vr.query))),ir(pn,(vr,Hr)=>{Dn=Dn.concat(Hr)}),Dn}});for(let ut=0;ut<je.length;++ut){const tn=je[ut];p.listenProvider_.stopListening(Nl(tn),Il(p,tn))}}return X}(p,d,Dn))}return pn}function el(p,d,h){const A=p.pendingWriteTree_,V=p.syncPointTree_.findOnPath(d,(X,Ee)=>{const ut=ec(Ee,Xr(X,d));if(ut)return ut});return Di(A,d,V,h,!0)}function bc(p,d){return tl(d,p.syncPointTree_,null,ql(p.pendingWriteTree_,Cr()))}function tl(p,d,h,_){if(zr(p.path))return El(p,d,h,_);{const A=d.get(Cr());null==h&&null!=A&&(h=ec(A,Cr()));let V=[];const X=Pn(p.path),Ee=p.operationForChild(X),je=d.children.get(X);if(je&&Ee){const ut=h?h.getImmediateChild(X):null,tn=di(_,X);V=V.concat(tl(Ee,je,ut,tn))}return A&&(V=V.concat(si(A,p,_,h))),V}}function El(p,d,h,_){const A=d.get(Cr());null==h&&null!=A&&(h=ec(A,Cr()));let V=[];return d.children.inorderTraversal((X,Ee)=>{const je=h?h.getImmediateChild(X):null,ut=di(_,X),tn=p.operationForChild(X);tn&&(V=V.concat(El(tn,Ee,je,ut)))}),A&&(V=V.concat(si(A,p,_,h))),V}function oa(p,d){const h=d.query,_=Il(p,h);return{hashFn:()=>(function Jl(p){return p.viewCache_.serverCache.getNode()}(d)||Zr.EMPTY_NODE).hash(),onComplete:A=>{if("ok"===A)return _?function Mi(p,d,h){const _=Ci(p,h);if(_){const A=xl(_),V=A.path,X=A.queryId,Ee=Xr(V,d);return ya(p,V,new Xa(na(X),Ee))}return[]}(p,h._path,_):function ls(p,d){return bc(p,new Xa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d))}(p,h._path);{const V=function Rr(p,d){let h="Unknown Error";"too_big"===p?h="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===p?h="Client doesn't have permission to access the desired data.":"unavailable"===p&&(h="The service is unavailable");const _=new Error(p+" at "+d._path.toString()+": "+h);return _.code=p.toUpperCase(),_}(A,h);return ms(p,h,null,V)}}}}function Il(p,d){const h=tc(d);return p.queryToTagMap.get(h)}function tc(p){return p._path.toString()+"$"+p._queryIdentifier}function Ci(p,d){return p.tagToQueryMap.get(d)}function xl(p){const d=p.indexOf("$");return(0,H.vA)(-1!==d&&d<p.length-1,"Bad queryKey."),{queryId:p.substr(d+1),path:new er(p.substr(0,d))}}function ya(p,d,h){const _=p.syncPointTree_.get(d);return(0,H.vA)(_,"Missing sync point for query tag that we're tracking"),si(_,h,ql(p.pendingWriteTree_,d),null)}function Nl(p){return p._queryParams.loadsAllData()&&!p._queryParams.isDefault()?new(function te(){return(0,H.vA)(R,"Reference.ts has not been loaded"),R}())(p._repo,p._path):p}class Si{constructor(d){this.node_=d}getImmediateChild(d){const h=this.node_.getImmediateChild(d);return new Si(h)}node(){return this.node_}}class Dc{constructor(d,h){this.syncTree_=d,this.path_=h}getImmediateChild(d){const h=ur(this.path_,d);return new Dc(this.syncTree_,h)}node(){return el(this.syncTree_,this.path_)}}const Bh=function(p){return(p=p||{}).timestamp=p.timestamp||(new Date).getTime(),p},No=function(p,d,h){return p&&"object"==typeof p?((0,H.vA)(".sv"in p,"Unexpected leaf node or priority contents"),"string"==typeof p[".sv"]?Tu(p[".sv"],d,h):"object"==typeof p[".sv"]?$h(p[".sv"],d):void(0,H.vA)(!1,"Unexpected server value: "+JSON.stringify(p,null,2))):p},Tu=function(p,d,h){if("timestamp"===p)return h.timestamp;(0,H.vA)(!1,"Unexpected server value: "+p)},$h=function(p,d,h){p.hasOwnProperty("increment")||(0,H.vA)(!1,"Unexpected server value: "+JSON.stringify(p,null,2));const _=p.increment;"number"!=typeof _&&(0,H.vA)(!1,"Unexpected increment value: "+_);const A=d.node();if((0,H.vA)(null!==A&&typeof A<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!A.isLeafNode())return _;const X=A.getValue();return"number"!=typeof X?_:X+_},ru=function(p,d,h,_){return Ol(d,new Dc(h,p),_)},Sc=function(p,d,h){return Ol(p,new Si(d),h)};function Ol(p,d,h){const _=p.getPriority().val(),A=No(_,d.getImmediateChild(".priority"),h);let V;if(p.isLeafNode()){const X=p,Ee=No(X.getValue(),d,h);return Ee!==X.getValue()||A!==X.getPriority().val()?new ui(Ee,ji(A)):p}{const X=p;return V=X,A!==X.getPriority().val()&&(V=V.updatePriority(new ui(A))),X.forEachChild(wr,(Ee,je)=>{const ut=Ol(je,d.getImmediateChild(Ee),h);ut!==je&&(V=V.updateImmediateChild(Ee,ut))}),V}}class ka{constructor(d="",h=null,_={children:{},childCount:0}){this.name=d,this.parent=h,this.node=_}}function nl(p,d){let h=d instanceof er?d:new er(d),_=p,A=Pn(h);for(;null!==A;){const V=(0,H.yw)(_.node.children,A)||{children:{},childCount:0};_=new ka(A,_,V),h=Br(h),A=Pn(h)}return _}function wo(p){return p.node.value}function aa(p,d){p.node.value=d,ld(p)}function ei(p){return p.node.childCount>0}function kl(p,d){ir(p.node.children,(h,_)=>{d(new ka(h,p,_))})}function Cu(p,d,h,_){h&&!_&&d(p),kl(p,A=>{Cu(A,d,!0,_)}),h&&_&&d(p)}function nc(p){return new er(null===p.parent?p.name:nc(p.parent)+"/"+p.name)}function ld(p){null!==p.parent&&function jh(p,d,h){const _=function Rc(p){return void 0===wo(p)&&!ei(p)}(h),A=(0,H.gR)(p.node.children,d);_&&A?(delete p.node.children[d],p.node.childCount--,ld(p)):!_&&!A&&(p.node.children[d]=h.node,p.node.childCount++,ld(p))}(p.parent,p.name,p)}const Hh=/[\[\].#$\/\u0000-\u001F\u007F]/,Pc=/[\[\].#$\u0000-\u001F\u007F]/,Mc=10485760,Ll=function(p){return"string"==typeof p&&0!==p.length&&!Hh.test(p)},Jd=function(p){return"string"==typeof p&&0!==p.length&&!Pc.test(p)},vs=function(p){return null===p||"string"==typeof p||"number"==typeof p&&!Nn(p)||p&&"object"==typeof p&&(0,H.gR)(p,".sv")},ln=function(p,d,h,_){_&&void 0===d||ii((0,H.dI)(p,"value"),d,h)},ii=function(p,d,h){const _=h instanceof er?new Ts(h,p):h;if(void 0===d)throw new Error(p+"contains undefined "+O(_));if("function"==typeof d)throw new Error(p+"contains a function "+O(_)+" with contents = "+d.toString());if(Nn(d))throw new Error(p+"contains "+d.toString()+" "+O(_));if("string"==typeof d&&d.length>Mc/3&&(0,H.OE)(d)>Mc)throw new Error(p+"contains a string greater than "+Mc+" utf8 bytes "+O(_)+" ('"+d.substring(0,50)+"...')");if(d&&"object"==typeof d){let A=!1,V=!1;if(ir(d,(X,Ee)=>{if(".value"===X)A=!0;else if(".priority"!==X&&".sv"!==X&&(V=!0,!Ll(X)))throw new Error(p+" contains an invalid key ("+X+") "+O(_)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function uo(p,d){p.parts_.length>0&&(p.byteLength_+=1),p.parts_.push(d),p.byteLength_+=(0,H.OE)(d),ce(p)})(_,X),ii(p,Ee,_),function C(p){const d=p.parts_.pop();p.byteLength_-=(0,H.OE)(d),p.parts_.length>0&&(p.byteLength_-=1)}(_)}),A&&V)throw new Error(p+' contains ".value" child '+O(_)+" in addition to actual children.")}},Fl=function(p,d,h,_){if(_&&void 0===d)return;const A=(0,H.dI)(p,"values");if(!d||"object"!=typeof d||Array.isArray(d))throw new Error(A+" must be an object containing the children to replace.");const V=[];ir(d,(X,Ee)=>{const je=new er(X);if(ii(A,Ee,ur(h,je)),".priority"===hs(je)&&!vs(Ee))throw new Error(A+"contains an invalid value for '"+je.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");V.push(je)}),function(p,d){let h,_;for(h=0;h<d.length;h++){_=d[h];const V=mr(_);for(let X=0;X<V.length;X++)if((".priority"!==V[X]||X!==V.length-1)&&!Ll(V[X]))throw new Error(p+"contains an invalid key ("+V[X]+") in path "+_.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}d.sort(Wn);let A=null;for(h=0;h<d.length;h++){if(_=d[h],null!==A&&fs(A,_))throw new Error(p+"contains a path "+A.toString()+" that is ancestor of another path "+_.toString());A=_}}(A,V)},hi=function(p,d,h){if(!h||void 0!==d){if(Nn(d))throw new Error((0,H.dI)(p,"priority")+"is "+d.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!vs(d))throw new Error((0,H.dI)(p,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Vl=function(p,d,h,_){if(!(_&&void 0===h||Ll(h)))throw new Error((0,H.dI)(p,d)+'was an invalid key = "'+h+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},rl=function(p,d,h,_){if(!(_&&void 0===h||Jd(h)))throw new Error((0,H.dI)(p,d)+'was an invalid path = "'+h+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},jo=function(p,d,h,_){h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),rl(p,d,h,_)},Ho=function(p,d){if(".info"===Pn(d))throw new Error(p+" failed = Can't modify data under /.info/")},iu=function(p,d){const h=d.path.toString();if("string"!=typeof d.repoInfo.host||0===d.repoInfo.host.length||!Ll(d.repoInfo.namespace)&&"localhost"!==d.repoInfo.host.split(":")[0]||0!==h.length&&!function(p){return p&&(p=p.replace(/^\/*\.info(\/|$)/,"/")),Jd(p)}(h))throw new Error((0,H.dI)(p,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class cd{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ud(p,d){let h=null;for(let _=0;_<d.length;_++){const A=d[_],V=A.getPath();null!==h&&!zi(V,h.path)&&(p.eventLists_.push(h),h=null),null===h&&(h={events:[],path:V}),h.events.push(A)}h&&p.eventLists_.push(h)}function qf(p,d,h){ud(p,h),xc(p,_=>zi(_,d))}function lo(p,d,h){ud(p,h),xc(p,_=>fs(_,d)||fs(d,_))}function xc(p,d){p.recursionDepth_++;let h=!0;for(let _=0;_<p.eventLists_.length;_++){const A=p.eventLists_[_];A&&(d(A.path)?(Wh(p.eventLists_[_]),p.eventLists_[_]=null):h=!1)}h&&(p.eventLists_=[]),p.recursionDepth_--}function Wh(p){for(let d=0;d<p.events.length;d++){const h=p.events[d];if(null!==h){p.events[d]=null;const _=h.getEventRunner();De&&st("event: "+h.toString()),Tr(_)}}}const bo="repo_interrupt",La=25;class wu{constructor(d,h,_,A){this.repoInfo_=d,this.forceRestClient_=h,this.authTokenProvider_=_,this.appCheckProvider_=A,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new cd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ni(),this.transactionQueueTree_=new ka,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Tl(p){const h=p.infoData_.getNode(new er(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+h}function Nc(p){return Bh({timestamp:Tl(p)})}function th(p,d,h,_,A){p.dataUpdateCount++;const V=new er(d);h=p.interceptServerDataCallback_?p.interceptServerDataCallback_(d,h):h;let X=[];if(A)if(_){const je=(0,H.kH)(h,ut=>ji(ut));X=function sa(p,d,h,_){const A=Ci(p,_);if(A){const V=xl(A),X=V.path,Ee=V.queryId,je=Xr(X,d),ut=Ji.fromObject(h);return ya(p,X,new ml(na(Ee),je,ut))}return[]}(p.serverSyncTree_,V,je,A)}else{const je=ji(h);X=$o(p.serverSyncTree_,V,je,A)}else if(_){const je=(0,H.kH)(h,ut=>ji(ut));X=function li(p,d,h){const _=Ji.fromObject(h);return bc(p,new ml({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,_))}(p.serverSyncTree_,V,je)}else{const je=ji(h);X=Fr(p.serverSyncTree_,V,je)}let Ee=V;X.length>0&&(Ee=wl(p,V)),lo(p.eventQueue_,Ee,X)}function bu(p,d){Va(p,"connected",d),!1===d&&function Cl(p){Ea(p,"onDisconnectEvents");const d=Nc(p),h=ni();bs(p.onDisconnect_,Cr(),(A,V)=>{const X=ru(A,V,p.serverSyncTree_,d);Yr(h,A,X)});let _=[];bs(h,Cr(),(A,V)=>{_=_.concat(Fr(p.serverSyncTree_,A,V));const X=sc(p,A);wl(p,X)}),p.onDisconnect_=ni(),lo(p.eventQueue_,Cr(),_)}(p)}function Va(p,d,h){const _=new er("/.info/"+d),A=ji(h);p.infoData_.updateSnapshot(_,A);const V=Fr(p.infoSyncTree_,_,A);lo(p.eventQueue_,_,V)}function il(p){return p.nextWriteId_++}function su(p,d,h,_,A){Ea(p,"set",{path:d.toString(),value:h,priority:_});const V=Nc(p),X=ji(h,_),Ee=el(p.serverSyncTree_,d),je=Sc(X,Ee,V),ut=il(p),tn=en(p.serverSyncTree_,d,je,ut,!0);ud(p.eventQueue_,tn),p.server_.put(d.toString(),X.val(!0),(Dn,vr)=>{const Hr="ok"===Dn;Hr||Vn("set at "+d+" failed: "+Dn);const Wi=zn(p.serverSyncTree_,ut,!Hr);lo(p.eventQueue_,d,Wi),Ui(0,A,Dn,vr)});const pn=sc(p,d);wl(p,pn),lo(p.eventQueue_,pn,[])}function hd(p,d,h){p.server_.onDisconnectCancel(d.toString(),(_,A)=>{"ok"===_&&as(p.onDisconnect_,d),Ui(0,h,_,A)})}function Au(p,d,h,_){const A=ji(h);p.server_.onDisconnectPut(d.toString(),A.val(!0),(V,X)=>{"ok"===V&&Yr(p.onDisconnect_,d,A),Ui(0,_,V,X)})}function sl(p,d,h){let _;_=".info"===Pn(d._path)?ms(p.infoSyncTree_,d,h):ms(p.serverSyncTree_,d,h),qf(p.eventQueue_,d._path,_)}function ic(p){p.persistentConnection_&&p.persistentConnection_.interrupt(bo)}function Ea(p,...d){let h="";p.persistentConnection_&&(h=p.persistentConnection_.id+":"),st(h,...d)}function Ui(p,d,h,_){d&&Tr(()=>{if("ok"===h)d(null);else{const A=(h||"error").toUpperCase();let V=A;_&&(V+=": "+_);const X=new Error(V);X.code=A,d(X)}})}function fd(p,d,h){return el(p.serverSyncTree_,d,h)||Zr.EMPTY_NODE}function Su(p,d=p.transactionQueueTree_){if(d||la(p,d),wo(d)){const h=Wo(p,d);(0,H.vA)(h.length>0,"Sending zero length transaction queue"),h.every(A=>0===A.status)&&function ih(p,d,h){const _=h.map(ut=>ut.currentWriteId),A=fd(p,d,_);let V=A;const X=A.hash();for(let ut=0;ut<h.length;ut++){const tn=h[ut];(0,H.vA)(0===tn.status,"tryToSendTransactionQueue_: items in queue should all be run."),tn.status=1,tn.retryCount++;const pn=Xr(d,tn.path);V=V.updateChild(pn,tn.currentOutputSnapshotRaw)}const Ee=V.val(!0),je=d;p.server_.put(je.toString(),Ee,ut=>{Ea(p,"transaction put response",{path:je.toString(),status:ut});let tn=[];if("ok"===ut){const pn=[];for(let Dn=0;Dn<h.length;Dn++)h[Dn].status=2,tn=tn.concat(zn(p.serverSyncTree_,h[Dn].currentWriteId)),h[Dn].onComplete&&pn.push(()=>h[Dn].onComplete(null,!0,h[Dn].currentOutputSnapshotResolved)),h[Dn].unwatcher();la(p,nl(p.transactionQueueTree_,d)),Su(p,p.transactionQueueTree_),lo(p.eventQueue_,d,tn);for(let Dn=0;Dn<pn.length;Dn++)Tr(pn[Dn])}else{if("datastale"===ut)for(let pn=0;pn<h.length;pn++)h[pn].status=3===h[pn].status?4:0;else{Vn("transaction at "+je.toString()+" failed: "+ut);for(let pn=0;pn<h.length;pn++)h[pn].status=4,h[pn].abortReason=ut}wl(p,d)}},X)}(p,nc(d),h)}else ei(d)&&kl(d,h=>{Su(p,h)})}function wl(p,d){const h=ol(p,d),_=nc(h);return function sh(p,d,h){if(0===d.length)return;const _=[];let A=[];const X=d.filter(Ee=>0===Ee.status).map(Ee=>Ee.currentWriteId);for(let Ee=0;Ee<d.length;Ee++){const je=d[Ee],ut=Xr(h,je.path);let pn,tn=!1;if((0,H.vA)(null!==ut,"rerunTransactionsUnderNode_: relativePath should not be null."),4===je.status)tn=!0,pn=je.abortReason,A=A.concat(zn(p.serverSyncTree_,je.currentWriteId,!0));else if(0===je.status)if(je.retryCount>=La)tn=!0,pn="maxretry",A=A.concat(zn(p.serverSyncTree_,je.currentWriteId,!0));else{const Dn=fd(p,je.path,X);je.currentInputSnapshot=Dn;const vr=d[Ee].update(Dn.val());if(void 0!==vr){ii("transaction failed: Data returned ",vr,je.path);let Hr=ji(vr);"object"==typeof vr&&null!=vr&&(0,H.gR)(vr,".priority")||(Hr=Hr.updatePriority(Dn.getPriority()));const Lo=je.currentWriteId,dl=Nc(p),Wc=Sc(Hr,Dn,dl);je.currentOutputSnapshotRaw=Hr,je.currentOutputSnapshotResolved=Wc,je.currentWriteId=il(p),X.splice(X.indexOf(Lo),1),A=A.concat(en(p.serverSyncTree_,je.path,Wc,je.currentWriteId,je.applyLocally)),A=A.concat(zn(p.serverSyncTree_,Lo,!0))}else tn=!0,pn="nodata",A=A.concat(zn(p.serverSyncTree_,je.currentWriteId,!0))}lo(p.eventQueue_,h,A),A=[],tn&&(d[Ee].status=2,setTimeout(d[Ee].unwatcher,Math.floor(0)),d[Ee].onComplete&&_.push("nodata"===pn?()=>d[Ee].onComplete(null,!1,d[Ee].currentInputSnapshot):()=>d[Ee].onComplete(new Error(pn),!1,null)))}la(p,p.transactionQueueTree_);for(let Ee=0;Ee<_.length;Ee++)Tr(_[Ee]);Su(p,p.transactionQueueTree_)}(p,Wo(p,h),_),_}function ol(p,d){let h,_=p.transactionQueueTree_;for(h=Pn(d);null!==h&&void 0===wo(_);)_=nl(_,h),h=Pn(d=Br(d));return _}function Wo(p,d){const h=[];return oh(p,d,h),h.sort((_,A)=>_.order-A.order),h}function oh(p,d,h){const _=wo(d);if(_)for(let A=0;A<_.length;A++)h.push(_[A]);kl(d,A=>{oh(p,A,h)})}function la(p,d){const h=wo(d);if(h){let _=0;for(let A=0;A<h.length;A++)2!==h[A].status&&(h[_]=h[A],_++);h.length=_,aa(d,h.length>0?h:void 0)}kl(d,_=>{la(p,_)})}function sc(p,d){const h=nc(ol(p,d)),_=nl(p.transactionQueueTree_,d);return function Xf(p,d,h){let _=h?p:p.parent;for(;null!==_;){if(d(_))return!0;_=_.parent}}(_,A=>{Oc(p,A)}),Oc(p,_),Cu(_,A=>{Oc(p,A)}),h}function Oc(p,d){const h=wo(d);if(h){const _=[];let A=[],V=-1;for(let X=0;X<h.length;X++)3===h[X].status||(1===h[X].status?((0,H.vA)(V===X-1,"All SENT items should be at beginning of queue."),V=X,h[X].status=3,h[X].abortReason="set"):((0,H.vA)(0===h[X].status,"Unexpected transaction status in abort"),h[X].unwatcher(),A=A.concat(zn(p.serverSyncTree_,h[X].currentWriteId,!0)),h[X].onComplete&&_.push(h[X].onComplete.bind(null,new Error("set"),!1,null))));-1===V?aa(d,void 0):h.length=V+1,lo(p.eventQueue_,nc(d),A);for(let X=0;X<_.length;X++)Tr(_[X])}}const Ru=function(p,d){const h=oc(p),_=h.namespace;return"firebase.com"===h.domain&&hn(h.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!_||"undefined"===_)&&"localhost"!==h.domain&&hn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),h.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Vn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new $e(h.host,h.secure,_,"ws"===h.scheme||"wss"===h.scheme,d,"",_!==h.subdomain),path:new er(h.pathString)}},oc=function(p){let d="",h="",_="",A="",V="",X=!0,Ee="https",je=443;if("string"==typeof p){let ut=p.indexOf("//");ut>=0&&(Ee=p.substring(0,ut-1),p=p.substring(ut+2));let tn=p.indexOf("/");-1===tn&&(tn=p.length);let pn=p.indexOf("?");-1===pn&&(pn=p.length),d=p.substring(0,Math.min(tn,pn)),tn<pn&&(A=function Gh(p){let d="";const h=p.split("/");for(let _=0;_<h.length;_++)if(h[_].length>0){let A=h[_];try{A=decodeURIComponent(A.replace(/\+/g," "))}catch{}d+="/"+A}return d}(p.substring(tn,pn)));const Dn=function pd(p){const d={};"?"===p.charAt(0)&&(p=p.substring(1));for(const h of p.split("&")){if(0===h.length)continue;const _=h.split("=");2===_.length?d[decodeURIComponent(_[0])]=decodeURIComponent(_[1]):Vn(`Invalid query segment '${h}' in query '${p}'`)}return d}(p.substring(Math.min(p.length,pn)));ut=d.indexOf(":"),ut>=0?(X="https"===Ee||"wss"===Ee,je=parseInt(d.substring(ut+1),10)):ut=d.length;const vr=d.slice(0,ut);if("localhost"===vr.toLowerCase())h="localhost";else if(vr.split(".").length<=2)h=vr;else{const Hr=d.indexOf(".");_=d.substring(0,Hr).toLowerCase(),h=d.substring(Hr+1),V=_}"ns"in Dn&&(V=Dn.ns)}return{host:d,port:je,domain:h,subdomain:_,secure:X,scheme:Ee,pathString:A,namespace:V}},ca="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ia=function(){let p=0;const d=[];return function(h){const _=h===p;let A;p=h;const V=new Array(8);for(A=7;A>=0;A--)V[A]=ca.charAt(h%64),h=Math.floor(h/64);(0,H.vA)(0===h,"Cannot push at time == 0");let X=V.join("");if(_){for(A=11;A>=0&&63===d[A];A--)d[A]=0;d[A]++}else for(A=0;A<12;A++)d[A]=Math.floor(64*Math.random());for(A=0;A<12;A++)X+=ca.charAt(d[A]);return(0,H.vA)(20===X.length,"nextPushId: Length should be 20."),X}}();class ah{constructor(d,h,_,A){this.eventType=d,this.eventRegistration=h,this.snapshot=_,this.prevName=A}getPath(){const d=this.snapshot.ref;return"value"===this.eventType?d._path:d.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,H.As)(this.snapshot.exportVal())}}class Pu{constructor(d,h,_){this.eventRegistration=d,this.error=h,this.path=_}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Mu{constructor(d,h){this.snapshotCallback=d,this.cancelCallback=h}onValue(d,h){this.snapshotCallback.call(null,d,h)}onCancel(d){return(0,H.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,d)}get hasCancelCallback(){return!!this.cancelCallback}matches(d){return this.snapshotCallback===d.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===d.snapshotCallback.userCallback&&this.snapshotCallback.context===d.snapshotCallback.context}}class Kh{constructor(d,h){this._repo=d,this._path=h}cancel(){const d=new H.cY;return hd(this._repo,this._path,d.wrapCallback(()=>{})),d.promise}remove(){Ho("OnDisconnect.remove",this._path);const d=new H.cY;return Au(this._repo,this._path,null,d.wrapCallback(()=>{})),d.promise}set(d){Ho("OnDisconnect.set",this._path),ln("OnDisconnect.set",d,this._path,!1);const h=new H.cY;return Au(this._repo,this._path,d,h.wrapCallback(()=>{})),h.promise}setWithPriority(d,h){Ho("OnDisconnect.setWithPriority",this._path),ln("OnDisconnect.setWithPriority",d,this._path,!1),hi("OnDisconnect.setWithPriority",h,!1);const _=new H.cY;return function nh(p,d,h,_,A){const V=ji(h,_);p.server_.onDisconnectPut(d.toString(),V.val(!0),(X,Ee)=>{"ok"===X&&Yr(p.onDisconnect_,d,V),Ui(0,A,X,Ee)})}(this._repo,this._path,d,h,_.wrapCallback(()=>{})),_.promise}update(d){Ho("OnDisconnect.update",this._path),Fl("OnDisconnect.update",d,this._path,!1);const h=new H.cY;return function Du(p,d,h,_){if((0,H.Im)(h))return st("onDisconnect().update() called with empty data.  Don't do anything."),void Ui(0,_,"ok",void 0);p.server_.onDisconnectMerge(d.toString(),h,(A,V)=>{"ok"===A&&ir(h,(X,Ee)=>{const je=ji(Ee);Yr(p.onDisconnect_,ur(d,X),je)}),Ui(0,_,A,V)})}(this._repo,this._path,d,h.wrapCallback(()=>{})),h.promise}}class Oo{constructor(d,h,_,A){this._repo=d,this._path=h,this._queryParams=_,this._orderByCalled=A}get key(){return zr(this._path)?null:hs(this._path)}get ref(){return new ko(this._repo,this._path)}get _queryIdentifier(){const d=Bs(this._queryParams),h=Mn(d);return"{}"===h?"default":h}get _queryObject(){return Bs(this._queryParams)}isEqual(d){if(!((d=(0,H.Ku)(d))instanceof Oo))return!1;const h=this._repo===d._repo,_=zi(this._path,d._path);return h&&_&&this._queryIdentifier===d._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Ri(p){let d="";for(let h=p.pieceNum_;h<p.pieces_.length;h++)""!==p.pieces_[h]&&(d+="/"+encodeURIComponent(String(p.pieces_[h])));return d||"/"}(this._path)}}function kc(p,d){if(!0===p._orderByCalled)throw new Error(d+": You can't combine multiple orderBy calls.")}function ac(p){let d=null,h=null;if(p.hasStart()&&(d=p.getIndexStartValue()),p.hasEnd()&&(h=p.getIndexEndValue()),p.getIndex()===mi){const _="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",A="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(p.hasStart()){if(p.getIndexStartName()!==Un)throw new Error(_);if("string"!=typeof d)throw new Error(A)}if(p.hasEnd()){if(p.getIndexEndName()!==Xn)throw new Error(_);if("string"!=typeof h)throw new Error(A)}}else if(p.getIndex()===wr){if(null!=d&&!vs(d)||null!=h&&!vs(h))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,H.vA)(p.getIndex()instanceof Ra||p.getIndex()===Kl,"unknown index type."),null!=d&&"object"==typeof d||null!=h&&"object"==typeof h)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function gd(p){if(p.hasStart()&&p.hasEnd()&&p.hasLimit()&&!p.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ko extends Oo{constructor(d,h){super(d,h,new br,!1)}get parent(){const d=So(this._path);return null===d?null:new ko(this._repo,d)}get root(){let d=this;for(;null!==d.parent;)d=d.parent;return d}}class qs{constructor(d,h,_){this._node=d,this.ref=h,this._index=_}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(d){const h=new er(d),_=al(this.ref,d);return new qs(this._node.getChild(h),_,wr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(d){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(_,A)=>d(new qs(A,al(this.ref,_),wr)))}hasChild(d){const h=new er(d);return!this._node.getChild(h).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Lc(p,d){return(p=(0,H.Ku)(p))._checkNotDeleted("ref"),void 0!==d?al(p._root,d):p._root}function ou(p,d){(p=(0,H.Ku)(p))._checkNotDeleted("refFromURL");const h=Ru(d,p._repo.repoInfo_.nodeAdmin);iu("refFromURL",h);const _=h.repoInfo;return!p._repo.repoInfo_.isCustomHost()&&_.host!==p._repo.repoInfo_.host&&hn("refFromURL: Host name does not match the current database: (found "+_.host+" but expected "+p._repo.repoInfo_.host+")"),Lc(p,h.path.toString())}function al(p,d){return null===Pn((p=(0,H.Ku)(p))._path)?jo("child","path",d,!1):rl("child","path",d,!1),new ko(p._repo,ur(p._path,d))}function ll(p,d){p=(0,H.Ku)(p),Ho("set",p._path),ln("set",d,p._path,!1);const h=new H.cY;return su(p._repo,p._path,d,null,h.wrapCallback(()=>{})),h.promise}function ch(p,d){Fl("update",d,p._path,!1);const h=new H.cY;return function zh(p,d,h,_){Ea(p,"update",{path:d.toString(),value:h});let A=!0;const V=Nc(p),X={};if(ir(h,(Ee,je)=>{A=!1,X[Ee]=ru(ur(d,Ee),ji(je),p.serverSyncTree_,V)}),A)st("update() called with empty data.  Don't do anything."),Ui(0,_,"ok",void 0);else{const Ee=il(p),je=function Vt(p,d,h,_){!function ne(p,d,h,_){(0,H.vA)(_>p.lastWriteId,"Stacking an older merge on top of newer ones"),p.allWrites.push({path:d,children:h,writeId:_,visible:!0}),p.visibleWrites=xo(p.visibleWrites,d,h),p.lastWriteId=_}(p.pendingWriteTree_,d,h,_);const A=Ji.fromObject(h);return bc(p,new ml({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,A))}(p.serverSyncTree_,d,X,Ee);ud(p.eventQueue_,je),p.server_.merge(d.toString(),h,(ut,tn)=>{const pn="ok"===ut;pn||Vn("update at "+d+" failed: "+ut);const Dn=zn(p.serverSyncTree_,Ee,!pn),vr=Dn.length>0?wl(p,d):d;lo(p.eventQueue_,vr,Dn),Ui(0,_,ut,tn)}),ir(h,ut=>{const tn=sc(p,ur(d,ut));wl(p,tn)}),lo(p.eventQueue_,d,[])}}(p._repo,p._path,d,h.wrapCallback(()=>{})),h.promise}function vd(p){p=(0,H.Ku)(p);const d=new Mu(()=>{}),h=new is(d);return function dd(p,d,h){const _=function Ml(p,d){const h=d._path;let _=null;p.syncPointTree_.foreachOnPath(h,(ut,tn)=>{const pn=Xr(ut,h);_=_||ec(tn,pn)});let A=p.syncPointTree_.get(h);A?_=_||ec(A,Cr()):(A=new Zc,p.syncPointTree_=p.syncPointTree_.set(h,A));const V=null!=_,X=V?new ra(_,!0,!1):null;return function gs(p){return va(p.viewCache_)}(Zl(A,d,ql(p.pendingWriteTree_,d._path),V?X.getNode():Zr.EMPTY_NODE,V))}(p.serverSyncTree_,d);return null!=_?Promise.resolve(_):p.server_.get(d).then(A=>{const V=ji(A).withIndex(d._queryParams.getIndex());let X;if(Za(p.serverSyncTree_,d,h,!0),d._queryParams.loadsAllData())X=Fr(p.serverSyncTree_,d._path,V);else{const Ee=Il(p.serverSyncTree_,d);X=$o(p.serverSyncTree_,d._path,V,Ee)}return lo(p.eventQueue_,d._path,X),ms(p.serverSyncTree_,d,h,null,!0),V},A=>(Ea(p,"get for query "+(0,H.As)(d)+" failed: "+A),Promise.reject(new Error(A))))}(p._repo,p,h).then(_=>new qs(_,new ko(p._repo,p._path),p._queryParams.getIndex()))}class is{constructor(d){this.callbackContext=d}respondsTo(d){return"value"===d}createEvent(d,h){const _=h._queryParams.getIndex();return new ah("value",this,new qs(d.snapshotNode,new ko(h._repo,h._path),_))}getEventRunner(d){return"cancel"===d.getEventType()?()=>this.callbackContext.onCancel(d.error):()=>this.callbackContext.onValue(d.snapshot,null)}createCancelEvent(d,h){return this.callbackContext.hasCancelCallback?new Pu(this,d,h):null}matches(d){return d instanceof is&&(!d.callbackContext||!this.callbackContext||d.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class xu{constructor(d,h){this.eventType=d,this.callbackContext=h}respondsTo(d){let h="children_added"===d?"child_added":d;return h="children_removed"===h?"child_removed":h,this.eventType===h}createCancelEvent(d,h){return this.callbackContext.hasCancelCallback?new Pu(this,d,h):null}createEvent(d,h){(0,H.vA)(null!=d.childName,"Child events should have a childName.");const _=al(new ko(h._repo,h._path),d.childName),A=h._queryParams.getIndex();return new ah(d.type,this,new qs(d.snapshotNode,_,A),d.prevName)}getEventRunner(d){return"cancel"===d.getEventType()?()=>this.callbackContext.onCancel(d.error):()=>this.callbackContext.onValue(d.snapshot,d.prevName)}matches(d){return d instanceof xu&&this.eventType===d.eventType&&(!this.callbackContext||!d.callbackContext||this.callbackContext.matches(d.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function cl(p,d,h,_,A){let V;if("object"==typeof _&&(V=void 0,A=_),"function"==typeof _&&(V=_),A&&A.onlyOnce){const je=h,ut=(tn,pn)=>{sl(p._repo,p,Ee),je(tn,pn)};ut.userCallback=h.userCallback,ut.context=h.context,h=ut}const X=new Mu(h,V||void 0),Ee="value"===d?new is(X):new xu(d,X);return function rc(p,d,h){let _;_=".info"===Pn(d._path)?Za(p.infoSyncTree_,d,h):Za(p.serverSyncTree_,d,h),qf(p.eventQueue_,d._path,_)}(p._repo,p,Ee),()=>sl(p._repo,p,Ee)}function lc(p,d,h,_){return cl(p,"value",d,h,_)}function _d(p,d,h,_){return cl(p,"child_added",d,h,_)}function Ta(p,d,h,_){return cl(p,"child_changed",d,h,_)}function ul(p,d,h,_){return cl(p,"child_moved",d,h,_)}function uh(p,d,h,_){return cl(p,"child_removed",d,h,_)}function Ul(p,d,h){let _=null;const A=h?new Mu(h):null;"value"===d?_=new is(A):d&&(_=new xu(d,A)),sl(p._repo,p,_)}class ua{}class bl extends ua{constructor(d,h){super(),this._value=d,this._key=h,this.type="endAt"}_apply(d){ln("endAt",this._value,d._path,!0);const h=ea(d._queryParams,this._value,this._key);if(gd(h),ac(h),d._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Oo(d._repo,d._path,h,d._orderByCalled)}}class cc extends ua{constructor(d,h){super(),this._value=d,this._key=h,this.type="endBefore"}_apply(d){ln("endBefore",this._value,d._path,!1);const h=function ws(p,d,h){let _;return _=ea(p,d,p.index_===mi||h?h:Un),_.endBeforeSet_=!0,_}(d._queryParams,this._value,this._key);if(gd(h),ac(h),d._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Oo(d._repo,d._path,h,d._orderByCalled)}}class dc extends ua{constructor(d,h){super(),this._value=d,this._key=h,this.type="startAt"}_apply(d){ln("startAt",this._value,d._path,!0);const h=Xl(d._queryParams,this._value,this._key);if(gd(h),ac(h),d._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Oo(d._repo,d._path,h,d._orderByCalled)}}class qh extends ua{constructor(d,h){super(),this._value=d,this._key=h,this.type="startAfter"}_apply(d){ln("startAfter",this._value,d._path,!1);const h=function Qi(p,d,h){let _;return _=Xl(p,d,p.index_===mi||h?h:Xn),_.startAfterSet_=!0,_}(d._queryParams,this._value,this._key);if(gd(h),ac(h),d._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Oo(d._repo,d._path,h,d._orderByCalled)}}class lu extends ua{constructor(d){super(),this._limit=d,this.type="limitToFirst"}_apply(d){if(d._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Oo(d._repo,d._path,function Us(p,d){const h=p.copy();return h.limitSet_=!0,h.limit_=d,h.viewFrom_="l",h}(d._queryParams,this._limit),d._orderByCalled)}}class Qs extends ua{constructor(d){super(),this._limit=d,this.type="limitToLast"}_apply(d){if(d._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Oo(d._repo,d._path,function Ga(p,d){const h=p.copy();return h.limitSet_=!0,h.limit_=d,h.viewFrom_="r",h}(d._queryParams,this._limit),d._orderByCalled)}}class Uc extends ua{constructor(d){super(),this._path=d,this.type="orderByChild"}_apply(d){kc(d,"orderByChild");const h=new er(this._path);if(zr(h))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const _=new Ra(h),A=Pi(d._queryParams,_);return ac(A),new Oo(d._repo,d._path,A,!0)}}class fh extends ua{constructor(){super(...arguments),this.type="orderByKey"}_apply(d){kc(d,"orderByKey");const h=Pi(d._queryParams,mi);return ac(h),new Oo(d._repo,d._path,h,!0)}}class fc extends ua{constructor(){super(...arguments),this.type="orderByPriority"}_apply(d){kc(d,"orderByPriority");const h=Pi(d._queryParams,wr);return ac(h),new Oo(d._repo,d._path,h,!0)}}class ph extends ua{constructor(){super(...arguments),this.type="orderByValue"}_apply(d){kc(d,"orderByValue");const h=Pi(d._queryParams,Kl);return ac(h),new Oo(d._repo,d._path,h,!0)}}class Bc extends ua{constructor(d,h){super(),this._value=d,this._key=h,this.type="equalTo"}_apply(d){if(ln("equalTo",this._value,d._path,!1),d._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(d._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new bl(this._value,this._key)._apply(new dc(this._value,this._key)._apply(d))}}function Ua(p,...d){let h=(0,H.Ku)(p);for(const _ of d)h=_._apply(h);return h}(function Pl(p){(0,H.vA)(!Ns,"__referenceConstructor has already been defined"),Ns=p})(ko),function F(p){(0,H.vA)(!R,"__referenceConstructor has already been defined"),R=p}(ko);const $c={};function pc(p,d,h,_,A){let V=_||p.options.databaseURL;void 0===V&&(p.options.projectId||hn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),st("Using default host for project ",p.options.projectId),V=`${p.options.projectId}-default-rtdb.firebaseio.com`);let je,ut,X=Ru(V,A),Ee=X.repoInfo;typeof process<"u"&&process.env&&(ut=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ut?(je=!0,V=`http://${ut}?ns=${Ee.namespace}`,X=Ru(V,A),Ee=X.repoInfo):je=!X.repoInfo.secure;const tn=A&&je?new pi(pi.OWNER):new Pr(p.name,p.options,d);iu("Invalid Firebase Database URL",X),zr(X.path)||hn("Database URL must point to the root of a Firebase Database (not including a child path).");const pn=function Zf(p,d,h,_){let A=$c[d.name];A||(A={},$c[d.name]=A);let V=A[p.toURLString()];return V&&hn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),V=new wu(p,false,h,_),A[p.toURLString()]=V,V}(Ee,p,tn,new fi(p.name,h));return new Cd(pn,p)}class Cd{constructor(d,h){this._repoInternal=d,this.app=h,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Fa(p,d,h){if(p.stats_=Jr(p.repoInfo_),p.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)p.server_=new Ms(p.repoInfo_,(_,A,V,X)=>{th(p,_,A,V,X)},p.authTokenProvider_,p.appCheckProvider_),setTimeout(()=>bu(p,!0),0);else{if(typeof h<"u"&&null!==h){if("object"!=typeof h)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.As)(h)}catch(_){throw new Error("Invalid authOverride provided: "+_)}}p.persistentConnection_=new et(p.repoInfo_,d,(_,A,V,X)=>{th(p,_,A,V,X)},_=>{bu(p,_)},_=>{!function Qf(p,d){ir(d,(h,_)=>{Va(p,h,_)})}(p,_)},p.authTokenProvider_,p.appCheckProvider_,h),p.server_=p.persistentConnection_}p.authTokenProvider_.addTokenChangeListener(_=>{p.server_.refreshAuthToken(_)}),p.appCheckProvider_.addTokenChangeListener(_=>{p.server_.refreshAppCheckToken(_.token)}),p.statsReporter_=function gi(p,d){const h=p.toString();return qn[h]||(qn[h]=d()),qn[h]}(p.repoInfo_,()=>new Jc(p.stats_,p.server_)),p.infoData_=new gl,p.infoSyncTree_=new Je({startListening:(_,A,V,X)=>{let Ee=[];const je=p.infoData_.getNode(_._path);return je.isEmpty()||(Ee=Fr(p.infoSyncTree_,_._path,je),setTimeout(()=>{X("ok")},0)),Ee},stopListening:()=>{}}),Va(p,"connected",!1),p.serverSyncTree_=new Je({startListening:(_,A,V,X)=>(p.server_.listen(_,V,A,(Ee,je)=>{const ut=X(Ee,je);lo(p.eventQueue_,_._path,ut)}),[]),stopListening:(_,A)=>{p.server_.unlisten(_,A)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ko(this._repo,Cr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Yh(p,d){const h=$c[d];(!h||h[p.key]!==p)&&hn(`Database ${d}(${p.repoInfo_}) has already been deleted.`),ic(p),delete h[p.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(d){null===this._rootInternal&&hn("Cannot call "+d+" on a deleted database.")}}function cu(){Wt.IS_TRANSPORT_INITIALIZED&&Vn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Js(){cu(),pt.forceDisallow()}function ng(){cu(),Qe.forceDisallow(),pt.forceAllow()}function uu(p,d){fe(p,d)}const Zs={".sv":"timestamp"};class jc{constructor(d,h){this.committed=d,this.snapshot=h}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}et.prototype.simpleListen=function(p,d){this.sendRequest("q",{p},d)},et.prototype.echo=function(p,d){this.sendRequest("echo",{d:p},d)},function Nu(p){kt(Dt.SDK_VERSION),(0,Dt._registerComponent)(new Ye.uA("database",(d,{instanceIdentifier:h})=>pc(d.getProvider("app").getImmediate(),d.getProvider("auth-internal"),d.getProvider("app-check-internal"),h),"PUBLIC").setMultipleInstances(!0)),(0,Dt.registerVersion)(bt,"1.0.8",p),(0,Dt.registerVersion)(bt,"1.0.8","esm2017")}();const ep=new We.Vy("@firebase/database-compat"),Pd=function(p){ep.warn("FIREBASE WARNING: "+p)};class T{constructor(d){this._delegate=d}cancel(d){(0,H.od)("OnDisconnect.cancel",0,1,arguments.length),(0,H.oD)("OnDisconnect.cancel","onComplete",d,!0);const h=this._delegate.cancel();return d&&h.then(()=>d(null),_=>d(_)),h}remove(d){(0,H.od)("OnDisconnect.remove",0,1,arguments.length),(0,H.oD)("OnDisconnect.remove","onComplete",d,!0);const h=this._delegate.remove();return d&&h.then(()=>d(null),_=>d(_)),h}set(d,h){(0,H.od)("OnDisconnect.set",1,2,arguments.length),(0,H.oD)("OnDisconnect.set","onComplete",h,!0);const _=this._delegate.set(d);return h&&_.then(()=>h(null),A=>h(A)),_}setWithPriority(d,h,_){(0,H.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,H.oD)("OnDisconnect.setWithPriority","onComplete",_,!0);const A=this._delegate.setWithPriority(d,h);return _&&A.then(()=>_(null),V=>_(V)),A}update(d,h){if((0,H.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(d)){const A={};for(let V=0;V<d.length;++V)A[""+V]=d[V];d=A,Pd("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,H.oD)("OnDisconnect.update","onComplete",h,!0);const _=this._delegate.update(d);return h&&_.then(()=>h(null),A=>h(A)),_}}class g{constructor(d,h){this.committed=d,this.snapshot=h}toJSON(){return(0,H.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class v{constructor(d,h){this._database=d,this._delegate=h}val(){return(0,H.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,H.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,H.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,H.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(d){return(0,H.od)("DataSnapshot.child",0,1,arguments.length),d=String(d),rl("DataSnapshot.child","path",d,!1),new v(this._database,this._delegate.child(d))}hasChild(d){return(0,H.od)("DataSnapshot.hasChild",1,1,arguments.length),rl("DataSnapshot.hasChild","path",d,!1),this._delegate.hasChild(d)}getPriority(){return(0,H.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(d){return(0,H.od)("DataSnapshot.forEach",1,1,arguments.length),(0,H.oD)("DataSnapshot.forEach","action",d,!1),this._delegate.forEach(h=>d(new v(this._database,h)))}hasChildren(){return(0,H.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,H.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,H.od)("DataSnapshot.ref",0,0,arguments.length),new z(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class b{constructor(d,h){this.database=d,this._delegate=h}on(d,h,_,A){var V;(0,H.od)("Query.on",2,4,arguments.length),(0,H.oD)("Query.on","callback",h,!1);const X=b.getCancelAndContextArgs_("Query.on",_,A),Ee=(ut,tn)=>{h.call(X.context,new v(this.database,ut),tn)};Ee.userCallback=h,Ee.context=X.context;const je=null===(V=X.cancel)||void 0===V?void 0:V.bind(X.context);switch(d){case"value":return lc(this._delegate,Ee,je),h;case"child_added":return _d(this._delegate,Ee,je),h;case"child_removed":return uh(this._delegate,Ee,je),h;case"child_changed":return Ta(this._delegate,Ee,je),h;case"child_moved":return ul(this._delegate,Ee,je),h;default:throw new Error((0,H.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(d,h,_){if((0,H.od)("Query.off",0,3,arguments.length),function(p,d){if(void 0!==d)switch(d){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,H.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,d),(0,H.oD)("Query.off","callback",h,!0),(0,H.HN)("Query.off","context",_,!0),h){const A=()=>{};A.userCallback=h,A.context=_,Ul(this._delegate,d,A)}else Ul(this._delegate,d)}get(){return vd(this._delegate).then(d=>new v(this.database,d))}once(d,h,_,A){(0,H.od)("Query.once",1,4,arguments.length),(0,H.oD)("Query.once","callback",h,!0);const V=b.getCancelAndContextArgs_("Query.once",_,A),X=new H.cY,Ee=(ut,tn)=>{const pn=new v(this.database,ut);h&&h.call(V.context,pn,tn),X.resolve(pn)};Ee.userCallback=h,Ee.context=V.context;const je=ut=>{V.cancel&&V.cancel.call(V.context,ut),X.reject(ut)};switch(d){case"value":lc(this._delegate,Ee,je,{onlyOnce:!0});break;case"child_added":_d(this._delegate,Ee,je,{onlyOnce:!0});break;case"child_removed":uh(this._delegate,Ee,je,{onlyOnce:!0});break;case"child_changed":Ta(this._delegate,Ee,je,{onlyOnce:!0});break;case"child_moved":ul(this._delegate,Ee,je,{onlyOnce:!0});break;default:throw new Error((0,H.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return X.promise}limitToFirst(d){return(0,H.od)("Query.limitToFirst",1,1,arguments.length),new b(this.database,Ua(this._delegate,function Bl(p){if("number"!=typeof p||Math.floor(p)!==p||p<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new lu(p)}(d)))}limitToLast(d){return(0,H.od)("Query.limitToLast",1,1,arguments.length),new b(this.database,Ua(this._delegate,function Yf(p){if("number"!=typeof p||Math.floor(p)!==p||p<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Qs(p)}(d)))}orderByChild(d){return(0,H.od)("Query.orderByChild",1,1,arguments.length),new b(this.database,Ua(this._delegate,function hh(p){if("$key"===p)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===p)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===p)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return rl("orderByChild","path",p,!1),new Uc(p)}(d)))}orderByKey(){return(0,H.od)("Query.orderByKey",0,0,arguments.length),new b(this.database,Ua(this._delegate,function hc(){return new fh}()))}orderByPriority(){return(0,H.od)("Query.orderByPriority",0,0,arguments.length),new b(this.database,Ua(this._delegate,function Qh(){return new fc}()))}orderByValue(){return(0,H.od)("Query.orderByValue",0,0,arguments.length),new b(this.database,Ua(this._delegate,function Ed(){return new ph}()))}startAt(d=null,h){return(0,H.od)("Query.startAt",0,2,arguments.length),new b(this.database,Ua(this._delegate,function Xh(p=null,d){return Vl("startAt","key",d,!0),new dc(p,d)}(d,h)))}startAfter(d=null,h){return(0,H.od)("Query.startAfter",0,2,arguments.length),new b(this.database,Ua(this._delegate,function yd(p,d){return Vl("startAfter","key",d,!0),new qh(p,d)}(d,h)))}endAt(d=null,h){return(0,H.od)("Query.endAt",0,2,arguments.length),new b(this.database,Ua(this._delegate,function dh(p,d){return Vl("endAt","key",d,!0),new bl(p,d)}(d,h)))}endBefore(d=null,h){return(0,H.od)("Query.endBefore",0,2,arguments.length),new b(this.database,Ua(this._delegate,function uc(p,d){return Vl("endBefore","key",d,!0),new cc(p,d)}(d,h)))}equalTo(d,h){return(0,H.od)("Query.equalTo",1,2,arguments.length),new b(this.database,Ua(this._delegate,function Id(p,d){return Vl("equalTo","key",d,!0),new Bc(p,d)}(d,h)))}toString(){return(0,H.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,H.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(d){if((0,H.od)("Query.isEqual",1,1,arguments.length),!(d instanceof b))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(d._delegate)}static getCancelAndContextArgs_(d,h,_){const A={cancel:void 0,context:void 0};if(h&&_)A.cancel=h,(0,H.oD)(d,"cancel",A.cancel,!0),A.context=_,(0,H.HN)(d,"context",A.context,!0);else if(h)if("object"==typeof h&&null!==h)A.context=h;else{if("function"!=typeof h)throw new Error((0,H.dI)(d,"cancelOrContext")+" must either be a cancel callback or a context object.");A.cancel=h}return A}get ref(){return new z(this.database,new ko(this._delegate._repo,this._delegate._path))}}class z extends b{constructor(d,h){super(d,new Oo(h._repo,h._path,new br,!1)),this.database=d,this._delegate=h}getKey(){return(0,H.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(d){return(0,H.od)("Reference.child",1,1,arguments.length),"number"==typeof d&&(d=String(d)),new z(this.database,al(this._delegate,d))}getParent(){(0,H.od)("Reference.parent",0,0,arguments.length);const d=this._delegate.parent;return d?new z(this.database,d):null}getRoot(){return(0,H.od)("Reference.root",0,0,arguments.length),new z(this.database,this._delegate.root)}set(d,h){(0,H.od)("Reference.set",1,2,arguments.length),(0,H.oD)("Reference.set","onComplete",h,!0);const _=ll(this._delegate,d);return h&&_.then(()=>h(null),A=>h(A)),_}update(d,h){if((0,H.od)("Reference.update",1,2,arguments.length),Array.isArray(d)){const A={};for(let V=0;V<d.length;++V)A[""+V]=d[V];d=A,Pd("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ho("Reference.update",this._delegate._path),(0,H.oD)("Reference.update","onComplete",h,!0);const _=ch(this._delegate,d);return h&&_.then(()=>h(null),A=>h(A)),_}setWithPriority(d,h,_){(0,H.od)("Reference.setWithPriority",2,3,arguments.length),(0,H.oD)("Reference.setWithPriority","onComplete",_,!0);const A=function Vc(p,d,h){if(Ho("setWithPriority",p._path),ln("setWithPriority",d,p._path,!1),hi("setWithPriority",h,!1),".length"===p.key||".keys"===p.key)throw"setWithPriority failed: "+p.key+" is a read-only object.";const _=new H.cY;return su(p._repo,p._path,d,h,_.wrapCallback(()=>{})),_.promise}(this._delegate,d,h);return _&&A.then(()=>_(null),V=>_(V)),A}remove(d){(0,H.od)("Reference.remove",0,1,arguments.length),(0,H.oD)("Reference.remove","onComplete",d,!0);const h=function md(p){return Ho("remove",p._path),ll(p,null)}(this._delegate);return d&&h.then(()=>d(null),_=>d(_)),h}transaction(d,h,_){(0,H.od)("Reference.transaction",1,3,arguments.length),(0,H.oD)("Reference.transaction","transactionUpdate",d,!1),(0,H.oD)("Reference.transaction","onComplete",h,!0),function(p,d,h){if(void 0!==h&&"boolean"!=typeof h)throw new Error((0,H.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,_);const A=function $l(p,d,h){var _;if(p=(0,H.Ku)(p),Ho("Reference.transaction",p._path),".length"===p.key||".keys"===p.key)throw"Reference.transaction failed: "+p.key+" is a read-only object.";const A=null===(_=h?.applyLocally)||void 0===_||_,V=new H.cY,Ee=lc(p,()=>{});return function rh(p,d,h,_,A,V){Ea(p,"transaction on "+d);const X={path:d,update:h,onComplete:_,status:null,order:Pe(),applyLocally:V,retryCount:0,unwatcher:A,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Ee=fd(p,d,void 0);X.currentInputSnapshot=Ee;const je=X.update(Ee.val());if(void 0===je)X.unwatcher(),X.currentOutputSnapshotRaw=null,X.currentOutputSnapshotResolved=null,X.onComplete&&X.onComplete(null,!1,X.currentInputSnapshot);else{ii("transaction failed: Data returned ",je,X.path),X.status=0;const ut=nl(p.transactionQueueTree_,d),tn=wo(ut)||[];let pn;tn.push(X),aa(ut,tn),"object"==typeof je&&null!==je&&(0,H.gR)(je,".priority")?(pn=(0,H.yw)(je,".priority"),(0,H.vA)(vs(pn),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):pn=(el(p.serverSyncTree_,d)||Zr.EMPTY_NODE).getPriority().val();const Dn=Nc(p),vr=ji(je,pn),Hr=Sc(vr,Ee,Dn);X.currentOutputSnapshotRaw=vr,X.currentOutputSnapshotResolved=Hr,X.currentWriteId=il(p);const Wi=en(p.serverSyncTree_,d,Hr,X.currentWriteId,X.applyLocally);lo(p.eventQueue_,d,Wi),Su(p,p.transactionQueueTree_)}}(p._repo,p._path,d,(je,ut,tn)=>{let pn=null;je?V.reject(je):(pn=new qs(tn,new ko(p._repo,p._path),wr),V.resolve(new jc(ut,pn)))},Ee,A),V.promise}(this._delegate,d,{applyLocally:_}).then(V=>new g(V.committed,new v(this.database,V.snapshot)));return h&&A.then(V=>h(null,V.committed,V.snapshot),V=>h(V,!1,null)),A}setPriority(d,h){(0,H.od)("Reference.setPriority",1,2,arguments.length),(0,H.oD)("Reference.setPriority","onComplete",h,!0);const _=function au(p,d){p=(0,H.Ku)(p),Ho("setPriority",p._path),hi("setPriority",d,!1);const h=new H.cY;return su(p._repo,ur(p._path,".priority"),d,null,h.wrapCallback(()=>{})),h.promise}(this._delegate,d);return h&&_.then(()=>h(null),A=>h(A)),_}push(d,h){(0,H.od)("Reference.push",0,2,arguments.length),(0,H.oD)("Reference.push","onComplete",h,!0);const _=function lh(p,d){p=(0,H.Ku)(p),Ho("push",p._path),ln("push",d,p._path,!0);const h=Tl(p._repo),_=Ia(h),A=al(p,_),V=al(p,_);let X;return X=null!=d?ll(V,d).then(()=>V):Promise.resolve(V),A.then=X.then.bind(X),A.catch=X.then.bind(X,void 0),A}(this._delegate,d),A=_.then(X=>new z(this.database,X));h&&A.then(()=>h(null),X=>h(X));const V=new z(this.database,_);return V.then=A.then.bind(A),V.catch=A.catch.bind(A,void 0),V}onDisconnect(){return Ho("Reference.onDisconnect",this._delegate._path),new T(new Kh(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class me{constructor(d,h){this._delegate=d,this.app=h,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Js,forceLongPolling:ng}}useEmulator(d,h,_={}){!function wd(p,d,h,_={}){(p=(0,H.Ku)(p))._checkNotDeleted("useEmulator"),p._instanceStarted&&hn("Cannot call useEmulator() after instance has already been initialized.");const A=p._repoInternal;let V;if(A.repoInfo_.nodeAdmin)_.mockUserToken&&hn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),V=new pi(pi.OWNER);else if(_.mockUserToken){const X="string"==typeof _.mockUserToken?_.mockUserToken:(0,H.Fy)(_.mockUserToken,p.app.options.projectId);V=new pi(X)}!function Ca(p,d,h,_){p.repoInfo_=new $e(`${d}:${h}`,!1,p.repoInfo_.namespace,p.repoInfo_.webSocketOnly,p.repoInfo_.nodeAdmin,p.repoInfo_.persistenceKey,p.repoInfo_.includeNamespaceInQueryParams,!0),_&&(p.authTokenProvider_=_)}(A,d,h,V)}(this._delegate,d,h,_)}ref(d){if((0,H.od)("database.ref",0,1,arguments.length),d instanceof z){const h=ou(this._delegate,d.toString());return new z(this,h)}{const h=Lc(this._delegate,d);return new z(this,h)}}refFromURL(d){(0,H.od)("database.refFromURL",1,1,arguments.length);const _=ou(this._delegate,d);return new z(this,_)}goOffline(){return(0,H.od)("database.goOffline",0,0,arguments.length),function bd(p){(p=(0,H.Ku)(p))._checkNotDeleted("goOffline"),ic(p._repo)}(this._delegate)}goOnline(){return(0,H.od)("database.goOnline",0,0,arguments.length),function Ad(p){(p=(0,H.Ku)(p))._checkNotDeleted("goOnline"),function Os(p){p.persistentConnection_&&p.persistentConnection_.resume(bo)}(p._repo)}(this._delegate)}}me.ServerValue={TIMESTAMP:function gh(){return Zs}(),increment:p=>function Dd(p){return{".sv":{increment:p}}}(p)};var Ut=Object.freeze({__proto__:null,initStandalone:function ft({app:p,url:d,version:h,customAuthImpl:_,customAppCheckImpl:A,namespace:V,nodeAdmin:X=!1}){kt(h);const Ee=new Ye.h1("database-standalone"),je=new Ye.Kq("auth-internal",Ee);let ut;return je.setComponent(new Ye.uA("auth-internal",()=>_,"PRIVATE")),A&&(ut=new Ye.Kq("app-check-internal",Ee),ut.setComponent(new Ye.uA("app-check-internal",()=>A,"PRIVATE"))),{instance:new me(pc(p,je,ut,d,X),p),namespace:V}}});const vn=me.ServerValue;!function nr(p){p.INTERNAL.registerComponent(new Ye.uA("database-compat",(d,{instanceIdentifier:h})=>{const _=d.getProvider("app-compat").getImmediate(),A=d.getProvider("database").getImmediate({identifier:h});return new me(A,_)},"PUBLIC").setServiceProps({Reference:z,Query:b,Database:me,DataSnapshot:v,enableLogging:uu,INTERNAL:Ut,ServerValue:vn}).setMultipleInstances(!0)),p.registerVersion("@firebase/database-compat","1.0.8")}(at.A);var Ir=N(762);function hr(p,d,h="on",_=He.E){return new At.c(A=>{let V=null;return V=p[h](d,(X,Ee)=>{_.schedule(()=>{A.next({snapshot:X,prevKey:Ee})}),"once"===h&&_.schedule(()=>A.complete())},X=>{_.schedule(()=>A.error(X))}),"on"===h?{unsubscribe(){null!=V&&p.off(d,V)}}:{unsubscribe(){}}}).pipe((0,Re.T)(A=>{const{snapshot:V,prevKey:X}=A;let Ee=null;return V.exists()&&(Ee=V.key),{type:d,payload:V,prevKey:X,key:Ee}}),(0,Q.u)())}function mc(p){return null==p}function hu(p){return"function"==typeof p.set}function ku(p,d){return hu(d)?d:p.ref(d)}function Md(p,d){if(function ds(p){return"string"==typeof p}(p))return d.stringCase();if(hu(p))return d.firebaseCase();if(function Ss(p){return"function"==typeof p.exportVal}(p))return d.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof p)}function vh(p){return(mc(p)||0===p.length)&&(p=["child_added","child_removed","child_changed","child_moved"]),p}function _h(p,d,h){const _=(d=vh(d)).map(A=>hr(p,A,"on",h));return(0,Pt.h)(..._)}function Hc(p,d){return function(_,A){return Md(_,{stringCase:()=>p.child(_)[d](A),firebaseCase:()=>_[d](A),snapshotCase:()=>_.ref[d](A)})}}function Zh(p){return function(h){return h?Md(h,{stringCase:()=>p.child(h).remove(),firebaseCase:()=>h.remove(),snapshotCase:()=>h.ref.remove()}):p.remove()}}function xd(p,d){const h=p.length;for(let _=0;_<h;_++)if(p[_].payload.key===d)return _;return-1}function ef(p,d){const{payload:h,prevKey:_,key:A}=d,V=xd(p,A),X=function Nd(p,d){if(mc(d))return 0;{const h=xd(p,d);return-1===h?p.length:h+1}}(p,_);switch(d.type){case"value":if(d.payload?.exists()){let Ee=null;d.payload.forEach(je=>{const ut={payload:je,type:"value",prevKey:Ee,key:je.key};return Ee=je.key,p=[...p,ut],!1})}return p;case"child_added":if(V>-1)(p[V-1]?.key||null)!==_&&(p=p.filter(je=>je.payload.key!==h.key)).splice(X,0,d);else{if(null==_)return[d,...p];(p=p.slice()).splice(X,0,d)}return p;case"child_removed":return p.filter(Ee=>Ee.payload.key!==h.key);case"child_changed":return p.map(Ee=>Ee.payload.key===A?d:Ee);case"child_moved":if(V>-1){const Ee=p.splice(V,1)[0];return(p=p.slice()).splice(X,0,Ee),p}return p;default:return p}}function fu(p,d,h){return function _o(p,d,h){return hr(p,"value","once",h).pipe((0,yt.n)(_=>{const A=[(0,Ke.of)(_)];return d.forEach(V=>A.push(hr(p,V,"on",h))),(0,Pt.h)(...A).pipe((0,be.S)(ef,[]))}),(0,it.F)())}(p,d=vh(d),h)}function Fu(p,d){return function(){return hr(p,"value","on",d)}}const rg=new l.nKC("angularfire2.realtimeDatabaseURL"),tp=new l.nKC("angularfire2.database.use-emulator");let ig=(()=>{class p{schedulers;database;constructor(h,_,A,V,X,Ee,je,ut,tn,pn,Dn,vr,Hr,Wi,Lo){this.schedulers=Ee;const dl=je,Wc=(0,Z.iB)(h,X,_);ut&&(0,G.gF)(Wc,X,tn,Dn,vr,Hr,pn,Wi),this.database=(0,Z.BM)(`${Wc.name}.database.${A}`,"AngularFireDatabase",Wc.name,()=>{const zc=X.runOutsideAngular(()=>Wc.database(A||void 0));return dl&&zc.useEmulator(...dl),zc},[dl])}list(h,_){const A=this.schedulers.ngZone.runOutsideAngular(()=>ku(this.database,h));let V=A;return _&&(V=_(A)),function tf(p,d){const h=d.schedulers.outsideAngular,_=d.schedulers.ngZone.run(()=>p.ref);return{query:p,update:Hc(_,"update"),set:Hc(_,"set"),push:A=>_.push(A),remove:Zh(_),snapshotChanges:A=>fu(p,A,h).pipe(U.U0),stateChanges:A=>_h(p,A,h).pipe(U.U0),auditTrail:A=>function Jh(p,d,h){return function Al(p,d,h){return function Lu(p,d){return hr(p,"value","on",d).pipe((0,Re.T)(h=>{let _;return h.payload.forEach(A=>(_=A.key,!1)),{data:h,lastKeyToLoad:_}}))}(p,h).pipe(function xe(...p){const d=(0,pe.ms)(p);return(0,Ae.N)((h,_)=>{const A=p.length,V=new Array(A);let X=p.map(()=>!1),Ee=!1;for(let je=0;je<A;je++)(0,Te.Tg)(p[je]).subscribe((0,ve._)(_,ut=>{V[je]=ut,!Ee&&!X[je]&&(X[je]=!0,(Ee=X.every(ue.D))&&(X=null))},Ne.l));h.subscribe((0,ve._)(_,je=>{if(Ee){const ut=[je,...V];_.next(d?d(...ut):ut)}}))})}(d),(0,Re.T)(([A,V])=>{const X=A.lastKeyToLoad,Ee=V.map(je=>je.key);return{actions:V,lastKeyToLoad:X,loadedKeys:Ee}}),function nt(p){return(0,Ae.N)((d,h)=>{let _=!1,A=0;d.subscribe((0,ve._)(h,V=>(_||(_=!p(V,A++)))&&h.next(V)))})}(A=>-1===A.loadedKeys.indexOf(A.lastKeyToLoad)),(0,Re.T)(A=>A.actions))}(p,_h(p,d).pipe((0,be.S)((A,V)=>[...A,V],[])),h)}(p,A,h).pipe(U.U0),valueChanges:(A,V)=>fu(p,A,h).pipe((0,Re.T)(Ee=>Ee.map(je=>V&&V.idField?{...je.payload.val(),[V.idField]:je.key}:je.payload.val())),U.U0)}}(V,this)}object(h){return function yh(p,d){return{query:p,snapshotChanges:()=>Fu(p,d.schedulers.outsideAngular)().pipe(U.U0),update:h=>p.ref.update(h),set:h=>p.ref.set(h),remove:()=>p.ref.remove(),valueChanges:()=>Fu(p,d.schedulers.outsideAngular)().pipe(U.U0,(0,Re.T)(_=>_.payload.exists()?_.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ku(this.database,h)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(_){return new(_||p)(l.KVO(Z.rx),l.KVO(Z.uP,8),l.KVO(rg,8),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(U.u0),l.KVO(tp,8),l.KVO(G.DS,8),l.KVO(G.CP,8),l.KVO(G.yy,8),l.KVO(G.ZP,8),l.KVO(G.$z,8),l.KVO(G.AU,8),l.KVO(G.UB,8),l.KVO(U.Jv,8))};static \u0275prov=l.jDH({token:p,factory:p.\u0275fac,providedIn:"any"})}return p})(),Bm=(()=>{class p{constructor(){Ir.A.registerVersion("angularfire",U.xv.full,"rtdb-compat")}static \u0275fac=function(_){return new(_||p)};static \u0275mod=l.$C({type:p});static \u0275inj=l.G2t({providers:[ig]})}return p})()},9253:(In,dt,N)=>{"use strict";N.d(dt,{BM:()=>xe,Gt:()=>Re,bf:()=>pe,e7:()=>Q,iB:()=>Te,rx:()=>Ae,uP:()=>ve});var l=N(4438),U=N(574),Z=N(762);const G=["ngOnDestroy"],Re=(He,At,Pt,Ke={})=>new Proxy(He,{get:(Le,at)=>Pt.runOutsideAngular(()=>{if(He[at])return Ke?.spy?.get&&Ke.spy.get(at,He[at]),He[at];if(G.indexOf(at)>-1)return()=>{};const Ye=At.toPromise().then(Ze=>{const Dt=Ze?.[at];return"function"==typeof Dt?Dt.bind(Ze):Dt?.then?Dt.then(H=>Pt.run(()=>H)):Pt.run(()=>Dt)});return new Proxy(()=>{},{get:(Ze,Dt)=>Ye[Dt],apply:(Ze,Dt,H)=>Ye.then(We=>{const bt=We?.(...H);return Ke?.spy?.apply&&Ke.spy.apply(at,H,bt),bt})})})}),Q=(He,At)=>{At.forEach(Pt=>{Object.getOwnPropertyNames(Pt.prototype||Pt).forEach(Ke=>{Object.defineProperty(He.prototype,Ke,Object.getOwnPropertyDescriptor(Pt.prototype||Pt,Ke))})})};class be{constructor(At){return At}}const Ae=new l.nKC("angularfire2.app.options"),ve=new l.nKC("angularfire2.app.name");function Te(He,At,Pt){const Le="object"==typeof Pt&&Pt||{};Le.name=Le.name||"string"==typeof Pt&&Pt||"[DEFAULT]";const Ye=Z.A.apps.filter(Ze=>Ze&&Ze.name===Le.name)[0]||At.runOutsideAngular(()=>Z.A.initializeApp(He,Le));try{if(JSON.stringify(He)!==JSON.stringify(Ye.options)){const Ze=!!module.hot;ue("error",`${Ye.name} Firebase App already initialized with different options${Ze?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new be(Ye)}const ue=(He,...At)=>{(0,l.naY)()&&typeof console<"u"&&console[He](...At)},Ne={provide:be,useFactory:Te,deps:[Ae,l.SKi,[new l.Xx1,ve]]};let pe=(()=>{class He{static initializeApp(Pt,Ke){return{ngModule:He,providers:[{provide:Ae,useValue:Pt},{provide:ve,useValue:Ke}]}}constructor(Pt){Z.A.registerVersion("angularfire",U.xv.full,"core"),Z.A.registerVersion("angularfire",U.xv.full,"app-compat"),Z.A.registerVersion("angular",l.xvI.full,Pt.toString())}static \u0275fac=function(Ke){return new(Ke||He)(l.KVO(l.Agw))};static \u0275mod=l.$C({type:He});static \u0275inj=l.G2t({providers:[Ne]})}return He})();function xe(He,At,Pt,Ke,Le){const[,at,Ye]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===He)||[];if(at)return function nt(He,At){try{return He.toString()===At.toString()}catch{return He===At}}(Le,Ye)||(it("error",`${At} was already initialized on the ${Pt} Firebase App with different settings.${yt?" You may need to reload as Firebase is not HMR aware.":""}`),it("warn",{is:Le,was:Ye})),at;{const Ze=Ke();return globalThis.\u0275AngularfireInstanceCache.push([He,Ze,Le]),Ze}}const yt=typeof module<"u"&&!!module.hot,it=(He,...At)=>{(0,l.naY)()&&typeof console<"u"&&console[He](...At)};globalThis.\u0275AngularfireInstanceCache||=[]},574:(In,dt,N)=>{"use strict";N.d(dt,{xv:()=>nt,U0:()=>ze,u0:()=>Ye,Jv:()=>At});var l=N(4438),U=N(1156);(0,U.registerVersion)("firebase","10.14.1","app");var Re=N(6780),be=N(9687);const ve=new class Ae extends be.q{}(class Q extends Re.R{constructor(Se,Ie){super(Se,Ie),this.scheduler=Se,this.work=Ie}schedule(Se,Ie=0){return Ie>0?super.schedule(Se,Ie):(this.delay=Ie,this.state=Se,this.scheduler.flush(this),this)}execute(Se,Ie){return Ie>0||this.closed?super.execute(Se,Ie):this._execute(Se,Ie)}requestAsyncId(Se,Ie,Me=0){return null!=Me&&Me>0||null==Me&&this.delay>0?super.requestAsyncId(Se,Ie,Me):(Se.flush(this),0)}});var ue=N(3236),Ne=N(8141),pe=N(6745),xe=N(941);const nt=new l.RxE("ANGULARFIRE2_VERSION");class At{constructor(){return(qe=>{const Ie=(0,U.getApps)(),Me=[];return Ie.forEach(le=>{le.container.getProvider(qe).instances.forEach(ot=>{Me.includes(ot)||Me.push(ot)})}),Me})(Pt)}}const Pt="app-check";function Ke(){}class Le{zone;delegate;constructor(Se,Ie=ve){this.zone=Se,this.delegate=Ie}now(){return this.delegate.now()}schedule(Se,Ie,Me){const le=this.zone;return this.delegate.schedule(function(ot){le.runGuarded(()=>{Se.apply(this,[ot])})},Ie,Me)}}class at{zone;task=null;constructor(Se){this.zone=Se}call(Se,Ie){const Me=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ke,{},Ke,Ke)),Ie.pipe((0,Ne.M)({next:Me,complete:Me,error:Me})).subscribe(Se).add(Me)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ye=(()=>{class qe{ngZone;outsideAngular;insideAngular;constructor(Ie){this.ngZone=Ie,this.outsideAngular=Ie.runOutsideAngular(()=>new Le(Zone.current)),this.insideAngular=Ie.run(()=>new Le(Zone.current,ue.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Me){return new(Me||qe)(l.KVO(l.SKi))};static \u0275prov=l.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})();function ze(qe){return function Mt(qe){return function(Ie){return(Ie=Ie.lift(new at(qe.ngZone))).pipe((0,pe._)(qe.outsideAngular),(0,xe.Q)(qe.insideAngular))}}(function Ze(){const qe=globalThis.\u0275AngularFireScheduler;if(!qe)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return qe}())(qe)}},9574:(In,dt,N)=>{"use strict";N.d(dt,{A:()=>nt});var l=N(1401),U=N(8779),Z=N(1156),G=N(5398);class Re{constructor(it,He){this._delegate=it,this.firebase=He,(0,Z._addComponent)(it,new U.uA("app-compat",()=>this,"PUBLIC")),this.container=it.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this._delegate.automaticDataCollectionEnabled=it}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(it=>{this._delegate.checkDestroyed(),it()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Z.deleteApp)(this._delegate)))}_getService(it,He=Z._DEFAULT_ENTRY_NAME){var At;this._delegate.checkDestroyed();const Pt=this._delegate.container.getProvider(it);return!Pt.isInitialized()&&"EXPLICIT"===(null===(At=Pt.getComponent())||void 0===At?void 0:At.instantiationMode)&&Pt.initialize(),Pt.getImmediate({identifier:He})}_removeServiceInstance(it,He=Z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(it).clearInstance(He)}_addComponent(it){(0,Z._addComponent)(this._delegate,it)}_addOrOverwriteComponent(it){(0,Z._addOrOverwriteComponent)(this._delegate,it)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new l.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Te=function ve(){const yt=function Ae(yt){const it={},He={__esModule:!0,initializeApp:function Ke(Ze,Dt={}){const H=Z.initializeApp(Ze,Dt);if((0,l.gR)(it,H.name))return it[H.name];const We=new yt(H,He);return it[H.name]=We,We},app:Pt,registerVersion:Z.registerVersion,setLogLevel:Z.setLogLevel,onLog:Z.onLog,apps:null,SDK_VERSION:Z.SDK_VERSION,INTERNAL:{registerComponent:function at(Ze){const Dt=Ze.name,H=Dt.replace("-compat","");if(Z._registerComponent(Ze)&&"PUBLIC"===Ze.type){const We=(bt=Pt())=>{if("function"!=typeof bt[H])throw be.create("invalid-app-argument",{appName:Dt});return bt[H]()};void 0!==Ze.serviceProps&&(0,l.zw)(We,Ze.serviceProps),He[H]=We,yt.prototype[H]=function(...bt){return this._getService.bind(this,Dt).apply(this,Ze.multipleInstances?bt:[])}}return"PUBLIC"===Ze.type?He[H]:null},removeApp:function At(Ze){delete it[Ze]},useAsService:function Ye(Ze,Dt){return"serverAuth"===Dt?null:Dt},modularAPIs:Z}};function Pt(Ze){if(!(0,l.gR)(it,Ze=Ze||Z._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:Ze});return it[Ze]}return He.default=He,Object.defineProperty(He,"apps",{get:function Le(){return Object.keys(it).map(Ze=>it[Ze])}}),Pt.App=yt,He}(Re);return yt.INTERNAL=Object.assign(Object.assign({},yt.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function it(He){(0,l.zw)(yt,He)},createSubscribe:l.tD,ErrorFactory:l.FA,deepExtend:l.zw}),yt}(),ue=new G.Vy("@firebase/app-compat");try{const yt=(0,l.mS)();if(void 0!==yt.firebase){ue.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const it=yt.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&ue.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const nt=Te;!function xe(yt){(0,Z.registerVersion)("@firebase/app-compat","0.2.43",yt)}()},1156:(In,dt,N)=>{"use strict";N.r(dt),N.d(dt,{FirebaseError:()=>G.g,SDK_VERSION:()=>Ai,_DEFAULT_ENTRY_NAME:()=>Jn,_addComponent:()=>dr,_addOrOverwriteComponent:()=>Or,_apps:()=>Nr,_clearComponents:()=>Pr,_components:()=>rr,_getProvider:()=>Tr,_isFirebaseApp:()=>_r,_isFirebaseServerApp:()=>fi,_registerComponent:()=>Qr,_removeServiceInstance:()=>pr,_serverApps:()=>Rr,deleteApp:()=>dn,getApp:()=>rt,getApps:()=>Tt,initializeApp:()=>jt,initializeServerApp:()=>ht,onLog:()=>$e,registerVersion:()=>Ge,setLogLevel:()=>vt});var l=N(467),U=N(8779),Z=N(5398),G=N(1401);const Re=(zt,ae)=>ae.some(_e=>zt instanceof _e);let Q,be;const Te=new WeakMap,ue=new WeakMap,Ne=new WeakMap,pe=new WeakMap,xe=new WeakMap;let it={get(zt,ae,_e){if(zt instanceof IDBTransaction){if("done"===ae)return ue.get(zt);if("objectStoreNames"===ae)return zt.objectStoreNames||Ne.get(zt);if("store"===ae)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return Ke(zt[ae])},set:(zt,ae,_e)=>(zt[ae]=_e,!0),has:(zt,ae)=>zt instanceof IDBTransaction&&("done"===ae||"store"===ae)||ae in zt};function Pt(zt){return"function"==typeof zt?function At(zt){return zt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(zt)?function(...ae){return zt.apply(Le(this),ae),Ke(Te.get(this))}:function(...ae){return Ke(zt.apply(Le(this),ae))}:function(ae,..._e){const ie=zt.call(Le(this),ae,..._e);return Ne.set(ie,ae.sort?ae.sort():[ae]),Ke(ie)}}(zt):(zt instanceof IDBTransaction&&function yt(zt){if(ue.has(zt))return;const ae=new Promise((_e,ie)=>{const J=()=>{zt.removeEventListener("complete",Ve),zt.removeEventListener("error",pt),zt.removeEventListener("abort",pt)},Ve=()=>{_e(),J()},pt=()=>{ie(zt.error||new DOMException("AbortError","AbortError")),J()};zt.addEventListener("complete",Ve),zt.addEventListener("error",pt),zt.addEventListener("abort",pt)});ue.set(zt,ae)}(zt),Re(zt,function Ae(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(zt,it):zt)}function Ke(zt){if(zt instanceof IDBRequest)return function nt(zt){const ae=new Promise((_e,ie)=>{const J=()=>{zt.removeEventListener("success",Ve),zt.removeEventListener("error",pt)},Ve=()=>{_e(Ke(zt.result)),J()},pt=()=>{ie(zt.error),J()};zt.addEventListener("success",Ve),zt.addEventListener("error",pt)});return ae.then(_e=>{_e instanceof IDBCursor&&Te.set(_e,zt)}).catch(()=>{}),xe.set(ae,zt),ae}(zt);if(pe.has(zt))return pe.get(zt);const ae=Pt(zt);return ae!==zt&&(pe.set(zt,ae),xe.set(ae,zt)),ae}const Le=zt=>xe.get(zt),Ze=["get","getKey","getAll","getAllKeys","count"],Dt=["put","add","delete","clear"],H=new Map;function We(zt,ae){if(!(zt instanceof IDBDatabase)||ae in zt||"string"!=typeof ae)return;if(H.get(ae))return H.get(ae);const _e=ae.replace(/FromIndex$/,""),ie=ae!==_e,J=Dt.includes(_e);if(!(_e in(ie?IDBIndex:IDBObjectStore).prototype)||!J&&!Ze.includes(_e))return;const Ve=function(){var pt=(0,l.A)(function*(an,...Qt){const de=this.transaction(an,J?"readwrite":"readonly");let Ue=de.store;return ie&&(Ue=Ue.index(Qt.shift())),(yield Promise.all([Ue[_e](...Qt),J&&de.done]))[0]});return function(Qt){return pt.apply(this,arguments)}}();return H.set(ae,Ve),Ve}!function He(zt){it=zt(it)}(zt=>({...zt,get:(ae,_e,ie)=>We(ae,_e)||zt.get(ae,_e,ie),has:(ae,_e)=>!!We(ae,_e)||zt.has(ae,_e)}));class bt{constructor(ae){this.container=ae}getPlatformInfoString(){return this.container.getProviders().map(_e=>{if(function ze(zt){const ae=zt.getComponent();return"VERSION"===ae?.type}(_e)){const ie=_e.getImmediate();return`${ie.library}/${ie.version}`}return null}).filter(_e=>_e).join(" ")}}const Mt="@firebase/app",kt="0.10.13",cn=new Z.Vy("@firebase/app"),qe="@firebase/app-compat",Se="@firebase/analytics-compat",Ie="@firebase/analytics",Me="@firebase/app-check-compat",le="@firebase/app-check",Pe="@firebase/auth",ot="@firebase/auth-compat",Xe="@firebase/database",De="@firebase/data-connect",Ct="@firebase/database-compat",fe="@firebase/functions",st="@firebase/functions-compat",Ot="@firebase/installations",Nt="@firebase/installations-compat",hn="@firebase/messaging",Vn="@firebase/messaging-compat",Gn="@firebase/performance",Nn="@firebase/performance-compat",xn="@firebase/remote-config",Un="@firebase/remote-config-compat",Xn="@firebase/storage",mt="@firebase/storage-compat",Gt="@firebase/firestore",Ht="@firebase/vertexai-preview",Mn="@firebase/firestore-compat",Er="firebase",Jn="[DEFAULT]",Hn={[Mt]:"fire-core",[qe]:"fire-core-compat",[Ie]:"fire-analytics",[Se]:"fire-analytics-compat",[le]:"fire-app-check",[Me]:"fire-app-check-compat",[Pe]:"fire-auth",[ot]:"fire-auth-compat",[Xe]:"fire-rtdb",[De]:"fire-data-connect",[Ct]:"fire-rtdb-compat",[fe]:"fire-fn",[st]:"fire-fn-compat",[Ot]:"fire-iid",[Nt]:"fire-iid-compat",[hn]:"fire-fcm",[Vn]:"fire-fcm-compat",[Gn]:"fire-perf",[Nn]:"fire-perf-compat",[xn]:"fire-rc",[Un]:"fire-rc-compat",[Xn]:"fire-gcs",[mt]:"fire-gcs-compat",[Gt]:"fire-fst",[Mn]:"fire-fst-compat",[Ht]:"fire-vertex","fire-js":"fire-js",[Er]:"fire-js-all"},Nr=new Map,Rr=new Map,rr=new Map;function dr(zt,ae){try{zt.container.addComponent(ae)}catch(_e){cn.debug(`Component ${ae.name} failed to register with FirebaseApp ${zt.name}`,_e)}}function Or(zt,ae){zt.container.addOrOverwriteComponent(ae)}function Qr(zt){const ae=zt.name;if(rr.has(ae))return cn.debug(`There were multiple attempts to register component ${ae}.`),!1;rr.set(ae,zt);for(const _e of Nr.values())dr(_e,zt);for(const _e of Rr.values())dr(_e,zt);return!0}function Tr(zt,ae){const _e=zt.container.getProvider("heartbeat").getImmediate({optional:!0});return _e&&_e.triggerHeartbeat(),zt.container.getProvider(ae)}function pr(zt,ae,_e=Jn){Tr(zt,ae).clearInstance(_e)}function _r(zt){return void 0!==zt.options}function fi(zt){return void 0!==zt.settings}function Pr(){rr.clear()}const gr=new G.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class bi{constructor(ae,_e,ie){this._isDeleted=!1,this._options=Object.assign({},ae),this._config=Object.assign({},_e),this._name=_e.name,this._automaticDataCollectionEnabled=_e.automaticDataCollectionEnabled,this._container=ie,this.container.addComponent(new U.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ae){this._isDeleted=ae}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}class ci extends bi{constructor(ae,_e,ie,J){const Ve=void 0!==_e.automaticDataCollectionEnabled&&_e.automaticDataCollectionEnabled,pt={name:ie,automaticDataCollectionEnabled:Ve};super(void 0!==ae.apiKey?ae:ae.options,pt,J),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ve},_e),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,_e.releaseOnDeref=void 0,Ge(Mt,kt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ae){this.isDeleted||(this._refCount++,void 0!==ae&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(ae,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){dn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw gr.create("server-app-deleted")}}const Ai="10.14.1";function jt(zt,ae={}){let _e=zt;"object"!=typeof ae&&(ae={name:ae});const ie=Object.assign({name:Jn,automaticDataCollectionEnabled:!1},ae),J=ie.name;if("string"!=typeof J||!J)throw gr.create("bad-app-name",{appName:String(J)});if(_e||(_e=(0,G.T9)()),!_e)throw gr.create("no-options");const Ve=Nr.get(J);if(Ve){if((0,G.bD)(_e,Ve.options)&&(0,G.bD)(ie,Ve.config))return Ve;throw gr.create("duplicate-app",{appName:J})}const pt=new U.h1(J);for(const Qt of rr.values())pt.addComponent(Qt);const an=new bi(_e,ie,pt);return Nr.set(J,an),an}function ht(zt,ae){if((0,G.Bd)()&&!(0,G.p7)())throw gr.create("invalid-server-app-environment");let _e;void 0===ae.automaticDataCollectionEnabled&&(ae.automaticDataCollectionEnabled=!1),_e=_r(zt)?zt.options:zt;const ie=Object.assign(Object.assign({},ae),_e);if(void 0!==ie.releaseOnDeref&&delete ie.releaseOnDeref,void 0!==ae.releaseOnDeref&&typeof FinalizationRegistry>"u")throw gr.create("finalization-registry-not-supported",{});const Ve=""+(de=JSON.stringify(ie),[...de].reduce((Ue,Qe)=>Math.imul(31,Ue)+Qe.charCodeAt(0)|0,0)),pt=Rr.get(Ve);var de;if(pt)return pt.incRefCount(ae.releaseOnDeref),pt;const an=new U.h1(Ve);for(const de of rr.values())an.addComponent(de);const Qt=new ci(_e,ae,Ve,an);return Rr.set(Ve,Qt),Qt}function rt(zt=Jn){const ae=Nr.get(zt);if(!ae&&zt===Jn&&(0,G.T9)())return jt();if(!ae)throw gr.create("no-app",{appName:zt});return ae}function Tt(){return Array.from(Nr.values())}function dn(zt){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,l.A)(function*(zt){let ae=!1;const _e=zt.name;Nr.has(_e)?(ae=!0,Nr.delete(_e)):Rr.has(_e)&&zt.decRefCount()<=0&&(Rr.delete(_e),ae=!0),ae&&(yield Promise.all(zt.container.getProviders().map(ie=>ie.delete())),zt.isDeleted=!0)})).apply(this,arguments)}function Ge(zt,ae,_e){var ie;let J=null!==(ie=Hn[zt])&&void 0!==ie?ie:zt;_e&&(J+=`-${_e}`);const Ve=J.match(/\s|\//),pt=ae.match(/\s|\//);if(Ve||pt){const an=[`Unable to register library "${J}" with version "${ae}":`];return Ve&&an.push(`library name "${J}" contains illegal characters (whitespace or "/")`),Ve&&pt&&an.push("and"),pt&&an.push(`version name "${ae}" contains illegal characters (whitespace or "/")`),void cn.warn(an.join(" "))}Qr(new U.uA(`${J}-version`,()=>({library:J,version:ae}),"VERSION"))}function $e(zt,ae){if(null!==zt&&"function"!=typeof zt)throw gr.create("invalid-log-argument");(0,Z.Ey)(zt,ae)}function vt(zt){(0,Z.He)(zt)}const Jt="firebase-heartbeat-database",xt=1,Fn="firebase-heartbeat-store";let qn=null;function Jr(){return qn||(qn=function at(zt,ae,{blocked:_e,upgrade:ie,blocking:J,terminated:Ve}={}){const pt=indexedDB.open(zt,ae),an=Ke(pt);return ie&&pt.addEventListener("upgradeneeded",Qt=>{ie(Ke(pt.result),Qt.oldVersion,Qt.newVersion,Ke(pt.transaction),Qt)}),_e&&pt.addEventListener("blocked",Qt=>_e(Qt.oldVersion,Qt.newVersion,Qt)),an.then(Qt=>{Ve&&Qt.addEventListener("close",()=>Ve()),J&&Qt.addEventListener("versionchange",de=>J(de.oldVersion,de.newVersion,de))}).catch(()=>{}),an}(Jt,xt,{upgrade:(zt,ae)=>{if(0===ae)try{zt.createObjectStore(Fn)}catch(_e){console.warn(_e)}}}).catch(zt=>{throw gr.create("idb-open",{originalErrorMessage:zt.message})})),qn}function xr(){return(xr=(0,l.A)(function*(zt){try{const _e=(yield Jr()).transaction(Fn),ie=yield _e.objectStore(Fn).get(Wr(zt));return yield _e.done,ie}catch(ae){if(ae instanceof G.g)cn.warn(ae.message);else{const _e=gr.create("idb-get",{originalErrorMessage:ae?.message});cn.warn(_e.message)}}})).apply(this,arguments)}function Vr(zt,ae){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.A)(function*(zt,ae){try{const ie=(yield Jr()).transaction(Fn,"readwrite");yield ie.objectStore(Fn).put(ae,Wr(zt)),yield ie.done}catch(_e){if(_e instanceof G.g)cn.warn(_e.message);else{const ie=gr.create("idb-set",{originalErrorMessage:_e?.message});cn.warn(ie.message)}}})).apply(this,arguments)}function Wr(zt){return`${zt.name}!${zt.options.appId}`}class Gi{constructor(ae){this.container=ae,this._heartbeatsCache=null;const _e=this.container.getProvider("app").getImmediate();this._storage=new wi(_e),this._heartbeatsCachePromise=this._storage.read().then(ie=>(this._heartbeatsCache=ie,ie))}triggerHeartbeat(){var ae=this;return(0,l.A)(function*(){var _e,ie;try{const Ve=ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pt=Ur();return null==(null===(_e=ae._heartbeatsCache)||void 0===_e?void 0:_e.heartbeats)&&(ae._heartbeatsCache=yield ae._heartbeatsCachePromise,null==(null===(ie=ae._heartbeatsCache)||void 0===ie?void 0:ie.heartbeats))||ae._heartbeatsCache.lastSentHeartbeatDate===pt||ae._heartbeatsCache.heartbeats.some(an=>an.date===pt)?void 0:(ae._heartbeatsCache.heartbeats.push({date:pt,agent:Ve}),ae._heartbeatsCache.heartbeats=ae._heartbeatsCache.heartbeats.filter(an=>{const Qt=new Date(an.date).valueOf();return Date.now()-Qt<=2592e6}),ae._storage.overwrite(ae._heartbeatsCache))}catch(J){cn.warn(J)}})()}getHeartbeatsHeader(){var ae=this;return(0,l.A)(function*(){var _e;try{if(null===ae._heartbeatsCache&&(yield ae._heartbeatsCachePromise),null==(null===(_e=ae._heartbeatsCache)||void 0===_e?void 0:_e.heartbeats)||0===ae._heartbeatsCache.heartbeats.length)return"";const ie=Ur(),{heartbeatsToSend:J,unsentEntries:Ve}=function Ar(zt,ae=1024){const _e=[];let ie=zt.slice();for(const J of zt){const Ve=_e.find(pt=>pt.agent===J.agent);if(Ve){if(Ve.dates.push(J.date),ti(_e)>ae){Ve.dates.pop();break}}else if(_e.push({agent:J.agent,dates:[J.date]}),ti(_e)>ae){_e.pop();break}ie=ie.slice(1)}return{heartbeatsToSend:_e,unsentEntries:ie}}(ae._heartbeatsCache.heartbeats),pt=(0,G.Uj)(JSON.stringify({version:2,heartbeats:J}));return ae._heartbeatsCache.lastSentHeartbeatDate=ie,Ve.length>0?(ae._heartbeatsCache.heartbeats=Ve,yield ae._storage.overwrite(ae._heartbeatsCache)):(ae._heartbeatsCache.heartbeats=[],ae._storage.overwrite(ae._heartbeatsCache)),pt}catch(ie){return cn.warn(ie),""}})()}}function Ur(){return(new Date).toISOString().substring(0,10)}class wi{constructor(ae){this.app=ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.A)(function*(){return!!(0,G.zW)()&&(0,G.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ae=this;return(0,l.A)(function*(){if(yield ae._canUseIndexedDBPromise){const ie=yield function gi(zt){return xr.apply(this,arguments)}(ae.app);return ie?.heartbeats?ie:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ae){var _e=this;return(0,l.A)(function*(){var ie;if(yield _e._canUseIndexedDBPromise){const Ve=yield _e.read();return Vr(_e.app,{lastSentHeartbeatDate:null!==(ie=ae.lastSentHeartbeatDate)&&void 0!==ie?ie:Ve.lastSentHeartbeatDate,heartbeats:ae.heartbeats})}})()}add(ae){var _e=this;return(0,l.A)(function*(){var ie;if(yield _e._canUseIndexedDBPromise){const Ve=yield _e.read();return Vr(_e.app,{lastSentHeartbeatDate:null!==(ie=ae.lastSentHeartbeatDate)&&void 0!==ie?ie:Ve.lastSentHeartbeatDate,heartbeats:[...Ve.heartbeats,...ae.heartbeats]})}})()}}function ti(zt){return(0,G.Uj)(JSON.stringify({version:2,heartbeats:zt})).length}!function $i(zt){Qr(new U.uA("platform-logger",ae=>new bt(ae),"PRIVATE")),Qr(new U.uA("heartbeat",ae=>new Gi(ae),"PRIVATE")),Ge(Mt,kt,zt),Ge(Mt,kt,"esm2017"),Ge("fire-js","")}("")},8779:(In,dt,N)=>{"use strict";N.d(dt,{Kq:()=>Re,h1:()=>Ae,uA:()=>Z});var l=N(467),U=N(1401);class Z{constructor(Te,ue,Ne){this.name=Te,this.instanceFactory=ue,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Te){return this.instantiationMode=Te,this}setMultipleInstances(Te){return this.multipleInstances=Te,this}setServiceProps(Te){return this.serviceProps=Te,this}setInstanceCreatedCallback(Te){return this.onInstanceCreated=Te,this}}const G="[DEFAULT]";class Re{constructor(Te,ue){this.name=Te,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Te){const ue=this.normalizeInstanceIdentifier(Te);if(!this.instancesDeferred.has(ue)){const Ne=new U.cY;if(this.instancesDeferred.set(ue,Ne),this.isInitialized(ue)||this.shouldAutoInitialize())try{const pe=this.getOrInitializeService({instanceIdentifier:ue});pe&&Ne.resolve(pe)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(Te){var ue;const Ne=this.normalizeInstanceIdentifier(Te?.identifier),pe=null!==(ue=Te?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if(pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(xe){if(pe)return null;throw xe}}getComponent(){return this.component}setComponent(Te){if(Te.name!==this.name)throw Error(`Mismatching Component ${Te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Te,this.shouldAutoInitialize()){if(function be(ve){return"EAGER"===ve.instantiationMode}(Te))try{this.getOrInitializeService({instanceIdentifier:G})}catch{}for(const[ue,Ne]of this.instancesDeferred.entries()){const pe=this.normalizeInstanceIdentifier(ue);try{const xe=this.getOrInitializeService({instanceIdentifier:pe});Ne.resolve(xe)}catch{}}}}clearInstance(Te=G){this.instancesDeferred.delete(Te),this.instancesOptions.delete(Te),this.instances.delete(Te)}delete(){var Te=this;return(0,l.A)(function*(){const ue=Array.from(Te.instances.values());yield Promise.all([...ue.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...ue.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Te=G){return this.instances.has(Te)}getOptions(Te=G){return this.instancesOptions.get(Te)||{}}initialize(Te={}){const{options:ue={}}=Te,Ne=this.normalizeInstanceIdentifier(Te.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const pe=this.getOrInitializeService({instanceIdentifier:Ne,options:ue});for(const[xe,nt]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(xe)&&nt.resolve(pe);return pe}onInit(Te,ue){var Ne;const pe=this.normalizeInstanceIdentifier(ue),xe=null!==(Ne=this.onInitCallbacks.get(pe))&&void 0!==Ne?Ne:new Set;xe.add(Te),this.onInitCallbacks.set(pe,xe);const nt=this.instances.get(pe);return nt&&Te(nt,pe),()=>{xe.delete(Te)}}invokeOnInitCallbacks(Te,ue){const Ne=this.onInitCallbacks.get(ue);if(Ne)for(const pe of Ne)try{pe(Te,ue)}catch{}}getOrInitializeService({instanceIdentifier:Te,options:ue={}}){let Ne=this.instances.get(Te);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=Te,ve===G?void 0:ve),options:ue}),this.instances.set(Te,Ne),this.instancesOptions.set(Te,ue),this.invokeOnInitCallbacks(Ne,Te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Te,Ne)}catch{}var ve;return Ne||null}normalizeInstanceIdentifier(Te=G){return this.component?this.component.multipleInstances?Te:G:Te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(Te){this.name=Te,this.providers=new Map}addComponent(Te){const ue=this.getProvider(Te.name);if(ue.isComponentSet())throw new Error(`Component ${Te.name} has already been registered with ${this.name}`);ue.setComponent(Te)}addOrOverwriteComponent(Te){this.getProvider(Te.name).isComponentSet()&&this.providers.delete(Te.name),this.addComponent(Te)}getProvider(Te){if(this.providers.has(Te))return this.providers.get(Te);const ue=new Re(Te,this);return this.providers.set(Te,ue),ue}getProviders(){return Array.from(this.providers.values())}}},5398:(In,dt,N)=>{"use strict";N.d(dt,{$b:()=>U,Ey:()=>ve,He:()=>Ae,Vy:()=>be});const l=[];var U=function(Te){return Te[Te.DEBUG=0]="DEBUG",Te[Te.VERBOSE=1]="VERBOSE",Te[Te.INFO=2]="INFO",Te[Te.WARN=3]="WARN",Te[Te.ERROR=4]="ERROR",Te[Te.SILENT=5]="SILENT",Te}(U||{});const Z={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},G=U.INFO,Re={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},Q=(Te,ue,...Ne)=>{if(ue<Te.logLevel)return;const pe=(new Date).toISOString(),xe=Re[ue];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[xe](`[${pe}]  ${Te.name}:`,...Ne)};class be{constructor(ue){this.name=ue,this._logLevel=G,this._logHandler=Q,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in U))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?Z[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...ue),this._logHandler(this,U.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...ue),this._logHandler(this,U.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,U.INFO,...ue),this._logHandler(this,U.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,U.WARN,...ue),this._logHandler(this,U.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...ue),this._logHandler(this,U.ERROR,...ue)}}function Ae(Te){l.forEach(ue=>{ue.setLogLevel(Te)})}function ve(Te,ue){for(const Ne of l){let pe=null;ue&&ue.level&&(pe=Z[ue.level]),Ne.userLogHandler=null===Te?null:(xe,nt,...yt)=>{const it=yt.map(He=>{if(null==He)return null;if("string"==typeof He)return He;if("number"==typeof He||"boolean"==typeof He)return He.toString();if(He instanceof Error)return He.message;try{return JSON.stringify(He)}catch{return null}}).filter(He=>He).join(" ");nt>=(pe??xe.logLevel)&&Te({level:U[nt].toLowerCase(),message:it,args:yt,type:xe.name})}}}},762:(In,dt,N)=>{"use strict";N.d(dt,{A:()=>l.A});var l=N(9574);l.A.registerVersion("firebase","10.14.1","app-compat")},324:(In,dt,N)=>{"use strict";var l=N(467),U=N(9574),Z=N(1156),G=N(1401),Re=N(5398),Q=N(1635),be=N(8779);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const nt=function pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},yt=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new G.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),At=new Re.Vy("@firebase/auth");function Ke(T,...g){At.logLevel<=Re.$b.ERROR&&At.error(`Auth (${Z.SDK_VERSION}): ${T}`,...g)}function Le(T,...g){throw H(T,...g)}function at(T,...g){return H(T,...g)}function Ye(T,g,v){const b=Object.assign(Object.assign({},yt()),{[g]:v});return new G.FA("auth","Firebase",b).create(g,{appName:T.name})}function Ze(T){return Ye(T,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dt(T,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&Le(T,"argument-error"),Ye(T,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function H(T,...g){if("string"!=typeof T){const v=g[0],b=[...g.slice(1)];return b[0]&&(b[0].appName=T.name),T._errorFactory.create(v,...b)}return it.create(T,...g)}function We(T,g,...v){if(!T)throw H(g,...v)}function bt(T){const g="INTERNAL ASSERTION FAILED: "+T;throw Ke(g),new Error(g)}function ze(T,g){T||bt(g)}function Mt(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function kt(){return"http:"===cn()||"https:"===cn()}function cn(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class Ie{constructor(g,v){this.shortDelay=g,this.longDelay=v,ze(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,G.jZ)()||(0,G.lV)()}get(){return function qe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(kt()||(0,G.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Me(T,g){ze(T.emulator,"Emulator should always be set here");const{url:v}=T.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class le{static initialize(g,v,b){this.fetchImpl=g,v&&(this.headersImpl=v),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void bt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void bt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void bt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ot=new Ie(3e4,6e4);function Xe(T,g){return T.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:T.tenantId}):g}function De(T,g,v,b){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,l.A)(function*(T,g,v,b,z={}){return fe(T,z,(0,l.A)(function*(){let me={},ft={};b&&("GET"===g?ft=b:me={body:JSON.stringify(b)});const Ut=(0,G.Am)(Object.assign({key:T.config.apiKey},ft)).slice(1),vn=yield T._getAdditionalHeaders();vn["Content-Type"]="application/json",T.languageCode&&(vn["X-Firebase-Locale"]=T.languageCode);const nr=Object.assign({method:g,headers:vn},me);return(0,G.c1)()||(nr.referrerPolicy="no-referrer"),le.fetch()(hn(T,T.config.apiHost,v,Ut),nr)}))})).apply(this,arguments)}function fe(T,g,v){return st.apply(this,arguments)}function st(){return(st=(0,l.A)(function*(T,g,v){T._canInitEmulator=!1;const b=Object.assign(Object.assign({},Pe),g);try{const z=new Gn(T),me=yield Promise.race([v(),z.promise]);z.clearNetworkTimeout();const ft=yield me.json();if("needConfirmation"in ft)throw Nn(T,"account-exists-with-different-credential",ft);if(me.ok&&!("errorMessage"in ft))return ft;{const Ut=me.ok?ft.errorMessage:ft.error.message,[vn,nr]=Ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===vn)throw Nn(T,"credential-already-in-use",ft);if("EMAIL_EXISTS"===vn)throw Nn(T,"email-already-in-use",ft);if("USER_DISABLED"===vn)throw Nn(T,"user-disabled",ft);const Ir=b[vn]||vn.toLowerCase().replace(/[_\s]+/g,"-");if(nr)throw Ye(T,Ir,nr);Le(T,Ir)}}catch(z){if(z instanceof G.g)throw z;Le(T,"network-request-failed",{message:String(z)})}})).apply(this,arguments)}function Ot(T,g,v,b){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,l.A)(function*(T,g,v,b,z={}){const me=yield De(T,g,v,b,z);return"mfaPendingCredential"in me&&Le(T,"multi-factor-auth-required",{_serverResponse:me}),me})).apply(this,arguments)}function hn(T,g,v,b){const z=`${g}${v}?${b}`;return T.config.emulator?Me(T.config,z):`${T.config.apiScheme}://${z}`}function Vn(T){switch(T){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,b)=>{this.timer=setTimeout(()=>b(at(this.auth,"network-request-failed")),ot.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nn(T,g,v){const b={appName:T.name};v.email&&(b.email=v.email),v.phoneNumber&&(b.phoneNumber=v.phoneNumber);const z=at(T,g,b);return z.customData._tokenResponse=v,z}function xn(T){return void 0!==T&&void 0!==T.getResponse}function Un(T){return void 0!==T&&void 0!==T.enterprise}class Xn{constructor(g){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=g.recaptchaEnforcementState}getProviderEnforcementState(g){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===g)return Vn(v.enforcementState);return null}isProviderEnabled(g){return"ENFORCE"===this.getProviderEnforcementState(g)||"AUDIT"===this.getProviderEnforcementState(g)}}function Gt(){return(Gt=(0,l.A)(function*(T){return(yield De(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ht(T,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,l.A)(function*(T,g){return De(T,"GET","/v2/recaptchaConfig",Xe(T,g))})).apply(this,arguments)}function ir(){return(ir=(0,l.A)(function*(T,g){return De(T,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Hn(){return(Hn=(0,l.A)(function*(T,g){return De(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Nr(T,g){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,l.A)(function*(T,g){return De(T,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function rr(T){if(T)try{const g=new Date(Number(T));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Qr(){return(Qr=(0,l.A)(function*(T,g=!1){const v=(0,G.Ku)(T),b=yield v.getIdToken(g),z=pr(b);We(z&&z.exp&&z.auth_time&&z.iat,v.auth,"internal-error");const me="object"==typeof z.firebase?z.firebase:void 0,ft=me?.sign_in_provider;return{claims:z,token:b,authTime:rr(Tr(z.auth_time)),issuedAtTime:rr(Tr(z.iat)),expirationTime:rr(Tr(z.exp)),signInProvider:ft||null,signInSecondFactor:me?.sign_in_second_factor||null}})).apply(this,arguments)}function Tr(T){return 1e3*Number(T)}function pr(T){const[g,v,b]=T.split(".");if(void 0===g||void 0===v||void 0===b)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,G.u)(v);return z?JSON.parse(z):(Ke("Failed to decode base64 JWT payload"),null)}catch(z){return Ke("Caught error parsing JWT payload as JSON",z?.toString()),null}}function _r(T){const g=pr(T);return We(g,"internal-error"),We(typeof g.exp<"u","internal-error"),We(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}function fi(T,g){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,l.A)(function*(T,g,v=!1){if(v)return g;try{return yield g}catch(b){throw b instanceof G.g&&function pi({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(b)&&T.auth.currentUser===T&&(yield T.auth.signOut()),b}})).apply(this,arguments)}class gr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const z=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const b=this.getInterval(g);this.timerId=setTimeout((0,l.A)(function*(){yield v.iteration()}),b)}iteration(){var g=this;return(0,l.A)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class bi{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=rr(this.lastLoginAt),this.creationTime=rr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ci(T){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,l.A)(function*(T){var g;const v=T.auth,b=yield T.getIdToken(),z=yield fi(T,Nr(v,{idToken:b}));We(z?.users.length,v,"internal-error");const me=z.users[0];T._notifyReloadListener(me);const ft=null!==(g=me.providerUserInfo)&&void 0!==g&&g.length?Tt(me.providerUserInfo):[],Ut=function rt(T,g){return[...T.filter(b=>!g.some(z=>z.providerId===b.providerId)),...g]}(T.providerData,ft),Ir=!!T.isAnonymous&&!(T.email&&me.passwordHash||Ut?.length),hr={uid:me.localId,displayName:me.displayName||null,photoURL:me.photoUrl||null,email:me.email||null,emailVerified:me.emailVerified||!1,phoneNumber:me.phoneNumber||null,tenantId:me.tenantId||null,providerData:Ut,metadata:new bi(me.createdAt,me.lastLoginAt),isAnonymous:Ir};Object.assign(T,hr)})).apply(this,arguments)}function ht(){return(ht=(0,l.A)(function*(T){const g=(0,G.Ku)(T);yield ci(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Tt(T){return T.map(g=>{var{providerId:v}=g,b=(0,Q.Tt)(g,["providerId"]);return{providerId:v,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Bn(){return(Bn=(0,l.A)(function*(T,g){const v=yield fe(T,{},(0,l.A)(function*(){const b=(0,G.Am)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:z,apiKey:me}=T.config,ft=hn(T,z,"/v1/token",`key=${me}`),Ut=yield T._getAdditionalHeaders();return Ut["Content-Type"]="application/x-www-form-urlencoded",le.fetch()(ft,{method:"POST",headers:Ut,body:b})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function $e(){return($e=(0,l.A)(function*(T,g){return De(T,"POST","/v2/accounts:revokeToken",Xe(T,g))})).apply(this,arguments)}class vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){We(g.idToken,"internal-error"),We(typeof g.idToken<"u","internal-error"),We(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):_r(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}updateFromIdToken(g){We(0!==g.length,"internal-error");const v=_r(g);this.updateTokensAndExpiration(g,null,v)}getToken(g,v=!1){var b=this;return(0,l.A)(function*(){return v||!b.accessToken||b.isExpired?(We(b.refreshToken,g,"user-token-expired"),b.refreshToken?(yield b.refresh(g,b.refreshToken),b.accessToken):null):b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var b=this;return(0,l.A)(function*(){const{accessToken:z,refreshToken:me,expiresIn:ft}=yield function dn(T,g){return Bn.apply(this,arguments)}(g,v);b.updateTokensAndExpiration(z,me,Number(ft))})()}updateTokensAndExpiration(g,v,b){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(g,v){const{refreshToken:b,accessToken:z,expirationTime:me}=v,ft=new vt;return b&&(We("string"==typeof b,"internal-error",{appName:g}),ft.refreshToken=b),z&&(We("string"==typeof z,"internal-error",{appName:g}),ft.accessToken=z),me&&(We("number"==typeof me,"internal-error",{appName:g}),ft.expirationTime=me),ft}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new vt,this.toJSON())}_performRefresh(){return bt("not implemented")}}function Jt(T,g){We("string"==typeof T||typeof T>"u","internal-error",{appName:g})}class xt{constructor(g){var{uid:v,auth:b,stsTokenManager:z}=g,me=(0,Q.Tt)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=b,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=me.displayName||null,this.email=me.email||null,this.emailVerified=me.emailVerified||!1,this.phoneNumber=me.phoneNumber||null,this.photoURL=me.photoURL||null,this.isAnonymous=me.isAnonymous||!1,this.tenantId=me.tenantId||null,this.providerData=me.providerData?[...me.providerData]:[],this.metadata=new bi(me.createdAt||void 0,me.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,l.A)(function*(){const b=yield fi(v,v.stsTokenManager.getToken(v.auth,g));return We(b,v.auth,"internal-error"),v.accessToken!==b&&(v.accessToken=b,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),b})()}getIdTokenResult(g){return function Or(T){return Qr.apply(this,arguments)}(this,g)}reload(){return function jt(T){return ht.apply(this,arguments)}(this)}_assign(g){this!==g&&(We(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new xt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var b=this;return(0,l.A)(function*(){let z=!1;g.idToken&&g.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(g),z=!0),v&&(yield ci(b)),yield b.auth._persistUserIfCurrent(b),z&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var g=this;return(0,l.A)(function*(){if((0,Z._isFirebaseServerApp)(g.auth.app))return Promise.reject(Ze(g.auth));const v=yield g.getIdToken();return yield fi(g,function Er(T,g){return ir.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var b,z,me,ft,Ut,vn,nr,Ir;const hr=null!==(b=v.displayName)&&void 0!==b?b:void 0,ds=null!==(z=v.email)&&void 0!==z?z:void 0,Ss=null!==(me=v.phoneNumber)&&void 0!==me?me:void 0,mc=null!==(ft=v.photoURL)&&void 0!==ft?ft:void 0,hu=null!==(Ut=v.tenantId)&&void 0!==Ut?Ut:void 0,ku=null!==(vn=v._redirectEventId)&&void 0!==vn?vn:void 0,Md=null!==(nr=v.createdAt)&&void 0!==nr?nr:void 0,vh=null!==(Ir=v.lastLoginAt)&&void 0!==Ir?Ir:void 0,{uid:_h,emailVerified:Jh,isAnonymous:Lu,providerData:Al,stsTokenManager:Hc}=v;We(_h&&Hc,g,"internal-error");const Zh=vt.fromJSON(this.name,Hc);We("string"==typeof _h,g,"internal-error"),Jt(hr,g.name),Jt(ds,g.name),We("boolean"==typeof Jh,g,"internal-error"),We("boolean"==typeof Lu,g,"internal-error"),Jt(Ss,g.name),Jt(mc,g.name),Jt(hu,g.name),Jt(ku,g.name),Jt(Md,g.name),Jt(vh,g.name);const _o=new xt({uid:_h,auth:g,email:ds,emailVerified:Jh,displayName:hr,isAnonymous:Lu,photoURL:mc,phoneNumber:Ss,tenantId:hu,stsTokenManager:Zh,createdAt:Md,lastLoginAt:vh});return Al&&Array.isArray(Al)&&(_o.providerData=Al.map(xd=>Object.assign({},xd))),ku&&(_o._redirectEventId=ku),_o}static _fromIdTokenResponse(g,v,b=!1){return(0,l.A)(function*(){const z=new vt;z.updateFromServerResponse(v);const me=new xt({uid:v.localId,auth:g,stsTokenManager:z,isAnonymous:b});return yield ci(me),me})()}static _fromGetAccountInfoResponse(g,v,b){return(0,l.A)(function*(){const z=v.users[0];We(void 0!==z.localId,"internal-error");const me=void 0!==z.providerUserInfo?Tt(z.providerUserInfo):[],ft=!(z.email&&z.passwordHash||me?.length),Ut=new vt;Ut.updateFromIdToken(b);const vn=new xt({uid:z.localId,auth:g,stsTokenManager:Ut,isAnonymous:ft}),nr={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:me,metadata:new bi(z.createdAt,z.lastLoginAt),isAnonymous:!(z.email&&z.passwordHash||me?.length)};return Object.assign(vn,nr),vn})()}}const Fn=new Map;function qn(T){ze(T instanceof Function,"Expected a class definition");let g=Fn.get(T);return g?(ze(g instanceof T,"Instance stored in cache mismatched with class"),g):(g=new T,Fn.set(T,g),g)}const gi=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.A)(function*(){return!0})()}_set(v,b){var z=this;return(0,l.A)(function*(){z.storage[v]=b})()}_get(v){var b=this;return(0,l.A)(function*(){const z=b.storage[v];return void 0===z?null:z})()}_remove(v){var b=this;return(0,l.A)(function*(){delete b.storage[v]})()}_addListener(v,b){}_removeListener(v,b){}}return T.type="NONE",T})();function xr(T,g,v){return`firebase:${T}:${g}:${v}`}class Vr{constructor(g,v,b){this.persistence=g,this.auth=v,this.userKey=b;const{config:z,name:me}=this.auth;this.fullUserKey=xr(this.userKey,z.apiKey,me),this.fullPersistenceKey=xr("persistence",z.apiKey,me),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.A)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?xt._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,l.A)(function*(){if(v.persistence===g)return;const b=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,b?v.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,b="authUser"){return(0,l.A)(function*(){if(!v.length)return new Vr(qn(gi),g,b);const z=(yield Promise.all(v.map(function(){var nr=(0,l.A)(function*(Ir){if(yield Ir._isAvailable())return Ir});return function(Ir){return nr.apply(this,arguments)}}()))).filter(nr=>nr);let me=z[0]||qn(gi);const ft=xr(b,g.config.apiKey,g.name);let Ut=null;for(const nr of v)try{const Ir=yield nr._get(ft);if(Ir){const hr=xt._fromJSON(g,Ir);nr!==me&&(Ut=hr),me=nr;break}}catch{}const vn=z.filter(nr=>nr._shouldAllowMigration);return me._shouldAllowMigration&&vn.length?(me=vn[0],Ut&&(yield me._set(ft,Ut.toJSON())),yield Promise.all(v.map(function(){var nr=(0,l.A)(function*(Ir){if(Ir!==me)try{yield Ir._remove(ft)}catch{}});return function(Ir){return nr.apply(this,arguments)}}())),new Vr(me,g,b)):new Vr(me,g,b)})()}}function Sn(T){const g=T.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Gi(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Wr(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ar(g))return"Blackberry";if(wi(g))return"Webos";if(kr(g))return"Safari";if((g.includes("chrome/")||Oi(g))&&!g.includes("edge/"))return"Chrome";if(Ur(g))return"Android";{const b=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Wr(T=(0,G.ZQ)()){return/firefox\//i.test(T)}function kr(T=(0,G.ZQ)()){const g=T.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Oi(T=(0,G.ZQ)()){return/crios\//i.test(T)}function Gi(T=(0,G.ZQ)()){return/iemobile/i.test(T)}function Ur(T=(0,G.ZQ)()){return/android/i.test(T)}function Ar(T=(0,G.ZQ)()){return/blackberry/i.test(T)}function wi(T=(0,G.ZQ)()){return/webos/i.test(T)}function ti(T=(0,G.ZQ)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function _e(T=(0,G.ZQ)()){return ti(T)||Ur(T)||wi(T)||Ar(T)||/windows phone/i.test(T)||Gi(T)}function ie(T,g=[]){let v;switch(T){case"Browser":v=Sn((0,G.ZQ)());break;case"Worker":v=`${Sn((0,G.ZQ)())}-${T}`;break;default:v=T}const b=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${Z.SDK_VERSION}/${b}`}class J{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const b=me=>new Promise((ft,Ut)=>{try{ft(g(me))}catch(vn){Ut(vn)}});b.onAbort=v,this.queue.push(b);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,l.A)(function*(){if(v.auth.currentUser===g)return;const b=[];try{for(const z of v.queue)yield z(g),z.onAbort&&b.push(z.onAbort)}catch(z){b.reverse();for(const me of b)try{me()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:z?.message})}})()}}function pt(){return(pt=(0,l.A)(function*(T,g={}){return De(T,"GET","/v2/passwordPolicy",Xe(T,g))})).apply(this,arguments)}class Qt{constructor(g){var v,b,z,me;const ft=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=ft.minPasswordLength)&&void 0!==v?v:6,ft.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ft.maxPasswordLength),void 0!==ft.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ft.containsLowercaseCharacter),void 0!==ft.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ft.containsUppercaseCharacter),void 0!==ft.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ft.containsNumericCharacter),void 0!==ft.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ft.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(z=null===(b=g.allowedNonAlphanumericCharacters)||void 0===b?void 0:b.join(""))&&void 0!==z?z:"",this.forceUpgradeOnSignin=null!==(me=g.forceUpgradeOnSignin)&&void 0!==me&&me,this.schemaVersion=g.schemaVersion}validatePassword(g){var v,b,z,me,ft,Ut;const vn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,vn),this.validatePasswordCharacterOptions(g,vn),vn.isValid&&(vn.isValid=null===(v=vn.meetsMinPasswordLength)||void 0===v||v),vn.isValid&&(vn.isValid=null===(b=vn.meetsMaxPasswordLength)||void 0===b||b),vn.isValid&&(vn.isValid=null===(z=vn.containsLowercaseLetter)||void 0===z||z),vn.isValid&&(vn.isValid=null===(me=vn.containsUppercaseLetter)||void 0===me||me),vn.isValid&&(vn.isValid=null===(ft=vn.containsNumericCharacter)||void 0===ft||ft),vn.isValid&&(vn.isValid=null===(Ut=vn.containsNonAlphanumericCharacter)||void 0===Ut||Ut),vn}validatePasswordLengthOptions(g,v){const b=this.customStrengthOptions.minPasswordLength,z=this.customStrengthOptions.maxPasswordLength;b&&(v.meetsMinPasswordLength=g.length>=b),z&&(v.meetsMaxPasswordLength=g.length<=z)}validatePasswordCharacterOptions(g,v){let b;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let z=0;z<g.length;z++)b=g.charAt(z),this.updatePasswordCharacterOptionsStatuses(v,b>="a"&&b<="z",b>="A"&&b<="Z",b>="0"&&b<="9",this.allowedNonAlphanumericCharacters.includes(b))}updatePasswordCharacterOptionsStatuses(g,v,b,z,me){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=b)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=me))}}class de{constructor(g,v,b,z){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=b,this.config=z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qe(this),this.idTokenSubscription=new Qe(this),this.beforeStateQueue=new J(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=z.sdkClientVersion}_initializeWithPersistence(g,v){var b=this;return v&&(this._popupRedirectResolver=qn(v)),this._initializationPromise=this.queue((0,l.A)(function*(){var z,me;if(!b._deleted&&(b.persistenceManager=yield Vr.create(b,g),!b._deleted)){if(null!==(z=b._popupRedirectResolver)&&void 0!==z&&z._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(v),b.lastNotifiedUid=(null===(me=b.currentUser)||void 0===me?void 0:me.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.A)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(g){var v=this;return(0,l.A)(function*(){try{const b=yield Nr(v,{idToken:g}),z=yield xt._fromGetAccountInfoResponse(v,b,g);yield v.directlySetCurrentUser(z)}catch(b){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",b),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(g){var v=this;return(0,l.A)(function*(){var b;if((0,Z._isFirebaseServerApp)(v.app)){const Ut=v.app.settings.authIdToken;return Ut?new Promise(vn=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Ut).then(vn,vn))}):v.directlySetCurrentUser(null)}const z=yield v.assertedPersistence.getCurrentUser();let me=z,ft=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Ut=null===(b=v.redirectUser)||void 0===b?void 0:b._redirectEventId,vn=me?._redirectEventId,nr=yield v.tryRedirectSignIn(g);(!Ut||Ut===vn)&&nr?.user&&(me=nr.user,ft=!0)}if(!me)return v.directlySetCurrentUser(null);if(!me._redirectEventId){if(ft)try{yield v.beforeStateQueue.runMiddleware(me)}catch(Ut){me=z,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Ut))}return me?v.reloadAndSetCurrentUserOrClear(me):v.directlySetCurrentUser(null)}return We(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===me._redirectEventId?v.directlySetCurrentUser(me):v.reloadAndSetCurrentUserOrClear(me)})()}tryRedirectSignIn(g){var v=this;return(0,l.A)(function*(){let b=null;try{b=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,l.A)(function*(){try{yield ci(g)}catch(b){if("auth/network-request-failed"!==b?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Se(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var g=this;return(0,l.A)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,l.A)(function*(){if((0,Z._isFirebaseServerApp)(v.app))return Promise.reject(Ze(v));const b=g?(0,G.Ku)(g):null;return b&&We(b.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(b&&b._clone(v))})()}_updateCurrentUser(g,v=!1){var b=this;return(0,l.A)(function*(){if(!b._deleted)return g&&We(b.tenantId===g.tenantId,b,"tenant-id-mismatch"),v||(yield b.beforeStateQueue.runMiddleware(g)),b.queue((0,l.A)(function*(){yield b.directlySetCurrentUser(g),b.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.A)(function*(){return(0,Z._isFirebaseServerApp)(g.app)?Promise.reject(Ze(g)):(yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0))})()}setPersistence(g){var v=this;return(0,Z._isFirebaseServerApp)(this.app)?Promise.reject(Ze(this)):this.queue((0,l.A)(function*(){yield v.assertedPersistence.setPersistence(qn(g))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(g){var v=this;return(0,l.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const b=v._getPasswordPolicyInternal();return b.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):b.validatePassword(g)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var g=this;return(0,l.A)(function*(){const v=yield function Ve(T){return pt.apply(this,arguments)}(g),b=new Qt(v);null===g.tenantId?g._projectPasswordPolicy=b:g._tenantPasswordPolicies[g.tenantId]=b})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new G.FA("auth","Firebase",g())}onAuthStateChanged(g,v,b){return this.registerStateListener(this.authStateSubscription,g,v,b)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,b){return this.registerStateListener(this.idTokenSubscription,g,v,b)}authStateReady(){return new Promise((g,v)=>{if(this.currentUser)g();else{const b=this.onAuthStateChanged(()=>{b(),g()},v)}})}revokeAccessToken(g){var v=this;return(0,l.A)(function*(){if(v.currentUser){const b=yield v.currentUser.getIdToken(),z={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:g,idToken:b};null!=v.tenantId&&(z.tenantId=v.tenantId),yield function Ge(T,g){return $e.apply(this,arguments)}(v,z)}})()}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var b=this;return(0,l.A)(function*(){const z=yield b.getOrInitRedirectPersistenceManager(v);return null===g?z.removeCurrentUser():z.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,l.A)(function*(){if(!v.redirectPersistenceManager){const b=g&&qn(g)||v._popupRedirectResolver;We(b,v,"argument-error"),v.redirectPersistenceManager=yield Vr.create(v,[qn(b._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,l.A)(function*(){var b,z;return v._isInitialized&&(yield v.queue((0,l.A)(function*(){}))),(null===(b=v._currentUser)||void 0===b?void 0:b._redirectEventId)===g?v._currentUser:(null===(z=v.redirectUser)||void 0===z?void 0:z._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,l.A)(function*(){if(g===v.currentUser)return v.queue((0,l.A)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,b,z){if(this._deleted)return()=>{};const me="function"==typeof v?v:v.next.bind(v);let ft=!1;const Ut=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(Ut,this,"internal-error"),Ut.then(()=>{ft||me(this.currentUser)}),"function"==typeof v){const vn=g.addObserver(v,b,z);return()=>{ft=!0,vn()}}{const vn=g.addObserver(v);return()=>{ft=!0,vn()}}}directlySetCurrentUser(g){var v=this;return(0,l.A)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.A)(function*(){var v;const b={"X-Client-Version":g.clientVersion};g.app.options.appId&&(b["X-Firebase-gmpid"]=g.app.options.appId);const z=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();z&&(b["X-Firebase-Client"]=z);const me=yield g._getAppCheckToken();return me&&(b["X-Firebase-AppCheck"]=me),b})()}_getAppCheckToken(){var g=this;return(0,l.A)(function*(){var v;const b=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return b?.error&&function Pt(T,...g){At.logLevel<=Re.$b.WARN&&At.warn(`Auth (${Z.SDK_VERSION}): ${T}`,...g)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function Ue(T){return(0,G.Ku)(T)}class Qe{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,G.tD)(v=>this.observer=v)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wt={loadJS:()=>(0,l.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Et(T){return Wt.loadJS(T)}function En(T){return`__${T}${Math.floor(1e6*Math.random())}`}class Tn{constructor(g){this.type="recaptcha-enterprise",this.auth=Ue(g)}verify(g="verify",v=!1){var b=this;return(0,l.A)(function*(){function me(){return me=(0,l.A)(function*(Ut){if(!v){if(null==Ut.tenantId&&null!=Ut._agentRecaptchaConfig)return Ut._agentRecaptchaConfig.siteKey;if(null!=Ut.tenantId&&void 0!==Ut._tenantRecaptchaConfigs[Ut.tenantId])return Ut._tenantRecaptchaConfigs[Ut.tenantId].siteKey}return new Promise(function(){var vn=(0,l.A)(function*(nr,Ir){Ht(Ut,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(hr=>{if(void 0!==hr.recaptchaKey){const ds=new Xn(hr);return null==Ut.tenantId?Ut._agentRecaptchaConfig=ds:Ut._tenantRecaptchaConfigs[Ut.tenantId]=ds,nr(ds.siteKey)}Ir(new Error("recaptcha Enterprise site key undefined"))}).catch(hr=>{Ir(hr)})});return function(nr,Ir){return vn.apply(this,arguments)}}())}),me.apply(this,arguments)}function ft(Ut,vn,nr){const Ir=window.grecaptcha;Un(Ir)?Ir.enterprise.ready(()=>{Ir.enterprise.execute(Ut,{action:g}).then(hr=>{vn(hr)}).catch(()=>{vn("NO_RECAPTCHA")})}):nr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ut,vn)=>{(function z(Ut){return me.apply(this,arguments)})(b.auth).then(nr=>{if(!v&&Un(window.grecaptcha))ft(nr,Ut,vn);else{if(typeof window>"u")return void vn(new Error("RecaptchaVerifier is only supported in browser"));let Ir=function Qn(){return Wt.recaptchaEnterpriseScript}();0!==Ir.length&&(Ir+=nr),Et(Ir).then(()=>{ft(nr,Ut,vn)}).catch(hr=>{vn(hr)})}}).catch(nr=>{vn(nr)})})})()}}function Lt(T,g,v){return on.apply(this,arguments)}function on(){return(on=(0,l.A)(function*(T,g,v,b=!1){const z=new Tn(T);let me;try{me=yield z.verify(v)}catch{me=yield z.verify(v,!0)}const ft=Object.assign({},g);return Object.assign(ft,b?{captchaResp:me}:{captchaResponse:me}),Object.assign(ft,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ft,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ft})).apply(this,arguments)}function ar(T,g,v,b){return oi.apply(this,arguments)}function oi(){return oi=(0,l.A)(function*(T,g,v,b){var z;if(null!==(z=T._getRecaptchaConfig())&&void 0!==z&&z.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const me=yield Lt(T,g,v,"getOobCode"===v);return b(T,me)}return b(T,g).catch(function(){var me=(0,l.A)(function*(ft){if("auth/missing-recaptcha-token"===ft.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ut=yield Lt(T,g,v,"getOobCode"===v);return b(T,Ut)}return Promise.reject(ft)});return function(ft){return me.apply(this,arguments)}}())}),oi.apply(this,arguments)}function wn(T){const g=T.indexOf(":");return g<0?"":T.substr(0,g+1)}function er(T){if(!T)return null;const g=Number(T);return isNaN(g)?null:g}class Pn{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return bt("not implemented")}_getIdTokenResponse(g){return bt("not implemented")}_linkToIdToken(g,v){return bt("not implemented")}_getReauthenticationResolver(g){return bt("not implemented")}}function tr(T,g){return Br.apply(this,arguments)}function Br(){return(Br=(0,l.A)(function*(T,g){return De(T,"POST","/v1/accounts:resetPassword",Xe(T,g))})).apply(this,arguments)}function Ri(){return(Ri=(0,l.A)(function*(T,g){return De(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function mr(T,g){return So.apply(this,arguments)}function So(){return(So=(0,l.A)(function*(T,g){return De(T,"POST","/v1/accounts:signUp",g)})).apply(this,arguments)}function zr(){return(zr=(0,l.A)(function*(T,g){return De(T,"POST","/v1/accounts:update",Xe(T,g))})).apply(this,arguments)}function Xr(T,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.A)(function*(T,g){return Ot(T,"POST","/v1/accounts:signInWithPassword",Xe(T,g))})).apply(this,arguments)}function zi(T,g){return fs.apply(this,arguments)}function fs(){return(fs=(0,l.A)(function*(T,g){return De(T,"POST","/v1/accounts:sendOobCode",Xe(T,g))})).apply(this,arguments)}function uo(){return(uo=(0,l.A)(function*(T,g){return zi(T,g)})).apply(this,arguments)}function C(T,g){return ce.apply(this,arguments)}function ce(){return(ce=(0,l.A)(function*(T,g){return zi(T,g)})).apply(this,arguments)}function O(T,g){return S.apply(this,arguments)}function S(){return(S=(0,l.A)(function*(T,g){return zi(T,g)})).apply(this,arguments)}function Fe(){return(Fe=(0,l.A)(function*(T,g){return zi(T,g)})).apply(this,arguments)}function un(){return(un=(0,l.A)(function*(T,g){return Ot(T,"POST","/v1/accounts:signInWithEmailLink",Xe(T,g))})).apply(this,arguments)}function fn(){return(fn=(0,l.A)(function*(T,g){return Ot(T,"POST","/v1/accounts:signInWithEmailLink",Xe(T,g))})).apply(this,arguments)}class jn extends Pn{constructor(g,v,b,z=null){super("password",b),this._email=g,this._password=v,this._tenantId=z}static _fromEmailAndPassword(g,v){return new jn(g,v,"password")}static _fromEmailAndCode(g,v,b=null){return new jn(g,v,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,l.A)(function*(){switch(v.signInMethod){case"password":return ar(g,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Xr);case"emailLink":return function Zt(T,g){return un.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:Le(g,"internal-error")}})()}_linkToIdToken(g,v){var b=this;return(0,l.A)(function*(){switch(b.signInMethod){case"password":return ar(g,{idToken:v,returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mr);case"emailLink":return function gn(T,g){return fn.apply(this,arguments)}(g,{idToken:v,email:b._email,oobCode:b._password});default:Le(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function et(T,g){return On.apply(this,arguments)}function On(){return(On=(0,l.A)(function*(T,g){return Ot(T,"POST","/v1/accounts:signInWithIdp",Xe(T,g))})).apply(this,arguments)}class Gr extends Pn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new Gr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):Le("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:z}=v,me=(0,Q.Tt)(v,["providerId","signInMethod"]);if(!b||!z)return null;const ft=new Gr(b,z);return ft.idToken=me.idToken||void 0,ft.accessToken=me.accessToken||void 0,ft.secret=me.secret,ft.nonce=me.nonce,ft.pendingToken=me.pendingToken||null,ft}_getIdTokenResponse(g){return et(g,this.buildRequest())}_linkToIdToken(g,v){const b=this.buildRequest();return b.idToken=v,et(g,b)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,et(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,G.Am)(v)}return g}}function mi(){return(mi=(0,l.A)(function*(T,g){return De(T,"POST","/v1/accounts:sendVerificationCode",Xe(T,g))})).apply(this,arguments)}function Ti(){return(Ti=(0,l.A)(function*(T,g){return Ot(T,"POST","/v1/accounts:signInWithPhoneNumber",Xe(T,g))})).apply(this,arguments)}function Ei(){return(Ei=(0,l.A)(function*(T,g){const v=yield Ot(T,"POST","/v1/accounts:signInWithPhoneNumber",Xe(T,g));if(v.temporaryProof)throw Nn(T,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const ho={USER_NOT_FOUND:"user-not-found"};function Gs(){return(Gs=(0,l.A)(function*(T,g){return Ot(T,"POST","/v1/accounts:signInWithPhoneNumber",Xe(T,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ho)})).apply(this,arguments)}class qi extends Pn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new qi({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new qi({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function qr(T,g){return Ti.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function Fi(T,g){return Ei.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Sa(T,g){return Gs.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:b,verificationCode:z}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:b,code:z}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:b,phoneNumber:z,temporaryProof:me}=g;return b||v||z||me?new qi({verificationId:v,verificationCode:b,phoneNumber:z,temporaryProof:me}):null}}class ha{constructor(g){var v,b,z,me,ft,Ut;const vn=(0,G.I9)((0,G.hp)(g)),nr=null!==(v=vn.apiKey)&&void 0!==v?v:null,Ir=null!==(b=vn.oobCode)&&void 0!==b?b:null,hr=function Jo(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=vn.mode)&&void 0!==z?z:null);We(nr&&Ir&&hr,"argument-error"),this.apiKey=nr,this.operation=hr,this.code=Ir,this.continueUrl=null!==(me=vn.continueUrl)&&void 0!==me?me:null,this.languageCode=null!==(ft=vn.languageCode)&&void 0!==ft?ft:null,this.tenantId=null!==(Ut=vn.tenantId)&&void 0!==Ut?Ut:null}static parseLink(g){const v=function Zo(T){const g=(0,G.I9)((0,G.hp)(T)).link,v=g?(0,G.I9)((0,G.hp)(g)).deep_link_id:null,b=(0,G.I9)((0,G.hp)(T)).deep_link_id;return(b?(0,G.I9)((0,G.hp)(b)).link:null)||b||v||g||T}(g);try{return new ha(v)}catch{return null}}}let fa=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(v,b){return jn._fromEmailAndPassword(v,b)}static credentialWithLink(v,b){const z=ha.parseLink(b);return We(z,"argument-error"),jn._fromEmailAndCode(v,z.code,z.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class Ls{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ps extends Ls{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class pa extends Ps{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return We("providerId"in v&&"signInMethod"in v,"argument-error"),Gr._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return We(g.idToken||g.accessToken,"argument-error"),Gr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return pa.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return pa.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:b,oauthTokenSecret:z,pendingToken:me,nonce:ft,providerId:Ut}=g;if(!b&&!z&&!v&&!me||!Ut)return null;try{return new pa(Ut)._credential({idToken:v,accessToken:b,nonce:ft,pendingToken:me})}catch{return null}}}let Fs=(()=>{class T extends Ps{constructor(){super("facebook.com")}static credential(v){return Gr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),wr=(()=>{class T extends Ps{constructor(){super("google.com"),this.addScope("profile")}static credential(v,b){return Gr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:b})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:b,oauthAccessToken:z}=v;if(!b&&!z)return null;try{return T.credential(b,z)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),eo=(()=>{class T extends Ps{constructor(){super("github.com")}static credential(v){return Gr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class to extends Pn{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return et(g,this.buildRequest())}_linkToIdToken(g,v){const b=this.buildRequest();return b.idToken=v,et(g,b)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,et(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:z,pendingToken:me}=v;return b&&z&&me&&b===z?new to(b,me):null}static _create(g,v){return new to(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vs extends Ls{constructor(g){We(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Vs.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Vs.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=to.fromJSON(g);return We(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:b}=g;if(!v||!b)return null;try{return to._create(b,v)}catch{return null}}}let ps=(()=>{class T extends Ps{constructor(){super("twitter.com")}static credential(v,b){return Gr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:b})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:b,oauthTokenSecret:z}=v;if(!b||!z)return null;try{return T.credential(b,z)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Ks(T,g){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,l.A)(function*(T,g){return Ot(T,"POST","/v1/accounts:signUp",Xe(T,g))})).apply(this,arguments)}class Cs{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,b,z=!1){return(0,l.A)(function*(){const me=yield xt._fromIdTokenResponse(g,b,z),ft=Fo(b);return new Cs({user:me,providerId:ft,_tokenResponse:b,operationType:v})})()}static _forOperation(g,v,b){return(0,l.A)(function*(){yield g._updateTokensIfNecessary(b,!0);const z=Fo(b);return new Cs({user:g,providerId:z,_tokenResponse:b,operationType:v})})()}}function Fo(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function ji(){return(ji=(0,l.A)(function*(T){var g;if((0,Z._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const v=Ue(T);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new Cs({user:v.currentUser,providerId:null,operationType:"signIn"});const b=yield Ks(v,{returnSecureToken:!0}),z=yield Cs._fromIdTokenResponse(v,"signIn",b,!0);return yield v._updateCurrentUser(z.user),z})).apply(this,arguments)}class Ra extends G.g{constructor(g,v,b,z){var me;super(v.code,v.message),this.operationType=b,this.user=z,Object.setPrototypeOf(this,Ra.prototype),this.customData={appName:g.name,tenantId:null!==(me=g.tenantId)&&void 0!==me?me:void 0,_serverResponse:v.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(g,v,b,z){return new Ra(g,v,b,z)}}function Gl(T,g,v,b){return("reauthenticate"===g?v._getReauthenticationResolver(T):v._getIdTokenResponse(T)).catch(me=>{throw"auth/multi-factor-auth-required"===me.code?Ra._fromErrorAndOperation(T,me,g,b):me})}function Kl(T){return new Set(T.map(({providerId:g})=>g).filter(g=>!!g))}function Vo(){return Vo=(0,l.A)(function*(T,g){const v=(0,G.Ku)(T);yield B(!0,v,g);const{providerUserInfo:b}=yield function Jn(T,g){return Hn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),z=Kl(b||[]);return v.providerData=v.providerData.filter(me=>z.has(me.providerId)),z.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),Vo.apply(this,arguments)}function Y(T,g){return ee.apply(this,arguments)}function ee(){return(ee=(0,l.A)(function*(T,g,v=!1){const b=yield fi(T,g._linkToIdToken(T.auth,yield T.getIdToken()),v);return Cs._forOperation(T,"link",b)})).apply(this,arguments)}function B(T,g,v){return we.apply(this,arguments)}function we(){return(we=(0,l.A)(function*(T,g,v){yield ci(g);const z=!1===T?"provider-already-linked":"no-such-provider";We(Kl(g.providerData).has(v)===T,g.auth,z)})).apply(this,arguments)}function _t(T,g){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,l.A)(function*(T,g,v=!1){const{auth:b}=T;if((0,Z._isFirebaseServerApp)(b.app))return Promise.reject(Ze(b));const z="reauthenticate";try{const me=yield fi(T,Gl(b,z,g,T),v);We(me.idToken,b,"internal-error");const ft=pr(me.idToken);We(ft,b,"internal-error");const{sub:Ut}=ft;return We(T.uid===Ut,b,"user-mismatch"),Cs._forOperation(T,z,me)}catch(me){throw"auth/user-not-found"===me?.code&&Le(b,"user-mismatch"),me}})).apply(this,arguments)}function br(T,g){return yo.apply(this,arguments)}function yo(){return(yo=(0,l.A)(function*(T,g,v=!1){if((0,Z._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const b="signIn",z=yield Gl(T,b,g),me=yield Cs._fromIdTokenResponse(T,b,z);return v||(yield T._updateCurrentUser(me.user)),me})).apply(this,arguments)}function Us(T,g){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,l.A)(function*(T,g){return br(Ue(T),g)})).apply(this,arguments)}function Xl(T,g){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,l.A)(function*(T,g){const v=(0,G.Ku)(T);return yield B(!1,v,g.providerId),Y(v,g)})).apply(this,arguments)}function ea(T,g){return ws.apply(this,arguments)}function ws(){return(ws=(0,l.A)(function*(T,g){return _t((0,G.Ku)(T),g)})).apply(this,arguments)}function Ro(){return(Ro=(0,l.A)(function*(T,g){return Ot(T,"POST","/v1/accounts:signInWithCustomToken",Xe(T,g))})).apply(this,arguments)}function Ms(){return Ms=(0,l.A)(function*(T,g){if((0,Z._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const v=Ue(T),b=yield function Pi(T,g){return Ro.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),z=yield Cs._fromIdTokenResponse(v,"signIn",b);return yield v._updateCurrentUser(z.user),z}),Ms.apply(this,arguments)}class gl{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?ni._fromServerResponse(g,v):"totpInfo"in v?Yr._fromServerResponse(g,v):Le(g,"internal-error")}}class ni extends gl{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new ni(v)}}class Yr extends gl{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new Yr(v)}}function as(T,g,v){var b;We((null===(b=v.url)||void 0===b?void 0:b.length)>0,T,"invalid-continue-uri"),We(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(We(v.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(We(v.android.packageName.length>0,T,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function bs(T){return ai.apply(this,arguments)}function ai(){return(ai=(0,l.A)(function*(T){const g=Ue(T);g._getPasswordPolicyInternal()&&(yield g._updatePasswordPolicy())})).apply(this,arguments)}function ta(){return(ta=(0,l.A)(function*(T,g,v){const b=Ue(T),z={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};v&&as(b,z,v),yield ar(b,z,"getOobCode",C)})).apply(this,arguments)}function Ka(){return Ka=(0,l.A)(function*(T,g,v){yield tr((0,G.Ku)(T),{oobCode:g,newPassword:v}).catch(function(){var b=(0,l.A)(function*(z){throw"auth/password-does-not-meet-requirements"===z.code&&bs(T),z});return function(z){return b.apply(this,arguments)}}())}),Ka.apply(this,arguments)}function Ki(){return Ki=(0,l.A)(function*(T,g){yield function ur(T,g){return zr.apply(this,arguments)}((0,G.Ku)(T),{oobCode:g})}),Ki.apply(this,arguments)}function Eo(T,g){return ga.apply(this,arguments)}function ga(){return(ga=(0,l.A)(function*(T,g){const v=(0,G.Ku)(T),b=yield tr(v,{oobCode:g}),z=b.requestType;switch(We(z,v,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":We(b.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":We(b.mfaInfo,v,"internal-error");default:We(b.email,v,"internal-error")}let me=null;return b.mfaInfo&&(me=gl._fromServerResponse(Ue(v),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:me},operation:z}})).apply(this,arguments)}function $s(){return($s=(0,l.A)(function*(T,g){const{data:v}=yield Eo((0,G.Ku)(T),g);return v.email})).apply(this,arguments)}function js(){return(js=(0,l.A)(function*(T,g,v){if((0,Z._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const b=Ue(T),ft=yield ar(b,{returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ks).catch(vn=>{throw"auth/password-does-not-meet-requirements"===vn.code&&bs(T),vn}),Ut=yield Cs._fromIdTokenResponse(b,"signIn",ft);return yield b._updateCurrentUser(Ut.user),Ut})).apply(this,arguments)}function ia(){return(ia=(0,l.A)(function*(T,g,v){const b=Ue(T),z={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};(function me(ft,Ut){We(Ut.handleCodeInApp,b,"argument-error"),Ut&&as(b,ft,Ut)})(z,v),yield ar(b,z,"getOobCode",O)})).apply(this,arguments)}function ma(){return(ma=(0,l.A)(function*(T,g,v){if((0,Z._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const b=(0,G.Ku)(T),z=fa.credentialWithLink(g,v||Mt());return We(z._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Us(b,z)})).apply(this,arguments)}function Mo(){return(Mo=(0,l.A)(function*(T,g){return De(T,"POST","/v1/accounts:createAuthUri",Xe(T,g))})).apply(this,arguments)}function Qa(){return Qa=(0,l.A)(function*(T,g){const b={identifier:g,continueUri:kt()?Mt():"http://localhost"},{signinMethods:z}=yield function Dl(T,g){return Mo.apply(this,arguments)}((0,G.Ku)(T),b);return z||[]}),Qa.apply(this,arguments)}function cs(){return cs=(0,l.A)(function*(T,g){const v=(0,G.Ku)(T),z={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};g&&as(v.auth,z,g);const{email:me}=yield function Ts(T,g){return uo.apply(this,arguments)}(v.auth,z);me!==T.email&&(yield T.reload())}),cs.apply(this,arguments)}function vl(){return vl=(0,l.A)(function*(T,g,v){const b=(0,G.Ku)(T),me={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:g};v&&as(b.auth,me,v);const{email:ft}=yield function K(T,g){return Fe.apply(this,arguments)}(b.auth,me);ft!==T.email&&(yield T.reload())}),vl.apply(this,arguments)}function Hs(){return(Hs=(0,l.A)(function*(T,g){return De(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function xo(){return xo=(0,l.A)(function*(T,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const b=(0,G.Ku)(T),me={idToken:yield b.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},ft=yield fi(b,function Ji(T,g){return Hs.apply(this,arguments)}(b.auth,me));b.displayName=ft.displayName||null,b.photoURL=ft.photoUrl||null;const Ut=b.providerData.find(({providerId:vn})=>"password"===vn);Ut&&(Ut.displayName=b.displayName,Ut.photoURL=b.photoURL),yield b._updateTokensIfNecessary(ft)}),xo.apply(this,arguments)}function xa(T,g,v){return ki.apply(this,arguments)}function ki(){return ki=(0,l.A)(function*(T,g,v){const{auth:b}=T,me={idToken:yield T.getIdToken(),returnSecureToken:!0};g&&(me.email=g),v&&(me.password=v);const ft=yield fi(T,function hs(T,g){return Ri.apply(this,arguments)}(b,me));yield T._updateTokensIfNecessary(ft,!0)}),ki.apply(this,arguments)}class To{constructor(g,v,b={}){this.isNewUser=g,this.providerId=v,this.profile=b}}class Co extends To{constructor(g,v,b,z){super(g,v,b),this.username=z}}class Uo extends To{constructor(g,v){super(g,"facebook.com",v)}}class ql extends Co{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class M extends To{constructor(g,v){super(g,"google.com",v)}}class ne extends Co{constructor(g,v,b){super(g,"twitter.com",v,b)}}function $(T){const{user:g,_tokenResponse:v}=T;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function ro(T){var g,v;if(!T)return null;const{providerId:b}=T,z=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},me=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!b&&T?.idToken){const ft=null===(v=null===(g=pr(T.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(ft)return new To(me,"anonymous"!==ft&&"custom"!==ft?ft:null)}if(!b)return null;switch(b){case"facebook.com":return new Uo(me,z);case"github.com":return new ql(me,z);case"google.com":return new M(me,z);case"twitter.com":return new ne(me,z,T.screenName||null);case"custom":case"anonymous":return new To(me,null);default:return new To(me,b,z)}}(v)}class vi{constructor(g,v,b){this.type=g,this.credential=v,this.user=b}static _fromIdtoken(g,v){return new vi("enroll",g,v)}static _fromMfaPendingCredential(g){return new vi("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,b;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return vi._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(b=g.multiFactorSession)&&void 0!==b&&b.idToken)return vi._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Es{constructor(g,v,b){this.session=g,this.hints=v,this.signInResolver=b}static _fromError(g,v){const b=Ue(g),z=v.customData._serverResponse,me=(z.mfaInfo||[]).map(Ut=>gl._fromServerResponse(b,Ut));We(z.mfaPendingCredential,b,"internal-error");const ft=vi._fromMfaPendingCredential(z.mfaPendingCredential);return new Es(ft,me,function(){var Ut=(0,l.A)(function*(vn){const nr=yield vn._process(b,ft);delete z.mfaInfo,delete z.mfaPendingCredential;const Ir=Object.assign(Object.assign({},z),{idToken:nr.idToken,refreshToken:nr.refreshToken});switch(v.operationType){case"signIn":const hr=yield Cs._fromIdTokenResponse(b,v.operationType,Ir);return yield b._updateCurrentUser(hr.user),hr;case"reauthenticate":return We(v.user,b,"internal-error"),Cs._forOperation(v.user,v.operationType,Ir);default:Le(b,"internal-error")}});return function(vn){return Ut.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,l.A)(function*(){return v.signInResolver(g)})()}}class jr{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(b=>gl._fromServerResponse(g.auth,b)))})}static _fromUser(g){return new jr(g)}getSession(){var g=this;return(0,l.A)(function*(){return vi._fromIdtoken(yield g.user.getIdToken(),g.user)})()}enroll(g,v){var b=this;return(0,l.A)(function*(){const z=g,me=yield b.getSession(),ft=yield fi(b.user,z._process(b.user.auth,me,v));return yield b.user._updateTokensIfNecessary(ft),b.user.reload()})()}unenroll(g){var v=this;return(0,l.A)(function*(){const b="string"==typeof g?g:g.uid,z=yield v.user.getIdToken();try{const me=yield fi(v.user,function fo(T,g){return De(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Xe(T,g))}(v.user.auth,{idToken:z,mfaEnrollmentId:b}));v.enrolledFactors=v.enrolledFactors.filter(({uid:ft})=>ft!==b),yield v.user._updateTokensIfNecessary(me),yield v.user.reload()}catch(me){throw me}})()}}const _a=new WeakMap,po="__sak";class rs{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(po,"1"),this.storage.removeItem(po),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const go=(()=>{class T extends rs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,b)=>this.onStorageEvent(v,b),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_e(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const b of Object.keys(this.listeners)){const z=this.storage.getItem(b),me=this.localCache[b];z!==me&&v(b,me,z)}}onStorageEvent(v,b=!1){if(!v.key)return void this.forAllChangedKeys((Ut,vn,nr)=>{this.notifyListeners(Ut,nr)});const z=v.key;b?this.detachListener():this.stopPolling();const me=()=>{const Ut=this.storage.getItem(z);!b&&this.localCache[z]===Ut||this.notifyListeners(z,Ut)},ft=this.storage.getItem(z);!function ae(){return(0,G.lT)()&&10===document.documentMode}()||ft===v.newValue||v.newValue===v.oldValue?me():setTimeout(me,10)}notifyListeners(v,b){this.localCache[v]=b;const z=this.listeners[v];if(z)for(const me of Array.from(z))me(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,b,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:b,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(b)}_removeListener(v,b){this.listeners[v]&&(this.listeners[v].delete(b),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,b){var z=()=>super._set,me=this;return(0,l.A)(function*(){yield z().call(me,v,b),me.localCache[v]=JSON.stringify(b)})()}_get(v){var b=()=>super._get,z=this;return(0,l.A)(function*(){const me=yield b().call(z,v);return z.localCache[v]=JSON.stringify(me),me})()}_remove(v){var b=()=>super._remove,z=this;return(0,l.A)(function*(){yield b().call(z,v),delete z.localCache[v]})()}}return T.type="LOCAL",T})(),Xs=(()=>{class T extends rs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,b){}_removeListener(v,b){}}return T.type="SESSION",T})();let so=(()=>{class T{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const b=this.receivers.find(me=>me.isListeningto(v));if(b)return b;const z=new T(v);return this.receivers.push(z),z}isListeningto(v){return this.eventTarget===v}handleEvent(v){var b=this;return(0,l.A)(function*(){const z=v,{eventId:me,eventType:ft,data:Ut}=z.data,vn=b.handlersMap[ft];if(!vn?.size)return;z.ports[0].postMessage({status:"ack",eventId:me,eventType:ft});const nr=Array.from(vn).map(function(){var hr=(0,l.A)(function*(ds){return ds(z.origin,Ut)});return function(ds){return hr.apply(this,arguments)}}()),Ir=yield function Yl(T){return Promise.all(T.map(function(){var g=(0,l.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(b){return{fulfilled:!1,reason:b}}});return function(v){return g.apply(this,arguments)}}()))}(nr);z.ports[0].postMessage({status:"done",eventId:me,eventType:ft,response:Ir})})()}_subscribe(v,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(b)}_unsubscribe(v,b){this.handlersMap[v]&&b&&this.handlersMap[v].delete(b),(!b||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function yr(T="",g=10){let v="";for(let b=0;b<g;b++)v+=Math.floor(10*Math.random());return T+v}class Rl{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,b=50){var z=this;return(0,l.A)(function*(){const me=typeof MessageChannel<"u"?new MessageChannel:null;if(!me)throw new Error("connection_unavailable");let ft,Ut;return new Promise((vn,nr)=>{const Ir=yr("",20);me.port1.start();const hr=setTimeout(()=>{nr(new Error("unsupported_event"))},b);Ut={messageChannel:me,onMessage(ds){const Ss=ds;if(Ss.data.eventId===Ir)switch(Ss.data.status){case"ack":clearTimeout(hr),ft=setTimeout(()=>{nr(new Error("timeout"))},3e3);break;case"done":clearTimeout(ft),vn(Ss.data.response);break;default:clearTimeout(hr),clearTimeout(ft),nr(new Error("invalid_response"))}}},z.handlers.add(Ut),me.port1.addEventListener("message",Ut.onMessage),z.target.postMessage({eventType:g,eventId:Ir,data:v},[me.port2])}).finally(()=>{Ut&&z.removeMessageHandler(Ut)})})()}}function us(){return window}function Oa(){return typeof us().WorkerGlobalScope<"u"&&"function"==typeof us().importScripts}function gs(){return(gs=(0,l.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const oo="firebaseLocalStorageDb",Bo="firebaseLocalStorage",Ja="fbase_key";class ao{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ns(T,g){return T.transaction([Bo],g?"readwrite":"readonly").objectStore(Bo)}function Pl(){const T=indexedDB.open(oo,1);return new Promise((g,v)=>{T.addEventListener("error",()=>{v(T.error)}),T.addEventListener("upgradeneeded",()=>{const b=T.result;try{b.createObjectStore(Bo,{keyPath:Ja})}catch(z){v(z)}}),T.addEventListener("success",(0,l.A)(function*(){const b=T.result;b.objectStoreNames.contains(Bo)?g(b):(b.close(),yield function Zc(){const T=indexedDB.deleteDatabase(oo);return new ao(T).toPromise()}(),g(yield Pl()))}))})}function eu(T,g,v){return tu.apply(this,arguments)}function tu(){return(tu=(0,l.A)(function*(T,g,v){const b=Ns(T,!0).put({[Ja]:g,value:v});return new ao(b).toPromise()})).apply(this,arguments)}function Zl(){return(Zl=(0,l.A)(function*(T,g){const v=Ns(T,!1).get(g),b=yield new ao(v).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function ad(T,g){const v=Ns(T,!0).delete(g);return new ao(v).toPromise()}const yl=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,l.A)(function*(){return v.db||(v.db=yield Pl()),v.db})()}_withRetries(v){var b=this;return(0,l.A)(function*(){let z=0;for(;;)try{const me=yield b._openDb();return yield v(me)}catch(me){if(z++>3)throw me;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,l.A)(function*(){return Oa()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,l.A)(function*(){v.receiver=so._getInstance(function Zi(){return Oa()?self:null}()),v.receiver._subscribe("keyChanged",function(){var b=(0,l.A)(function*(z,me){return{keyProcessed:(yield v._poll()).includes(me.key)}});return function(z,me){return b.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var b=(0,l.A)(function*(z,me){return["keyChanged"]});return function(z,me){return b.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,l.A)(function*(){var b,z;if(v.activeServiceWorker=yield function Jl(){return gs.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Rl(v.activeServiceWorker);const me=yield v.sender._send("ping",{},800);me&&null!==(b=me[0])&&void 0!==b&&b.fulfilled&&null!==(z=me[0])&&void 0!==z&&z.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var b=this;return(0,l.A)(function*(){if(b.sender&&b.activeServiceWorker&&function Iu(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:v},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.A)(function*(){try{if(!indexedDB)return!1;const v=yield Pl();return yield eu(v,po,"1"),yield ad(v,po),!0}catch{}return!1})()}_withPendingWrite(v){var b=this;return(0,l.A)(function*(){b.pendingWrites++;try{yield v()}finally{b.pendingWrites--}})()}_set(v,b){var z=this;return(0,l.A)(function*(){return z._withPendingWrite((0,l.A)(function*(){return yield z._withRetries(me=>eu(me,v,b)),z.localCache[v]=b,z.notifyServiceWorker(v)}))})()}_get(v){var b=this;return(0,l.A)(function*(){const z=yield b._withRetries(me=>function si(T,g){return Zl.apply(this,arguments)}(me,v));return b.localCache[v]=z,z})()}_remove(v){var b=this;return(0,l.A)(function*(){return b._withPendingWrite((0,l.A)(function*(){return yield b._withRetries(z=>ad(z,v)),delete b.localCache[v],b.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,l.A)(function*(){const b=yield v._withRetries(ft=>{const Ut=Ns(ft,!1).getAll();return new ao(Ut).toPromise()});if(!b)return[];if(0!==v.pendingWrites)return[];const z=[],me=new Set;if(0!==b.length)for(const{fbase_key:ft,value:Ut}of b)me.add(ft),JSON.stringify(v.localCache[ft])!==JSON.stringify(Ut)&&(v.notifyListeners(ft,Ut),z.push(ft));for(const ft of Object.keys(v.localCache))v.localCache[ft]&&!me.has(ft)&&(v.notifyListeners(ft,null),z.push(ft));return z})()}notifyListeners(v,b){this.localCache[v]=b;const z=this.listeners[v];if(z)for(const me of Array.from(z))me(b)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,l.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(b)}_removeListener(v,b){this.listeners[v]&&(this.listeners[v].delete(b),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),te=1e12;class Ce{constructor(g){this.auth=g,this.counter=te,this._widgets=new Map}render(g,v){const b=this.counter;return this._widgets.set(b,new Je(g,this.auth.name,v||{})),this.counter++,b}reset(g){var v;const b=g||te;null===(v=this._widgets.get(b))||void 0===v||v.delete(),this._widgets.delete(b)}getResponse(g){var v;return(null===(v=this._widgets.get(g||te))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,l.A)(function*(){var b;return null===(b=v._widgets.get(g||te))||void 0===b||b.execute(),""})()}}class Je{constructor(g,v,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof g?document.getElementById(g):g;We(z,"argument-error",{appName:v}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function en(T){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<T;b++)g.push(v.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vt=En("rcb"),zn=new Ie(3e4,6e4);class Fr{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=us().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return We(function li(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&xn(us().grecaptcha)?Promise.resolve(us().grecaptcha):new Promise((b,z)=>{const me=us().setTimeout(()=>{z(at(g,"network-request-failed"))},zn.get());us()[Vt]=()=>{us().clearTimeout(me),delete us()[Vt];const Ut=us().grecaptcha;if(!Ut||!xn(Ut))return void z(at(g,"internal-error"));const vn=Ut.render;Ut.render=(nr,Ir)=>{const hr=vn(nr,Ir);return this.counter++,hr},this.hostLanguage=v,b(Ut)},Et(`${function _n(){return Wt.recaptchaV2Script}()}?${(0,G.Am)({onload:Vt,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(me),z(at(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=us().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ls{load(g){return(0,l.A)(function*(){return new Ce(g)})()}clearedOneInstance(){}}const Mi="recaptcha",ms={theme:"light",type:"image"};class $o{constructor(g,v,b=Object.assign({},ms)){this.parameters=b,this.type=Mi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ue(g),this.isInvisible="invisible"===this.parameters.size,We(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof v?document.getElementById(v):v;We(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ls:new Fr,this.validateStartingState()}verify(){var g=this;return(0,l.A)(function*(){g.assertNotDestroyed();const v=yield g.render(),b=g.getAssertedRecaptcha();return b.getResponse(v)||new Promise(me=>{const ft=Ut=>{Ut&&(g.tokenChangeListeners.delete(ft),me(Ut))};g.tokenChangeListeners.add(ft),g.isInvisible&&b.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){We(!this.parameters.sitekey,this.auth,"argument-error"),We(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),We(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(b=>b(v)),"function"==typeof g)g(v);else if("string"==typeof g){const b=us()[g];"function"==typeof b&&b(v)}}}assertNotDestroyed(){We(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.A)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const b=document.createElement("div");v.appendChild(b),v=b}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.A)(function*(){We(kt()&&!Oa(),g.auth,"internal-error"),yield function sa(){let T=null;return new Promise(g=>{"complete"!==document.readyState?(T=()=>g(),window.addEventListener("load",T)):g()}).catch(g=>{throw T&&window.removeEventListener("load",T),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function mt(T){return Gt.apply(this,arguments)}(g.auth);We(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return We(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Za{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=qi._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function Ml(){return(Ml=(0,l.A)(function*(T,g,v){if((0,Z._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const b=Ue(T),z=yield Il(b,g,(0,G.Ku)(v));return new Za(z,me=>Us(b,me))})).apply(this,arguments)}function tl(){return(tl=(0,l.A)(function*(T,g,v){const b=(0,G.Ku)(T);yield B(!1,b,"phone");const z=yield Il(b.auth,g,(0,G.Ku)(v));return new Za(z,me=>Xl(b,me))})).apply(this,arguments)}function oa(){return(oa=(0,l.A)(function*(T,g,v){const b=(0,G.Ku)(T);if((0,Z._isFirebaseServerApp)(b.auth.app))return Promise.reject(Ze(b.auth));const z=yield Il(b.auth,g,(0,G.Ku)(v));return new Za(z,me=>ea(b,me))})).apply(this,arguments)}function Il(T,g,v){return tc.apply(this,arguments)}function tc(){return tc=(0,l.A)(function*(T,g,v){var b;const z=yield v.verify();try{let me;if(We("string"==typeof z,T,"argument-error"),We(v.type===Mi,T,"argument-error"),me="string"==typeof g?{phoneNumber:g}:g,"session"in me){const ft=me.session;if("phoneNumber"in me)return We("enroll"===ft.type,T,"internal-error"),(yield function xs(T,g){return De(T,"POST","/v2/accounts/mfaEnrollment:start",Xe(T,g))}(T,{idToken:ft.credential,phoneEnrollmentInfo:{phoneNumber:me.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{We("signin"===ft.type,T,"internal-error");const Ut=(null===(b=me.multiFactorHint)||void 0===b?void 0:b.uid)||me.multiFactorUid;return We(Ut,T,"missing-multi-factor-info"),(yield function Uh(T,g){return De(T,"POST","/v2/accounts/mfaSignIn:start",Xe(T,g))}(T,{mfaPendingCredential:ft.credential,mfaEnrollmentId:Ut,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ft}=yield function Li(T,g){return mi.apply(this,arguments)}(T,{phoneNumber:me.phoneNumber,recaptchaToken:z});return ft}}finally{v._reset()}}),tc.apply(this,arguments)}function xl(){return(xl=(0,l.A)(function*(T,g){const v=(0,G.Ku)(T);if((0,Z._isFirebaseServerApp)(v.auth.app))return Promise.reject(Ze(v.auth));yield Y(v,g)})).apply(this,arguments)}let ya=(()=>{class T{constructor(v){this.providerId=T.PROVIDER_ID,this.auth=Ue(v)}verifyPhoneNumber(v,b){return Il(this.auth,v,(0,G.Ku)(b))}static credential(v,b){return qi._fromVerification(v,b)}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:b,temporaryProof:z}=v;return b&&z?qi._fromTokenResponse(b,z):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function Ds(T,g){return g?qn(g):(We(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class Nl extends Pn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return et(g,this._buildIdpRequest())}_linkToIdToken(g,v){return et(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return et(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function nu(T){return br(T.auth,new Nl(T),T.bypassAuthState)}function Ac(T){const{auth:g,user:v}=T;return We(v,g,"internal-error"),_t(v,new Nl(T),T.bypassAuthState)}function Xi(T){return Si.apply(this,arguments)}function Si(){return(Si=(0,l.A)(function*(T){const{auth:g,user:v}=T;return We(v,g,"internal-error"),Y(v,new Nl(T),T.bypassAuthState)})).apply(this,arguments)}class Dc{constructor(g,v,b,z,me=!1){this.auth=g,this.resolver=b,this.user=z,this.bypassAuthState=me,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,l.A)(function*(b,z){g.pendingPromise={resolve:b,reject:z};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(me){g.reject(me)}});return function(b,z){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,l.A)(function*(){const{urlResponse:b,sessionId:z,postBody:me,tenantId:ft,error:Ut,type:vn}=g;if(Ut)return void v.reject(Ut);const nr={auth:v.auth,requestUri:b,sessionId:z,tenantId:ft||void 0,postBody:me||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(vn)(nr))}catch(Ir){v.reject(Ir)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return nu;case"linkViaPopup":case"linkViaRedirect":return Xi;case"reauthViaPopup":case"reauthViaRedirect":return Ac;default:Le(this.auth,"internal-error")}}resolve(g){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bh=new Ie(2e3,1e4);function Tu(){return(Tu=(0,l.A)(function*(T,g,v){if((0,Z._isFirebaseServerApp)(T.app))return Promise.reject(at(T,"operation-not-supported-in-this-environment"));const b=Ue(T);Dt(T,g,Ls);const z=Ds(b,v);return new ka(b,"signInViaPopup",g,z).executeNotNull()})).apply(this,arguments)}function ru(){return(ru=(0,l.A)(function*(T,g,v){const b=(0,G.Ku)(T);if((0,Z._isFirebaseServerApp)(b.auth.app))return Promise.reject(at(b.auth,"operation-not-supported-in-this-environment"));Dt(b.auth,g,Ls);const z=Ds(b.auth,v);return new ka(b.auth,"reauthViaPopup",g,z,b).executeNotNull()})).apply(this,arguments)}function Ol(){return(Ol=(0,l.A)(function*(T,g,v){const b=(0,G.Ku)(T);Dt(b.auth,g,Ls);const z=Ds(b.auth,v);return new ka(b.auth,"linkViaPopup",g,z,b).executeNotNull()})).apply(this,arguments)}let ka=(()=>{class T extends Dc{constructor(v,b,z,me,ft){super(v,b,me,ft),this.provider=z,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var v=this;return(0,l.A)(function*(){const b=yield v.execute();return We(b,v.auth,"internal-error"),b})()}onExecution(){var v=this;return(0,l.A)(function*(){ze(1===v.filter.length,"Popup operations only handle one event");const b=yr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],b),v.authWindow.associatedEvent=b,v.resolver._originValidation(v.auth).catch(z=>{v.reject(z)}),v.resolver._isIframeWebStorageSupported(v.auth,z=>{z||v.reject(at(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(at(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const v=()=>{var b,z;this.pollId=null!==(z=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==z&&z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(at(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Bh.get())};v()}}return T.currentPopupAction=null,T})();const nl="pendingRedirect",wo=new Map;class aa extends Dc{constructor(g,v,b=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,b),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,l.A)(function*(){let b=wo.get(v.auth._key());if(!b){try{const me=(yield function ei(T,g){return Rc.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;b=()=>Promise.resolve(me)}catch(z){b=()=>Promise.reject(z)}wo.set(v.auth._key(),b)}return v.bypassAuthState||wo.set(v.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,b=this;return(0,l.A)(function*(){if("signInViaRedirect"===g.type)return v().call(b,g);if("unknown"!==g.type){if(g.eventId){const z=yield b.auth._redirectUserForId(g.eventId);if(z)return b.user=z,v().call(b,g);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.A)(function*(){})()}cleanUp(){}}function Rc(){return(Rc=(0,l.A)(function*(T,g){const v=jh(g),b=ld(T);if(!(yield b._isAvailable()))return!1;const z="true"===(yield b._get(v));return yield b._remove(v),z})).apply(this,arguments)}function kl(T,g){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,l.A)(function*(T,g){return ld(T)._set(jh(g),"true")})).apply(this,arguments)}function nc(T,g){wo.set(T._key(),g)}function ld(T){return qn(T._redirectPersistence)}function jh(T){return xr(nl,T.config.apiKey,T.name)}function Hh(T,g,v){return function Pc(T,g,v){return Mc.apply(this,arguments)}(T,g,v)}function Mc(){return(Mc=(0,l.A)(function*(T,g,v){if((0,Z._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const b=Ue(T);Dt(T,g,Ls),yield b._initializationPromise;const z=Ds(b,v);return yield kl(z,b),z._openRedirect(b,g,"signInViaRedirect")})).apply(this,arguments)}function Ll(T,g,v){return function Jd(T,g,v){return Zd.apply(this,arguments)}(T,g,v)}function Zd(){return(Zd=(0,l.A)(function*(T,g,v){const b=(0,G.Ku)(T);if(Dt(b.auth,g,Ls),(0,Z._isFirebaseServerApp)(b.auth.app))return Promise.reject(Ze(b.auth));yield b.auth._initializationPromise;const z=Ds(b.auth,v);yield kl(z,b.auth);const me=yield rl(b);return z._openRedirect(b.auth,g,"reauthViaRedirect",me)})).apply(this,arguments)}function vs(T,g,v){return function ln(T,g,v){return ii.apply(this,arguments)}(T,g,v)}function ii(){return(ii=(0,l.A)(function*(T,g,v){const b=(0,G.Ku)(T);Dt(b.auth,g,Ls),yield b.auth._initializationPromise;const z=Ds(b.auth,v);yield B(!1,b,g.providerId),yield kl(z,b.auth);const me=yield rl(b);return z._openRedirect(b.auth,g,"linkViaRedirect",me)})).apply(this,arguments)}function Fl(){return(Fl=(0,l.A)(function*(T,g){return yield Ue(T)._initializationPromise,hi(T,g,!1)})).apply(this,arguments)}function hi(T,g){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,l.A)(function*(T,g,v=!1){if((0,Z._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const b=Ue(T),z=Ds(b,g),ft=yield new aa(b,z,v).execute();return ft&&!v&&(delete ft.user._redirectEventId,yield b._persistUserIfCurrent(ft.user),yield b._setRedirectUser(null,g)),ft})).apply(this,arguments)}function rl(T){return jo.apply(this,arguments)}function jo(){return(jo=(0,l.A)(function*(T){const g=yr(`${T.uid}:::`);return T._redirectEventId=g,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),g})).apply(this,arguments)}class iu{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(g,b)&&(v=!0,this.sendToConsumer(g,b),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function qf(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ud(T);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var b;if(g.error&&!ud(g)){const z=(null===(b=g.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";v.onError(at(this.auth,z))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const b=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&b}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cd(g))}saveEventToCache(g){this.cachedEventUids.add(cd(g)),this.lastProcessedEventTime=Date.now()}}function cd(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(g=>g).join("-")}function ud({type:T,error:g}){return"unknown"===T&&"auth/no-auth-event"===g?.code}function lo(T){return xc.apply(this,arguments)}function xc(){return(xc=(0,l.A)(function*(T,g={}){return De(T,"GET","/v1/projects",g)})).apply(this,arguments)}const Wh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bo=/^https?/;function wu(){return(wu=(0,l.A)(function*(T){if(T.config.emulator)return;const{authorizedDomains:g}=yield lo(T);for(const v of g)try{if(Fa(v))return}catch{}Le(T,"unauthorized-domain")})).apply(this,arguments)}function Fa(T){const g=Mt(),{protocol:v,hostname:b}=new URL(g);if(T.startsWith("chrome-extension://")){const ft=new URL(T);return""===ft.hostname&&""===b?"chrome-extension:"===v&&T.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&ft.hostname===b}if(!bo.test(v))return!1;if(Wh.test(T))return b===T;const z=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(b)}const Tl=new Ie(3e4,6e4);function Nc(){const T=us().___jsl;if(T?.H)for(const g of Object.keys(T.H))if(T.H[g].r=T.H[g].r||[],T.H[g].L=T.H[g].L||[],T.H[g].r=[...T.H[g].L],T.CP)for(let v=0;v<T.CP.length;v++)T.CP[v]=null}let bu=null;const Va=new Ie(5e3,15e3),il="__/auth/iframe",dd="emulator/auth/iframe",su={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cl(T){const g=T.config;We(g.authDomain,T,"auth-domain-config-required");const v=g.emulator?Me(g,dd):`https://${T.config.authDomain}/${il}`,b={apiKey:g.apiKey,appName:T.name,v:Z.SDK_VERSION},z=zh.get(T.config.apiHost);z&&(b.eid=z);const me=T._getFrameworks();return me.length&&(b.fw=me.join(",")),`${v}?${(0,G.Am)(b).slice(1)}`}function Au(){return Au=(0,l.A)(function*(T){const g=yield function Qf(T){return bu=bu||function th(T){return new Promise((g,v)=>{var b,z,me;function ft(){Nc(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Nc(),v(at(T,"network-request-failed"))},timeout:Tl.get()})}if(null!==(z=null===(b=us().gapi)||void 0===b?void 0:b.iframes)&&void 0!==z&&z.Iframe)g(gapi.iframes.getContext());else{if(null===(me=us().gapi)||void 0===me||!me.load){const Ut=En("iframefcb");return us()[Ut]=()=>{gapi.load?ft():v(at(T,"network-request-failed"))},Et(`${function Yn(){return Wt.gapiScript}()}?onload=${Ut}`).catch(vn=>v(vn))}ft()}}).catch(g=>{throw bu=null,g})}(T),bu}(T),v=us().gapi;return We(v,T,"internal-error"),g.open({where:document.body,url:Cl(T),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:su,dontclear:!0},b=>new Promise(function(){var z=(0,l.A)(function*(me,ft){yield b.restyle({setHideOnLeave:!1});const Ut=at(T,"network-request-failed"),vn=us().setTimeout(()=>{ft(Ut)},Va.get());function nr(){us().clearTimeout(vn),me(b)}b.ping(nr).then(nr,()=>{ft(Ut)})});return function(me,ft){return z.apply(this,arguments)}}()))}),Au.apply(this,arguments)}const nh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Os{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const rh="__/auth/handler",fd="emulator/auth/handler",Su=encodeURIComponent("fac");function ih(T,g,v,b,z,me){return wl.apply(this,arguments)}function wl(){return(wl=(0,l.A)(function*(T,g,v,b,z,me){We(T.config.authDomain,T,"auth-domain-config-required"),We(T.config.apiKey,T,"invalid-api-key");const ft={apiKey:T.config.apiKey,appName:T.name,authType:v,redirectUrl:b,v:Z.SDK_VERSION,eventId:z};if(g instanceof Ls){g.setDefaultLanguage(T.languageCode),ft.providerId=g.providerId||"",(0,G.Im)(g.getCustomParameters())||(ft.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Ir,hr]of Object.entries(me||{}))ft[Ir]=hr}if(g instanceof Ps){const Ir=g.getScopes().filter(hr=>""!==hr);Ir.length>0&&(ft.scopes=Ir.join(","))}T.tenantId&&(ft.tid=T.tenantId);const Ut=ft;for(const Ir of Object.keys(Ut))void 0===Ut[Ir]&&delete Ut[Ir];const vn=yield T._getAppCheckToken(),nr=vn?`#${Su}=${encodeURIComponent(vn)}`:"";return`${function sh({config:T}){return T.emulator?Me(T,fd):`https://${T.authDomain}/${rh}`}(T)}?${(0,G.Am)(Ut).slice(1)}${nr}`})).apply(this,arguments)}const ol="webStorageSupport",oh=class Wo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xs,this._completeRedirectFn=hi,this._overrideRedirectResult=nc}_openPopup(g,v,b,z){var me=this;return(0,l.A)(function*(){var ft;ze(null===(ft=me.eventManagers[g._key()])||void 0===ft?void 0:ft.manager,"_initialize() not called before _openPopup()");const Ut=yield ih(g,v,b,Mt(),z);return function Ea(T,g,v,b=500,z=600){const me=Math.max((window.screen.availHeight-z)/2,0).toString(),ft=Math.max((window.screen.availWidth-b)/2,0).toString();let Ut="";const vn=Object.assign(Object.assign({},nh),{width:b.toString(),height:z.toString(),top:me,left:ft}),nr=(0,G.ZQ)().toLowerCase();v&&(Ut=Oi(nr)?"_blank":v),Wr(nr)&&(g=g||"http://localhost",vn.scrollbars="yes");const Ir=Object.entries(vn).reduce((ds,[Ss,mc])=>`${ds}${Ss}=${mc},`,"");if(function zt(T=(0,G.ZQ)()){var g;return ti(T)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(nr)&&"_self"!==Ut)return function Ui(T,g){const v=document.createElement("a");v.href=T,v.target=g;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(b)}(g||"",Ut),new Os(null);const hr=window.open(g||"",Ut,Ir);We(hr,T,"popup-blocked");try{hr.focus()}catch{}return new Os(hr)}(g,Ut,yr())})()}_openRedirect(g,v,b,z){var me=this;return(0,l.A)(function*(){return yield me._originValidation(g),function mo(T){us().location.href=T}(yield ih(g,v,b,Mt(),z)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:z,promise:me}=this.eventManagers[v];return z?Promise.resolve(z):(ze(me,"If manager is not set, promise should be"),me)}const b=this.initAndGetManager(g);return this.eventManagers[v]={promise:b},b.catch(()=>{delete this.eventManagers[v]}),b}initAndGetManager(g){var v=this;return(0,l.A)(function*(){const b=yield function hd(T){return Au.apply(this,arguments)}(g),z=new iu(g);return b.register("authEvent",me=>(We(me?.authEvent,g,"invalid-auth-event"),{status:z.onEvent(me.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:z},v.iframes[g._key()]=b,z})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(ol,{type:ol},z=>{var me;const ft=null===(me=z?.[0])||void 0===me?void 0:me[ol];void 0!==ft&&v(!!ft),Le(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function La(T){return wu.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return _e()||kr()||ti()}};class la{constructor(g){this.factorId=g}_process(g,v,b){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,b);case"signin":return this._finalizeSignIn(g,v.credential);default:return bt("unexpected MultiFactorSessionType")}}}class sc extends la{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new sc(g)}_finalizeEnroll(g,v,b){return function Ws(T,g){return De(T,"POST","/v2/accounts/mfaEnrollment:finalize",Xe(T,g))}(g,{idToken:v,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function D(T,g){return De(T,"POST","/v2/accounts/mfaSignIn:finalize",Xe(T,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Oc=(()=>{class T{constructor(){}static assertion(v){return sc._fromCredential(v)}}return T.FACTOR_ID="phone",T})();var ca="@firebase/auth";class ah{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,l.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(b=>{g(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qs(){return window}(0,G.XA)("authIdTokenMaxAge"),function Xt(T){Wt=T}({loadJS:T=>new Promise((g,v)=>{const b=document.createElement("script");b.setAttribute("src",T),b.onload=g,b.onerror=z=>{const me=at("internal-error");me.customData=z,v(me)},b.type="text/javascript",b.charset="UTF-8",function ko(){var T,g;return null!==(g=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==g?g:document}().appendChild(b)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Mu(T){(0,Z._registerComponent)(new be.uA("auth",(g,{options:v})=>{const b=g.getProvider("app").getImmediate(),z=g.getProvider("heartbeat"),me=g.getProvider("app-check-internal"),{apiKey:ft,authDomain:Ut}=b.options;We(ft&&!ft.includes(":"),"invalid-api-key",{appName:b.name});const vn={apiKey:ft,authDomain:Ut,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ie(T)},nr=new de(b,z,me,vn);return function ct(T,g){const v=g?.persistence||[],b=(Array.isArray(v)?v:[v]).map(qn);g?.errorMap&&T._updateErrorMap(g.errorMap),T._initializeWithPersistence(b,g?.popupRedirectResolver)}(nr,v),nr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,b)=>{g.getProvider("auth-internal").initialize()})),(0,Z._registerComponent)(new be.uA("auth-internal",g=>{const v=Ue(g.getProvider("auth").getImmediate());return new ah(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Z.registerVersion)(ca,"1.7.9",function Pu(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(T)),(0,Z.registerVersion)(ca,"1.7.9","esm2017")}("Browser");function al(){return al=(0,l.A)(function*(T,g,v){var b;const{BuildInfo:z}=qs();ze(g.sessionId,"AuthEvent did not contain a session ID");const me=yield function ch(T){return vd.apply(this,arguments)}(g.sessionId),ft={};return ti()?ft.ibi=z.packageName:Ur()?ft.apn=z.packageName:Le(T,"operation-not-supported-in-this-environment"),z.displayName&&(ft.appDisplayName=z.displayName),ft.sessionId=me,ih(T,v,g.type,void 0,null!==(b=g.eventId)&&void 0!==b?b:void 0,ft)}),al.apply(this,arguments)}function lh(){return(lh=(0,l.A)(function*(T){const{BuildInfo:g}=qs(),v={};ti()?v.iosBundleId=g.packageName:Ur()?v.androidPackageName=g.packageName:Le(T,"operation-not-supported-in-this-environment"),yield lo(T,v)})).apply(this,arguments)}function au(){return(au=(0,l.A)(function*(T,g,v){const{cordova:b}=qs();let z=()=>{};try{yield new Promise((me,ft)=>{let Ut=null;function vn(){var hr;me();const ds=null===(hr=b.plugins.browsertab)||void 0===hr?void 0:hr.close;"function"==typeof ds&&ds(),"function"==typeof v?.close&&v.close()}function nr(){Ut||(Ut=window.setTimeout(()=>{ft(at(T,"redirect-cancelled-by-user"))},2e3))}function Ir(){"visible"===document?.visibilityState&&nr()}g.addPassiveListener(vn),document.addEventListener("resume",nr,!1),Ur()&&document.addEventListener("visibilitychange",Ir,!1),z=()=>{g.removePassiveListener(vn),document.removeEventListener("resume",nr,!1),document.removeEventListener("visibilitychange",Ir,!1),Ut&&window.clearTimeout(Ut)}})}finally{z()}})).apply(this,arguments)}function vd(){return(vd=(0,l.A)(function*(T){const g=function is(T){if(ze(/[0-9a-zA-Z]+/.test(T),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(T);const g=new ArrayBuffer(T.length),v=new Uint8Array(g);for(let b=0;b<T.length;b++)v[b]=T.charCodeAt(b);return v}(T),v=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(v)).map(z=>z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class cl extends iu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInitialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInitialized(),this.passiveListeners.forEach(v=>v(g)),super.onEvent(g)}initialized(){var g=this;return(0,l.A)(function*(){yield g.initPromise})()}}function Ta(T){return ul.apply(this,arguments)}function ul(){return(ul=(0,l.A)(function*(T){const g=yield ua()._get(bl(T));return g&&(yield ua()._remove(bl(T))),g})).apply(this,arguments)}function Ul(){const T=[];for(let v=0;v<20;v++){const b=Math.floor(62*Math.random());T.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(b))}return T.join("")}function ua(){return qn(go)}function bl(T){return xr("authEvent",T.config.apiKey,T.name)}function uc(T){if(!T?.includes("?"))return{};const[g,...v]=T.split("?");return(0,G.I9)(v.join("?"))}const qh=class Xh{constructor(){this._redirectPersistence=Xs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=hi,this._overrideRedirectResult=nc}_initialize(g){var v=this;return(0,l.A)(function*(){const b=g._key();let z=v.eventManagers.get(b);return z||(z=new cl(g),v.eventManagers.set(b,z),v.attachCallbackListeners(g,z)),z})()}_openPopup(g){Le(g,"operation-not-supported-in-this-environment")}_openRedirect(g,v,b,z){var me=this;return(0,l.A)(function*(){!function Vc(T){var g,v,b,z,me,ft,Ut,vn,nr,Ir;const hr=qs();We("function"==typeof(null===(g=hr?.universalLinks)||void 0===g?void 0:g.subscribe),T,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),We(typeof(null===(v=hr?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),We("function"==typeof(null===(me=null===(z=null===(b=hr?.cordova)||void 0===b?void 0:b.plugins)||void 0===z?void 0:z.browsertab)||void 0===me?void 0:me.openUrl),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),We("function"==typeof(null===(vn=null===(Ut=null===(ft=hr?.cordova)||void 0===ft?void 0:ft.plugins)||void 0===Ut?void 0:Ut.browsertab)||void 0===vn?void 0:vn.isAvailable),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),We("function"==typeof(null===(Ir=null===(nr=hr?.cordova)||void 0===nr?void 0:nr.InAppBrowser)||void 0===Ir?void 0:Ir.open),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const ft=yield me._initialize(g);yield ft.initialized(),ft.resetRedirect(),function Xf(){wo.clear()}(),yield me._originValidation(g);const Ut=function lc(T,g,v=null){return{type:g,eventId:v,urlResponse:null,sessionId:Ul(),postBody:null,tenantId:T.tenantId,error:at(T,"no-auth-event")}}(g,b,z);yield function _d(T,g){return ua()._set(bl(T),g)}(g,Ut);const vn=yield function ou(T,g,v){return al.apply(this,arguments)}(g,Ut,v),nr=yield function md(T){const{cordova:g}=qs();return new Promise(v=>{g.plugins.browsertab.isAvailable(b=>{let z=null;b?g.plugins.browsertab.openUrl(T):z=g.InAppBrowser.open(T,function $i(T=(0,G.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}()?"_blank":"_system","location=yes"),v(z)})})}(vn);return function ll(T,g,v){return au.apply(this,arguments)}(g,ft,nr)})()}_isIframeWebStorageSupported(g,v){throw new Error("Method not implemented.")}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Fc(T){return lh.apply(this,arguments)}(g)),this.originValidationPromises[v]}attachCallbackListeners(g,v){const{universalLinks:b,handleOpenURL:z,BuildInfo:me}=qs(),ft=setTimeout((0,l.A)(function*(){yield Ta(g),v.onEvent(yd())}),500),Ut=function(){var Ir=(0,l.A)(function*(hr){clearTimeout(ft);const ds=yield Ta(g);let Ss=null;ds&&hr?.url&&(Ss=function uh(T,g){var v,b;const z=function cc(T){const g=uc(T),v=g.link?decodeURIComponent(g.link):void 0,b=uc(v).link,z=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return uc(z).link||z||b||v||T}(g);if(z.includes("/__/auth/callback")){const me=uc(z),ft=me.firebaseError?function dh(T){try{return JSON.parse(T)}catch{return null}}(decodeURIComponent(me.firebaseError)):null,Ut=null===(b=null===(v=ft?.code)||void 0===v?void 0:v.split("auth/"))||void 0===b?void 0:b[1],vn=Ut?at(Ut):null;return vn?{type:T.type,eventId:T.eventId,tenantId:T.tenantId,error:vn,urlResponse:null,sessionId:null,postBody:null}:{type:T.type,eventId:T.eventId,tenantId:T.tenantId,sessionId:T.sessionId,urlResponse:z,postBody:null}}return null}(ds,hr.url)),v.onEvent(Ss||yd())});return function(ds){return Ir.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,Ut);const vn=z,nr=`${me.packageName.toLowerCase()}://`;qs().handleOpenURL=function(){var Ir=(0,l.A)(function*(hr){if(hr.toLowerCase().startsWith(nr)&&Ut({url:hr}),"function"==typeof vn)try{vn(hr)}catch(ds){console.error(ds)}});return function(hr){return Ir.apply(this,arguments)}}()}};function yd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:at("no-auth-event")}}function Uc(){var T;return(null===(T=self?.location)||void 0===T?void 0:T.protocol)||null}function fh(T=(0,G.ZQ)()){return!("file:"!==Uc()&&"ionic:"!==Uc()&&"capacitor:"!==Uc()||!T.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ed(){try{const T=self.localStorage,g=yr();if(T)return T.setItem(g,"1"),T.removeItem(g),!function ph(T=(0,G.ZQ)()){return function fc(){return(0,G.lT)()&&11===document?.documentMode}()||function Qh(T=(0,G.ZQ)()){return/Edge\/\d+/.test(T)}(T)}()||(0,G.zW)()}catch{return Bc()&&(0,G.zW)()}return!1}function Bc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Id(){return(function hh(){return"http:"===Uc()||"https:"===Uc()}()||(0,G.sr)()||fh())&&!function hc(){return(0,G.lV)()||(0,G.Ll)()}()&&Ed()&&!Bc()}function Ua(){return fh()&&typeof document<"u"}function $c(){return($c=(0,l.A)(function*(){return!!Ua()&&new Promise(T=>{const g=setTimeout(()=>{T(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),T(!0)})})})).apply(this,arguments)}const Ca={LOCAL:"local",NONE:"none",SESSION:"session"},pc=We,Yh="persistence";function Td(T){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,l.A)(function*(T){yield T._initializationPromise;const g=Js(),v=xr(Yh,T.config.apiKey,T.name);g&&g.setItem(v,T._getPersistence())})).apply(this,arguments)}function Js(){var T;try{return(null===(T=function Ys(){return typeof window<"u"?window:null}())||void 0===T?void 0:T.sessionStorage)||null}catch{return null}}const ng=We;class gc{constructor(){this.browserResolver=qn(oh),this.cordovaResolver=qn(qh),this.underlyingResolver=null,this._redirectPersistence=Xs,this._completeRedirectFn=hi,this._overrideRedirectResult=nc}_initialize(g){var v=this;return(0,l.A)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,v,b,z){var me=this;return(0,l.A)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openPopup(g,v,b,z)})()}_openRedirect(g,v,b,z){var me=this;return(0,l.A)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openRedirect(g,v,b,z)})()}_isIframeWebStorageSupported(g,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,v)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Ua()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ng(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,l.A)(function*(){if(g.underlyingResolver)return;const v=yield function Jf(){return $c.apply(this,arguments)}();g.underlyingResolver=v?g.cordovaResolver:g.browserResolver})()}}function wd(T){return T.unwrap()}function Ad(T){return Nu(T)}function Nu(T){const{_tokenResponse:g}=T instanceof G.g?T.customData:T;if(!g)return null;if(!(T instanceof G.g)&&"temporaryProof"in g&&"phoneNumber"in g)return ya.credentialFromResult(T);const v=g.providerId;if(!v||v===ve.PASSWORD)return null;let b;switch(v){case ve.GOOGLE:b=wr;break;case ve.FACEBOOK:b=Fs;break;case ve.GITHUB:b=eo;break;case ve.TWITTER:b=ps;break;default:const{oauthIdToken:z,oauthAccessToken:me,oauthTokenSecret:ft,pendingToken:Ut,nonce:vn}=g;return me||ft||z||Ut?Ut?v.startsWith("saml.")?to._create(v,Ut):Gr._fromParams({providerId:v,signInMethod:v,pendingToken:Ut,idToken:z,accessToken:me}):new pa(v).credential({idToken:z,accessToken:me,rawNonce:vn}):null}return T instanceof G.g?b.credentialFromError(T):b.credentialFromResult(T)}function Zs(T,g){return g.catch(v=>{throw v instanceof G.g&&function uu(T,g){var v;const b=null===(v=g.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new jc(T,function Hi(T,g){var v;const b=(0,G.Ku)(T),z=g;return We(g.customData.operationType,b,"argument-error"),We(null===(v=z.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,b,"argument-error"),Es._fromError(b,z)}(T,g));else if(b){const z=Nu(g),me=g;z&&(me.credential=z,me.tenantId=b.tenantId||void 0,me.email=b.email||void 0,me.phoneNumber=b.phoneNumber||void 0)}}(T,v),v}).then(v=>{const z=v.user;return{operationType:v.operationType,credential:Ad(v),additionalUserInfo:$(v),user:$l.getOrCreate(z)}})}function gh(T,g){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,l.A)(function*(T,g){const v=yield g;return{verificationId:v.verificationId,confirm:b=>Zs(T,v.confirm(b))}})).apply(this,arguments)}class jc{constructor(g,v){this.resolver=v,this.auth=function bd(T){return T.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Zs(wd(this.auth),this.resolver.resolveSignIn(g))}}class $l{constructor(g){this._delegate=g,this.multiFactor=function Ql(T){const g=(0,G.Ku)(T);return _a.has(g)||_a.set(g,jr._fromUser(g)),_a.get(g)}(g)}static getOrCreate(g){return $l.USER_MAP.has(g)||$l.USER_MAP.set(g,new $l(g)),$l.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var v=this;return(0,l.A)(function*(){return Zs(v.auth,Xl(v._delegate,g))})()}linkWithPhoneNumber(g,v){var b=this;return(0,l.A)(function*(){return gh(b.auth,function bc(T,g,v){return tl.apply(this,arguments)}(b._delegate,g,v))})()}linkWithPopup(g){var v=this;return(0,l.A)(function*(){return Zs(v.auth,function Sc(T,g,v){return Ol.apply(this,arguments)}(v._delegate,g,gc))})()}linkWithRedirect(g){var v=this;return(0,l.A)(function*(){return yield Td(Ue(v.auth)),vs(v._delegate,g,gc)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var v=this;return(0,l.A)(function*(){return Zs(v.auth,ea(v._delegate,g))})()}reauthenticateWithPhoneNumber(g,v){return gh(this.auth,function El(T,g,v){return oa.apply(this,arguments)}(this._delegate,g,v))}reauthenticateWithPopup(g){return Zs(this.auth,function $h(T,g,v){return ru.apply(this,arguments)}(this._delegate,g,gc))}reauthenticateWithRedirect(g){var v=this;return(0,l.A)(function*(){return yield Td(Ue(v.auth)),Ll(v._delegate,g,gc)})()}sendEmailVerification(g){return function va(T,g){return cs.apply(this,arguments)}(this._delegate,g)}unlink(g){var v=this;return(0,l.A)(function*(){return yield function Pa(T,g){return Vo.apply(this,arguments)}(v._delegate,g),v})()}updateEmail(g){return function Ya(T,g){const v=(0,G.Ku)(T);return(0,Z._isFirebaseServerApp)(v.auth.app)?Promise.reject(Ze(v.auth)):xa(v,g,null)}(this._delegate,g)}updatePassword(g){return function ys(T,g){return xa((0,G.Ku)(T),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Ci(T,g){return xl.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function _l(T,g){return xo.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,v){return function Io(T,g,v){return vl.apply(this,arguments)}(this._delegate,g,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$l.USER_MAP=new WeakMap;const Ou=We;let Ba=(()=>{class T{constructor(v,b){if(this.app=v,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:z}=v.options;Ou(z,"invalid-api-key",{appName:v.name}),Ou(z,"invalid-api-key",{appName:v.name});const me=typeof window<"u"?gc:void 0;this._delegate=b.initialize({options:{persistence:mh(z,v.name),popupRedirectResolver:me}}),this._delegate._updateErrorMap(nt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$l.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,b){!function qt(T,g,v){const b=Ue(T);We(b._canInitEmulator,b,"emulator-config-failed"),We(/^https?:\/\//.test(g),b,"invalid-emulator-scheme");const z=!!v?.disableWarnings,me=wn(g),{host:ft,port:Ut}=function Zn(T){const g=wn(T),v=/(\/\/)?([^?#/]+)/.exec(T.substr(g.length));if(!v)return{host:"",port:null};const b=v[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(b);if(z){const me=z[1];return{host:me,port:er(b.substr(me.length+1))}}{const[me,ft]=b.split(":");return{host:me,port:er(ft)}}}(g);b.config.emulator={url:`${me}//${ft}${null===Ut?"":`:${Ut}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:ft,port:Ut,protocol:me.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function Cr(){function T(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}(this._delegate,v,b)}applyActionCode(v){return function Jc(T,g){return Ki.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Eo(this._delegate,v)}confirmPasswordReset(v,b){return function Ma(T,g,v){return Ka.apply(this,arguments)}(this._delegate,v,b)}createUserWithEmailAndPassword(v,b){var z=this;return(0,l.A)(function*(){return Zs(z._delegate,function Xa(T,g,v){return js.apply(this,arguments)}(z._delegate,v,b))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function qa(T,g){return Qa.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function wc(T,g){const v=ha.parseLink(g);return"EMAIL_SIGNIN"===v?.operation}(0,v)}getRedirectResult(){var v=this;return(0,l.A)(function*(){Ou(Id(),v._delegate,"operation-not-supported-in-this-environment");const b=yield function eh(T,g){return Fl.apply(this,arguments)}(v._delegate,gc);return b?Zs(v._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function lu(T,g){Ue(T)._logFramework(g)}(this._delegate,v)}onAuthStateChanged(v,b,z){const{next:me,error:ft,complete:Ut}=Sd(v,b,z);return this._delegate.onAuthStateChanged(me,ft,Ut)}onIdTokenChanged(v,b,z){const{next:me,error:ft,complete:Ut}=Sd(v,b,z);return this._delegate.onIdTokenChanged(me,ft,Ut)}sendSignInLinkToEmail(v,b){return function ra(T,g,v){return ia.apply(this,arguments)}(this._delegate,v,b)}sendPasswordResetEmail(v,b){return function Po(T,g,v){return ta.apply(this,arguments)}(this._delegate,v,b||void 0)}setPersistence(v){var b=this;return(0,l.A)(function*(){let z;switch(function Zf(T,g){pc(Object.values(Ca).includes(g),T,"invalid-persistence-type"),(0,G.lV)()?pc(g!==Ca.SESSION,T,"unsupported-persistence-type"):(0,G.Ll)()?pc(g===Ca.NONE,T,"unsupported-persistence-type"):Bc()?pc(g===Ca.NONE||g===Ca.LOCAL&&(0,G.zW)(),T,"unsupported-persistence-type"):pc(g===Ca.NONE||Ed(),T,"unsupported-persistence-type")}(b._delegate,v),v){case Ca.SESSION:z=Xs;break;case Ca.LOCAL:z=(yield qn(yl)._isAvailable())?yl:go;break;case Ca.NONE:z=gi;break;default:return Le("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(z)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Zs(this._delegate,function Yc(T){return ji.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Zs(this._delegate,Us(this._delegate,v))}signInWithCustomToken(v){return Zs(this._delegate,function Bs(T,g){return Ms.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,b){return Zs(this._delegate,function ml(T,g,v){return(0,Z._isFirebaseServerApp)(T.app)?Promise.reject(Ze(T)):Us((0,G.Ku)(T),fa.credential(g,v)).catch(function(){var b=(0,l.A)(function*(z){throw"auth/password-does-not-meet-requirements"===z.code&&bs(T),z});return function(z){return b.apply(this,arguments)}}())}(this._delegate,v,b))}signInWithEmailLink(v,b){return Zs(this._delegate,function no(T,g,v){return ma.apply(this,arguments)}(this._delegate,v,b))}signInWithPhoneNumber(v,b){return gh(this._delegate,function el(T,g,v){return Ml.apply(this,arguments)}(this._delegate,v,b))}signInWithPopup(v){var b=this;return(0,l.A)(function*(){return Ou(Id(),b._delegate,"operation-not-supported-in-this-environment"),Zs(b._delegate,function No(T,g,v){return Tu.apply(this,arguments)}(b._delegate,v,gc))})()}signInWithRedirect(v){var b=this;return(0,l.A)(function*(){return Ou(Id(),b._delegate,"operation-not-supported-in-this-environment"),yield Td(b._delegate),Hh(b._delegate,v,gc)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function na(T,g){return $s.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return T.Persistence=Ca,T})();function Sd(T,g,v){let b=T;"function"!=typeof T&&({next:b,error:g,complete:v}=T);const z=b;return{next:ft=>z(ft&&$l.getOrCreate(ft)),error:g,complete:v}}function mh(T,g){const v=function cu(T,g){const v=Js();if(!v)return[];const b=xr(Yh,T,g);switch(v.getItem(b)){case Ca.NONE:return[gi];case Ca.LOCAL:return[yl,Xs];case Ca.SESSION:return[Xs];default:return[]}}(T,g);if(typeof self<"u"&&!v.includes(yl)&&v.push(yl),typeof window<"u")for(const b of[go,Xs])v.includes(b)||v.push(b);return v.includes(gi)||v.push(gi),v}class Rd{constructor(){this.providerId="phone",this._delegate=new ya(wd(U.A.auth()))}static credential(g,v){return ya.credential(g,v)}verifyPhoneNumber(g,v){return this._delegate.verifyPhoneNumber(g,v)}unwrap(){return this._delegate}}Rd.PHONE_SIGN_IN_METHOD=ya.PHONE_SIGN_IN_METHOD,Rd.PROVIDER_ID=ya.PROVIDER_ID;const ep=We;class Pd{constructor(g,v,b=U.A.app()){var z;ep(null===(z=b.options)||void 0===z?void 0:z.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new $o(b.auth(),g,v),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function du(T){T.INTERNAL.registerComponent(new be.uA("auth-compat",g=>{const v=g.getProvider("app-compat").getImmediate(),b=g.getProvider("auth");return new Ba(v,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:fa,FacebookAuthProvider:Fs,GithubAuthProvider:eo,GoogleAuthProvider:wr,OAuthProvider:pa,SAMLAuthProvider:Vs,PhoneAuthProvider:Rd,PhoneMultiFactorGenerator:Oc,RecaptchaVerifier:Pd,TwitterAuthProvider:ps,Auth:Ba,AuthCredential:Pn,Error:G.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),T.registerVersion("@firebase/auth-compat","0.5.14")}(U.A)},9417:(In,dt,N)=>{"use strict";N.d(dt,{BC:()=>Xn,Q0:()=>Ri,R_:()=>to,VZ:()=>Jo,X1:()=>Vo,YN:()=>Pa,cz:()=>He,kq:()=>ve,me:()=>nt,tU:()=>eo,vO:()=>Gn,vS:()=>tr,zX:()=>Gs});var l=N(4438),U=N(177),Z=N(8455),G=N(7468),Re=N(1413),Q=N(6354);let be=(()=>{class Y{constructor(B,we){this._renderer=B,this._elementRef=we,this.onChange=_t=>{},this.onTouched=()=>{}}setProperty(B,we){this._renderer.setProperty(this._elementRef.nativeElement,B,we)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}static{this.\u0275fac=function(we){return new(we||Y)(l.rXU(l.sFG),l.rXU(l.aKT))}}static{this.\u0275dir=l.FsC({type:Y})}}return Y})(),Ae=(()=>{class Y extends be{static{this.\u0275fac=(()=>{let B;return function(_t){return(B||(B=l.xGo(Y)))(_t||Y)}})()}static{this.\u0275dir=l.FsC({type:Y,features:[l.Vt3]})}}return Y})();const ve=new l.nKC(""),Ne={provide:ve,useExisting:(0,l.Rfq)(()=>nt),multi:!0},xe=new l.nKC("");let nt=(()=>{class Y extends be{constructor(B,we,_t){super(B,we),this._compositionMode=_t,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pe(){const Y=(0,U.QT)()?(0,U.QT)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(B){this.setProperty("value",B??"")}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}static{this.\u0275fac=function(we){return new(we||Y)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(xe,8))}}static{this.\u0275dir=l.FsC({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(we,_t){1&we&&l.bIt("input",function(br){return _t._handleInput(br.target.value)})("blur",function(){return _t.onTouched()})("compositionstart",function(){return _t._compositionStart()})("compositionend",function(br){return _t._compositionEnd(br.target.value)})},features:[l.Jv_([Ne]),l.Vt3]})}}return Y})();function yt(Y){return null==Y||("string"==typeof Y||Array.isArray(Y))&&0===Y.length}const He=new l.nKC(""),At=new l.nKC("");function ze(Y){return null}function Mt(Y){return null!=Y}function kt(Y){return(0,l.jNT)(Y)?(0,Z.H)(Y):Y}function cn(Y){let ee={};return Y.forEach(B=>{ee=null!=B?{...ee,...B}:ee}),0===Object.keys(ee).length?null:ee}function qe(Y,ee){return ee.map(B=>B(Y))}function Ie(Y){return Y.map(ee=>function Se(Y){return!Y.validate}(ee)?ee:B=>ee.validate(B))}function le(Y){return null!=Y?function Me(Y){if(!Y)return null;const ee=Y.filter(Mt);return 0==ee.length?null:function(B){return cn(qe(B,ee))}}(Ie(Y)):null}function ot(Y){return null!=Y?function Pe(Y){if(!Y)return null;const ee=Y.filter(Mt);return 0==ee.length?null:function(B){const we=qe(B,ee).map(kt);return(0,G.p)(we).pipe((0,Q.T)(cn))}}(Ie(Y)):null}function Xe(Y,ee){return null===Y?[ee]:Array.isArray(Y)?[...Y,ee]:[Y,ee]}function fe(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function st(Y,ee){return Array.isArray(Y)?Y.includes(ee):Y===ee}function Ot(Y,ee){const B=fe(ee);return fe(Y).forEach(_t=>{st(B,_t)||B.push(_t)}),B}function Nt(Y,ee){return fe(ee).filter(B=>!st(Y,B))}class hn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ee){this._rawValidators=ee||[],this._composedValidatorFn=le(this._rawValidators)}_setAsyncValidators(ee){this._rawAsyncValidators=ee||[],this._composedAsyncValidatorFn=ot(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ee){this._onDestroyCallbacks.push(ee)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ee=>ee()),this._onDestroyCallbacks=[]}reset(ee=void 0){this.control&&this.control.reset(ee)}hasError(ee,B){return!!this.control&&this.control.hasError(ee,B)}getError(ee,B){return this.control?this.control.getError(ee,B):null}}class Vn extends hn{get formDirective(){return null}get path(){return null}}class Gn extends hn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nn{constructor(ee){this._cd=ee}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Xn=(()=>{class Y extends Nn{constructor(B){super(B)}static{this.\u0275fac=function(we){return new(we||Y)(l.rXU(Gn,2))}}static{this.\u0275dir=l.FsC({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(we,_t){2&we&&l.AVh("ng-untouched",_t.isUntouched)("ng-touched",_t.isTouched)("ng-pristine",_t.isPristine)("ng-dirty",_t.isDirty)("ng-valid",_t.isValid)("ng-invalid",_t.isInvalid)("ng-pending",_t.isPending)},features:[l.Vt3]})}}return Y})();const pi="VALID",gr="INVALID",bi="PENDING",ci="DISABLED";class Ai{}class jt extends Ai{constructor(ee,B){super(),this.value=ee,this.source=B}}class ht extends Ai{constructor(ee,B){super(),this.pristine=ee,this.source=B}}class rt extends Ai{constructor(ee,B){super(),this.touched=ee,this.source=B}}class Tt extends Ai{constructor(ee,B){super(),this.status=ee,this.source=B}}function xt(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}class Jr{constructor(ee,B){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,l.EWP)(()=>this.statusReactive()),this.statusReactive=(0,l.vPA)(void 0),this._pristine=(0,l.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,l.vPA)(!0),this._touched=(0,l.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,l.vPA)(!1),this._events=new Re.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(ee),this._assignAsyncValidators(B)}get validator(){return this._composedValidatorFn}set validator(ee){this._rawValidators=this._composedValidatorFn=ee}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ee){this._rawAsyncValidators=this._composedAsyncValidatorFn=ee}get parent(){return this._parent}get status(){return(0,l.O8t)(this.statusReactive)}set status(ee){(0,l.O8t)(()=>this.statusReactive.set(ee))}get valid(){return this.status===pi}get invalid(){return this.status===gr}get pending(){return this.status==bi}get disabled(){return this.status===ci}get enabled(){return this.status!==ci}get pristine(){return(0,l.O8t)(this.pristineReactive)}set pristine(ee){(0,l.O8t)(()=>this.pristineReactive.set(ee))}get dirty(){return!this.pristine}get touched(){return(0,l.O8t)(this.touchedReactive)}set touched(ee){(0,l.O8t)(()=>this.touchedReactive.set(ee))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ee){this._assignValidators(ee)}setAsyncValidators(ee){this._assignAsyncValidators(ee)}addValidators(ee){this.setValidators(Ot(ee,this._rawValidators))}addAsyncValidators(ee){this.setAsyncValidators(Ot(ee,this._rawAsyncValidators))}removeValidators(ee){this.setValidators(Nt(ee,this._rawValidators))}removeAsyncValidators(ee){this.setAsyncValidators(Nt(ee,this._rawAsyncValidators))}hasValidator(ee){return st(this._rawValidators,ee)}hasAsyncValidator(ee){return st(this._rawAsyncValidators,ee)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ee={}){const B=!1===this.touched;this.touched=!0;const we=ee.sourceControl??this;this._parent&&!ee.onlySelf&&this._parent.markAsTouched({...ee,sourceControl:we}),B&&!1!==ee.emitEvent&&this._events.next(new rt(!0,we))}markAllAsTouched(ee={}){this.markAsTouched({onlySelf:!0,emitEvent:ee.emitEvent,sourceControl:this}),this._forEachChild(B=>B.markAllAsTouched(ee))}markAsUntouched(ee={}){const B=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const we=ee.sourceControl??this;this._forEachChild(_t=>{_t.markAsUntouched({onlySelf:!0,emitEvent:ee.emitEvent,sourceControl:we})}),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee,we),B&&!1!==ee.emitEvent&&this._events.next(new rt(!1,we))}markAsDirty(ee={}){const B=!0===this.pristine;this.pristine=!1;const we=ee.sourceControl??this;this._parent&&!ee.onlySelf&&this._parent.markAsDirty({...ee,sourceControl:we}),B&&!1!==ee.emitEvent&&this._events.next(new ht(!1,we))}markAsPristine(ee={}){const B=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const we=ee.sourceControl??this;this._forEachChild(_t=>{_t.markAsPristine({onlySelf:!0,emitEvent:ee.emitEvent})}),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee,we),B&&!1!==ee.emitEvent&&this._events.next(new ht(!0,we))}markAsPending(ee={}){this.status=bi;const B=ee.sourceControl??this;!1!==ee.emitEvent&&(this._events.next(new Tt(this.status,B)),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.markAsPending({...ee,sourceControl:B})}disable(ee={}){const B=this._parentMarkedDirty(ee.onlySelf);this.status=ci,this.errors=null,this._forEachChild(_t=>{_t.disable({...ee,onlySelf:!0})}),this._updateValue();const we=ee.sourceControl??this;!1!==ee.emitEvent&&(this._events.next(new jt(this.value,we)),this._events.next(new Tt(this.status,we)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ee,skipPristineCheck:B},this),this._onDisabledChange.forEach(_t=>_t(!0))}enable(ee={}){const B=this._parentMarkedDirty(ee.onlySelf);this.status=pi,this._forEachChild(we=>{we.enable({...ee,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent}),this._updateAncestors({...ee,skipPristineCheck:B},this),this._onDisabledChange.forEach(we=>we(!1))}_updateAncestors(ee,B){this._parent&&!ee.onlySelf&&(this._parent.updateValueAndValidity(ee),ee.skipPristineCheck||this._parent._updatePristine({},B),this._parent._updateTouched({},B))}setParent(ee){this._parent=ee}getRawValue(){return this.value}updateValueAndValidity(ee={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const we=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pi||this.status===bi)&&this._runAsyncValidator(we,ee.emitEvent)}const B=ee.sourceControl??this;!1!==ee.emitEvent&&(this._events.next(new jt(this.value,B)),this._events.next(new Tt(this.status,B)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.updateValueAndValidity({...ee,sourceControl:B})}_updateTreeValidity(ee={emitEvent:!0}){this._forEachChild(B=>B._updateTreeValidity(ee)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ci:pi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ee,B){if(this.asyncValidator){this.status=bi,this._hasOwnPendingAsyncValidator={emitEvent:!1!==B};const we=kt(this.asyncValidator(this));this._asyncValidationSubscription=we.subscribe(_t=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(_t,{emitEvent:B,shouldHaveEmitted:ee})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const ee=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,ee}return!1}setErrors(ee,B={}){this.errors=ee,this._updateControlsErrors(!1!==B.emitEvent,this,B.shouldHaveEmitted)}get(ee){let B=ee;return null==B||(Array.isArray(B)||(B=B.split(".")),0===B.length)?null:B.reduce((we,_t)=>we&&we._find(_t),this)}getError(ee,B){const we=B?this.get(B):this;return we&&we.errors?we.errors[ee]:null}hasError(ee,B){return!!this.getError(ee,B)}get root(){let ee=this;for(;ee._parent;)ee=ee._parent;return ee}_updateControlsErrors(ee,B,we){this.status=this._calculateStatus(),ee&&this.statusChanges.emit(this.status),(ee||we)&&this._events.next(new Tt(this.status,B)),this._parent&&this._parent._updateControlsErrors(ee,B,we)}_initObservables(){this.valueChanges=new l.bkB,this.statusChanges=new l.bkB}_calculateStatus(){return this._allControlsDisabled()?ci:this.errors?gr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bi)?bi:this._anyControlsHaveStatus(gr)?gr:pi}_anyControlsHaveStatus(ee){return this._anyControls(B=>B.status===ee)}_anyControlsDirty(){return this._anyControls(ee=>ee.dirty)}_anyControlsTouched(){return this._anyControls(ee=>ee.touched)}_updatePristine(ee,B){const we=!this._anyControlsDirty(),_t=this.pristine!==we;this.pristine=we,this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee,B),_t&&this._events.next(new ht(this.pristine,B))}_updateTouched(ee={},B){this.touched=this._anyControlsTouched(),this._events.next(new rt(this.touched,B)),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee,B)}_registerOnCollectionChange(ee){this._onCollectionChange=ee}_setUpdateStrategy(ee){xt(ee)&&null!=ee.updateOn&&(this._updateOn=ee.updateOn)}_parentMarkedDirty(ee){return!ee&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ee){return null}_assignValidators(ee){this._rawValidators=Array.isArray(ee)?ee.slice():ee,this._composedValidatorFn=function $e(Y){return Array.isArray(Y)?le(Y):Y||null}(this._rawValidators)}_assignAsyncValidators(ee){this._rawAsyncValidators=Array.isArray(ee)?ee.slice():ee,this._composedAsyncValidatorFn=function Jt(Y){return Array.isArray(Y)?ot(Y):Y||null}(this._rawAsyncValidators)}}const Oi=new l.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Gi}),Gi="always";function Ar(Y,ee,B=Gi){(function zt(Y,ee){const B=function De(Y){return Y._rawValidators}(Y);null!==ee.validator?Y.setValidators(Xe(B,ee.validator)):"function"==typeof B&&Y.setValidators([B]);const we=function Ct(Y){return Y._rawAsyncValidators}(Y);null!==ee.asyncValidator?Y.setAsyncValidators(Xe(we,ee.asyncValidator)):"function"==typeof we&&Y.setAsyncValidators([we]);const _t=()=>Y.updateValueAndValidity();ti(ee._rawValidators,_t),ti(ee._rawAsyncValidators,_t)})(Y,ee),ee.valueAccessor.writeValue(Y.value),(Y.disabled||"always"===B)&&ee.valueAccessor.setDisabledState?.(Y.disabled),function _e(Y,ee){ee.valueAccessor.registerOnChange(B=>{Y._pendingValue=B,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&J(Y,ee)})}(Y,ee),function Ve(Y,ee){const B=(we,_t)=>{ee.valueAccessor.writeValue(we),_t&&ee.viewToModelUpdate(we)};Y.registerOnChange(B),ee._registerOnDestroy(()=>{Y._unregisterOnChange(B)})}(Y,ee),function ie(Y,ee){ee.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&J(Y,ee),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,ee),function $i(Y,ee){if(ee.valueAccessor.setDisabledState){const B=we=>{ee.valueAccessor.setDisabledState(we)};Y.registerOnDisabledChange(B),ee._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(B)})}}(Y,ee)}function ti(Y,ee){Y.forEach(B=>{B.registerOnValidatorChange&&B.registerOnValidatorChange(ee)})}function J(Y,ee){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),ee.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function Lt(Y,ee){const B=Y.indexOf(ee);B>-1&&Y.splice(B,1)}function on(Y){return"object"==typeof Y&&null!==Y&&2===Object.keys(Y).length&&"value"in Y&&"disabled"in Y}Promise.resolve();const ar=class extends Jr{constructor(ee=null,B,we){super(function Ge(Y){return(xt(Y)?Y.validators:Y)||null}(B),function vt(Y,ee){return(xt(ee)?ee.asyncValidators:Y)||null}(we,B)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ee),this._setUpdateStrategy(B),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xt(B)&&(B.nonNullable||B.initialValueIsDefault)&&(this.defaultValue=on(ee)?ee.value:ee)}setValue(ee,B={}){this.value=this._pendingValue=ee,this._onChange.length&&!1!==B.emitModelToViewChange&&this._onChange.forEach(we=>we(this.value,!1!==B.emitViewToModelChange)),this.updateValueAndValidity(B)}patchValue(ee,B={}){this.setValue(ee,B)}reset(ee=this.defaultValue,B={}){this._applyFormState(ee),this.markAsPristine(B),this.markAsUntouched(B),this.setValue(this.value,B),this._pendingChange=!1}_updateValue(){}_anyControls(ee){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ee){this._onChange.push(ee)}_unregisterOnChange(ee){Lt(this._onChange,ee)}registerOnDisabledChange(ee){this._onDisabledChange.push(ee)}_unregisterOnDisabledChange(ee){Lt(this._onDisabledChange,ee)}_forEachChild(ee){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ee){on(ee)?(this.value=this._pendingValue=ee.value,ee.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ee}},Cr={provide:Gn,useExisting:(0,l.Rfq)(()=>tr)},Pn=Promise.resolve();let tr=(()=>{class Y extends Gn{constructor(B,we,_t,Dr,br,yo){super(),this._changeDetectorRef=br,this.callSetDisabledState=yo,this.control=new ar,this._registered=!1,this.name="",this.update=new l.bkB,this._parent=B,this._setValidators(we),this._setAsyncValidators(_t),this.valueAccessor=function Qn(Y,ee){if(!ee)return null;let B,we,_t;return Array.isArray(ee),ee.forEach(Dr=>{Dr.constructor===nt?B=Dr:function Et(Y){return Object.getPrototypeOf(Y.constructor)===Ae}(Dr)?we=Dr:_t=Dr}),_t||we||B||null}(0,Dr)}ngOnChanges(B){if(this._checkForErrors(),!this._registered||"name"in B){if(this._registered&&(this._checkName(),this.formDirective)){const we=B.name.previousValue;this.formDirective.removeControl({name:we,path:this._getPath(we)})}this._setUpControl()}"isDisabled"in B&&this._updateDisabled(B),function Xt(Y,ee){if(!Y.hasOwnProperty("model"))return!1;const B=Y.model;return!!B.isFirstChange()||!Object.is(ee,B.currentValue)}(B,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ar(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(B){Pn.then(()=>{this.control.setValue(B,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(B){const we=B.isDisabled.currentValue,_t=0!==we&&(0,l.L39)(we);Pn.then(()=>{_t&&!this.control.disabled?this.control.disable():!_t&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(B){return this._parent?function Ur(Y,ee){return[...ee.path,Y]}(B,this._parent):[B]}static{this.\u0275fac=function(we){return new(we||Y)(l.rXU(Vn,9),l.rXU(He,10),l.rXU(At,10),l.rXU(ve,10),l.rXU(l.gRc,8),l.rXU(Oi,8))}}static{this.\u0275dir=l.FsC({type:Y,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l.Jv_([Cr]),l.Vt3,l.OA$]})}}return Y})();const hs={provide:ve,useExisting:(0,l.Rfq)(()=>Ri),multi:!0};let Ri=(()=>{class Y extends Ae{writeValue(B){this.setProperty("value",B??"")}registerOnChange(B){this.onChange=we=>{B(""==we?null:parseFloat(we))}}static{this.\u0275fac=(()=>{let B;return function(_t){return(B||(B=l.xGo(Y)))(_t||Y)}})()}static{this.\u0275dir=l.FsC({type:Y,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(we,_t){1&we&&l.bIt("input",function(br){return _t.onChange(br.target.value)})("blur",function(){return _t.onTouched()})},features:[l.Jv_([hs]),l.Vt3]})}}return Y})();const zi=new l.nKC("");function Ei(Y){return"number"==typeof Y?Y:parseFloat(Y)}let ho=(()=>{class Y{constructor(){this._validator=ze}ngOnChanges(B){if(this.inputName in B){const we=this.normalizeInput(B[this.inputName].currentValue);this._enabled=this.enabled(we),this._validator=this._enabled?this.createValidator(we):ze,this._onChange&&this._onChange()}}validate(B){return this._validator(B)}registerOnValidatorChange(B){this._onChange=B}enabled(B){return null!=B}static{this.\u0275fac=function(we){return new(we||Y)}}static{this.\u0275dir=l.FsC({type:Y,features:[l.OA$]})}}return Y})();const Sa={provide:He,useExisting:(0,l.Rfq)(()=>Gs),multi:!0};let Gs=(()=>{class Y extends ho{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=B=>Ei(B),this.createValidator=B=>function at(Y){return ee=>{if(yt(ee.value)||yt(Y))return null;const B=parseFloat(ee.value);return!isNaN(B)&&B>Y?{max:{max:Y,actual:ee.value}}:null}}(B)}static{this.\u0275fac=(()=>{let B;return function(_t){return(B||(B=l.xGo(Y)))(_t||Y)}})()}static{this.\u0275dir=l.FsC({type:Y,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(we,_t){2&we&&l.BMQ("max",_t._enabled?_t.max:null)},inputs:{max:"max"},features:[l.Jv_([Sa]),l.Vt3]})}}return Y})();const qi={provide:He,useExisting:(0,l.Rfq)(()=>Jo),multi:!0};let Jo=(()=>{class Y extends ho{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=B=>Ei(B),this.createValidator=B=>function Le(Y){return ee=>{if(yt(ee.value)||yt(Y))return null;const B=parseFloat(ee.value);return!isNaN(B)&&B<Y?{min:{min:Y,actual:ee.value}}:null}}(B)}static{this.\u0275fac=(()=>{let B;return function(_t){return(B||(B=l.xGo(Y)))(_t||Y)}})()}static{this.\u0275dir=l.FsC({type:Y,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(we,_t){2&we&&l.BMQ("min",_t._enabled?_t.min:null)},inputs:{min:"min"},features:[l.Jv_([qi]),l.Vt3]})}}return Y})();const wr={provide:He,useExisting:(0,l.Rfq)(()=>eo),multi:!0};let eo=(()=>{class Y extends ho{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=B=>function Fi(Y){return"number"==typeof Y?Y:parseInt(Y,10)}(B),this.createValidator=B=>function We(Y){return ee=>function it(Y){return null!=Y&&"number"==typeof Y.length}(ee.value)&&ee.value.length>Y?{maxlength:{requiredLength:Y,actualLength:ee.value.length}}:null}(B)}static{this.\u0275fac=(()=>{let B;return function(_t){return(B||(B=l.xGo(Y)))(_t||Y)}})()}static{this.\u0275dir=l.FsC({type:Y,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(we,_t){2&we&&l.BMQ("maxlength",_t._enabled?_t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[l.Jv_([wr]),l.Vt3]})}}return Y})();const Wa={provide:He,useExisting:(0,l.Rfq)(()=>to),multi:!0};let to=(()=>{class Y extends ho{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=B=>B,this.createValidator=B=>function bt(Y){if(!Y)return ze;let ee,B;return"string"==typeof Y?(B="","^"!==Y.charAt(0)&&(B+="^"),B+=Y,"$"!==Y.charAt(Y.length-1)&&(B+="$"),ee=new RegExp(B)):(B=Y.toString(),ee=Y),we=>{if(yt(we.value))return null;const _t=we.value;return ee.test(_t)?null:{pattern:{requiredPattern:B,actualValue:_t}}}}(B)}static{this.\u0275fac=(()=>{let B;return function(_t){return(B||(B=l.xGo(Y)))(_t||Y)}})()}static{this.\u0275dir=l.FsC({type:Y,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(we,_t){2&we&&l.BMQ("pattern",_t._enabled?_t.pattern:null)},inputs:{pattern:"pattern"},features:[l.Jv_([Wa]),l.Vt3]})}}return Y})(),Ks=(()=>{class Y{static{this.\u0275fac=function(we){return new(we||Y)}}static{this.\u0275mod=l.$C({type:Y})}static{this.\u0275inj=l.G2t({})}}return Y})(),Pa=(()=>{class Y{static withConfig(B){return{ngModule:Y,providers:[{provide:Oi,useValue:B.callSetDisabledState??Gi}]}}static{this.\u0275fac=function(we){return new(we||Y)}}static{this.\u0275mod=l.$C({type:Y})}static{this.\u0275inj=l.G2t({imports:[Ks]})}}return Y})(),Vo=(()=>{class Y{static withConfig(B){return{ngModule:Y,providers:[{provide:zi,useValue:B.warnOnNgModelWithFormControl??"always"},{provide:Oi,useValue:B.callSetDisabledState??Gi}]}}static{this.\u0275fac=function(we){return new(we||Y)}}static{this.\u0275mod=l.$C({type:Y})}static{this.\u0275inj=l.G2t({imports:[Ks]})}}return Y})()},345:(In,dt,N)=>{"use strict";N.d(dt,{Bb:()=>Gn,hE:()=>Un,sG:()=>Ot});var l=N(177),U=N(4438);class Z extends l.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class G extends Z{static makeCurrent(){(0,l.ZD)(new G)}onAndCancel(ht,rt,Tt){return ht.addEventListener(rt,Tt),()=>{ht.removeEventListener(rt,Tt)}}dispatchEvent(ht,rt){ht.dispatchEvent(rt)}remove(ht){ht.remove()}createElement(ht,rt){return(rt=rt||this.getDefaultDocument()).createElement(ht)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ht){return ht.nodeType===Node.ELEMENT_NODE}isShadowRoot(ht){return ht instanceof DocumentFragment}getGlobalEventTarget(ht,rt){return"window"===rt?window:"document"===rt?ht:"body"===rt?ht.body:null}getBaseHref(ht){const rt=function Q(){return Re=Re||document.querySelector("base"),Re?Re.getAttribute("href"):null}();return null==rt?null:function be(jt){return new URL(jt,document.baseURI).pathname}(rt)}resetBaseElement(){Re=null}getUserAgent(){return window.navigator.userAgent}getCookie(ht){return(0,l._b)(document.cookie,ht)}}let Re=null,ve=(()=>{class jt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(Tt){return new(Tt||jt)}}static{this.\u0275prov=U.jDH({token:jt,factory:jt.\u0275fac})}}return jt})();const Te=new U.nKC("");let ue=(()=>{class jt{constructor(rt,Tt){this._zone=Tt,this._eventNameToPlugin=new Map,rt.forEach(dn=>{dn.manager=this}),this._plugins=rt.slice().reverse()}addEventListener(rt,Tt,dn){return this._findPluginFor(Tt).addEventListener(rt,Tt,dn)}getZone(){return this._zone}_findPluginFor(rt){let Tt=this._eventNameToPlugin.get(rt);if(Tt)return Tt;if(Tt=this._plugins.find(Bn=>Bn.supports(rt)),!Tt)throw new U.wOt(5101,!1);return this._eventNameToPlugin.set(rt,Tt),Tt}static{this.\u0275fac=function(Tt){return new(Tt||jt)(U.KVO(Te),U.KVO(U.SKi))}}static{this.\u0275prov=U.jDH({token:jt,factory:jt.\u0275fac})}}return jt})();class Ne{constructor(ht){this._doc=ht}}const pe="ng-app-id";let xe=(()=>{class jt{constructor(rt,Tt,dn,Bn={}){this.doc=rt,this.appId=Tt,this.nonce=dn,this.platformId=Bn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,l.Vy)(Bn),this.resetHostNodes()}addStyles(rt){for(const Tt of rt)1===this.changeUsageCount(Tt,1)&&this.onStyleAdded(Tt)}removeStyles(rt){for(const Tt of rt)this.changeUsageCount(Tt,-1)<=0&&this.onStyleRemoved(Tt)}ngOnDestroy(){const rt=this.styleNodesInDOM;rt&&(rt.forEach(Tt=>Tt.remove()),rt.clear());for(const Tt of this.getAllStyles())this.onStyleRemoved(Tt);this.resetHostNodes()}addHost(rt){this.hostNodes.add(rt);for(const Tt of this.getAllStyles())this.addStyleToHost(rt,Tt)}removeHost(rt){this.hostNodes.delete(rt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(rt){for(const Tt of this.hostNodes)this.addStyleToHost(Tt,rt)}onStyleRemoved(rt){const Tt=this.styleRef;Tt.get(rt)?.elements?.forEach(dn=>dn.remove()),Tt.delete(rt)}collectServerRenderedStyles(){const rt=this.doc.head?.querySelectorAll(`style[${pe}="${this.appId}"]`);if(rt?.length){const Tt=new Map;return rt.forEach(dn=>{null!=dn.textContent&&Tt.set(dn.textContent,dn)}),Tt}return null}changeUsageCount(rt,Tt){const dn=this.styleRef;if(dn.has(rt)){const Bn=dn.get(rt);return Bn.usage+=Tt,Bn.usage}return dn.set(rt,{usage:Tt,elements:[]}),Tt}getStyleElement(rt,Tt){const dn=this.styleNodesInDOM,Bn=dn?.get(Tt);if(Bn?.parentNode===rt)return dn.delete(Tt),Bn.removeAttribute(pe),Bn;{const Ge=this.doc.createElement("style");return this.nonce&&Ge.setAttribute("nonce",this.nonce),Ge.textContent=Tt,this.platformIsServer&&Ge.setAttribute(pe,this.appId),rt.appendChild(Ge),Ge}}addStyleToHost(rt,Tt){const dn=this.getStyleElement(rt,Tt),Bn=this.styleRef,Ge=Bn.get(Tt)?.elements;Ge?Ge.push(dn):Bn.set(Tt,{elements:[dn],usage:1})}resetHostNodes(){const rt=this.hostNodes;rt.clear(),rt.add(this.doc.head)}static{this.\u0275fac=function(Tt){return new(Tt||jt)(U.KVO(l.qQ),U.KVO(U.sZ2),U.KVO(U.BIS,8),U.KVO(U.Agw))}}static{this.\u0275prov=U.jDH({token:jt,factory:jt.\u0275fac})}}return jt})();const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yt=/%COMP%/g,Ke=new U.nKC("",{providedIn:"root",factory:()=>!0});function Ye(jt,ht){return ht.map(rt=>rt.replace(yt,jt))}let Ze=(()=>{class jt{constructor(rt,Tt,dn,Bn,Ge,$e,vt,Jt=null){this.eventManager=rt,this.sharedStylesHost=Tt,this.appId=dn,this.removeStylesOnCompDestroy=Bn,this.doc=Ge,this.platformId=$e,this.ngZone=vt,this.nonce=Jt,this.rendererByCompId=new Map,this.platformIsServer=(0,l.Vy)($e),this.defaultRenderer=new Dt(rt,Ge,vt,this.platformIsServer)}createRenderer(rt,Tt){if(!rt||!Tt)return this.defaultRenderer;this.platformIsServer&&Tt.encapsulation===U.gXe.ShadowDom&&(Tt={...Tt,encapsulation:U.gXe.Emulated});const dn=this.getOrCreateRenderer(rt,Tt);return dn instanceof kt?dn.applyToHost(rt):dn instanceof Mt&&dn.applyStyles(),dn}getOrCreateRenderer(rt,Tt){const dn=this.rendererByCompId;let Bn=dn.get(Tt.id);if(!Bn){const Ge=this.doc,$e=this.ngZone,vt=this.eventManager,Jt=this.sharedStylesHost,xt=this.removeStylesOnCompDestroy,Fn=this.platformIsServer;switch(Tt.encapsulation){case U.gXe.Emulated:Bn=new kt(vt,Jt,Tt,this.appId,xt,Ge,$e,Fn);break;case U.gXe.ShadowDom:return new ze(vt,Jt,rt,Tt,Ge,$e,this.nonce,Fn);default:Bn=new Mt(vt,Jt,Tt,xt,Ge,$e,Fn)}dn.set(Tt.id,Bn)}return Bn}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(Tt){return new(Tt||jt)(U.KVO(ue),U.KVO(xe),U.KVO(U.sZ2),U.KVO(Ke),U.KVO(l.qQ),U.KVO(U.Agw),U.KVO(U.SKi),U.KVO(U.BIS))}}static{this.\u0275prov=U.jDH({token:jt,factory:jt.\u0275fac})}}return jt})();class Dt{constructor(ht,rt,Tt,dn){this.eventManager=ht,this.doc=rt,this.ngZone=Tt,this.platformIsServer=dn,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(ht,rt){return rt?this.doc.createElementNS(nt[rt]||rt,ht):this.doc.createElement(ht)}createComment(ht){return this.doc.createComment(ht)}createText(ht){return this.doc.createTextNode(ht)}appendChild(ht,rt){(bt(ht)?ht.content:ht).appendChild(rt)}insertBefore(ht,rt,Tt){ht&&(bt(ht)?ht.content:ht).insertBefore(rt,Tt)}removeChild(ht,rt){rt.remove()}selectRootElement(ht,rt){let Tt="string"==typeof ht?this.doc.querySelector(ht):ht;if(!Tt)throw new U.wOt(-5104,!1);return rt||(Tt.textContent=""),Tt}parentNode(ht){return ht.parentNode}nextSibling(ht){return ht.nextSibling}setAttribute(ht,rt,Tt,dn){if(dn){rt=dn+":"+rt;const Bn=nt[dn];Bn?ht.setAttributeNS(Bn,rt,Tt):ht.setAttribute(rt,Tt)}else ht.setAttribute(rt,Tt)}removeAttribute(ht,rt,Tt){if(Tt){const dn=nt[Tt];dn?ht.removeAttributeNS(dn,rt):ht.removeAttribute(`${Tt}:${rt}`)}else ht.removeAttribute(rt)}addClass(ht,rt){ht.classList.add(rt)}removeClass(ht,rt){ht.classList.remove(rt)}setStyle(ht,rt,Tt,dn){dn&(U.czy.DashCase|U.czy.Important)?ht.style.setProperty(rt,Tt,dn&U.czy.Important?"important":""):ht.style[rt]=Tt}removeStyle(ht,rt,Tt){Tt&U.czy.DashCase?ht.style.removeProperty(rt):ht.style[rt]=""}setProperty(ht,rt,Tt){null!=ht&&(ht[rt]=Tt)}setValue(ht,rt){ht.nodeValue=rt}listen(ht,rt,Tt){if("string"==typeof ht&&!(ht=(0,l.QT)().getGlobalEventTarget(this.doc,ht)))throw new Error(`Unsupported event target ${ht} for event ${rt}`);return this.eventManager.addEventListener(ht,rt,this.decoratePreventDefault(Tt))}decoratePreventDefault(ht){return rt=>{if("__ngUnwrap__"===rt)return ht;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ht(rt)):ht(rt))&&rt.preventDefault()}}}function bt(jt){return"TEMPLATE"===jt.tagName&&void 0!==jt.content}class ze extends Dt{constructor(ht,rt,Tt,dn,Bn,Ge,$e,vt){super(ht,Bn,Ge,vt),this.sharedStylesHost=rt,this.hostEl=Tt,this.shadowRoot=Tt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Jt=Ye(dn.id,dn.styles);for(const xt of Jt){const Fn=document.createElement("style");$e&&Fn.setAttribute("nonce",$e),Fn.textContent=xt,this.shadowRoot.appendChild(Fn)}}nodeOrShadowRoot(ht){return ht===this.hostEl?this.shadowRoot:ht}appendChild(ht,rt){return super.appendChild(this.nodeOrShadowRoot(ht),rt)}insertBefore(ht,rt,Tt){return super.insertBefore(this.nodeOrShadowRoot(ht),rt,Tt)}removeChild(ht,rt){return super.removeChild(null,rt)}parentNode(ht){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ht)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Mt extends Dt{constructor(ht,rt,Tt,dn,Bn,Ge,$e,vt){super(ht,Bn,Ge,$e),this.sharedStylesHost=rt,this.removeStylesOnCompDestroy=dn,this.styles=vt?Ye(vt,Tt.styles):Tt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class kt extends Mt{constructor(ht,rt,Tt,dn,Bn,Ge,$e,vt){const Jt=dn+"-"+Tt.id;super(ht,rt,Tt,Bn,Ge,$e,vt,Jt),this.contentAttr=function Le(jt){return"_ngcontent-%COMP%".replace(yt,jt)}(Jt),this.hostAttr=function at(jt){return"_nghost-%COMP%".replace(yt,jt)}(Jt)}applyToHost(ht){this.applyStyles(),this.setAttribute(ht,this.hostAttr,"")}createElement(ht,rt){const Tt=super.createElement(ht,rt);return super.setAttribute(Tt,this.contentAttr,""),Tt}}let cn=(()=>{class jt extends Ne{constructor(rt){super(rt)}supports(rt){return!0}addEventListener(rt,Tt,dn){return rt.addEventListener(Tt,dn,!1),()=>this.removeEventListener(rt,Tt,dn)}removeEventListener(rt,Tt,dn){return rt.removeEventListener(Tt,dn)}static{this.\u0275fac=function(Tt){return new(Tt||jt)(U.KVO(l.qQ))}}static{this.\u0275prov=U.jDH({token:jt,factory:jt.\u0275fac})}}return jt})();const qe=["alt","control","meta","shift"],Se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ie={alt:jt=>jt.altKey,control:jt=>jt.ctrlKey,meta:jt=>jt.metaKey,shift:jt=>jt.shiftKey};let Me=(()=>{class jt extends Ne{constructor(rt){super(rt)}supports(rt){return null!=jt.parseEventName(rt)}addEventListener(rt,Tt,dn){const Bn=jt.parseEventName(Tt),Ge=jt.eventCallback(Bn.fullKey,dn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.QT)().onAndCancel(rt,Bn.domEventName,Ge))}static parseEventName(rt){const Tt=rt.toLowerCase().split("."),dn=Tt.shift();if(0===Tt.length||"keydown"!==dn&&"keyup"!==dn)return null;const Bn=jt._normalizeKey(Tt.pop());let Ge="",$e=Tt.indexOf("code");if($e>-1&&(Tt.splice($e,1),Ge="code."),qe.forEach(Jt=>{const xt=Tt.indexOf(Jt);xt>-1&&(Tt.splice(xt,1),Ge+=Jt+".")}),Ge+=Bn,0!=Tt.length||0===Bn.length)return null;const vt={};return vt.domEventName=dn,vt.fullKey=Ge,vt}static matchEventFullKeyCode(rt,Tt){let dn=Se[rt.key]||rt.key,Bn="";return Tt.indexOf("code.")>-1&&(dn=rt.code,Bn="code."),!(null==dn||!dn)&&(dn=dn.toLowerCase()," "===dn?dn="space":"."===dn&&(dn="dot"),qe.forEach(Ge=>{Ge!==dn&&(0,Ie[Ge])(rt)&&(Bn+=Ge+".")}),Bn+=dn,Bn===Tt)}static eventCallback(rt,Tt,dn){return Bn=>{jt.matchEventFullKeyCode(Bn,rt)&&dn.runGuarded(()=>Tt(Bn))}}static _normalizeKey(rt){return"esc"===rt?"escape":rt}static{this.\u0275fac=function(Tt){return new(Tt||jt)(U.KVO(l.qQ))}}static{this.\u0275prov=U.jDH({token:jt,factory:jt.\u0275fac})}}return jt})();const Ot=(0,U.oH4)(U.fpN,"browser",[{provide:U.Agw,useValue:l.AJ},{provide:U.PLl,useValue:function De(){G.makeCurrent()},multi:!0},{provide:l.qQ,useFactory:function fe(){return(0,U.TL$)(document),document},deps:[]}]),Nt=new U.nKC(""),hn=[{provide:U.e01,useClass:class Ae{addToWindow(ht){U.JZv.getAngularTestability=(Tt,dn=!0)=>{const Bn=ht.findTestabilityInTree(Tt,dn);if(null==Bn)throw new U.wOt(5103,!1);return Bn},U.JZv.getAllAngularTestabilities=()=>ht.getAllTestabilities(),U.JZv.getAllAngularRootElements=()=>ht.getAllRootElements(),U.JZv.frameworkStabilizers||(U.JZv.frameworkStabilizers=[]),U.JZv.frameworkStabilizers.push(Tt=>{const dn=U.JZv.getAllAngularTestabilities();let Bn=dn.length;const Ge=function(){Bn--,0==Bn&&Tt()};dn.forEach($e=>{$e.whenStable(Ge)})})}findTestabilityInTree(ht,rt,Tt){return null==rt?null:ht.getTestability(rt)??(Tt?(0,l.QT)().isShadowRoot(rt)?this.findTestabilityInTree(ht,rt.host,!0):this.findTestabilityInTree(ht,rt.parentElement,!0):null)}},deps:[]},{provide:U.WHO,useClass:U.NYb,deps:[U.SKi,U.giA,U.e01]},{provide:U.NYb,useClass:U.NYb,deps:[U.SKi,U.giA,U.e01]}],Vn=[{provide:U.H8p,useValue:"root"},{provide:U.zcH,useFactory:function Ct(){return new U.zcH},deps:[]},{provide:Te,useClass:cn,multi:!0,deps:[l.qQ,U.SKi,U.Agw]},{provide:Te,useClass:Me,multi:!0,deps:[l.qQ]},Ze,xe,ue,{provide:U._9s,useExisting:Ze},{provide:l.N0,useClass:ve,deps:[]},[]];let Gn=(()=>{class jt{constructor(rt){}static withServerTransition(rt){return{ngModule:jt,providers:[{provide:U.sZ2,useValue:rt.appId}]}}static{this.\u0275fac=function(Tt){return new(Tt||jt)(U.KVO(Nt,12))}}static{this.\u0275mod=U.$C({type:jt})}static{this.\u0275inj=U.G2t({providers:[...Vn,...hn],imports:[l.MD,U.Hbi]})}}return jt})(),Un=(()=>{class jt{constructor(rt){this._doc=rt}getTitle(){return this._doc.title}setTitle(rt){this._doc.title=rt||""}static{this.\u0275fac=function(Tt){return new(Tt||jt)(U.KVO(l.qQ))}}static{this.\u0275prov=U.jDH({token:jt,factory:jt.\u0275fac,providedIn:"root"})}}return jt})()},6822:(In,dt,N)=>{"use strict";N.d(dt,{nX:()=>fn,Zp:()=>C,wF:()=>Qn,Z:()=>_n,Xk:()=>st,Kp:()=>Yi,b:()=>sn,Ix:()=>sr,Wk:()=>Hi,iI:()=>ao,n3:()=>Ti,Sd:()=>_r});var l=N(4438),U=N(4402),Z=N(8455),G=N(7673),Re=N(4412),Q=N(4572),be=N(9350),Ae=N(8793),ve=N(9030),Te=N(1203),ue=N(1985),Ne=N(8071);function pe(D,L){const R=(0,Ne.T)(D)?D:()=>D,F=te=>te.error(R());return new ue.c(L?te=>L.schedule(F,0,te):F)}var xe=N(983),nt=N(8359),yt=N(9974),it=N(4360);function He(){return(0,yt.N)((D,L)=>{let R=null;D._refCount++;const F=(0,it._)(L,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(R=null);const te=D._connection,Ce=R;R=null,te&&(!Ce||te===Ce)&&te.unsubscribe(),L.unsubscribe()});D.subscribe(F),F.closed||(R=D.connect())})}class At extends ue.c{constructor(L,R){super(),this.source=L,this.subjectFactory=R,this._subject=null,this._refCount=0,this._connection=null,(0,yt.S)(L)&&(this.lift=L.lift)}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:L}=this;this._subject=this._connection=null,L?.unsubscribe()}connect(){let L=this._connection;if(!L){L=this._connection=new nt.yU;const R=this.getSubject();L.add(this.source.subscribe((0,it._)(R,void 0,()=>{this._teardown(),R.complete()},F=>{this._teardown(),R.error(F)},()=>this._teardown()))),L.closed&&(this._connection=null,L=nt.yU.EMPTY)}return L}refCount(){return He()(this)}}var Pt=N(1413),Ke=N(177),Le=N(6354),at=N(5558),Ye=N(6697),Ze=N(9172),Dt=N(5964),H=N(1397),We=N(1594),bt=N(274),ze=N(8141),Mt=N(8750);function kt(D){return(0,yt.N)((L,R)=>{let Ce,F=null,te=!1;F=L.subscribe((0,it._)(R,void 0,void 0,Je=>{Ce=(0,Mt.Tg)(D(Je,kt(D)(L))),F?(F.unsubscribe(),F=null,Ce.subscribe(R)):te=!0})),te&&(F.unsubscribe(),F=null,Ce.subscribe(R))})}var cn=N(2816),qe=N(9901);function Se(D){return D<=0?()=>xe.w:(0,yt.N)((L,R)=>{let F=[];L.subscribe((0,it._)(R,te=>{F.push(te),D<F.length&&F.shift()},()=>{for(const te of F)R.next(te);R.complete()},void 0,()=>{F=null}))})}var Ie=N(3774),Me=N(3669),ot=N(980),Xe=N(5343),Ct=N(6365),fe=N(345);const st="primary",Ot=Symbol("RouteTitle");class Nt{constructor(L){this.params=L||{}}has(L){return Object.prototype.hasOwnProperty.call(this.params,L)}get(L){if(this.has(L)){const R=this.params[L];return Array.isArray(R)?R[0]:R}return null}getAll(L){if(this.has(L)){const R=this.params[L];return Array.isArray(R)?R:[R]}return[]}get keys(){return Object.keys(this.params)}}function hn(D){return new Nt(D)}function Vn(D,L,R){const F=R.path.split("/");if(F.length>D.length||"full"===R.pathMatch&&(L.hasChildren()||F.length<D.length))return null;const te={};for(let Ce=0;Ce<F.length;Ce++){const Je=F[Ce],en=D[Ce];if(":"===Je[0])te[Je.substring(1)]=en;else if(Je!==en.path)return null}return{consumed:D.slice(0,F.length),posParams:te}}function Nn(D,L){const R=D?xn(D):void 0,F=L?xn(L):void 0;if(!R||!F||R.length!=F.length)return!1;let te;for(let Ce=0;Ce<R.length;Ce++)if(te=R[Ce],!Un(D[te],L[te]))return!1;return!0}function xn(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}function Un(D,L){if(Array.isArray(D)&&Array.isArray(L)){if(D.length!==L.length)return!1;const R=[...D].sort(),F=[...L].sort();return R.every((te,Ce)=>F[Ce]===te)}return D===L}function Xn(D){return D.length>0?D[D.length-1]:null}function mt(D){return(0,U.A)(D)?D:(0,l.jNT)(D)?(0,Z.H)(Promise.resolve(D)):(0,G.of)(D)}const Gt={exact:function ir(D,L,R){if(!Tr(D.segments,L.segments)||!Rr(D.segments,L.segments,R)||D.numberOfChildren!==L.numberOfChildren)return!1;for(const F in L.children)if(!D.children[F]||!ir(D.children[F],L.children[F],R))return!1;return!0},subset:Hn},Ht={exact:function Er(D,L){return Nn(D,L)},subset:function Jn(D,L){return Object.keys(L).length<=Object.keys(D).length&&Object.keys(L).every(R=>Un(D[R],L[R]))},ignored:()=>!0};function Mn(D,L,R){return Gt[R.paths](D.root,L.root,R.matrixParams)&&Ht[R.queryParams](D.queryParams,L.queryParams)&&!("exact"===R.fragment&&D.fragment!==L.fragment)}function Hn(D,L,R){return Nr(D,L,L.segments,R)}function Nr(D,L,R,F){if(D.segments.length>R.length){const te=D.segments.slice(0,R.length);return!(!Tr(te,R)||L.hasChildren()||!Rr(te,R,F))}if(D.segments.length===R.length){if(!Tr(D.segments,R)||!Rr(D.segments,R,F))return!1;for(const te in L.children)if(!D.children[te]||!Hn(D.children[te],L.children[te],F))return!1;return!0}{const te=R.slice(0,D.segments.length),Ce=R.slice(D.segments.length);return!!(Tr(D.segments,te)&&Rr(D.segments,te,F)&&D.children[st])&&Nr(D.children[st],L,Ce,F)}}function Rr(D,L,R){return L.every((F,te)=>Ht[R](D[te].parameters,F.parameters))}class rr{constructor(L=new dr([],{}),R={},F=null){this.root=L,this.queryParams=R,this.fragment=F}get queryParamMap(){return this._queryParamMap??=hn(this.queryParams),this._queryParamMap}toString(){return Pr.serialize(this)}}class dr{constructor(L,R){this.segments=L,this.children=R,this.parent=null,Object.values(R).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pi(this)}}class Or{constructor(L,R){this.path=L,this.parameters=R}get parameterMap(){return this._parameterMap??=hn(this.parameters),this._parameterMap}toString(){return Tt(this)}}function Tr(D,L){return D.length===L.length&&D.every((R,F)=>R.path===L[F].path)}let _r=(()=>{class D{static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=l.jDH({token:D,factory:()=>new fi,providedIn:"root"})}}return D})();class fi{parse(L){const R=new gi(L);return new rr(R.parseRootSegment(),R.parseQueryParams(),R.parseFragment())}serialize(L){const R=`/${gr(L.root,!0)}`,F=function Bn(D){const L=Object.entries(D).map(([R,F])=>Array.isArray(F)?F.map(te=>`${ci(R)}=${ci(te)}`).join("&"):`${ci(R)}=${ci(F)}`).filter(R=>R);return L.length?`?${L.join("&")}`:""}(L.queryParams);return`${R}${F}${"string"==typeof L.fragment?`#${function Ai(D){return encodeURI(D)}(L.fragment)}`:""}`}}const Pr=new fi;function pi(D){return D.segments.map(L=>Tt(L)).join("/")}function gr(D,L){if(!D.hasChildren())return pi(D);if(L){const R=D.children[st]?gr(D.children[st],!1):"",F=[];return Object.entries(D.children).forEach(([te,Ce])=>{te!==st&&F.push(`${te}:${gr(Ce,!1)}`)}),F.length>0?`${R}(${F.join("//")})`:R}{const R=function pr(D,L){let R=[];return Object.entries(D.children).forEach(([F,te])=>{F===st&&(R=R.concat(L(te,F)))}),Object.entries(D.children).forEach(([F,te])=>{F!==st&&(R=R.concat(L(te,F)))}),R}(D,(F,te)=>te===st?[gr(D.children[st],!1)]:[`${te}:${gr(F,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[st]?`${pi(D)}/${R[0]}`:`${pi(D)}/(${R.join("//")})`}}function bi(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ci(D){return bi(D).replace(/%3B/gi,";")}function jt(D){return bi(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ht(D){return decodeURIComponent(D)}function rt(D){return ht(D.replace(/\+/g,"%20"))}function Tt(D){return`${jt(D.path)}${function dn(D){return Object.entries(D).map(([L,R])=>`;${jt(L)}=${jt(R)}`).join("")}(D.parameters)}`}const Ge=/^[^\/()?;#]+/;function $e(D){const L=D.match(Ge);return L?L[0]:""}const vt=/^[^\/()?;=#]+/,xt=/^[^=?&#]+/,qn=/^[^&#]+/;class gi{constructor(L){this.url=L,this.remaining=L}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dr([],{}):new dr([],this.parseChildren())}parseQueryParams(){const L={};if(this.consumeOptional("?"))do{this.parseQueryParam(L)}while(this.consumeOptional("&"));return L}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const L=[];for(this.peekStartsWith("(")||L.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),L.push(this.parseSegment());let R={};this.peekStartsWith("/(")&&(this.capture("/"),R=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(L.length>0||Object.keys(R).length>0)&&(F[st]=new dr(L,R)),F}parseSegment(){const L=$e(this.remaining);if(""===L&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(L),new Or(ht(L),this.parseMatrixParams())}parseMatrixParams(){const L={};for(;this.consumeOptional(";");)this.parseParam(L);return L}parseParam(L){const R=function Jt(D){const L=D.match(vt);return L?L[0]:""}(this.remaining);if(!R)return;this.capture(R);let F="";if(this.consumeOptional("=")){const te=$e(this.remaining);te&&(F=te,this.capture(F))}L[ht(R)]=ht(F)}parseQueryParam(L){const R=function Fn(D){const L=D.match(xt);return L?L[0]:""}(this.remaining);if(!R)return;this.capture(R);let F="";if(this.consumeOptional("=")){const Je=function Jr(D){const L=D.match(qn);return L?L[0]:""}(this.remaining);Je&&(F=Je,this.capture(F))}const te=rt(R),Ce=rt(F);if(L.hasOwnProperty(te)){let Je=L[te];Array.isArray(Je)||(Je=[Je],L[te]=Je),Je.push(Ce)}else L[te]=Ce}parseParens(L){const R={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=$e(this.remaining),te=this.remaining[F.length];if("/"!==te&&")"!==te&&";"!==te)throw new l.wOt(4010,!1);let Ce;F.indexOf(":")>-1?(Ce=F.slice(0,F.indexOf(":")),this.capture(Ce),this.capture(":")):L&&(Ce=st);const Je=this.parseChildren();R[Ce]=1===Object.keys(Je).length?Je[st]:new dr([],Je),this.consumeOptional("//")}return R}peekStartsWith(L){return this.remaining.startsWith(L)}consumeOptional(L){return!!this.peekStartsWith(L)&&(this.remaining=this.remaining.substring(L.length),!0)}capture(L){if(!this.consumeOptional(L))throw new l.wOt(4011,!1)}}function xr(D){return D.segments.length>0?new dr([],{[st]:D}):D}function Vr(D){const L={};for(const[F,te]of Object.entries(D.children)){const Ce=Vr(te);if(F===st&&0===Ce.segments.length&&Ce.hasChildren())for(const[Je,en]of Object.entries(Ce.children))L[Je]=en;else(Ce.segments.length>0||Ce.hasChildren())&&(L[F]=Ce)}return function Sn(D){if(1===D.numberOfChildren&&D.children[st]){const L=D.children[st];return new dr(D.segments.concat(L.segments),L.children)}return D}(new dr(D.segments,L))}function Wr(D){return D instanceof rr}function Oi(D){let L;const te=xr(function R(Ce){const Je={};for(const Vt of Ce.children){const zn=R(Vt);Je[Vt.outlet]=zn}const en=new dr(Ce.url,Je);return Ce===D&&(L=en),en}(D.root));return L??te}function Gi(D,L,R,F){let te=D;for(;te.parent;)te=te.parent;if(0===L.length)return wi(te,te,te,R,F);const Ce=function zt(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new $i(!0,0,D);let L=0,R=!1;const F=D.reduce((te,Ce,Je)=>{if("object"==typeof Ce&&null!=Ce){if(Ce.outlets){const en={};return Object.entries(Ce.outlets).forEach(([Vt,zn])=>{en[Vt]="string"==typeof zn?zn.split("/"):zn}),[...te,{outlets:en}]}if(Ce.segmentPath)return[...te,Ce.segmentPath]}return"string"!=typeof Ce?[...te,Ce]:0===Je?(Ce.split("/").forEach((en,Vt)=>{0==Vt&&"."===en||(0==Vt&&""===en?R=!0:".."===en?L++:""!=en&&te.push(en))}),te):[...te,Ce]},[]);return new $i(R,L,F)}(L);if(Ce.toRoot())return wi(te,te,new dr([],{}),R,F);const Je=function _e(D,L,R){if(D.isAbsolute)return new ae(L,!0,0);if(!R)return new ae(L,!1,NaN);if(null===R.parent)return new ae(R,!0,0);const F=Ur(D.commands[0])?0:1;return function ie(D,L,R){let F=D,te=L,Ce=R;for(;Ce>te;){if(Ce-=te,F=F.parent,!F)throw new l.wOt(4005,!1);te=F.segments.length}return new ae(F,!1,te-Ce)}(R,R.segments.length-1+F,D.numberOfDoubleDots)}(Ce,te,D),en=Je.processChildren?pt(Je.segmentGroup,Je.index,Ce.commands):Ve(Je.segmentGroup,Je.index,Ce.commands);return wi(te,Je.segmentGroup,en,R,F)}function Ur(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Ar(D){return"object"==typeof D&&null!=D&&D.outlets}function wi(D,L,R,F,te){let Je,Ce={};F&&Object.entries(F).forEach(([Vt,zn])=>{Ce[Vt]=Array.isArray(zn)?zn.map(Fr=>`${Fr}`):`${zn}`}),Je=D===L?R:ti(D,L,R);const en=xr(Vr(Je));return new rr(en,Ce,te)}function ti(D,L,R){const F={};return Object.entries(D.children).forEach(([te,Ce])=>{F[te]=Ce===L?R:ti(Ce,L,R)}),new dr(D.segments,F)}class $i{constructor(L,R,F){if(this.isAbsolute=L,this.numberOfDoubleDots=R,this.commands=F,L&&F.length>0&&Ur(F[0]))throw new l.wOt(4003,!1);const te=F.find(Ar);if(te&&te!==Xn(F))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ae{constructor(L,R,F){this.segmentGroup=L,this.processChildren=R,this.index=F}}function Ve(D,L,R){if(D??=new dr([],{}),0===D.segments.length&&D.hasChildren())return pt(D,L,R);const F=function an(D,L,R){let F=0,te=L;const Ce={match:!1,pathIndex:0,commandIndex:0};for(;te<D.segments.length;){if(F>=R.length)return Ce;const Je=D.segments[te],en=R[F];if(Ar(en))break;const Vt=`${en}`,zn=F<R.length-1?R[F+1]:null;if(te>0&&void 0===Vt)break;if(Vt&&zn&&"object"==typeof zn&&void 0===zn.outlets){if(!Qe(Vt,zn,Je))return Ce;F+=2}else{if(!Qe(Vt,{},Je))return Ce;F++}te++}return{match:!0,pathIndex:te,commandIndex:F}}(D,L,R),te=R.slice(F.commandIndex);if(F.match&&F.pathIndex<D.segments.length){const Ce=new dr(D.segments.slice(0,F.pathIndex),{});return Ce.children[st]=new dr(D.segments.slice(F.pathIndex),D.children),pt(Ce,0,te)}return F.match&&0===te.length?new dr(D.segments,{}):F.match&&!D.hasChildren()?Qt(D,L,R):F.match?pt(D,0,te):Qt(D,L,R)}function pt(D,L,R){if(0===R.length)return new dr(D.segments,{});{const F=function J(D){return Ar(D[0])?D[0].outlets:{[st]:D}}(R),te={};if(Object.keys(F).some(Ce=>Ce!==st)&&D.children[st]&&1===D.numberOfChildren&&0===D.children[st].segments.length){const Ce=pt(D.children[st],L,R);return new dr(D.segments,Ce.children)}return Object.entries(F).forEach(([Ce,Je])=>{"string"==typeof Je&&(Je=[Je]),null!==Je&&(te[Ce]=Ve(D.children[Ce],L,Je))}),Object.entries(D.children).forEach(([Ce,Je])=>{void 0===F[Ce]&&(te[Ce]=Je)}),new dr(D.segments,te)}}function Qt(D,L,R){const F=D.segments.slice(0,L);let te=0;for(;te<R.length;){const Ce=R[te];if(Ar(Ce)){const Vt=de(Ce.outlets);return new dr(F,Vt)}if(0===te&&Ur(R[0])){F.push(new Or(D.segments[L].path,Ue(R[0]))),te++;continue}const Je=Ar(Ce)?Ce.outlets[st]:`${Ce}`,en=te<R.length-1?R[te+1]:null;Je&&en&&Ur(en)?(F.push(new Or(Je,Ue(en))),te+=2):(F.push(new Or(Je,{})),te++)}return new dr(F,{})}function de(D){const L={};return Object.entries(D).forEach(([R,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(L[R]=Qt(new dr([],{}),0,F))}),L}function Ue(D){const L={};return Object.entries(D).forEach(([R,F])=>L[R]=`${F}`),L}function Qe(D,L,R){return D==R.path&&Nn(L,R.parameters)}const Wt="imperative";var Xt=function(D){return D[D.NavigationStart=0]="NavigationStart",D[D.NavigationEnd=1]="NavigationEnd",D[D.NavigationCancel=2]="NavigationCancel",D[D.NavigationError=3]="NavigationError",D[D.RoutesRecognized=4]="RoutesRecognized",D[D.ResolveStart=5]="ResolveStart",D[D.ResolveEnd=6]="ResolveEnd",D[D.GuardsCheckStart=7]="GuardsCheckStart",D[D.GuardsCheckEnd=8]="GuardsCheckEnd",D[D.RouteConfigLoadStart=9]="RouteConfigLoadStart",D[D.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",D[D.ChildActivationStart=11]="ChildActivationStart",D[D.ChildActivationEnd=12]="ChildActivationEnd",D[D.ActivationStart=13]="ActivationStart",D[D.ActivationEnd=14]="ActivationEnd",D[D.Scroll=15]="Scroll",D[D.NavigationSkipped=16]="NavigationSkipped",D}(Xt||{});class Et{constructor(L,R){this.id=L,this.url=R}}class _n extends Et{constructor(L,R,F="imperative",te=null){super(L,R),this.type=Xt.NavigationStart,this.navigationTrigger=F,this.restoredState=te}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qn extends Et{constructor(L,R,F){super(L,R),this.urlAfterRedirects=F,this.type=Xt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Yn=function(D){return D[D.Redirect=0]="Redirect",D[D.SupersededByNewNavigation=1]="SupersededByNewNavigation",D[D.NoDataFromResolver=2]="NoDataFromResolver",D[D.GuardRejected=3]="GuardRejected",D}(Yn||{}),En=function(D){return D[D.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",D[D.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",D}(En||{});class kn extends Et{constructor(L,R,F,te){super(L,R),this.reason=F,this.code=te,this.type=Xt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lr extends Et{constructor(L,R,F,te){super(L,R),this.reason=F,this.code=te,this.type=Xt.NavigationSkipped}}class Tn extends Et{constructor(L,R,F,te){super(L,R),this.error=F,this.target=te,this.type=Xt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lt extends Et{constructor(L,R,F,te){super(L,R),this.urlAfterRedirects=F,this.state=te,this.type=Xt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class on extends Et{constructor(L,R,F,te){super(L,R),this.urlAfterRedirects=F,this.state=te,this.type=Xt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ar extends Et{constructor(L,R,F,te,Ce){super(L,R),this.urlAfterRedirects=F,this.state=te,this.shouldActivate=Ce,this.type=Xt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oi extends Et{constructor(L,R,F,te){super(L,R),this.urlAfterRedirects=F,this.state=te,this.type=Xt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ts extends Et{constructor(L,R,F,te){super(L,R),this.urlAfterRedirects=F,this.state=te,this.type=Xt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class he{constructor(L){this.route=L,this.type=Xt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ye{constructor(L){this.route=L,this.type=Xt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ct{constructor(L){this.snapshot=L,this.type=Xt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qt{constructor(L){this.snapshot=L,this.type=Xt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wn{constructor(L){this.snapshot=L,this.type=Xt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zn{constructor(L){this.snapshot=L,this.type=Xt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class er{constructor(L,R,F){this.routerEvent=L,this.position=R,this.anchor=F,this.type=Xt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Cr{}class Pn{constructor(L,R){this.url=L,this.navigationBehaviorOptions=R}}function zi(D){return D.outlet||st}function Ts(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let L=D.parent;L;L=L.parent){const R=L.routeConfig;if(R?._loadedInjector)return R._loadedInjector;if(R?._injector)return R._injector}return null}class uo{get injector(){return Ts(this.route?.snapshot)??this.rootInjector}set injector(L){}constructor(L){this.rootInjector=L,this.outlet=null,this.route=null,this.children=new C(this.rootInjector),this.attachRef=null}}let C=(()=>{class D{constructor(R){this.rootInjector=R,this.contexts=new Map}onChildOutletCreated(R,F){const te=this.getOrCreateContext(R);te.outlet=F,this.contexts.set(R,te)}onChildOutletDestroyed(R){const F=this.getContext(R);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const R=this.contexts;return this.contexts=new Map,R}onOutletReAttached(R){this.contexts=R}getOrCreateContext(R){let F=this.getContext(R);return F||(F=new uo(this.rootInjector),this.contexts.set(R,F)),F}getContext(R){return this.contexts.get(R)||null}static{this.\u0275fac=function(F){return new(F||D)(l.KVO(l.uvJ))}}static{this.\u0275prov=l.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class ce{constructor(L){this._root=L}get root(){return this._root.value}parent(L){const R=this.pathFromRoot(L);return R.length>1?R[R.length-2]:null}children(L){const R=O(L,this._root);return R?R.children.map(F=>F.value):[]}firstChild(L){const R=O(L,this._root);return R&&R.children.length>0?R.children[0].value:null}siblings(L){const R=S(L,this._root);return R.length<2?[]:R[R.length-2].children.map(te=>te.value).filter(te=>te!==L)}pathFromRoot(L){return S(L,this._root).map(R=>R.value)}}function O(D,L){if(D===L.value)return L;for(const R of L.children){const F=O(D,R);if(F)return F}return null}function S(D,L){if(D===L.value)return[L];for(const R of L.children){const F=S(D,R);if(F.length)return F.unshift(L),F}return[]}class K{constructor(L,R){this.value=L,this.children=R}toString(){return`TreeNode(${this.value})`}}function Fe(D){const L={};return D&&D.children.forEach(R=>L[R.value.outlet]=R),L}class Zt extends ce{constructor(L,R){super(L),this.snapshot=R,lr(this,L)}toString(){return this.snapshot.toString()}}function un(D){const L=function gn(D){const Ce=new et([],{},{},"",{},st,D,null,{});return new On("",new K(Ce,[]))}(D),R=new Re.t([new Or("",{})]),F=new Re.t({}),te=new Re.t({}),Ce=new Re.t({}),Je=new Re.t(""),en=new fn(R,F,Ce,Je,te,st,D,L.root);return en.snapshot=L.root,new Zt(new K(en,[]),L)}class fn{constructor(L,R,F,te,Ce,Je,en,Vt){this.urlSubject=L,this.paramsSubject=R,this.queryParamsSubject=F,this.fragmentSubject=te,this.dataSubject=Ce,this.outlet=Je,this.component=en,this._futureSnapshot=Vt,this.title=this.dataSubject?.pipe((0,Le.T)(zn=>zn[Ot]))??(0,G.of)(void 0),this.url=L,this.params=R,this.queryParams=F,this.fragment=te,this.data=Ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Le.T)(L=>hn(L))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Le.T)(L=>hn(L))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jn(D,L,R="emptyOnly"){let F;const{routeConfig:te}=D;return F=null===L||"always"!==R&&""!==te?.path&&(L.component||L.routeConfig?.loadComponent)?{params:{...D.params},data:{...D.data},resolve:{...D.data,...D._resolvedData??{}}}:{params:{...L.params,...D.params},data:{...L.data,...D.data},resolve:{...D.data,...L.data,...te?.data,...D._resolvedData}},te&&qr(te)&&(F.resolve[Ot]=te.title),F}class et{get title(){return this.data?.[Ot]}constructor(L,R,F,te,Ce,Je,en,Vt,zn){this.url=L,this.params=R,this.queryParams=F,this.fragment=te,this.data=Ce,this.outlet=Je,this.component=en,this.routeConfig=Vt,this._resolve=zn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class On extends ce{constructor(L,R){super(R),this.url=L,lr(this,R)}toString(){return Gr(this._root)}}function lr(D,L){L.value._routerState=D,L.children.forEach(R=>lr(D,R))}function Gr(D){const L=D.children.length>0?` { ${D.children.map(Gr).join(", ")} } `:"";return`${D.value}${L}`}function Li(D){if(D.snapshot){const L=D.snapshot,R=D._futureSnapshot;D.snapshot=R,Nn(L.queryParams,R.queryParams)||D.queryParamsSubject.next(R.queryParams),L.fragment!==R.fragment&&D.fragmentSubject.next(R.fragment),Nn(L.params,R.params)||D.paramsSubject.next(R.params),function Gn(D,L){if(D.length!==L.length)return!1;for(let R=0;R<D.length;++R)if(!Nn(D[R],L[R]))return!1;return!0}(L.url,R.url)||D.urlSubject.next(R.url),Nn(L.data,R.data)||D.dataSubject.next(R.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function mi(D,L){const R=Nn(D.params,L.params)&&function Qr(D,L){return Tr(D,L)&&D.every((R,F)=>Nn(R.parameters,L[F].parameters))}(D.url,L.url);return R&&!(!D.parent!=!L.parent)&&(!D.parent||mi(D.parent,L.parent))}function qr(D){return"string"==typeof D.title||null===D.title}let Ti=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=st,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)(C),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.inputBinder=(0,l.WQX)(Ei,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(R){if(R.name){const{firstChange:F,previousValue:te}=R.name;if(F)return;this.isTrackedInParentContexts(te)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(te)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(R){return this.parentContexts.getContext(R)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const R=this.parentContexts.getContext(this.name);R?.route&&(R.attachRef?this.attach(R.attachRef,R.route):this.activateWith(R.route,R.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const R=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(R.instance),R}attach(R,F){this.activated=R,this._activatedRoute=F,this.location.insert(R.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(R.instance)}deactivate(){if(this.activated){const R=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(R)}}activateWith(R,F){if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=R;const te=this.location,Je=R.snapshot.component,en=this.parentContexts.getOrCreateContext(this.name).children,Vt=new Fi(R,en,te.injector);this.activated=te.createComponent(Je,{index:te.length,injector:Vt,environmentInjector:F}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275dir=l.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]})}}return D})();class Fi{__ngOutletInjector(L){return new Fi(this.route,this.childContexts,L)}constructor(L,R,F){this.route=L,this.childContexts=R,this.parent=F}get(L,R){return L===fn?this.route:L===C?this.childContexts:this.parent.get(L,R)}}const Ei=new l.nKC("");let ho=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(R){this.unsubscribeFromRouteData(R),this.subscribeToRouteData(R)}unsubscribeFromRouteData(R){this.outletDataSubscriptions.get(R)?.unsubscribe(),this.outletDataSubscriptions.delete(R)}subscribeToRouteData(R){const{activatedRoute:F}=R,te=(0,Q.z)([F.queryParams,F.params,F.data]).pipe((0,at.n)(([Ce,Je,en],Vt)=>(en={...Ce,...Je,...en},0===Vt?(0,G.of)(en):Promise.resolve(en)))).subscribe(Ce=>{if(!R.isActivated||!R.activatedComponentRef||R.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(R);const Je=(0,l.HJs)(F.component);if(Je)for(const{templateName:en}of Je.inputs)R.activatedComponentRef.setInput(en,Ce[en]);else this.unsubscribeFromRouteData(R)});this.outletDataSubscriptions.set(R,te)}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=l.jDH({token:D,factory:D.\u0275fac})}}return D})();function Gs(D,L,R){if(R&&D.shouldReuseRoute(L.value,R.value.snapshot)){const F=R.value;F._futureSnapshot=L.value;const te=function qi(D,L,R){return L.children.map(F=>{for(const te of R.children)if(D.shouldReuseRoute(F.value,te.value.snapshot))return Gs(D,F,te);return Gs(D,F)})}(D,L,R);return new K(F,te)}{if(D.shouldAttach(L.value)){const Ce=D.retrieve(L.value);if(null!==Ce){const Je=Ce.route;return Je.value._futureSnapshot=L.value,Je.children=L.children.map(en=>Gs(D,en)),Je}}const F=function Jo(D){return new fn(new Re.t(D.url),new Re.t(D.params),new Re.t(D.queryParams),new Re.t(D.fragment),new Re.t(D.data),D.outlet,D.component,D)}(L.value),te=L.children.map(Ce=>Gs(D,Ce));return new K(F,te)}}class Zo{constructor(L,R){this.redirectTo=L,this.navigationBehaviorOptions=R}}const ha="ngNavigationCancelingError";function ui(D,L){const{redirectTo:R,navigationBehaviorOptions:F}=Wr(L)?{redirectTo:L,navigationBehaviorOptions:void 0}:L,te=fa(!1,Yn.Redirect);return te.url=R,te.navigationBehaviorOptions=F,te}function fa(D,L){const R=new Error(`NavigationCancelingError: ${D||""}`);return R[ha]=!0,R.cancellationCode=L,R}function Ps(D){return!!D&&D[ha]}class wr{constructor(L,R,F,te,Ce){this.routeReuseStrategy=L,this.futureState=R,this.currState=F,this.forwardEvent=te,this.inputBindingEnabled=Ce}activate(L){const R=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(R,F,L),Li(this.futureState.root),this.activateChildRoutes(R,F,L)}deactivateChildRoutes(L,R,F){const te=Fe(R);L.children.forEach(Ce=>{const Je=Ce.value.outlet;this.deactivateRoutes(Ce,te[Je],F),delete te[Je]}),Object.values(te).forEach(Ce=>{this.deactivateRouteAndItsChildren(Ce,F)})}deactivateRoutes(L,R,F){const te=L.value,Ce=R?R.value:null;if(te===Ce)if(te.component){const Je=F.getContext(te.outlet);Je&&this.deactivateChildRoutes(L,R,Je.children)}else this.deactivateChildRoutes(L,R,F);else Ce&&this.deactivateRouteAndItsChildren(R,F)}deactivateRouteAndItsChildren(L,R){L.value.component&&this.routeReuseStrategy.shouldDetach(L.value.snapshot)?this.detachAndStoreRouteSubtree(L,R):this.deactivateRouteAndOutlet(L,R)}detachAndStoreRouteSubtree(L,R){const F=R.getContext(L.value.outlet),te=F&&L.value.component?F.children:R,Ce=Fe(L);for(const Je of Object.values(Ce))this.deactivateRouteAndItsChildren(Je,te);if(F&&F.outlet){const Je=F.outlet.detach(),en=F.children.onOutletDeactivated();this.routeReuseStrategy.store(L.value.snapshot,{componentRef:Je,route:L,contexts:en})}}deactivateRouteAndOutlet(L,R){const F=R.getContext(L.value.outlet),te=F&&L.value.component?F.children:R,Ce=Fe(L);for(const Je of Object.values(Ce))this.deactivateRouteAndItsChildren(Je,te);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(L,R,F){const te=Fe(R);L.children.forEach(Ce=>{this.activateRoutes(Ce,te[Ce.value.outlet],F),this.forwardEvent(new Zn(Ce.value.snapshot))}),L.children.length&&this.forwardEvent(new qt(L.value.snapshot))}activateRoutes(L,R,F){const te=L.value,Ce=R?R.value:null;if(Li(te),te===Ce)if(te.component){const Je=F.getOrCreateContext(te.outlet);this.activateChildRoutes(L,R,Je.children)}else this.activateChildRoutes(L,R,F);else if(te.component){const Je=F.getOrCreateContext(te.outlet);if(this.routeReuseStrategy.shouldAttach(te.snapshot)){const en=this.routeReuseStrategy.retrieve(te.snapshot);this.routeReuseStrategy.store(te.snapshot,null),Je.children.onOutletReAttached(en.contexts),Je.attachRef=en.componentRef,Je.route=en.route.value,Je.outlet&&Je.outlet.attach(en.componentRef,en.route.value),Li(en.route.value),this.activateChildRoutes(L,null,Je.children)}else Je.attachRef=null,Je.route=te,Je.outlet&&Je.outlet.activateWith(te,Je.injector),this.activateChildRoutes(L,null,Je.children)}else this.activateChildRoutes(L,null,F)}}class eo{constructor(L){this.path=L,this.route=this.path[this.path.length-1]}}class Wa{constructor(L,R){this.component=L,this.route=R}}function to(D,L,R){const F=D._root;return ps(F,L?L._root:null,R,[F.value])}function Vs(D,L){const R=Symbol(),F=L.get(D,R);return F===R?"function"!=typeof D||(0,l.LfX)(D)?L.get(D):D:F}function ps(D,L,R,F,te={canDeactivateChecks:[],canActivateChecks:[]}){const Ce=Fe(L);return D.children.forEach(Je=>{(function Ks(D,L,R,F,te={canDeactivateChecks:[],canActivateChecks:[]}){const Ce=D.value,Je=L?L.value:null,en=R?R.getContext(D.value.outlet):null;if(Je&&Ce.routeConfig===Je.routeConfig){const Vt=function Zr(D,L,R){if("function"==typeof R)return R(D,L);switch(R){case"pathParamsChange":return!Tr(D.url,L.url);case"pathParamsOrQueryParamsChange":return!Tr(D.url,L.url)||!Nn(D.queryParams,L.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mi(D,L)||!Nn(D.queryParams,L.queryParams);default:return!mi(D,L)}}(Je,Ce,Ce.routeConfig.runGuardsAndResolvers);Vt?te.canActivateChecks.push(new eo(F)):(Ce.data=Je.data,Ce._resolvedData=Je._resolvedData),ps(D,L,Ce.component?en?en.children:null:R,F,te),Vt&&en&&en.outlet&&en.outlet.isActivated&&te.canDeactivateChecks.push(new Wa(en.outlet.component,Je))}else Je&&Cs(L,en,te),te.canActivateChecks.push(new eo(F)),ps(D,null,Ce.component?en?en.children:null:R,F,te)})(Je,Ce[Je.value.outlet],R,F.concat([Je.value]),te),delete Ce[Je.value.outlet]}),Object.entries(Ce).forEach(([Je,en])=>Cs(en,R.getContext(Je),te)),te}function Cs(D,L,R){const F=Fe(D),te=D.value;Object.entries(F).forEach(([Ce,Je])=>{Cs(Je,te.component?L?L.children.getContext(Ce):null:L,R)}),R.canDeactivateChecks.push(new Wa(te.component&&L&&L.outlet&&L.outlet.isActivated?L.outlet.component:null,te))}function Fo(D){return"function"==typeof D}function Vo(D){return D instanceof be.G||"EmptyError"===D?.name}const Y=Symbol("INITIAL_VALUE");function ee(){return(0,at.n)(D=>(0,Q.z)(D.map(L=>L.pipe((0,Ye.s)(1),(0,Ze.Z)(Y)))).pipe((0,Le.T)(L=>{for(const R of L)if(!0!==R){if(R===Y)return Y;if(!1===R||B(R))return R}return!0}),(0,Dt.p)(L=>L!==Y),(0,Ye.s)(1)))}function B(D){return Wr(D)||D instanceof Zo}function ea(D){return(0,Te.F)((0,ze.M)(L=>{if("boolean"!=typeof L)throw ui(0,L)}),(0,Le.T)(L=>!0===L))}class Pi{constructor(L){this.segmentGroup=L||null}}class Ro extends Error{constructor(L){super(),this.urlTree=L}}function Bs(D){return pe(new Pi(D))}class Yr{constructor(L,R){this.urlSerializer=L,this.urlTree=R}lineralizeSegments(L,R){let F=[],te=R.root;for(;;){if(F=F.concat(te.segments),0===te.numberOfChildren)return(0,G.of)(F);if(te.numberOfChildren>1||!te.children[st])return pe(new l.wOt(4e3,!1));te=te.children[st]}}applyRedirectCommands(L,R,F,te,Ce){if("string"!=typeof R){const en=R,{queryParams:Vt,fragment:zn,routeConfig:Fr,url:li,outlet:ls,params:Mi,data:ms,title:$o}=te,sa=(0,l.N4e)(Ce,()=>en({params:Mi,data:ms,queryParams:Vt,fragment:zn,routeConfig:Fr,url:li,outlet:ls,title:$o}));if(sa instanceof rr)throw new Ro(sa);R=sa}const Je=this.applyRedirectCreateUrlTree(R,this.urlSerializer.parse(R),L,F);if("/"===R[0])throw new Ro(Je);return Je}applyRedirectCreateUrlTree(L,R,F,te){const Ce=this.createSegmentGroup(L,R.root,F,te);return new rr(Ce,this.createQueryParams(R.queryParams,this.urlTree.queryParams),R.fragment)}createQueryParams(L,R){const F={};return Object.entries(L).forEach(([te,Ce])=>{if("string"==typeof Ce&&":"===Ce[0]){const en=Ce.substring(1);F[te]=R[en]}else F[te]=Ce}),F}createSegmentGroup(L,R,F,te){const Ce=this.createSegments(L,R.segments,F,te);let Je={};return Object.entries(R.children).forEach(([en,Vt])=>{Je[en]=this.createSegmentGroup(L,Vt,F,te)}),new dr(Ce,Je)}createSegments(L,R,F,te){return R.map(Ce=>":"===Ce.path[0]?this.findPosParam(L,Ce,te):this.findOrReturn(Ce,F))}findPosParam(L,R,F){const te=F[R.path.substring(1)];if(!te)throw new l.wOt(4001,!1);return te}findOrReturn(L,R){let F=0;for(const te of R){if(te.path===L.path)return R.splice(F),te;F++}return L}}const as={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bs(D,L,R,F,te){const Ce=ai(D,L,R);return Ce.matched?(F=function Br(D,L){return D.providers&&!D._injector&&(D._injector=(0,l.Ol2)(D.providers,L,`Route: ${D.path}`)),D._injector??L}(L,F),function ws(D,L,R,F){const te=L.canMatch;if(!te||0===te.length)return(0,G.of)(!0);const Ce=te.map(Je=>{const en=Vs(Je,D);return mt(function Pa(D){return D&&Fo(D.canMatch)}(en)?en.canMatch(L,R):(0,l.N4e)(D,()=>en(L,R)))});return(0,G.of)(Ce).pipe(ee(),ea())}(F,L,R).pipe((0,Le.T)(Je=>!0===Je?Ce:{...as}))):(0,G.of)(Ce)}function ai(D,L,R){if("**"===L.path)return function Po(D){return{matched:!0,parameters:D.length>0?Xn(D).parameters:{},consumedSegments:D,remainingSegments:[],positionalParamSegments:{}}}(R);if(""===L.path)return"full"===L.pathMatch&&(D.hasChildren()||R.length>0)?{...as}:{matched:!0,consumedSegments:[],remainingSegments:R,parameters:{},positionalParamSegments:{}};const te=(L.matcher||Vn)(R,D,L);if(!te)return{...as};const Ce={};Object.entries(te.posParams??{}).forEach(([en,Vt])=>{Ce[en]=Vt.path});const Je=te.consumed.length>0?{...Ce,...te.consumed[te.consumed.length-1].parameters}:Ce;return{matched:!0,consumedSegments:te.consumed,remainingSegments:R.slice(te.consumed.length),parameters:Je,positionalParamSegments:te.posParams??{}}}function ta(D,L,R,F){return R.length>0&&function Jc(D,L,R){return R.some(F=>Eo(D,L,F)&&zi(F)!==st)}(D,R,F)?{segmentGroup:new dr(L,Ka(F,new dr(R,D.children))),slicedSegments:[]}:0===R.length&&function Ki(D,L,R){return R.some(F=>Eo(D,L,F))}(D,R,F)?{segmentGroup:new dr(D.segments,Ma(D,R,F,D.children)),slicedSegments:R}:{segmentGroup:new dr(D.segments,D.children),slicedSegments:R}}function Ma(D,L,R,F){const te={};for(const Ce of R)if(Eo(D,L,Ce)&&!F[zi(Ce)]){const Je=new dr([],{});te[zi(Ce)]=Je}return{...F,...te}}function Ka(D,L){const R={};R[st]=L;for(const F of D)if(""===F.path&&zi(F)!==st){const te=new dr([],{});R[zi(F)]=te}return R}function Eo(D,L,R){return(!(D.hasChildren()||L.length>0)||"full"!==R.pathMatch)&&""===R.path}class na{}class js{constructor(L,R,F,te,Ce,Je,en){this.injector=L,this.configLoader=R,this.rootComponentType=F,this.config=te,this.urlTree=Ce,this.paramsInheritanceStrategy=Je,this.urlSerializer=en,this.applyRedirects=new Yr(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(L){return new l.wOt(4002,`'${L.segmentGroup}'`)}recognize(){const L=ta(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(L).pipe((0,Le.T)(({children:R,rootSnapshot:F})=>{const te=new K(F,R),Ce=new On("",te),Je=function kr(D,L,R=null,F=null){return Gi(Oi(D),L,R,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return Je.queryParams=this.urlTree.queryParams,Ce.url=this.urlSerializer.serialize(Je),{state:Ce,tree:Je}}))}match(L){const R=new et([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),st,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,L,st,R).pipe((0,Le.T)(F=>({children:F,rootSnapshot:R})),kt(F=>{if(F instanceof Ro)return this.urlTree=F.urlTree,this.match(F.urlTree.root);throw F instanceof Pi?this.noMatchError(F):F}))}processSegmentGroup(L,R,F,te,Ce){return 0===F.segments.length&&F.hasChildren()?this.processChildren(L,R,F,Ce):this.processSegment(L,R,F,F.segments,te,!0,Ce).pipe((0,Le.T)(Je=>Je instanceof K?[Je]:[]))}processChildren(L,R,F,te){const Ce=[];for(const Je of Object.keys(F.children))"primary"===Je?Ce.unshift(Je):Ce.push(Je);return(0,Z.H)(Ce).pipe((0,bt.H)(Je=>{const en=F.children[Je],Vt=function fs(D,L){const R=D.filter(F=>zi(F)===L);return R.push(...D.filter(F=>zi(F)!==L)),R}(R,Je);return this.processSegmentGroup(L,Vt,en,Je,te)}),(0,cn.S)((Je,en)=>(Je.push(...en),Je)),(0,qe.U)(null),function le(D,L){const R=arguments.length>=2;return F=>F.pipe(D?(0,Dt.p)((te,Ce)=>D(te,Ce,F)):Me.D,Se(1),R?(0,qe.U)(L):(0,Ie.v)(()=>new be.G))}(),(0,H.Z)(Je=>{if(null===Je)return Bs(F);const en=ia(Je);return function ml(D){D.sort((L,R)=>L.value.outlet===st?-1:R.value.outlet===st?1:L.value.outlet.localeCompare(R.value.outlet))}(en),(0,G.of)(en)}))}processSegment(L,R,F,te,Ce,Je,en){return(0,Z.H)(R).pipe((0,bt.H)(Vt=>this.processSegmentAgainstRoute(Vt._injector??L,R,Vt,F,te,Ce,Je,en).pipe(kt(zn=>{if(zn instanceof Pi)return(0,G.of)(null);throw zn}))),(0,We.$)(Vt=>!!Vt),kt(Vt=>{if(Vo(Vt))return function ga(D,L,R){return 0===L.length&&!D.children[R]}(F,te,Ce)?(0,G.of)(new na):Bs(F);throw Vt}))}processSegmentAgainstRoute(L,R,F,te,Ce,Je,en,Vt){return zi(F)===Je||Je!==st&&Eo(te,Ce,F)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(L,te,F,Ce,Je,Vt):this.allowRedirects&&en?this.expandSegmentAgainstRouteUsingRedirect(L,te,R,F,Ce,Je,Vt):Bs(te):Bs(te)}expandSegmentAgainstRouteUsingRedirect(L,R,F,te,Ce,Je,en){const{matched:Vt,parameters:zn,consumedSegments:Fr,positionalParamSegments:li,remainingSegments:ls}=ai(R,te,Ce);if(!Vt)return Bs(R);"string"==typeof te.redirectTo&&"/"===te.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Mi=new et(Ce,zn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,no(te),zi(te),te.component??te._loadedComponent??null,te,ma(te)),ms=jn(Mi,en,this.paramsInheritanceStrategy);Mi.params=Object.freeze(ms.params),Mi.data=Object.freeze(ms.data);const $o=this.applyRedirects.applyRedirectCommands(Fr,te.redirectTo,li,Mi,L);return this.applyRedirects.lineralizeSegments(te,$o).pipe((0,H.Z)(sa=>this.processSegment(L,F,R,sa.concat(ls),Je,!1,en)))}matchSegmentAgainstRoute(L,R,F,te,Ce,Je){const en=bs(R,F,te,L);return"**"===F.path&&(R.children={}),en.pipe((0,at.n)(Vt=>Vt.matched?this.getChildConfig(L=F._injector??L,F,te).pipe((0,at.n)(({routes:zn})=>{const Fr=F._loadedInjector??L,{parameters:li,consumedSegments:ls,remainingSegments:Mi}=Vt,ms=new et(ls,li,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,no(F),zi(F),F.component??F._loadedComponent??null,F,ma(F)),$o=jn(ms,Je,this.paramsInheritanceStrategy);ms.params=Object.freeze($o.params),ms.data=Object.freeze($o.data);const{segmentGroup:sa,slicedSegments:Za}=ta(R,ls,Mi,zn);if(0===Za.length&&sa.hasChildren())return this.processChildren(Fr,zn,sa,ms).pipe((0,Le.T)(Ml=>new K(ms,Ml)));if(0===zn.length&&0===Za.length)return(0,G.of)(new K(ms,[]));const el=zi(F)===Ce;return this.processSegment(Fr,zn,sa,Za,el?st:Ce,!0,ms).pipe((0,Le.T)(Ml=>new K(ms,Ml instanceof K?[Ml]:[])))})):Bs(R)))}getChildConfig(L,R,F){return R.children?(0,G.of)({routes:R.children,injector:L}):R.loadChildren?void 0!==R._loadedRoutes?(0,G.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):function Qi(D,L,R,F){const te=L.canLoad;if(void 0===te||0===te.length)return(0,G.of)(!0);const Ce=te.map(Je=>{const en=Vs(Je,D);return mt(function ji(D){return D&&Fo(D.canLoad)}(en)?en.canLoad(L,R):(0,l.N4e)(D,()=>en(L,R)))});return(0,G.of)(Ce).pipe(ee(),ea())}(L,R,F).pipe((0,H.Z)(te=>te?this.configLoader.loadChildren(L,R).pipe((0,ze.M)(Ce=>{R._loadedRoutes=Ce.routes,R._loadedInjector=Ce.injector})):function ni(){return pe(fa(!1,Yn.GuardRejected))}())):(0,G.of)({routes:[],injector:L})}}function ra(D){const L=D.value.routeConfig;return L&&""===L.path}function ia(D){const L=[],R=new Set;for(const F of D){if(!ra(F)){L.push(F);continue}const te=L.find(Ce=>F.value.routeConfig===Ce.value.routeConfig);void 0!==te?(te.children.push(...F.children),R.add(te)):L.push(F)}for(const F of R){const te=ia(F.children);L.push(new K(F.value,te))}return L.filter(F=>!R.has(F))}function no(D){return D.data||{}}function ma(D){return D.resolve||{}}function qa(D){const L=D.children.map(R=>qa(R)).flat();return[D,...L]}function Io(D){return(0,at.n)(L=>{const R=D(L);return R?(0,Z.H)(R).pipe((0,Le.T)(()=>L)):(0,G.of)(L)})}let vl=(()=>{class D{buildTitle(R){let F,te=R.root;for(;void 0!==te;)F=this.getResolvedTitleForRoute(te)??F,te=te.children.find(Ce=>Ce.outlet===st);return F}getResolvedTitleForRoute(R){return R.data[Ot]}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=l.jDH({token:D,factory:()=>(0,l.WQX)(Ji),providedIn:"root"})}}return D})(),Ji=(()=>{class D extends vl{constructor(R){super(),this.title=R}updateTitle(R){const F=this.buildTitle(R);void 0!==F&&this.title.setTitle(F)}static{this.\u0275fac=function(F){return new(F||D)(l.KVO(fe.hE))}}static{this.\u0275prov=l.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Hs=new l.nKC("",{providedIn:"root",factory:()=>({})});let _l=(()=>{class D{static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275cmp=l.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(F,te){1&F&&l.nrm(0,"router-outlet")},dependencies:[Ti],encapsulation:2})}}return D})();function xo(D){const L=D.children&&D.children.map(xo),R=L?{...D,children:L}:{...D};return!R.component&&!R.loadComponent&&(L||R.loadChildren)&&R.outlet&&R.outlet!==st&&(R.component=_l),R}const Ya=new l.nKC("");let ys=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(R){if(this.componentLoaders.get(R))return this.componentLoaders.get(R);if(R._loadedComponent)return(0,G.of)(R._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(R);const F=mt(R.loadComponent()).pipe((0,Le.T)(ro),(0,ze.M)(Ce=>{this.onLoadEndListener&&this.onLoadEndListener(R),R._loadedComponent=Ce}),(0,ot.j)(()=>{this.componentLoaders.delete(R)})),te=new At(F,()=>new Pt.B).pipe(He());return this.componentLoaders.set(R,te),te}loadChildren(R,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,G.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const Ce=function xa(D,L,R,F){return mt(D.loadChildren()).pipe((0,Le.T)(ro),(0,H.Z)(te=>te instanceof l.Co$||Array.isArray(te)?(0,G.of)(te):(0,Z.H)(L.compileModuleAsync(te))),(0,Le.T)(te=>{F&&F(D);let Ce,Je,en=!1;return Array.isArray(te)?(Je=te,!0):(Ce=te.create(R).injector,Je=Ce.get(Ya,[],{optional:!0,self:!0}).flat()),{routes:Je.map(xo),injector:Ce}}))}(F,this.compiler,R,this.onLoadEndListener).pipe((0,ot.j)(()=>{this.childrenLoaders.delete(F)})),Je=new At(Ce,()=>new Pt.B).pipe(He());return this.childrenLoaders.set(F,Je),Je}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=l.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function ro(D){return function ki(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let To=(()=>{class D{static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=l.jDH({token:D,factory:()=>(0,l.WQX)(Co),providedIn:"root"})}}return D})(),Co=(()=>{class D{shouldProcessUrl(R){return!0}extract(R){return R}merge(R,F){return R}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=l.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Uo=new l.nKC(""),ql=new l.nKC("");function M(D,L,R){const F=D.get(ql),te=D.get(Ke.qQ);return D.get(l.SKi).runOutsideAngular(()=>{if(!te.startViewTransition||F.skipNextTransition)return F.skipNextTransition=!1,new Promise(zn=>setTimeout(zn));let Ce;const Je=new Promise(zn=>{Ce=zn}),en=te.startViewTransition(()=>(Ce(),function ne(D){return new Promise(L=>{(0,l.mal)({read:()=>setTimeout(L)},{injector:D})})}(D))),{onViewTransitionCreated:Vt}=F;return Vt&&(0,l.N4e)(D,()=>Vt({transition:en,from:L,to:R})),Je})}const $=new l.nKC("");let se=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pt.B,this.transitionAbortSubject=new Pt.B,this.configLoader=(0,l.WQX)(ys),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(_r),this.rootContexts=(0,l.WQX)(C),this.location=(0,l.WQX)(Ke.aZ),this.inputBindingEnabled=null!==(0,l.WQX)(Ei,{optional:!0}),this.titleStrategy=(0,l.WQX)(vl),this.options=(0,l.WQX)(Hs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,l.WQX)(To),this.createViewTransition=(0,l.WQX)(Uo,{optional:!0}),this.navigationErrorHandler=(0,l.WQX)($,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,G.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=te=>this.events.next(new ye(te)),this.configLoader.onLoadStartListener=te=>this.events.next(new he(te))}complete(){this.transitions?.complete()}handleNavigationRequest(R){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...R,id:F})}setupNavigations(R,F,te){return this.transitions=new Re.t({id:0,currentUrlTree:F,currentRawUrl:F,extractedUrl:this.urlHandlingStrategy.extract(F),urlAfterRedirects:this.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Wt,restoredState:null,currentSnapshot:te.snapshot,targetSnapshot:null,currentRouterState:te,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Dt.p)(Ce=>0!==Ce.id),(0,Le.T)(Ce=>({...Ce,extractedUrl:this.urlHandlingStrategy.extract(Ce.rawUrl)})),(0,at.n)(Ce=>{let Je=!1,en=!1;return(0,G.of)(Ce).pipe((0,at.n)(Vt=>{if(this.navigationId>Ce.id)return this.cancelNavigationTransition(Ce,"",Yn.SupersededByNewNavigation),xe.w;this.currentTransition=Ce,this.currentNavigation={id:Vt.id,initialUrl:Vt.rawUrl,extractedUrl:Vt.extractedUrl,targetBrowserUrl:"string"==typeof Vt.extras.browserUrl?this.urlSerializer.parse(Vt.extras.browserUrl):Vt.extras.browserUrl,trigger:Vt.source,extras:Vt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const zn=!R.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!zn&&"reload"!==(Vt.extras.onSameUrlNavigation??R.onSameUrlNavigation)){const li="";return this.events.next(new Lr(Vt.id,this.urlSerializer.serialize(Vt.rawUrl),li,En.IgnoredSameUrlNavigation)),Vt.resolve(!1),xe.w}if(this.urlHandlingStrategy.shouldProcessUrl(Vt.rawUrl))return(0,G.of)(Vt).pipe((0,at.n)(li=>{const ls=this.transitions?.getValue();return this.events.next(new _n(li.id,this.urlSerializer.serialize(li.extractedUrl),li.source,li.restoredState)),ls!==this.transitions?.getValue()?xe.w:Promise.resolve(li)}),function Dl(D,L,R,F,te,Ce){return(0,H.Z)(Je=>function $s(D,L,R,F,te,Ce,Je="emptyOnly"){return new js(D,L,R,F,te,Je,Ce).recognize()}(D,L,R,F,Je.extractedUrl,te,Ce).pipe((0,Le.T)(({state:en,tree:Vt})=>({...Je,targetSnapshot:en,urlAfterRedirects:Vt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,R.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,ze.M)(li=>{Ce.targetSnapshot=li.targetSnapshot,Ce.urlAfterRedirects=li.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:li.urlAfterRedirects};const ls=new Lt(li.id,this.urlSerializer.serialize(li.extractedUrl),this.urlSerializer.serialize(li.urlAfterRedirects),li.targetSnapshot);this.events.next(ls)}));if(zn&&this.urlHandlingStrategy.shouldProcessUrl(Vt.currentRawUrl)){const{id:li,extractedUrl:ls,source:Mi,restoredState:ms,extras:$o}=Vt,sa=new _n(li,this.urlSerializer.serialize(ls),Mi,ms);this.events.next(sa);const Za=un(this.rootComponentType).snapshot;return this.currentTransition=Ce={...Vt,targetSnapshot:Za,urlAfterRedirects:ls,extras:{...$o,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ls,(0,G.of)(Ce)}{const li="";return this.events.next(new Lr(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),li,En.IgnoredByUrlHandlingStrategy)),Vt.resolve(!1),xe.w}}),(0,ze.M)(Vt=>{const zn=new on(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects),Vt.targetSnapshot);this.events.next(zn)}),(0,Le.T)(Vt=>(this.currentTransition=Ce={...Vt,guards:to(Vt.targetSnapshot,Vt.currentSnapshot,this.rootContexts)},Ce)),function we(D,L){return(0,H.Z)(R=>{const{targetSnapshot:F,currentSnapshot:te,guards:{canActivateChecks:Ce,canDeactivateChecks:Je}}=R;return 0===Je.length&&0===Ce.length?(0,G.of)({...R,guardsResult:!0}):function _t(D,L,R,F){return(0,Z.H)(D).pipe((0,H.Z)(te=>function Xl(D,L,R,F,te){const Ce=L&&L.routeConfig?L.routeConfig.canDeactivate:null;if(!Ce||0===Ce.length)return(0,G.of)(!0);const Je=Ce.map(en=>{const Vt=Ts(L)??te,zn=Vs(en,Vt);return mt(function Kl(D){return D&&Fo(D.canDeactivate)}(zn)?zn.canDeactivate(D,L,R,F):(0,l.N4e)(Vt,()=>zn(D,L,R,F))).pipe((0,We.$)())});return(0,G.of)(Je).pipe(ee())}(te.component,te.route,R,L,F)),(0,We.$)(te=>!0!==te,!0))}(Je,F,te,D).pipe((0,H.Z)(en=>en&&function Yc(D){return"boolean"==typeof D}(en)?function Dr(D,L,R,F){return(0,Z.H)(L).pipe((0,bt.H)(te=>(0,Ae.x)(function yo(D,L){return null!==D&&L&&L(new ct(D)),(0,G.of)(!0)}(te.route.parent,F),function br(D,L){return null!==D&&L&&L(new wn(D)),(0,G.of)(!0)}(te.route,F),function Ga(D,L,R){const F=L[L.length-1],Ce=L.slice(0,L.length-1).reverse().map(Je=>function za(D){const L=D.routeConfig?D.routeConfig.canActivateChild:null;return L&&0!==L.length?{node:D,guards:L}:null}(Je)).filter(Je=>null!==Je).map(Je=>(0,ve.v)(()=>{const en=Je.guards.map(Vt=>{const zn=Ts(Je.node)??R,Fr=Vs(Vt,zn);return mt(function Gl(D){return D&&Fo(D.canActivateChild)}(Fr)?Fr.canActivateChild(F,D):(0,l.N4e)(zn,()=>Fr(F,D))).pipe((0,We.$)())});return(0,G.of)(en).pipe(ee())}));return(0,G.of)(Ce).pipe(ee())}(D,te.path,R),function Us(D,L,R){const F=L.routeConfig?L.routeConfig.canActivate:null;if(!F||0===F.length)return(0,G.of)(!0);const te=F.map(Ce=>(0,ve.v)(()=>{const Je=Ts(L)??R,en=Vs(Ce,Je);return mt(function Ra(D){return D&&Fo(D.canActivate)}(en)?en.canActivate(L,D):(0,l.N4e)(Je,()=>en(L,D))).pipe((0,We.$)())}));return(0,G.of)(te).pipe(ee())}(D,te.route,R))),(0,We.$)(te=>!0!==te,!0))}(F,Ce,D,L):(0,G.of)(en)),(0,Le.T)(en=>({...R,guardsResult:en})))})}(this.environmentInjector,Vt=>this.events.next(Vt)),(0,ze.M)(Vt=>{if(Ce.guardsResult=Vt.guardsResult,Vt.guardsResult&&"boolean"!=typeof Vt.guardsResult)throw ui(0,Vt.guardsResult);const zn=new ar(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects),Vt.targetSnapshot,!!Vt.guardsResult);this.events.next(zn)}),(0,Dt.p)(Vt=>!!Vt.guardsResult||(this.cancelNavigationTransition(Vt,"",Yn.GuardRejected),!1)),Io(Vt=>{if(Vt.guards.canActivateChecks.length)return(0,G.of)(Vt).pipe((0,ze.M)(zn=>{const Fr=new oi(zn.id,this.urlSerializer.serialize(zn.extractedUrl),this.urlSerializer.serialize(zn.urlAfterRedirects),zn.targetSnapshot);this.events.next(Fr)}),(0,at.n)(zn=>{let Fr=!1;return(0,G.of)(zn).pipe(function Mo(D,L){return(0,H.Z)(R=>{const{targetSnapshot:F,guards:{canActivateChecks:te}}=R;if(!te.length)return(0,G.of)(R);const Ce=new Set(te.map(Vt=>Vt.route)),Je=new Set;for(const Vt of Ce)if(!Je.has(Vt))for(const zn of qa(Vt))Je.add(zn);let en=0;return(0,Z.H)(Je).pipe((0,bt.H)(Vt=>Ce.has(Vt)?function Qa(D,L,R,F){const te=D.routeConfig,Ce=D._resolve;return void 0!==te?.title&&!qr(te)&&(Ce[Ot]=te.title),function va(D,L,R,F){const te=xn(D);if(0===te.length)return(0,G.of)({});const Ce={};return(0,Z.H)(te).pipe((0,H.Z)(Je=>function cs(D,L,R,F){const te=Ts(L)??F,Ce=Vs(D,te);return mt(Ce.resolve?Ce.resolve(L,R):(0,l.N4e)(te,()=>Ce(L,R)))}(D[Je],L,R,F).pipe((0,We.$)(),(0,ze.M)(en=>{if(en instanceof Zo)throw ui(new fi,en);Ce[Je]=en}))),Se(1),function Pe(D){return(0,Le.T)(()=>D)}(Ce),kt(Je=>Vo(Je)?xe.w:pe(Je)))}(Ce,D,L,F).pipe((0,Le.T)(Je=>(D._resolvedData=Je,D.data=jn(D,D.parent,R).resolve,null)))}(Vt,F,D,L):(Vt.data=jn(Vt,Vt.parent,D).resolve,(0,G.of)(void 0))),(0,ze.M)(()=>en++),Se(1),(0,H.Z)(Vt=>en===Je.size?(0,G.of)(R):xe.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,ze.M)({next:()=>Fr=!0,complete:()=>{Fr||this.cancelNavigationTransition(zn,"",Yn.NoDataFromResolver)}}))}),(0,ze.M)(zn=>{const Fr=new ts(zn.id,this.urlSerializer.serialize(zn.extractedUrl),this.urlSerializer.serialize(zn.urlAfterRedirects),zn.targetSnapshot);this.events.next(Fr)}))}),Io(Vt=>{const zn=Fr=>{const li=[];Fr.routeConfig?.loadComponent&&!Fr.routeConfig._loadedComponent&&li.push(this.configLoader.loadComponent(Fr.routeConfig).pipe((0,ze.M)(ls=>{Fr.component=ls}),(0,Le.T)(()=>{})));for(const ls of Fr.children)li.push(...zn(ls));return li};return(0,Q.z)(zn(Vt.targetSnapshot.root)).pipe((0,qe.U)(null),(0,Ye.s)(1))}),Io(()=>this.afterPreactivation()),(0,at.n)(()=>{const{currentSnapshot:Vt,targetSnapshot:zn}=Ce,Fr=this.createViewTransition?.(this.environmentInjector,Vt.root,zn.root);return Fr?(0,Z.H)(Fr).pipe((0,Le.T)(()=>Ce)):(0,G.of)(Ce)}),(0,Le.T)(Vt=>{const zn=function Sa(D,L,R){const F=Gs(D,L._root,R?R._root:void 0);return new Zt(F,L)}(R.routeReuseStrategy,Vt.targetSnapshot,Vt.currentRouterState);return this.currentTransition=Ce={...Vt,targetRouterState:zn},this.currentNavigation.targetRouterState=zn,Ce}),(0,ze.M)(()=>{this.events.next(new Cr)}),((D,L,R,F)=>(0,Le.T)(te=>(new wr(L,te.targetRouterState,te.currentRouterState,R,F).activate(D),te)))(this.rootContexts,R.routeReuseStrategy,Vt=>this.events.next(Vt),this.inputBindingEnabled),(0,Ye.s)(1),(0,ze.M)({next:Vt=>{Je=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qn(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects))),this.titleStrategy?.updateTitle(Vt.targetRouterState.snapshot),Vt.resolve(!0)},complete:()=>{Je=!0}}),function De(D){return(0,yt.N)((L,R)=>{(0,Mt.Tg)(D).subscribe((0,it._)(R,()=>R.complete(),Xe.l)),!R.closed&&L.subscribe(R)})}(this.transitionAbortSubject.pipe((0,ze.M)(Vt=>{throw Vt}))),(0,ot.j)(()=>{!Je&&!en&&this.cancelNavigationTransition(Ce,"",Yn.SupersededByNewNavigation),this.currentTransition?.id===Ce.id&&(this.currentNavigation=null,this.currentTransition=null)}),kt(Vt=>{if(en=!0,Ps(Vt))this.events.next(new kn(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),Vt.message,Vt.cancellationCode)),function Ls(D){return Ps(D)&&Wr(D.url)}(Vt)?this.events.next(new Pn(Vt.url,Vt.navigationBehaviorOptions)):Ce.resolve(!1);else{const zn=new Tn(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),Vt,Ce.targetSnapshot??void 0);try{const Fr=(0,l.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(zn));if(Fr instanceof Zo){const{message:li,cancellationCode:ls}=ui(0,Fr);this.events.next(new kn(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),li,ls)),this.events.next(new Pn(Fr.redirectTo,Fr.navigationBehaviorOptions))}else{this.events.next(zn);const li=R.errorHandler(Vt);Ce.resolve(!!li)}}catch(Fr){this.options.resolveNavigationPromiseOnError?Ce.resolve(!1):Ce.reject(Fr)}}return xe.w}))}))}cancelNavigationTransition(R,F,te){const Ce=new kn(R.id,this.urlSerializer.serialize(R.extractedUrl),F,te);this.events.next(Ce),R.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const R=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),F=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return R.toString()!==F?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=l.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function tt(D){return D!==Wt}let sn=(()=>{class D{static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=l.jDH({token:D,factory:()=>(0,l.WQX)(fr),providedIn:"root"})}}return D})();class yn{shouldDetach(L){return!1}store(L,R){}shouldAttach(L){return!1}retrieve(L){return null}shouldReuseRoute(L,R){return L.routeConfig===R.routeConfig}}let fr=(()=>{class D extends yn{static{this.\u0275fac=(()=>{let R;return function(te){return(R||(R=l.xGo(D)))(te||D)}})()}static{this.\u0275prov=l.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),Di=(()=>{class D{static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=l.jDH({token:D,factory:()=>(0,l.WQX)(ns),providedIn:"root"})}}return D})(),ns=(()=>{class D extends Di{constructor(){super(...arguments),this.location=(0,l.WQX)(Ke.aZ),this.urlSerializer=(0,l.WQX)(_r),this.options=(0,l.WQX)(Hs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,l.WQX)(To),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new rr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=un(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(R){return this.location.subscribe(F=>{"popstate"===F.type&&R(F.url,F.state)})}handleRouterEvent(R,F){if(R instanceof _n)this.stateMemento=this.createStateMemento();else if(R instanceof Lr)this.rawUrlTree=F.initialUrl;else if(R instanceof Lt){if("eager"===this.urlUpdateStrategy&&!F.extras.skipLocationChange){const te=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl);this.setBrowserUrl(F.targetBrowserUrl??te,F)}}else R instanceof Cr?(this.currentUrlTree=F.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&!F.extras.skipLocationChange&&this.setBrowserUrl(F.targetBrowserUrl??this.rawUrlTree,F)):R instanceof kn&&(R.code===Yn.GuardRejected||R.code===Yn.NoDataFromResolver)?this.restoreHistory(F):R instanceof Tn?this.restoreHistory(F,!0):R instanceof Qn&&(this.lastSuccessfulId=R.id,this.currentPageId=this.browserPageId)}setBrowserUrl(R,F){const te=R instanceof rr?this.urlSerializer.serialize(R):R;if(this.location.isCurrentPathEqualTo(te)||F.extras.replaceUrl){const Je={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(te,"",Je)}else{const Ce={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(te,"",Ce)}}restoreHistory(R,F=!1){if("computed"===this.canceledNavigationResolution){const Ce=this.currentPageId-this.browserPageId;0!==Ce?this.location.historyGo(Ce):this.currentUrlTree===R.finalUrl&&0===Ce&&(this.resetState(R),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(R),this.resetUrlToCurrentUrlTree())}resetState(R){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,R.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(R,F){return"computed"===this.canceledNavigationResolution?{navigationId:R,\u0275routerPageId:F}:{navigationId:R}}static{this.\u0275fac=(()=>{let R;return function(te){return(R||(R=l.xGo(D)))(te||D)}})()}static{this.\u0275prov=l.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var Vi=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Vi||{});function Ii(D,L){D.events.pipe((0,Dt.p)(R=>R instanceof Qn||R instanceof kn||R instanceof Tn||R instanceof Lr),(0,Le.T)(R=>R instanceof Qn||R instanceof Lr?Vi.COMPLETE:R instanceof kn&&(R.code===Yn.Redirect||R.code===Yn.SupersededByNewNavigation)?Vi.REDIRECTING:Vi.FAILED),(0,Dt.p)(R=>R!==Vi.REDIRECTING),(0,Ye.s)(1)).subscribe(()=>{L()})}function os(D){throw D}const $r={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sr=(()=>{class D{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,l.WQX)(l.H3F),this.stateManager=(0,l.WQX)(Di),this.options=(0,l.WQX)(Hs,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,l.WQX)(se),this.urlSerializer=(0,l.WQX)(_r),this.location=(0,l.WQX)(Ke.aZ),this.urlHandlingStrategy=(0,l.WQX)(To),this._events=new Pt.B,this.errorHandler=this.options.errorHandler||os,this.navigated=!1,this.routeReuseStrategy=(0,l.WQX)(sn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,l.WQX)(Ya,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,l.WQX)(Ei,{optional:!0}),this.eventsSubscription=new nt.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:R=>{this.console.warn(R)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const R=this.navigationTransitions.events.subscribe(F=>{try{const te=this.navigationTransitions.currentTransition,Ce=this.navigationTransitions.currentNavigation;if(null!==te&&null!==Ce)if(this.stateManager.handleRouterEvent(F,Ce),F instanceof kn&&F.code!==Yn.Redirect&&F.code!==Yn.SupersededByNewNavigation)this.navigated=!0;else if(F instanceof Qn)this.navigated=!0;else if(F instanceof Pn){const Je=F.navigationBehaviorOptions,en=this.urlHandlingStrategy.merge(F.url,te.currentRawUrl),Vt={browserUrl:te.extras.browserUrl,info:te.extras.info,skipLocationChange:te.extras.skipLocationChange,replaceUrl:te.extras.replaceUrl||"eager"===this.urlUpdateStrategy||tt(te.source),...Je};this.scheduleNavigation(en,Wt,null,Vt,{resolve:te.resolve,reject:te.reject,promise:te.promise})}(function Es(D){return!(D instanceof Cr||D instanceof Pn)})(F)&&this._events.next(F)}catch(te){this.navigationTransitions.transitionAbortSubject.next(te)}});this.eventsSubscription.add(R)}resetRootComponentType(R){this.routerState.root.component=R,this.navigationTransitions.rootComponentType=R}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((R,F)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(R,"popstate",F)},0)})}navigateToSyncWithBrowser(R,F,te){const Ce={replaceUrl:!0},Je=te?.navigationId?te:null;if(te){const Vt={...te};delete Vt.navigationId,delete Vt.\u0275routerPageId,0!==Object.keys(Vt).length&&(Ce.state=Vt)}const en=this.parseUrl(R);this.scheduleNavigation(en,F,Je,Ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(R){this.config=R.map(xo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(R,F={}){const{relativeTo:te,queryParams:Ce,fragment:Je,queryParamsHandling:en,preserveFragment:Vt}=F,zn=Vt?this.currentUrlTree.fragment:Je;let li,Fr=null;switch(en??this.options.defaultQueryParamsHandling){case"merge":Fr={...this.currentUrlTree.queryParams,...Ce};break;case"preserve":Fr=this.currentUrlTree.queryParams;break;default:Fr=Ce||null}null!==Fr&&(Fr=this.removeEmptyProps(Fr));try{li=Oi(te?te.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof R[0]||"/"!==R[0][0])&&(R=[]),li=this.currentUrlTree.root}return Gi(li,R,Fr,zn??null)}navigateByUrl(R,F={skipLocationChange:!1}){const te=Wr(R)?R:this.parseUrl(R),Ce=this.urlHandlingStrategy.merge(te,this.rawUrlTree);return this.scheduleNavigation(Ce,Wt,null,F)}navigate(R,F={skipLocationChange:!1}){return function vi(D){for(let L=0;L<D.length;L++)if(null==D[L])throw new l.wOt(4008,!1)}(R),this.navigateByUrl(this.createUrlTree(R,F),F)}serializeUrl(R){return this.urlSerializer.serialize(R)}parseUrl(R){try{return this.urlSerializer.parse(R)}catch{return this.urlSerializer.parse("/")}}isActive(R,F){let te;if(te=!0===F?{...$r}:!1===F?{...Rn}:F,Wr(R))return Mn(this.currentUrlTree,R,te);const Ce=this.parseUrl(R);return Mn(this.currentUrlTree,Ce,te)}removeEmptyProps(R){return Object.entries(R).reduce((F,[te,Ce])=>(null!=Ce&&(F[te]=Ce),F),{})}scheduleNavigation(R,F,te,Ce,Je){if(this.disposed)return Promise.resolve(!1);let en,Vt,zn;Je?(en=Je.resolve,Vt=Je.reject,zn=Je.promise):zn=new Promise((li,ls)=>{en=li,Vt=ls});const Fr=this.pendingTasks.add();return Ii(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Fr))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:te,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:R,extras:Ce,resolve:en,reject:Vt,promise:zn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),zn.catch(li=>Promise.reject(li))}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=l.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),Hi=(()=>{class D{constructor(R,F,te,Ce,Je,en){this.router=R,this.route=F,this.tabIndexAttribute=te,this.renderer=Ce,this.el=Je,this.locationStrategy=en,this.href=null,this.onChanges=new Pt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Vt=Je.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Vt||"area"===Vt,this.isAnchorElement?this.subscription=R.events.subscribe(zn=>{zn instanceof Qn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(R){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",R)}ngOnChanges(R){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(R){null==R?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Wr(R)||Array.isArray(R)?R:[R],this.setTabIndexIfNotOnNativeEl("0"))}onClick(R,F,te,Ce,Je){const en=this.urlTree;return!!(null===en||this.isAnchorElement&&(0!==R||F||te||Ce||Je||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(en,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const R=this.urlTree;this.href=null!==R&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(R)):null;const F=null===this.href?null:(0,l.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",F)}applyAttributeValue(R,F){const te=this.renderer,Ce=this.el.nativeElement;null!==F?te.setAttribute(Ce,R,F):te.removeAttribute(Ce,R)}get urlTree(){return null===this.routerLinkInput?null:Wr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(F){return new(F||D)(l.rXU(sr),l.rXU(fn),l.kS0("tabindex"),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(Ke.hb))}}static{this.\u0275dir=l.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(F,te){1&F&&l.bIt("click",function(Je){return te.onClick(Je.button,Je.ctrlKey,Je.shiftKey,Je.altKey,Je.metaKey)}),2&F&&l.BMQ("target",te.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",l.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",l.L39],replaceUrl:[2,"replaceUrl","replaceUrl",l.L39],routerLink:"routerLink"},standalone:!0,features:[l.GFd,l.OA$]})}}return D})();class di{}let Yi=(()=>{class D{preload(R,F){return F().pipe(kt(()=>(0,G.of)(null)))}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=l.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),jr=(()=>{class D{constructor(R,F,te,Ce,Je){this.router=R,this.injector=te,this.preloadingStrategy=Ce,this.loader=Je}setUpPreloading(){this.subscription=this.router.events.pipe((0,Dt.p)(R=>R instanceof Qn),(0,bt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(R,F){const te=[];for(const Ce of F){Ce.providers&&!Ce._injector&&(Ce._injector=(0,l.Ol2)(Ce.providers,R,`Route: ${Ce.path}`));const Je=Ce._injector??R,en=Ce._loadedInjector??Je;(Ce.loadChildren&&!Ce._loadedRoutes&&void 0===Ce.canLoad||Ce.loadComponent&&!Ce._loadedComponent)&&te.push(this.preloadConfig(Je,Ce)),(Ce.children||Ce._loadedRoutes)&&te.push(this.processRoutes(en,Ce.children??Ce._loadedRoutes))}return(0,Z.H)(te).pipe((0,Ct.U)())}preloadConfig(R,F){return this.preloadingStrategy.preload(F,()=>{let te;te=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(R,F):(0,G.of)(null);const Ce=te.pipe((0,H.Z)(Je=>null===Je?(0,G.of)(void 0):(F._loadedRoutes=Je.routes,F._loadedInjector=Je.injector,this.processRoutes(Je.injector??R,Je.routes))));if(F.loadComponent&&!F._loadedComponent){const Je=this.loader.loadComponent(F);return(0,Z.H)([Ce,Je]).pipe((0,Ct.U)())}return Ce})}static{this.\u0275fac=function(F){return new(F||D)(l.KVO(sr),l.KVO(l.Ql9),l.KVO(l.uvJ),l.KVO(di),l.KVO(ys))}}static{this.\u0275prov=l.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const _a=new l.nKC("");let Ql=(()=>{class D{constructor(R,F,te,Ce,Je={}){this.urlSerializer=R,this.transitions=F,this.viewportScroller=te,this.zone=Ce,this.options=Je,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Je.scrollPositionRestoration||="disabled",Je.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof _n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=R.navigationTrigger,this.restoredId=R.restoredState?R.restoredState.navigationId:0):R instanceof Qn?(this.lastId=R.id,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.urlAfterRedirects).fragment)):R instanceof Lr&&R.code===En.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof er&&(R.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(R.position):R.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(R.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(R,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new er(R,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(F){l.QTQ()}}static{this.\u0275prov=l.jDH({token:D,factory:D.\u0275fac})}}return D})();function As(D,L){return{\u0275kind:D,\u0275providers:L}}function Xs(){const D=(0,l.WQX)(l.zZn);return L=>{const R=D.get(l.o8S);if(L!==R.components[0])return;const F=D.get(sr),te=D.get(Yl);1===D.get(so)&&F.initialNavigation(),D.get(mo,null,l.$GK.Optional)?.setUpPreloading(),D.get(_a,null,l.$GK.Optional)?.init(),F.resetRootComponentType(R.componentTypes[0]),te.closed||(te.next(),te.complete(),te.unsubscribe())}}const Yl=new l.nKC("",{factory:()=>new Pt.B}),so=new l.nKC("",{providedIn:"root",factory:()=>1}),mo=new l.nKC("");function Oa(D){return As(0,[{provide:mo,useExisting:jr},{provide:di,useExisting:D}])}function oo(D){return As(9,[{provide:Uo,useValue:M},{provide:ql,useValue:{skipNextTransition:!!D?.skipInitialTransition,...D}}])}const Bo=new l.nKC("ROUTER_FORROOT_GUARD"),Ja=[Ke.aZ,{provide:_r,useClass:fi},sr,C,{provide:fn,useFactory:function rs(D){return D.routerState.root},deps:[sr]},ys,[]];let ao=(()=>{class D{constructor(R){}static forRoot(R,F){return{ngModule:D,providers:[Ja,[],{provide:Ya,multi:!0,useValue:R},{provide:Bo,useFactory:eu,deps:[[sr,new l.Xx1,new l.kdw]]},{provide:Hs,useValue:F||{}},F?.useHash?{provide:Ke.hb,useClass:Ke.fw}:{provide:Ke.hb,useClass:Ke.Sm},{provide:_a,useFactory:()=>{const D=(0,l.WQX)(Ke.Xr),L=(0,l.WQX)(l.SKi),R=(0,l.WQX)(Hs),F=(0,l.WQX)(se),te=(0,l.WQX)(_r);return R.scrollOffset&&D.setOffset(R.scrollOffset),new Ql(te,F,D,L,R)}},F?.preloadingStrategy?Oa(F.preloadingStrategy).\u0275providers:[],F?.initialNavigation?tu(F):[],F?.bindToComponentInputs?As(8,[ho,{provide:Ei,useExisting:ho}]).\u0275providers:[],F?.enableViewTransitions?oo().\u0275providers:[],[{provide:si,useFactory:Xs},{provide:l.iLQ,multi:!0,useExisting:si}]]}}static forChild(R){return{ngModule:D,providers:[{provide:Ya,multi:!0,useValue:R}]}}static{this.\u0275fac=function(F){return new(F||D)(l.KVO(Bo,8))}}static{this.\u0275mod=l.$C({type:D})}static{this.\u0275inj=l.G2t({})}}return D})();function eu(D){return"guarded"}function tu(D){return["disabled"===D.initialNavigation?As(3,[{provide:l.hnV,multi:!0,useFactory:()=>{const L=(0,l.WQX)(sr);return()=>{L.setUpLocationChangeListener()}}},{provide:so,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?As(2,[{provide:so,useValue:0},{provide:l.hnV,multi:!0,deps:[l.zZn],useFactory:L=>{const R=L.get(Ke.hj,Promise.resolve());return()=>R.then(()=>new Promise(F=>{const te=L.get(sr),Ce=L.get(Yl);Ii(te,()=>{F(!0)}),L.get(se).afterPreactivation=()=>(F(!0),Ce.closed?(0,G.of)(void 0):Ce),te.initialNavigation()}))}}]).\u0275providers:[]]}const si=new l.nKC("")},2872:(In,dt,N)=>{"use strict";N.d(dt,{Yq:()=>mt,TS:()=>Nn,sR:()=>xn,el:()=>Jr,Sb:()=>fi,QE:()=>Wr,CF:()=>Tr,Rg:()=>Ge,p4:()=>kr,jM:()=>$i,q9:()=>Nt,Kb:()=>zt,OD:()=>fe,CE:()=>gi,pF:()=>xr,fL:()=>Gi,YV:()=>xt,er:()=>Oi,z3:()=>Ur});var l=N(467),U=N(4438),Z=N(6822),G=N(177),Re=N(5531),Q=N(4442);var ze=N(1413),Mt=N(3726),kt=N(4412),cn=N(4572),qe=N(7673),Se=N(1635),Ie=N(5964),Me=N(5558),le=N(3294),Pe=N(9417);const ot=["tabsInner"];let fe=(()=>{class ae{doc;_readyPromise;win;backButton=new ze.B;keyboardDidShow=new ze.B;keyboardDidHide=new ze.B;pause=new ze.B;resume=new ze.B;resize=new ze.B;constructor(ie,J){this.doc=ie,J.run(()=>{let Ve;this.win=ie.defaultView,this.backButton.subscribeWithPriority=function(pt,an){return this.subscribe(Qt=>Qt.register(pt,de=>J.run(()=>an(de))))},Ot(this.pause,ie,"pause",J),Ot(this.resume,ie,"resume",J),Ot(this.backButton,ie,"ionBackButton",J),Ot(this.resize,this.win,"resize",J),Ot(this.keyboardDidShow,this.win,"ionKeyboardDidShow",J),Ot(this.keyboardDidHide,this.win,"ionKeyboardDidHide",J),this._readyPromise=new Promise(pt=>{Ve=pt}),this.win?.cordova?ie.addEventListener("deviceready",()=>{Ve("cordova")},{once:!0}):Ve("dom")})}is(ie){return(0,Re.a)(this.win,ie)}platforms(){return(0,Re.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(ie){return st(this.win.location.href,ie)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(ie){const J=this.win.navigator;return!!(J?.userAgent&&J.userAgent.indexOf(ie)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}static \u0275fac=function(J){return new(J||ae)(U.KVO(G.qQ),U.KVO(U.SKi))};static \u0275prov=U.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const st=(ae,_e)=>{_e=_e.replace(/[[\]\\]/g,"\\$&");const J=new RegExp("[\\?&]"+_e+"=([^&#]*)").exec(ae);return J?decodeURIComponent(J[1].replace(/\+/g," ")):null},Ot=(ae,_e,ie,J)=>{_e&&_e.addEventListener(ie,Ve=>{J.run(()=>{const pt=Ve?.detail;ae.next(pt)})})};let Nt=(()=>{class ae{location;serializer;router;topOutlet;direction=Vn;animated=Gn;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(ie,J,Ve,pt){this.location=J,this.serializer=Ve,this.router=pt,pt&&pt.events.subscribe(an=>{if(an instanceof Z.Z){const Qt=an.restoredState?an.restoredState.navigationId:an.id;this.guessDirection=this.guessAnimation=Qt<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?an.id:Qt}}),ie.backButton.subscribeWithPriority(0,an=>{this.pop(),an()})}navigateForward(ie,J={}){return this.setDirection("forward",J.animated,J.animationDirection,J.animation),this.navigate(ie,J)}navigateBack(ie,J={}){return this.setDirection("back",J.animated,J.animationDirection,J.animation),this.navigate(ie,J)}navigateRoot(ie,J={}){return this.setDirection("root",J.animated,J.animationDirection,J.animation),this.navigate(ie,J)}back(ie={animated:!0,animationDirection:"back"}){return this.setDirection("back",ie.animated,ie.animationDirection,ie.animation),this.location.back()}pop(){var ie=this;return(0,l.A)(function*(){let J=ie.topOutlet;for(;J;){if(yield J.pop())return!0;J=J.parentOutlet}return!1})()}setDirection(ie,J,Ve,pt){this.direction=ie,this.animated=hn(ie,J,Ve),this.animationBuilder=pt}setTopOutlet(ie){this.topOutlet=ie}consumeTransition(){let J,ie="root";const Ve=this.animationBuilder;return"auto"===this.direction?(ie=this.guessDirection,J=this.guessAnimation):(J=this.animated,ie=this.direction),this.direction=Vn,this.animated=Gn,this.animationBuilder=void 0,{direction:ie,animation:J,animationBuilder:Ve}}navigate(ie,J){if(Array.isArray(ie))return this.router.navigate(ie,J);{const Ve=this.serializer.parse(ie.toString());return void 0!==J.queryParams&&(Ve.queryParams={...J.queryParams}),void 0!==J.fragment&&(Ve.fragment=J.fragment),this.router.navigateByUrl(Ve,J)}}static \u0275fac=function(J){return new(J||ae)(U.KVO(fe),U.KVO(G.aZ),U.KVO(Z.Sd),U.KVO(Z.Ix,8))};static \u0275prov=U.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const hn=(ae,_e,ie)=>{if(!1!==_e){if(void 0!==ie)return ie;if("forward"===ae||"back"===ae)return ae;if("root"===ae&&!0===_e)return"forward"}},Vn="auto",Gn=void 0;let Nn=(()=>{class ae{get(ie,J){const Ve=Un();return Ve?Ve.get(ie,J):null}getBoolean(ie,J){const Ve=Un();return!!Ve&&Ve.getBoolean(ie,J)}getNumber(ie,J){const Ve=Un();return Ve?Ve.getNumber(ie,J):0}static \u0275fac=function(J){return new(J||ae)};static \u0275prov=U.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const xn=new U.nKC("USERCONFIG"),Un=()=>{if(typeof window<"u"){const ae=window.Ionic;if(ae?.config)return ae.config}return null};class Xn{data;constructor(_e={}){this.data=_e,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(_e){return this.data[_e]}}let mt=(()=>{class ae{zone=(0,U.WQX)(U.SKi);applicationRef=(0,U.WQX)(U.o8S);config=(0,U.WQX)(xn);create(ie,J,Ve){return new Gt(ie,J,this.applicationRef,this.zone,Ve,this.config.useSetInputAPI??!1)}static \u0275fac=function(J){return new(J||ae)};static \u0275prov=U.jDH({token:ae,factory:ae.\u0275fac})}return ae})();class Gt{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(_e,ie,J,Ve,pt,an){this.environmentInjector=_e,this.injector=ie,this.applicationRef=J,this.zone=Ve,this.elementReferenceKey=pt,this.enableSignalsSupport=an}attachViewToDom(_e,ie,J,Ve){return this.zone.run(()=>new Promise(pt=>{const an={...J};void 0!==this.elementReferenceKey&&(an[this.elementReferenceKey]=_e),pt(Ht(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,_e,ie,an,Ve,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(_e,ie){return this.zone.run(()=>new Promise(J=>{const Ve=this.elRefMap.get(ie);if(Ve){Ve.destroy(),this.elRefMap.delete(ie);const pt=this.elEventsMap.get(ie);pt&&(pt(),this.elEventsMap.delete(ie))}J()}))}}const Ht=(ae,_e,ie,J,Ve,pt,an,Qt,de,Ue,Qe,Wt)=>{const Xt=U.zZn.create({providers:Jn(de),parent:ie}),Et=(0,U.a0P)(Qt,{environmentInjector:_e,elementInjector:Xt}),_n=Et.instance,Qn=Et.location.nativeElement;if(de)if(Qe&&void 0!==_n[Qe]&&console.error(`[Ionic Error]: ${Qe} is a reserved property when using ${an.tagName.toLowerCase()}. Rename or remove the "${Qe}" property from ${Qt.name}.`),!0===Wt&&void 0!==Et.setInput){const{modal:En,popover:kn,...Lr}=de;for(const Tn in Lr)Et.setInput(Tn,Lr[Tn]);void 0!==En&&Object.assign(_n,{modal:En}),void 0!==kn&&Object.assign(_n,{popover:kn})}else Object.assign(_n,de);if(Ue)for(const En of Ue)Qn.classList.add(En);const Yn=Er(ae,_n,Qn);return an.appendChild(Qn),J.attachView(Et.hostView),Ve.set(Qn,Et),pt.set(Qn,Yn),Qn},Mn=[Q.L,Q.a,Q.b,Q.c,Q.d],Er=(ae,_e,ie)=>ae.run(()=>{const J=Mn.filter(Ve=>"function"==typeof _e[Ve]).map(Ve=>{const pt=an=>_e[Ve](an.detail);return ie.addEventListener(Ve,pt),()=>ie.removeEventListener(Ve,pt)});return()=>J.forEach(Ve=>Ve())}),ir=new U.nKC("NavParamsToken"),Jn=ae=>[{provide:ir,useValue:ae},{provide:Xn,useFactory:Hn,deps:[ir]}],Hn=ae=>new Xn(ae),Nr=(ae,_e)=>{const ie=ae.prototype;_e.forEach(J=>{Object.defineProperty(ie,J,{get(){return this.el[J]},set(Ve){this.z.runOutsideAngular(()=>this.el[J]=Ve)}})})},Rr=(ae,_e)=>{const ie=ae.prototype;_e.forEach(J=>{ie[J]=function(){const Ve=arguments;return this.z.runOutsideAngular(()=>this.el[J].apply(this.el,Ve))}})},rr=(ae,_e,ie)=>{ie.forEach(J=>ae[J]=(0,Mt.R)(_e,J))};function dr(ae){return function(ie){const{defineCustomElementFn:J,inputs:Ve,methods:pt}=ae;return void 0!==J&&J(),Ve&&Nr(ie,Ve),pt&&Rr(ie,pt),ie}}const Or=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Qr=["present","dismiss","onDidDismiss","onWillDismiss"];let Tr=(()=>{let ae=class lC{z;template;isCmpOpen=!1;el;constructor(ie,J,Ve){this.z=Ve,this.el=J.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ie.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ie.detectChanges()}),rr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(J){return new(J||lC)(U.rXU(U.gRc),U.rXU(U.aKT),U.rXU(U.SKi))};static \u0275dir=U.FsC({type:lC,selectors:[["ion-popover"]],contentQueries:function(J,Ve,pt){if(1&J&&U.wni(pt,U.C4Q,5),2&J){let an;U.mGM(an=U.lsd())&&(Ve.template=an.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})};return ae=(0,Se.Cg)([dr({inputs:Or,methods:Qr})],ae),ae})();const pr=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","expandToScroll","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],_r=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let fi=(()=>{let ae=class cC{z;template;isCmpOpen=!1;el;constructor(ie,J,Ve){this.z=Ve,this.el=J.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ie.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ie.detectChanges()}),rr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(J){return new(J||cC)(U.rXU(U.gRc),U.rXU(U.aKT),U.rXU(U.SKi))};static \u0275dir=U.FsC({type:cC,selectors:[["ion-modal"]],contentQueries:function(J,Ve,pt){if(1&J&&U.wni(pt,U.C4Q,5),2&J){let an;U.mGM(an=U.lsd())&&(Ve.template=an.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",expandToScroll:"expandToScroll",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})};return ae=(0,Se.Cg)([dr({inputs:pr,methods:_r})],ae),ae})();const pi=(ae,_e)=>((ae=ae.filter(ie=>ie.stackId!==_e.stackId)).push(_e),ae),ci=(ae,_e)=>{const ie=ae.createUrlTree(["."],{relativeTo:_e});return ae.serializeUrl(ie)},Ai=(ae,_e)=>!_e||ae.stackId!==_e.stackId,jt=(ae,_e)=>{if(!ae)return;const ie=ht(_e);for(let J=0;J<ie.length;J++){if(J>=ae.length)return ie[J];if(ie[J]!==ae[J])return}},ht=ae=>ae.split("/").map(_e=>_e.trim()).filter(_e=>""!==_e),rt=ae=>{ae&&(ae.ref.destroy(),ae.unlistenEvents())};class Tt{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(_e,ie,J,Ve,pt,an){this.containerEl=ie,this.router=J,this.navCtrl=Ve,this.zone=pt,this.location=an,this.tabsPrefix=void 0!==_e?ht(_e):void 0}createView(_e,ie){const J=ci(this.router,ie),Ve=_e?.location?.nativeElement,pt=Er(this.zone,_e.instance,Ve);return{id:this.nextId++,stackId:jt(this.tabsPrefix,J),unlistenEvents:pt,element:Ve,ref:_e,url:J}}getExistingView(_e){const ie=ci(this.router,_e),J=this.views.find(Ve=>Ve.url===ie);return J&&J.ref.changeDetectorRef.reattach(),J}setActive(_e){const ie=this.navCtrl.consumeTransition();let{direction:J,animation:Ve,animationBuilder:pt}=ie;const an=this.activeView,Qt=Ai(_e,an);Qt&&(J="back",Ve=void 0);const de=this.views.slice();let Ue;const Qe=this.router;Qe.getCurrentNavigation?Ue=Qe.getCurrentNavigation():Qe.navigations?.value&&(Ue=Qe.navigations.value),Ue?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Wt=this.views.includes(_e),Xt=this.insertView(_e,J);Wt||_e.ref.changeDetectorRef.detectChanges();const Et=_e.animationBuilder;return void 0===pt&&"back"===J&&!Qt&&void 0!==Et&&(pt=Et),an&&(an.animationBuilder=pt),this.zone.runOutsideAngular(()=>this.wait(()=>(an&&an.ref.changeDetectorRef.detach(),_e.ref.changeDetectorRef.reattach(),this.transition(_e,an,Ve,this.canGoBack(1),!1,pt).then(()=>dn(_e,Xt,de,this.location,this.zone)).then(()=>({enteringView:_e,direction:J,animation:Ve,tabSwitch:Qt})))))}canGoBack(_e,ie=this.getActiveStackId()){return this.getStack(ie).length>_e}pop(_e,ie=this.getActiveStackId()){return this.zone.run(()=>{const J=this.getStack(ie);if(J.length<=_e)return Promise.resolve(!1);const Ve=J[J.length-_e-1];let pt=Ve.url;const an=Ve.savedData;if(an){const de=an.get("primary");de?.route?._routerState?.snapshot.url&&(pt=de.route._routerState.snapshot.url)}const{animationBuilder:Qt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(pt,{...Ve.savedExtras,animation:Qt}).then(()=>!0)})}startBackTransition(){const _e=this.activeView;if(_e){const ie=this.getStack(_e.stackId),J=ie[ie.length-2],Ve=J.animationBuilder;return this.wait(()=>this.transition(J,_e,"back",this.canGoBack(2),!0,Ve))}return Promise.resolve()}endBackTransition(_e){_e?(this.skipTransition=!0,this.pop(1)):this.activeView&&Bn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(_e){const ie=this.getStack(_e);return ie.length>0?ie[ie.length-1]:void 0}getRootUrl(_e){const ie=this.getStack(_e);return ie.length>0?ie[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(rt),this.activeView=void 0,this.views=[]}getStack(_e){return this.views.filter(ie=>ie.stackId===_e)}insertView(_e,ie){return this.activeView=_e,this.views=((ae,_e,ie)=>"root"===ie?pi(ae,_e):"forward"===ie?((ae,_e)=>(ae.indexOf(_e)>=0?ae=ae.filter(J=>J.stackId!==_e.stackId||J.id<=_e.id):ae.push(_e),ae))(ae,_e):((ae,_e)=>ae.indexOf(_e)>=0?ae.filter(J=>J.stackId!==_e.stackId||J.id<=_e.id):pi(ae,_e))(ae,_e))(this.views,_e,ie),this.views.slice()}transition(_e,ie,J,Ve,pt,an){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(ie===_e)return Promise.resolve(!1);const Qt=_e?_e.element:void 0,de=ie?ie.element:void 0,Ue=this.containerEl;return Qt&&Qt!==de&&(Qt.classList.add("ion-page"),Qt.classList.add("ion-page-invisible"),Ue.commit)?Ue.commit(Qt,de,{duration:void 0===J?0:void 0,direction:J,showGoBack:Ve,progressAnimation:pt,animationBuilder:an}):Promise.resolve(!1)}wait(_e){var ie=this;return(0,l.A)(function*(){void 0!==ie.runningTask&&(yield ie.runningTask,ie.runningTask=void 0);const J=ie.runningTask=_e();return J.finally(()=>ie.runningTask=void 0),J})()}}const dn=(ae,_e,ie,J,Ve)=>"function"==typeof requestAnimationFrame?new Promise(pt=>{requestAnimationFrame(()=>{Bn(ae,_e,ie,J,Ve),pt()})}):Promise.resolve(),Bn=(ae,_e,ie,J,Ve)=>{Ve.run(()=>ie.filter(pt=>!_e.includes(pt)).forEach(rt)),_e.forEach(pt=>{const Qt=J.path().split("?")[0].split("#")[0];if(pt!==ae&&pt.url!==Qt){const de=pt.element;de.setAttribute("aria-hidden","true"),de.classList.add("ion-page-hidden"),pt.ref.changeDetectorRef.detach()}})};let Ge=(()=>{class ae{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new kt.t(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z.Xk;stackWillChange=new U.bkB;stackDidChange=new U.bkB;activateEvents=new U.bkB;deactivateEvents=new U.bkB;parentContexts=(0,U.WQX)(Z.Zp);location=(0,U.WQX)(U.c1b);environmentInjector=(0,U.WQX)(U.uvJ);inputBinder=(0,U.WQX)(vt,{optional:!0});supportsBindingToComponentInputs=!0;config=(0,U.WQX)(Nn);navCtrl=(0,U.WQX)(Nt);set animation(ie){this.nativeEl.animation=ie}set animated(ie){this.nativeEl.animated=ie}set swipeGesture(ie){this._swipeGesture=ie,this.nativeEl.swipeHandler=ie?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:J=>this.stackCtrl.endBackTransition(J)}:void 0}constructor(ie,J,Ve,pt,an,Qt,de,Ue){this.parentOutlet=Ue,this.nativeEl=pt.nativeElement,this.name=ie||Z.Xk,this.tabsPrefix="true"===J?ci(an,de):void 0,this.stackCtrl=new Tt(this.tabsPrefix,this.nativeEl,an,this.navCtrl,Qt,Ve),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const ie=this.getContext();ie?.route&&this.activateWith(ie.route,ie.injector)}new Promise(ie=>((ae,_e)=>{ae.componentOnReady?ae.componentOnReady().then(ie=>_e(ie)):(ae=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ae):"function"==typeof requestAnimationFrame?requestAnimationFrame(ae):setTimeout(ae)})(()=>_e(ae))})(this.nativeEl,ie)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(ie,J){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const J=this.getContext();this.activatedView.savedData=new Map(J.children.contexts);const Ve=this.activatedView.savedData.get("primary");if(Ve&&J.route&&(Ve.route={...J.route}),this.activatedView.savedExtras={},J.route){const pt=J.route.snapshot;this.activatedView.savedExtras.queryParams=pt.queryParams,this.activatedView.savedExtras.fragment=pt.fragment}}const ie=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ie)}}activateWith(ie,J){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=ie;let Ve,pt=this.stackCtrl.getExistingView(ie);if(pt){Ve=this.activated=pt.ref;const Qt=pt.savedData;Qt&&(this.getContext().children.contexts=Qt),this.updateActivatedRouteProxy(Ve.instance,ie)}else{const Qt=ie._futureSnapshot,de=this.parentContexts.getOrCreateContext(this.name).children,Ue=new kt.t(null),Qe=this.createActivatedRouteProxy(Ue,ie),Wt=new $e(Qe,de,this.location.injector);Ve=this.activated=this.outletContent.createComponent(Qt.routeConfig.component??Qt.component,{index:this.outletContent.length,injector:Wt,environmentInjector:J??this.environmentInjector}),Ue.next(Ve.instance),pt=this.stackCtrl.createView(this.activated,ie),this.proxyMap.set(Ve.instance,Qe),this.currentActivatedRoute$.next({component:Ve.instance,activatedRoute:ie})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=pt,this.navCtrl.setTopOutlet(this);const an=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:pt,tabSwitch:Ai(pt,an)}),this.stackCtrl.setActive(pt).then(Qt=>{this.activateEvents.emit(Ve.instance),this.stackDidChange.emit(Qt)})}canGoBack(ie=1,J){return this.stackCtrl.canGoBack(ie,J)}pop(ie=1,J){return this.stackCtrl.pop(ie,J)}getLastUrl(ie){const J=this.stackCtrl.getLastUrl(ie);return J?J.url:void 0}getLastRouteView(ie){return this.stackCtrl.getLastUrl(ie)}getRootView(ie){return this.stackCtrl.getRootUrl(ie)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(ie,J){const Ve=new Z.nX;return Ve._futureSnapshot=J._futureSnapshot,Ve._routerState=J._routerState,Ve.snapshot=J.snapshot,Ve.outlet=J.outlet,Ve.component=J.component,Ve._paramMap=this.proxyObservable(ie,"paramMap"),Ve._queryParamMap=this.proxyObservable(ie,"queryParamMap"),Ve.url=this.proxyObservable(ie,"url"),Ve.params=this.proxyObservable(ie,"params"),Ve.queryParams=this.proxyObservable(ie,"queryParams"),Ve.fragment=this.proxyObservable(ie,"fragment"),Ve.data=this.proxyObservable(ie,"data"),Ve}proxyObservable(ie,J){return ie.pipe((0,Ie.p)(Ve=>!!Ve),(0,Me.n)(Ve=>this.currentActivatedRoute$.pipe((0,Ie.p)(pt=>null!==pt&&pt.component===Ve),(0,Me.n)(pt=>pt&&pt.activatedRoute[J]),(0,le.F)())))}updateActivatedRouteProxy(ie,J){const Ve=this.proxyMap.get(ie);if(!Ve)throw new Error("Could not find activated route proxy for view");Ve._futureSnapshot=J._futureSnapshot,Ve._routerState=J._routerState,Ve.snapshot=J.snapshot,Ve.outlet=J.outlet,Ve.component=J.component,this.currentActivatedRoute$.next({component:ie,activatedRoute:J})}static \u0275fac=function(J){return new(J||ae)(U.kS0("name"),U.kS0("tabs"),U.rXU(G.aZ),U.rXU(U.aKT),U.rXU(Z.Ix),U.rXU(U.SKi),U.rXU(Z.nX),U.rXU(ae,12))};static \u0275dir=U.FsC({type:ae,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})}return ae})();class $e{route;childContexts;parent;constructor(_e,ie,J){this.route=_e,this.childContexts=ie,this.parent=J}get(_e,ie){return _e===Z.nX?this.route:_e===Z.Zp?this.childContexts:this.parent.get(_e,ie)}}const vt=new U.nKC("");let Jt=(()=>{class ae{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(ie){this.unsubscribeFromRouteData(ie),this.subscribeToRouteData(ie)}unsubscribeFromRouteData(ie){this.outletDataSubscriptions.get(ie)?.unsubscribe(),this.outletDataSubscriptions.delete(ie)}subscribeToRouteData(ie){const{activatedRoute:J}=ie,Ve=(0,cn.z)([J.queryParams,J.params,J.data]).pipe((0,Me.n)(([pt,an,Qt],de)=>(Qt={...pt,...an,...Qt},0===de?(0,qe.of)(Qt):Promise.resolve(Qt)))).subscribe(pt=>{if(!ie.isActivated||!ie.activatedComponentRef||ie.activatedRoute!==J||null===J.component)return void this.unsubscribeFromRouteData(ie);const an=(0,U.HJs)(J.component);if(an)for(const{templateName:Qt}of an.inputs)ie.activatedComponentRef.setInput(Qt,pt[Qt]);else this.unsubscribeFromRouteData(ie)});this.outletDataSubscriptions.set(ie,Ve)}static \u0275fac=function(J){return new(J||ae)};static \u0275prov=U.jDH({token:ae,factory:ae.\u0275fac})}return ae})();const xt=()=>({provide:vt,useFactory:Fn,deps:[Z.Ix]});function Fn(ae){return ae?.componentInputBindingEnabled?new Jt:null}const qn=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Jr=(()=>{let ae=class uC{routerOutlet;navCtrl;config;r;z;el;constructor(ie,J,Ve,pt,an,Qt){this.routerOutlet=ie,this.navCtrl=J,this.config=Ve,this.r=pt,this.z=an,Qt.detach(),this.el=this.r.nativeElement}onClick(ie){const J=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),ie.preventDefault()):null!=J&&(this.navCtrl.navigateBack(J,{animation:this.routerAnimation}),ie.preventDefault())}static \u0275fac=function(J){return new(J||uC)(U.rXU(Ge,8),U.rXU(Nt),U.rXU(Nn),U.rXU(U.aKT),U.rXU(U.SKi),U.rXU(U.gRc))};static \u0275dir=U.FsC({type:uC,hostBindings:function(J,Ve){1&J&&U.bIt("click",function(an){return Ve.onClick(an)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})};return ae=(0,Se.Cg)([dr({inputs:qn})],ae),ae})(),gi=(()=>{class ae{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(ie,J,Ve,pt,an){this.locationStrategy=ie,this.navCtrl=J,this.elementRef=Ve,this.router=pt,this.routerLink=an}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const J=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(J.tagName)&&"0"===J.getAttribute("tabindex")&&J.removeAttribute("tabindex")}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const ie=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ie}}onClick(ie){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),ie.preventDefault()}static \u0275fac=function(J){return new(J||ae)(U.rXU(G.hb),U.rXU(Nt),U.rXU(U.aKT),U.rXU(Z.Ix),U.rXU(Z.Wk,8))};static \u0275dir=U.FsC({type:ae,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(J,Ve){1&J&&U.bIt("click",function(an){return Ve.onClick(an)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[U.OA$]})}return ae})(),xr=(()=>{class ae{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(ie,J,Ve,pt,an){this.locationStrategy=ie,this.navCtrl=J,this.elementRef=Ve,this.router=pt,this.routerLink=an}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const ie=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ie}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}static \u0275fac=function(J){return new(J||ae)(U.rXU(G.hb),U.rXU(Nt),U.rXU(U.aKT),U.rXU(Z.Ix),U.rXU(Z.Wk,8))};static \u0275dir=U.FsC({type:ae,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(J,Ve){1&J&&U.bIt("click",function(){return Ve.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[U.OA$]})}return ae})();const Vr=["animated","animation","root","rootParams","swipeGesture"],Sn=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Wr=(()=>{let ae=class dC{z;el;constructor(ie,J,Ve,pt,an,Qt){this.z=an,Qt.detach(),this.el=ie.nativeElement,ie.nativeElement.delegate=pt.create(J,Ve),rr(this,this.el,["ionNavDidChange","ionNavWillChange"])}static \u0275fac=function(J){return new(J||dC)(U.rXU(U.aKT),U.rXU(U.uvJ),U.rXU(U.zZn),U.rXU(mt),U.rXU(U.SKi),U.rXU(U.gRc))};static \u0275dir=U.FsC({type:dC,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})};return ae=(0,Se.Cg)([dr({inputs:Vr,methods:Sn})],ae),ae})(),kr=(()=>{class ae{navCtrl;tabsInner;ionTabsWillChange=new U.bkB;ionTabsDidChange=new U.bkB;tabBarSlot="bottom";hasTab=!1;selectedTab;leavingTab;constructor(ie){this.navCtrl=ie}ngAfterViewInit(){const ie=this.tabs.length>0?this.tabs.first:void 0;ie&&(this.hasTab=!0,this.setActiveTab(ie.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:ie,tabSwitch:J}){const Ve=ie.stackId;J&&void 0!==Ve&&this.ionTabsWillChange.emit({tab:Ve})}onStackDidChange({enteringView:ie,tabSwitch:J}){const Ve=ie.stackId;J&&void 0!==Ve&&(this.tabBar&&(this.tabBar.selectedTab=Ve),this.ionTabsDidChange.emit({tab:Ve}))}select(ie){const J="string"==typeof ie,Ve=J?ie:ie.detail.tab;if(this.hasTab)return this.setActiveTab(Ve),void this.tabSwitch();const pt=this.outlet.getActiveStackId()===Ve,an=`${this.outlet.tabsPrefix}/${Ve}`;if(J||ie.stopPropagation(),pt){const Qt=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(Qt)?.url===an)return;const Ue=this.outlet.getRootView(Ve);return this.navCtrl.navigateRoot(an,{...Ue&&an===Ue.url&&Ue.savedExtras,animated:!0,animationDirection:"back"})}{const Qt=this.outlet.getLastRouteView(Ve),de=Qt?.url||an,Ue=Qt?.savedExtras;return this.navCtrl.navigateRoot(de,{...Ue,animated:!0,animationDirection:"back"})}}setActiveTab(ie){const Ve=this.tabs.find(pt=>pt.tab===ie);Ve?(this.leavingTab=this.selectedTab,this.selectedTab=Ve,this.ionTabsWillChange.emit({tab:ie}),Ve.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${ie}" does not exist`)}tabSwitch(){const{selectedTab:ie,leavingTab:J}=this;this.tabBar&&ie&&(this.tabBar.selectedTab=ie.tab),J?.tab!==ie?.tab&&J?.el&&(J.el.active=!1),ie&&this.ionTabsDidChange.emit({tab:ie.tab})}getSelected(){return this.hasTab?this.selectedTab?.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(ie=>{const J=ie.el.getAttribute("slot");J!==this.tabBarSlot&&(this.tabBarSlot=J,this.relocateTabBar())})}relocateTabBar(){const ie=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(ie):this.tabsInner.nativeElement.after(ie)}static \u0275fac=function(J){return new(J||ae)(U.rXU(Nt))};static \u0275dir=U.FsC({type:ae,selectors:[["ion-tabs"]],viewQuery:function(J,Ve){if(1&J&&U.GBs(ot,7,U.aKT),2&J){let pt;U.mGM(pt=U.lsd())&&(Ve.tabsInner=pt.first)}},hostBindings:function(J,Ve){1&J&&U.bIt("ionTabButtonClick",function(an){return Ve.select(an)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})}return ae})();const Oi=ae=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ae):"function"==typeof requestAnimationFrame?requestAnimationFrame(ae):setTimeout(ae);let Gi=(()=>{class ae{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(ie,J){this.injector=ie,this.elementRef=J}writeValue(ie){this.elementRef.nativeElement.value=this.lastValue=ie,Ur(this.elementRef)}handleValueChange(ie,J){ie===this.elementRef.nativeElement&&(J!==this.lastValue&&(this.lastValue=J,this.onChange(J)),Ur(this.elementRef))}_handleBlurEvent(ie){ie===this.elementRef.nativeElement?(this.onTouched(),Ur(this.elementRef)):ie.closest("ion-radio-group")===this.elementRef.nativeElement&&this.onTouched()}registerOnChange(ie){this.onChange=ie}registerOnTouched(ie){this.onTouched=ie}setDisabledState(ie){this.elementRef.nativeElement.disabled=ie}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let ie;try{ie=this.injector.get(Pe.vO)}catch{}if(!ie)return;ie.statusChanges&&(this.statusChanges=ie.statusChanges.subscribe(()=>Ur(this.elementRef)));const J=ie.control;J&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(pt=>{if(typeof J[pt]<"u"){const an=J[pt].bind(J);J[pt]=(...Qt)=>{an(...Qt),Ur(this.elementRef)}}})}static \u0275fac=function(J){return new(J||ae)(U.rXU(U.zZn),U.rXU(U.aKT))};static \u0275dir=U.FsC({type:ae,hostBindings:function(J,Ve){1&J&&U.bIt("ionBlur",function(an){return Ve._handleBlurEvent(an.target)})}})}return ae})();const Ur=ae=>{Oi(()=>{const _e=ae.nativeElement,ie=null!=_e.value&&_e.value.toString().length>0,J=Ar(_e);wi(_e,J);const Ve=_e.closest("ion-item");Ve&&wi(Ve,ie?[...J,"item-has-value"]:J)})},Ar=ae=>{const _e=ae.classList,ie=[];for(let J=0;J<_e.length;J++){const Ve=_e.item(J);null!==Ve&&ti(Ve,"ng-")&&ie.push(`ion-${Ve.substring(3)}`)}return ie},wi=(ae,_e)=>{const ie=ae.classList;ie.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),ie.add(..._e)},ti=(ae,_e)=>ae.substring(0,_e.length)===_e;class $i{shouldDetach(_e){return!1}shouldAttach(_e){return!1}store(_e,ie){}retrieve(_e){return null}shouldReuseRoute(_e,ie){if(_e.routeConfig!==ie.routeConfig)return!1;const J=_e.params,Ve=ie.params,pt=Object.keys(J),an=Object.keys(Ve);if(pt.length!==an.length)return!1;for(const Qt of pt)if(Ve[Qt]!==J[Qt])return!1;return!0}}class zt{ctrl;constructor(_e){this.ctrl=_e}create(_e){return this.ctrl.create(_e||{})}dismiss(_e,ie,J){return this.ctrl.dismiss(_e,ie,J)}getTop(){return this.ctrl.getTop()}}},7125:(In,dt,N)=>{"use strict";N.d(dt,{hG:()=>tr,U1:()=>Vn,el:()=>ts,Jm:()=>mt,QW:()=>Gt,b_:()=>Ht,I9:()=>Mn,ME:()=>Er,tN:()=>Jn,W9:()=>rr,eU:()=>Pr,uz:()=>ht,Dg:()=>rt,A7:()=>Ge,he:()=>$e,nf:()=>vt,oS:()=>Fn,MC:()=>qn,cA:()=>Jr,Rg:()=>ar,BC:()=>Lr,ai:()=>on,bv:()=>uo,Xi:()=>mr,W3:()=>ur,IE:()=>Xr,N7:()=>ye,K_:()=>Wn});var l=N(4438),U=N(9417),Z=N(2872),G=N(1635),Re=N(3726),Q=N(177),be=N(6822),pe=(N(9986),N(5248),N(1935),N(5062),N(8607),N(4346)),xe=N(464),yt=(N(6032),N(4626)),He=(N(8476),N(6317));N(9144),N(1970),N(6221);var Ye=N(467);const Ze=pe.i,Dt=function(){var C=(0,Ye.A)(function*(ce,O){if(!(typeof window>"u"))return yield Ze(),(0,He.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"step":["stepChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[1,"ion-segment-content"]]],["ion-segment-view",[[33,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select-modal",[[34,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"expandToScroll":[4,"expand-to-scroll"],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"setFocus":[64]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"required":[4],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[36,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032],"helperText":[1,"helper-text"],"errorText":[1,"error-text"],"setFocus":[64]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),O)});return function(O,S){return C.apply(this,arguments)}}(),H=["*"],We=["outletContent"],ot=(C,ce)=>{const O=C.prototype;ce.forEach(S=>{Object.defineProperty(O,S,{get(){return this.el[S]},set(K){this.z.runOutsideAngular(()=>this.el[S]=K)},configurable:!0})})},Xe=(C,ce)=>{const O=C.prototype;ce.forEach(S=>{O[S]=function(){const K=arguments;return this.z.runOutsideAngular(()=>this.el[S].apply(this.el,K))}})},De=(C,ce,O)=>{O.forEach(S=>C[S]=(0,Re.R)(ce,S))};function fe(C){return function(O){const{defineCustomElementFn:S,inputs:K,methods:Fe}=C;return void 0!==S&&S(),K&&ot(O,K),Fe&&Xe(O,Fe),O}}let Vn=(()=>{let C=class mC{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement}static \u0275fac=function(S){return new(S||mC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:mC,selectors:[["ion-app"]],ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({methods:["setFocus"]})],C),C})(),mt=(()=>{let C=class TC{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement,De(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(S){return new(S||TC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:TC,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],C),C})(),Gt=(()=>{let C=class CC{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement}static \u0275fac=function(S){return new(S||CC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:CC,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["collapse"]})],C),C})(),Ht=(()=>{let C=class wC{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement}static \u0275fac=function(S){return new(S||wC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:wC,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],C),C})(),Mn=(()=>{let C=class bC{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement}static \u0275fac=function(S){return new(S||bC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:bC,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["mode"]})],C),C})(),Er=(()=>{let C=class AC{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement}static \u0275fac=function(S){return new(S||AC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:AC,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["color","mode","translucent"]})],C),C})(),Jn=(()=>{let C=class SC{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement}static \u0275fac=function(S){return new(S||SC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:SC,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["color","mode"]})],C),C})(),rr=(()=>{let C=class xC{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement,De(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}static \u0275fac=function(S){return new(S||xC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:xC,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],C),C})(),Pr=(()=>{let C=class BC{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement}static \u0275fac=function(S){return new(S||BC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:BC,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["collapse","mode","translucent"]})],C),C})(),ht=(()=>{let C=class KC{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement}static \u0275fac=function(S){return new(S||KC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:KC,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],C),C})(),rt=(()=>{let C=class XC{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement}static \u0275fac=function(S){return new(S||XC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:XC,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["color","mode","sticky"]})],C),C})(),Ge=(()=>{let C=class JC{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement,De(this,this.el,["ionDrag"])}static \u0275fac=function(S){return new(S||JC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:JC,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],C),C})(),$e=(()=>{let C=class ZC{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement}static \u0275fac=function(S){return new(S||ZC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:ZC,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["color","mode","position"]})],C),C})(),vt=(()=>{let C=class ew{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement}static \u0275fac=function(S){return new(S||ew)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:ew,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],C),C})(),Fn=(()=>{let C=class rw{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement,De(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}static \u0275fac=function(S){return new(S||rw)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:rw,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],C),C})(),qn=(()=>{let C=class iw{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement}static \u0275fac=function(S){return new(S||iw)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:iw,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["autoHide","color","disabled","menu","mode","type"]})],C),C})(),Jr=(()=>{let C=class sw{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement}static \u0275fac=function(S){return new(S||sw)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:sw,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["autoHide","menu"]})],C),C})(),Lr=(()=>{let C=class Uw{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement}static \u0275fac=function(S){return new(S||Uw)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:Uw,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["color","size"]})],C),C})(),on=(()=>{let C=class jw{z;el;constructor(O,S,K){this.z=K,O.detach(),this.el=S.nativeElement}static \u0275fac=function(S){return new(S||jw)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:jw,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return C=(0,G.Cg)([fe({inputs:["color","mode"]})],C),C})(),ar=(()=>{class C extends Z.Rg{parentOutlet;outletContent;constructor(O,S,K,Fe,Zt,un,gn,fn){super(O,S,K,Fe,Zt,un,gn,fn),this.parentOutlet=fn}static \u0275fac=function(S){return new(S||C)(l.kS0("name"),l.kS0("tabs"),l.rXU(Q.aZ),l.rXU(l.aKT),l.rXU(be.Ix),l.rXU(l.SKi),l.rXU(be.nX),l.rXU(C,12))};static \u0275cmp=l.VBU({type:C,selectors:[["ion-router-outlet"]],viewQuery:function(S,K){if(1&S&&l.GBs(We,7,l.c1b),2&S){let Fe;l.mGM(Fe=l.lsd())&&(K.outletContent=Fe.first)}},features:[l.Vt3],ngContentSelectors:H,decls:3,vars:0,consts:[["outletContent",""]],template:function(S,K){1&S&&(l.NAR(),l.qex(0,null,0),l.SdG(2),l.bVm())},encapsulation:2})}return C})(),ts=(()=>{class C extends Z.el{constructor(O,S,K,Fe,Zt,un){super(O,S,K,Fe,Zt,un)}static \u0275fac=function(S){return new(S||C)(l.rXU(ar,8),l.rXU(Z.q9),l.rXU(Z.TS),l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(l.gRc))};static \u0275cmp=l.VBU({type:C,selectors:[["ion-back-button"]],features:[l.Vt3],ngContentSelectors:H,decls:1,vars:0,template:function(S,K){1&S&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})}return C})(),ye=(()=>{class C extends Z.CE{static \u0275fac=(()=>{let O;return function(K){return(O||(O=l.xGo(C)))(K||C)}})();static \u0275dir=l.FsC({type:C,selectors:[["","routerLink","",5,"a",5,"area"]],features:[l.Vt3]})}return C})();const Zn={provide:U.cz,useExisting:(0,l.Rfq)(()=>er),multi:!0};let er=(()=>{class C extends U.zX{static \u0275fac=(()=>{let O;return function(K){return(O||(O=l.xGo(C)))(K||C)}})();static \u0275dir=l.FsC({type:C,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(S,K){2&S&&l.BMQ("max",K._enabled?K.max:null)},features:[l.Jv_([Zn]),l.Vt3]})}return C})();const Cr={provide:U.cz,useExisting:(0,l.Rfq)(()=>Pn),multi:!0};let Pn=(()=>{class C extends U.VZ{static \u0275fac=(()=>{let O;return function(K){return(O||(O=l.xGo(C)))(K||C)}})();static \u0275dir=l.FsC({type:C,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(S,K){2&S&&l.BMQ("min",K._enabled?K.min:null)},features:[l.Jv_([Cr]),l.Vt3]})}return C})(),tr=(()=>{class C extends Z.Kb{constructor(){super(yt.a)}static \u0275fac=function(S){return new(S||C)};static \u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),mr=(()=>{class C extends Z.Kb{constructor(){super(yt.l)}static \u0275fac=function(S){return new(S||C)};static \u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),ur=(()=>{class C extends Z.Kb{angularDelegate=(0,l.WQX)(Z.Yq);injector=(0,l.WQX)(l.zZn);environmentInjector=(0,l.WQX)(l.uvJ);constructor(){super(yt.m)}create(O){return super.create({...O,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}static \u0275fac=function(S){return new(S||C)};static \u0275prov=l.jDH({token:C,factory:C.\u0275fac})}return C})();class Xr extends Z.Kb{angularDelegate=(0,l.WQX)(Z.Yq);injector=(0,l.WQX)(l.zZn);environmentInjector=(0,l.WQX)(l.uvJ);constructor(){super(yt.c)}create(ce){return super.create({...ce,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let Wn=(()=>{class C extends Z.Kb{constructor(){super(yt.t)}static \u0275fac=function(S){return new(S||C)};static \u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const zi=(C,ce,O)=>()=>{const S=ce.defaultView;if(S&&typeof window<"u"){(0,xe.s)({...C,_zoneGate:Fe=>O.run(Fe)});const K="__zone_symbol__addEventListener"in ce.body?"__zone_symbol__addEventListener":"addEventListener";return function at(){var C=[];if(typeof window<"u"){var ce=window;(!ce.customElements||ce.Element&&(!ce.Element.prototype.closest||!ce.Element.prototype.matches||!ce.Element.prototype.remove||!ce.Element.prototype.getRootNode))&&C.push(N.e(7278).then(N.t.bind(N,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||ce.NodeList&&!ce.NodeList.prototype.forEach||!ce.fetch||!function(){try{var S=new URL("b","http://a");return S.pathname="c%20d","http://a/c%20d"===S.href&&S.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&C.push(N.e(9329).then(N.t.bind(N,7783,23)))}return Promise.all(C)}().then(()=>Dt(S,{exclude:["ion-tabs"],syncQueue:!0,raf:Z.er,jmp:Fe=>O.runOutsideAngular(Fe),ael(Fe,Zt,un,gn){Fe[K](Zt,un,gn)},rel(Fe,Zt,un,gn){Fe.removeEventListener(Zt,un,gn)}}))}};let uo=(()=>{class C{static forRoot(O={}){return{ngModule:C,providers:[{provide:Z.sR,useValue:O},{provide:l.hnV,useFactory:zi,multi:!0,deps:[Z.sR,Q.qQ,l.SKi]},Z.Yq,(0,Z.YV)()]}}static \u0275fac=function(S){return new(S||C)};static \u0275mod=l.$C({type:C});static \u0275inj=l.G2t({providers:[ur,Xr],imports:[Q.MD]})}return C})()},8018:(In,dt,N)=>{"use strict";N.d(dt,{D9:()=>le,Wr:()=>Ne,c$:()=>Ie,h:()=>Xe});var l=N(4438),U=N(7673),Z=N(4402),G=N(7468),Re=N(8793),Q=N(9030),be=N(6697),Ae=N(6496),ve=N(6354),Te=N(274),ue=N(5558);class Ne{}let pe=(()=>{class De extends Ne{getTranslation(fe){return(0,U.of)({})}static \u0275fac=(()=>{let fe;return function(Ot){return(fe||(fe=l.xGo(De)))(Ot||De)}})();static \u0275prov=l.jDH({token:De,factory:De.\u0275fac})}return De})();class xe{}let nt=(()=>{class De{handle(fe){return fe.key}static \u0275fac=function(st){return new(st||De)};static \u0275prov=l.jDH({token:De,factory:De.\u0275fac})}return De})();function yt(De,Ct){if(De===Ct)return!0;if(null===De||null===Ct)return!1;if(De!=De&&Ct!=Ct)return!0;const fe=typeof De;let Ot,Nt,hn;if(fe==typeof Ct&&"object"==fe){if(!Array.isArray(De)){if(Array.isArray(Ct))return!1;for(Nt in hn=Object.create(null),De){if(!yt(De[Nt],Ct[Nt]))return!1;hn[Nt]=!0}for(Nt in Ct)if(!(Nt in hn)&&typeof Ct[Nt]<"u")return!1;return!0}if(!Array.isArray(Ct))return!1;if((Ot=De.length)==Ct.length){for(Nt=0;Nt<Ot;Nt++)if(!yt(De[Nt],Ct[Nt]))return!1;return!0}}return!1}function it(De){return typeof De<"u"&&null!==De}function He(De){return At(De)&&!Pt(De)&&null!==De}function At(De){return"object"==typeof De}function Pt(De){return Array.isArray(De)}function Ke(De){return"string"==typeof De}function at(De,Ct){const fe=Object.assign({},De);return At(De)?(At(De)&&At(Ct)&&Object.keys(Ct).forEach(st=>{He(Ct[st])?st in De?fe[st]=at(De[st],Ct[st]):Object.assign(fe,{[st]:Ct[st]}):Object.assign(fe,{[st]:Ct[st]})}),fe):at({},Ct)}function Ye(De,Ct){const fe=Ct.split(".");Ct="";do{Ct+=fe.shift(),it(De)&&it(De[Ct])&&(He(De[Ct])||Pt(De[Ct])||!fe.length)?(De=De[Ct],Ct=""):fe.length?Ct+=".":De=void 0}while(fe.length);return De}class Dt{}let H=(()=>{class De extends Dt{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(fe,st){return Ke(fe)?this.interpolateString(fe,st):function Le(De){return"function"==typeof De}(fe)?this.interpolateFunction(fe,st):void 0}interpolateFunction(fe,st){return fe(st)}interpolateString(fe,st){return st?fe.replace(this.templateMatcher,(Ot,Nt)=>{const hn=Ye(st,Nt);return it(hn)?hn:Ot}):fe}static \u0275fac=(()=>{let fe;return function(Ot){return(fe||(fe=l.xGo(De)))(Ot||De)}})();static \u0275prov=l.jDH({token:De,factory:De.\u0275fac})}return De})();class We{}let bt=(()=>{class De extends We{compile(fe,st){return fe}compileTranslations(fe,st){return fe}static \u0275fac=(()=>{let fe;return function(Ot){return(fe||(fe=l.xGo(De)))(Ot||De)}})();static \u0275prov=l.jDH({token:De,factory:De.\u0275fac})}return De})();class ze{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new l.bkB;onLangChange=new l.bkB;onDefaultLangChange=new l.bkB}const Mt=new l.nKC("ISOLATE_TRANSLATE_SERVICE"),kt=new l.nKC("USE_DEFAULT_LANG"),cn=new l.nKC("DEFAULT_LANGUAGE"),qe=new l.nKC("USE_EXTEND"),Se=De=>(0,Z.A)(De)?De:(0,U.of)(De);let Ie=(()=>{class De{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(fe){this.store.defaultLang=fe}get currentLang(){return this.store.currentLang}set currentLang(fe){this.store.currentLang=fe}get langs(){return this.store.langs}set langs(fe){this.store.langs=fe}get translations(){return this.store.translations}set translations(fe){this.store.translations=fe}constructor(fe,st,Ot,Nt,hn,Vn=!0,Gn=!1,Nn=!1,xn){this.store=fe,this.currentLoader=st,this.compiler=Ot,this.parser=Nt,this.missingTranslationHandler=hn,this.useDefaultLang=Vn,this.extend=Nn,Gn&&(this.store=new ze),xn&&this.setDefaultLang(xn)}setDefaultLang(fe){if(fe===this.defaultLang)return;const st=this.retrieveTranslations(fe);typeof st<"u"?(null==this.defaultLang&&(this.defaultLang=fe),st.pipe((0,be.s)(1)).subscribe(()=>{this.changeDefaultLang(fe)})):this.changeDefaultLang(fe)}getDefaultLang(){return this.defaultLang}use(fe){if(this.lastUseLanguage=fe,fe===this.currentLang)return(0,U.of)(this.translations[fe]);this.currentLang||(this.currentLang=fe);const st=this.retrieveTranslations(fe);return(0,Z.A)(st)?(st.pipe((0,be.s)(1)).subscribe(()=>{this.changeLang(fe)}),st):(this.changeLang(fe),(0,U.of)(this.translations[fe]))}changeLang(fe){fe===this.lastUseLanguage&&(this.currentLang=fe,this.onLangChange.emit({lang:fe,translations:this.translations[fe]}),null==this.defaultLang&&this.changeDefaultLang(fe))}retrieveTranslations(fe){if(typeof this.translations[fe]>"u"||this.extend)return this._translationRequests[fe]=this._translationRequests[fe]||this.loadAndCompileTranslations(fe),this._translationRequests[fe]}getTranslation(fe){return this.loadAndCompileTranslations(fe)}loadAndCompileTranslations(fe){this.pending=!0;const st=this.currentLoader.getTranslation(fe).pipe((0,Ae.t)(1),(0,be.s)(1));return this.loadingTranslations=st.pipe((0,ve.T)(Ot=>this.compiler.compileTranslations(Ot,fe)),(0,Ae.t)(1),(0,be.s)(1)),this.loadingTranslations.subscribe({next:Ot=>{this.translations[fe]=this.extend&&this.translations[fe]?{...Ot,...this.translations[fe]}:Ot,this.updateLangs(),this.pending=!1},error:Ot=>{this.pending=!1}}),st}setTranslation(fe,st,Ot=!1){const Nt=this.compiler.compileTranslations(st,fe);this.translations[fe]=(Ot||this.extend)&&this.translations[fe]?at(this.translations[fe],Nt):Nt,this.updateLangs(),this.onTranslationChange.emit({lang:fe,translations:this.translations[fe]})}getLangs(){return this.langs}addLangs(fe){const st=fe.filter(Ot=>!this.langs.includes(Ot));st.length>0&&(this.langs=[...this.langs,...st])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(fe,st,Ot){let Nt;if(fe&&(Nt=this.runInterpolation(Ye(fe,st),Ot)),void 0===Nt&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Nt=this.runInterpolation(Ye(this.translations[this.defaultLang],st),Ot)),void 0===Nt){const hn={key:st,translateService:this};typeof Ot<"u"&&(hn.interpolateParams=Ot),Nt=this.missingTranslationHandler.handle(hn)}return void 0!==Nt?Nt:st}runInterpolation(fe,st){if(Pt(fe))return fe.map(Ot=>this.runInterpolation(Ot,st));if(He(fe)){const Ot={};for(const Nt in fe){const hn=this.runInterpolation(fe[Nt],st);void 0!==hn&&(Ot[Nt]=hn)}return Ot}return this.parser.interpolate(fe,st)}getParsedResult(fe,st,Ot){if(st instanceof Array){const Nt={};let hn=!1;for(const Gn of st)Nt[Gn]=this.getParsedResultForKey(fe,Gn,Ot),hn=hn||(0,Z.A)(Nt[Gn]);if(!hn)return Nt;const Vn=st.map(Gn=>Se(Nt[Gn]));return(0,G.p)(Vn).pipe((0,ve.T)(Gn=>{const Nn={};return Gn.forEach((xn,Un)=>{Nn[st[Un]]=xn}),Nn}))}return this.getParsedResultForKey(fe,st,Ot)}get(fe,st){if(!it(fe)||!fe.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe((0,Te.H)(Ot=>Se(this.getParsedResult(Ot,fe,st)))):Se(this.getParsedResult(this.translations[this.currentLang],fe,st))}getStreamOnTranslationChange(fe,st){if(!it(fe)||!fe.length)throw new Error('Parameter "key" is required and cannot be empty');return(0,Re.x)((0,Q.v)(()=>this.get(fe,st)),this.onTranslationChange.pipe((0,ue.n)(Ot=>{const Nt=this.getParsedResult(Ot.translations,fe,st);return Se(Nt)})))}stream(fe,st){if(!it(fe)||!fe.length)throw new Error('Parameter "key" required');return(0,Re.x)((0,Q.v)(()=>this.get(fe,st)),this.onLangChange.pipe((0,ue.n)(Ot=>{const Nt=this.getParsedResult(Ot.translations,fe,st);return Se(Nt)})))}instant(fe,st){if(!it(fe)||0===fe.length)throw new Error('Parameter "key" is required and cannot be empty');const Ot=this.getParsedResult(this.translations[this.currentLang],fe,st);return(0,Z.A)(Ot)?Array.isArray(fe)?fe.reduce((Nt,hn)=>(Nt[hn]=hn,Nt),{}):fe:Ot}set(fe,st,Ot=this.currentLang){(function Ze(De,Ct,fe){const st=Ct.split(".");let Ot=De;for(let Nt=0;Nt<st.length;Nt++){const hn=st[Nt];Nt===st.length-1?Ot[hn]=fe:((!Ot[hn]||!He(Ot[hn]))&&(Ot[hn]={}),Ot=Ot[hn])}})(this.translations[Ot],fe,Ke(st)?this.compiler.compile(st,Ot):this.compiler.compileTranslations(st,Ot)),this.updateLangs(),this.onTranslationChange.emit({lang:Ot,translations:this.translations[Ot]})}changeDefaultLang(fe){this.defaultLang=fe,this.onDefaultLangChange.emit({lang:fe,translations:this.translations[fe]})}reloadLang(fe){return this.resetLang(fe),this.loadAndCompileTranslations(fe)}resetLang(fe){delete this._translationRequests[fe],delete this.translations[fe]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;const fe=this.getBrowserCultureLang();return fe?fe.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(st){return new(st||De)(l.KVO(ze),l.KVO(Ne),l.KVO(We),l.KVO(Dt),l.KVO(xe),l.KVO(kt),l.KVO(Mt),l.KVO(qe),l.KVO(cn))};static \u0275prov=l.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),le=(()=>{class De{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(fe,st){this.translate=fe,this._ref=st}updateValue(fe,st,Ot){const Nt=hn=>{this.value=void 0!==hn?hn:fe,this.lastKey=fe,this._ref.markForCheck()};if(Ot){const hn=this.translate.getParsedResult(Ot,fe,st);(0,Z.A)(hn)?hn.subscribe(Nt):Nt(hn)}this.translate.get(fe,st).subscribe(Nt)}transform(fe,...st){if(!fe||!fe.length)return fe;if(yt(fe,this.lastKey)&&yt(st,this.lastParams))return this.value;let Ot;if(it(st[0])&&st.length)if(Ke(st[0])&&st[0].length){const Nt=st[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{Ot=JSON.parse(Nt)}catch(hn){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${st[0]}`)}}else He(st[0])&&(Ot=st[0]);return this.lastKey=fe,this.lastParams=st,this.updateValue(fe,Ot),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Nt=>{this.lastKey&&Nt.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(fe,Ot,Nt.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Nt=>{this.lastKey&&(this.lastKey=null,this.updateValue(fe,Ot,Nt.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(fe,Ot))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(st){return new(st||De)(l.rXU(Ie,16),l.rXU(l.gRc,16))};static \u0275pipe=l.EJ8({name:"translate",type:De,pure:!1,standalone:!0});static \u0275prov=l.jDH({token:De,factory:De.\u0275fac})}return De})(),Xe=(()=>{class De{static forRoot(fe={}){return{ngModule:De,providers:[fe.loader||{provide:Ne,useClass:pe},fe.compiler||{provide:We,useClass:bt},fe.parser||{provide:Dt,useClass:H},fe.missingTranslationHandler||{provide:xe,useClass:nt},ze,{provide:Mt,useValue:fe.isolate},{provide:kt,useValue:fe.useDefaultLang},{provide:qe,useValue:fe.extend},{provide:cn,useValue:fe.defaultLanguage},Ie]}}static forChild(fe={}){return{ngModule:De,providers:[fe.loader||{provide:Ne,useClass:pe},fe.compiler||{provide:We,useClass:bt},fe.parser||{provide:Dt,useClass:H},fe.missingTranslationHandler||{provide:xe,useClass:nt},{provide:Mt,useValue:fe.isolate},{provide:kt,useValue:fe.useDefaultLang},{provide:qe,useValue:fe.extend},{provide:cn,useValue:fe.defaultLanguage},Ie]}}static \u0275fac=function(st){return new(st||De)};static \u0275mod=l.$C({type:De});static \u0275inj=l.G2t({})}return De})()},467:(In,dt,N)=>{"use strict";function l(Z,G,Re,Q,be,Ae,ve){try{var Te=Z[Ae](ve),ue=Te.value}catch(Ne){return void Re(Ne)}Te.done?G(ue):Promise.resolve(ue).then(Q,be)}function U(Z){return function(){var G=this,Re=arguments;return new Promise(function(Q,be){var Ae=Z.apply(G,Re);function ve(ue){l(Ae,Q,be,ve,Te,"next",ue)}function Te(ue){l(Ae,Q,be,ve,Te,"throw",ue)}ve(void 0)})}}N.d(dt,{A:()=>U})},1635:(In,dt,N)=>{"use strict";function G(le,Pe){var ot={};for(var Xe in le)Object.prototype.hasOwnProperty.call(le,Xe)&&Pe.indexOf(Xe)<0&&(ot[Xe]=le[Xe]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(Xe=Object.getOwnPropertySymbols(le);De<Xe.length;De++)Pe.indexOf(Xe[De])<0&&Object.prototype.propertyIsEnumerable.call(le,Xe[De])&&(ot[Xe[De]]=le[Xe[De]])}return ot}function Re(le,Pe,ot,Xe){var fe,De=arguments.length,Ct=De<3?Pe:null===Xe?Xe=Object.getOwnPropertyDescriptor(Pe,ot):Xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ct=Reflect.decorate(le,Pe,ot,Xe);else for(var st=le.length-1;st>=0;st--)(fe=le[st])&&(Ct=(De<3?fe(Ct):De>3?fe(Pe,ot,Ct):fe(Pe,ot))||Ct);return De>3&&Ct&&Object.defineProperty(Pe,ot,Ct),Ct}function Ne(le,Pe,ot,Xe){return new(ot||(ot=Promise))(function(Ct,fe){function st(hn){try{Nt(Xe.next(hn))}catch(Vn){fe(Vn)}}function Ot(hn){try{Nt(Xe.throw(hn))}catch(Vn){fe(Vn)}}function Nt(hn){hn.done?Ct(hn.value):function De(Ct){return Ct instanceof ot?Ct:new ot(function(fe){fe(Ct)})}(hn.value).then(st,Ot)}Nt((Xe=Xe.apply(le,Pe||[])).next())})}function Ke(le){return this instanceof Ke?(this.v=le,this):new Ke(le)}function Le(le,Pe,ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,Xe=ot.apply(le,Pe||[]),Ct=[];return De=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),st("next"),st("throw"),st("return",function fe(Nn){return function(xn){return Promise.resolve(xn).then(Nn,Vn)}}),De[Symbol.asyncIterator]=function(){return this},De;function st(Nn,xn){Xe[Nn]&&(De[Nn]=function(Un){return new Promise(function(Xn,mt){Ct.push([Nn,Un,Xn,mt])>1||Ot(Nn,Un)})},xn&&(De[Nn]=xn(De[Nn])))}function Ot(Nn,xn){try{!function Nt(Nn){Nn.value instanceof Ke?Promise.resolve(Nn.value.v).then(hn,Vn):Gn(Ct[0][2],Nn)}(Xe[Nn](xn))}catch(Un){Gn(Ct[0][3],Un)}}function hn(Nn){Ot("next",Nn)}function Vn(Nn){Ot("throw",Nn)}function Gn(Nn,xn){Nn(xn),Ct.shift(),Ct.length&&Ot(Ct[0][0],Ct[0][1])}}function Ye(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,Pe=le[Symbol.asyncIterator];return Pe?Pe.call(le):(le=function yt(le){var Pe="function"==typeof Symbol&&Symbol.iterator,ot=Pe&&le[Pe],Xe=0;if(ot)return ot.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&Xe>=le.length&&(le=void 0),{value:le&&le[Xe++],done:!le}}};throw new TypeError(Pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),ot={},Xe("next"),Xe("throw"),Xe("return"),ot[Symbol.asyncIterator]=function(){return this},ot);function Xe(Ct){ot[Ct]=le[Ct]&&function(fe){return new Promise(function(st,Ot){!function De(Ct,fe,st,Ot){Promise.resolve(Ot).then(function(Nt){Ct({value:Nt,done:st})},fe)}(st,Ot,(fe=le[Ct](fe)).done,fe.value)})}}}N.d(dt,{AQ:()=>Le,Cg:()=>Re,N3:()=>Ke,Tt:()=>G,sH:()=>Ne,xN:()=>Ye}),"function"==typeof SuppressedError&&SuppressedError}},In=>{In(In.s=6059)}]);